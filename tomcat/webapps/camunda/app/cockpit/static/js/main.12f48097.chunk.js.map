{"version":3,"sources":["legacy/camunda-commons-ui/vendor/angular.js","legacy/camunda-bpm-sdk-js/vendor/angular.js","legacy/camunda-bpm-sdk-js/lib/api-client/abstract-client-resource.js","legacy/camunda-bpm-sdk-js/lib/utils.js","legacy/camunda-commons-ui/lib/index.js","legacy/camunda-bpm-sdk-js/lib/forms/constants.js","legacy/common/scripts/util/search-widget-utils.js","legacy/camunda-bpm-sdk-js/lib/forms/type-util.js","legacy/common/scripts/util/routeUtil.js","legacy/camunda-commons-ui/lib/util/index.js","legacy/camunda-bpm-sdk-js/lib/events.js","legacy/camunda-bpm-sdk-js/lib/forms/controls/abstract-form-field.js","legacy/camunda-bpm-sdk-js/vendor/moment.js","modules/cam-common/index.js","legacy/camunda-commons-ui/vendor/ui-bootstrap-tpls-2.5.0-camunda.js","legacy/camunda-bpm-sdk-js/lib/base-class.js","legacy/camunda-bpm-sdk-js/lib/forms/dom-lib.js","legacy/common/scripts/module/index.js","legacy/client/scripts/batches/components/events.js","legacy/camunda-commons-ui/lib/auth/page/logo.svg.js","legacy/camunda-commons-ui/lib/directives/index.js","legacy/camunda-commons-ui/lib/search/index.js","legacy/camunda-bpm-sdk-js/lib/angularjs/index.js","legacy/camunda-bpm-sdk-js/lib/api-client/index.js","legacy/camunda-commons-ui/lib/filter/abbreviateNumber.js","legacy/camunda-commons-ui/lib/widgets/variable/cam-variable-utils.js","legacy/camunda-commons-ui/lib/filter/date/index.js","legacy/camunda-commons-ui/lib/services/cam-local-configuration.js","legacy/camunda-commons-ui/vendor/moment.js","legacy/plugins/base/app/views/common/diagramPlugins/instanceCount.js","legacy/plugins/base/app/views/processInstance/job-retry-dialog.html.js","legacy/camunda-bpm-sdk-js/index.js","legacy/plugins/index.js","legacy/client/scripts/resources/main.js","legacy/client/scripts/directives/main.js","legacy/client/scripts/batches/main.js","legacy/client/scripts/pages/decisionDefinition.js","legacy/client/scripts/pages/decisionInstance.js","legacy/client/scripts/pages/processInstance.js","legacy/client/scripts/repository/main.js","setupAngularRequirements.js","legacy/camunda-commons-ui/lib/analytics/index.js","legacy/camunda-commons-ui/lib/analytics/modal.html.js","legacy/camunda-commons-ui/lib/auth/index.js","legacy/camunda-commons-ui/lib/util/uriFilter.js","legacy/camunda-commons-ui/lib/util/uriProvider.js","legacy/camunda-commons-ui/lib/auth/page/login.js","legacy/camunda-commons-ui/lib/auth/page/login.html.js","legacy/camunda-commons-ui/lib/auth/directives/camIfLoggedIn.js","legacy/camunda-commons-ui/lib/auth/directives/camIfLoggedOut.js","legacy/camunda-commons-ui/lib/auth/service/authenticationService.js","legacy/camunda-commons-ui/lib/auth/util/authentication.js","legacy/camunda-commons-ui/lib/pages/index.js","legacy/camunda-commons-ui/lib/plugin/index.js","legacy/camunda-commons-ui/lib/plugin/view.js","legacy/camunda-commons-ui/lib/plugin/service.js","legacy/camunda-commons-ui/lib/directives/email.js","legacy/camunda-commons-ui/lib/directives/engineSelect.js","legacy/camunda-commons-ui/lib/directives/engineSelect.html.js","legacy/camunda-commons-ui/lib/directives/autoFill.js","legacy/camunda-commons-ui/lib/directives/inPlaceTextField.js","legacy/camunda-commons-ui/lib/directives/inPlaceTextField.html.js","legacy/camunda-commons-ui/lib/directives/notificationsPanel.js","legacy/camunda-commons-ui/lib/directives/passwordRepeat.js","legacy/camunda-commons-ui/lib/directives/showIfAuthorized.js","legacy/camunda-commons-ui/lib/directives/compileTemplate.js","legacy/camunda-commons-ui/lib/directives/nl2br.js","legacy/camunda-commons-ui/lib/directives/instantTypeahead.js","legacy/camunda-commons-ui/lib/resources/index.js","legacy/camunda-commons-ui/lib/resources/authorizationResource.js","legacy/camunda-commons-ui/lib/services/index.js","legacy/camunda-commons-ui/lib/services/escape.js","legacy/camunda-commons-ui/lib/services/debounce.js","legacy/camunda-commons-ui/lib/services/RequestLogger.js","legacy/camunda-commons-ui/lib/services/ResourceResolver.js","legacy/camunda-commons-ui/lib/services/HttpClient.js","legacy/camunda-bpm-sdk-js/lib/api-client/http-client.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/authorization.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/batch.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/deployment.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/external-task.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/filter.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/history.js","legacy/camunda-bpm-sdk-js/lib/api-client/helpers.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/process-definition.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/process-instance.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/task.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/task-report.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/telemetry.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/variable.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/case-execution.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/case-instance.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/case-definition.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/user.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/group.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/tenant.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/incident.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/job-definition.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/job.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/metrics.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/decision-definition.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/execution.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/migration.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/drd.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/modification.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/message.js","legacy/camunda-bpm-sdk-js/lib/api-client/resources/password-policy.js","legacy/camunda-bpm-sdk-js/lib/angularjs/forms/index.js","legacy/camunda-bpm-sdk-js/lib/angularjs/forms/camunda-form-angular.js","legacy/camunda-bpm-sdk-js/lib/forms/camunda-form.js","legacy/camunda-bpm-sdk-js/lib/forms/variable-manager.js","legacy/camunda-bpm-sdk-js/lib/forms/controls/input-field-handler.js","legacy/camunda-bpm-sdk-js/lib/forms/controls/choices-field-handler.js","legacy/camunda-bpm-sdk-js/lib/forms/controls/file-download-handler.js","legacy/camunda-bpm-sdk-js/lib/forms/controls/error-button-handler.js","legacy/camunda-bpm-sdk-js/lib/forms/controls/escalation-button-handler.js","legacy/camunda-commons-ui/lib/services/unescape.js","legacy/camunda-commons-ui/lib/services/fixDate.js","legacy/camunda-commons-ui/lib/services/unfixDate.js","legacy/camunda-commons-ui/lib/services/shouldDisplayAuthenticationError.js","legacy/camunda-commons-ui/lib/widgets/index.js","legacy/camunda-commons-ui/lib/widgets/inline-field/cam-widget-inline-field.js","legacy/camunda-commons-ui/lib/widgets/inline-field/cam-widget-inline-field.html.js","legacy/camunda-commons-ui/lib/widgets/search-pill/cam-widget-search-pill.js","legacy/camunda-commons-ui/lib/widgets/search-pill/cam-widget-search-pill.html.js","legacy/camunda-commons-ui/lib/widgets/search-pill/cam-query-component.js","legacy/camunda-commons-ui/lib/widgets/header/cam-widget-header.js","legacy/camunda-commons-ui/lib/widgets/header/cam-widget-header.html.js","legacy/camunda-commons-ui/lib/widgets/footer/cam-widget-footer.js","legacy/camunda-commons-ui/lib/widgets/footer/cam-widget-footer.html.js","legacy/camunda-commons-ui/lib/widgets/loader/cam-widget-loader.js","legacy/camunda-commons-ui/lib/widgets/loader/cam-widget-loader.html.js","legacy/camunda-commons-ui/lib/widgets/chart-line/cam-widget-chart-line.js","legacy/camunda-commons-ui/lib/chart/line.js","legacy/camunda-commons-ui/lib/widgets/debug/cam-widget-debug.js","legacy/camunda-commons-ui/lib/widgets/debug/cam-widget-debug.html.js","legacy/camunda-commons-ui/lib/widgets/clipboard/cam-widget-clipboard.js","legacy/camunda-commons-ui/lib/widgets/clipboard/cam-widget-clipboard.html.js","legacy/camunda-commons-ui/lib/widgets/variable/cam-widget-variable.js","legacy/camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html.js","legacy/camunda-commons-ui/lib/widgets/variable/cam-widget-string-dialog.html.js","legacy/camunda-commons-ui/lib/widgets/variable/cam-widget-variable.html.js","legacy/camunda-commons-ui/lib/widgets/variables-table/cam-widget-variables-table.js","legacy/camunda-commons-ui/lib/widgets/variables-table/cam-widget-variables-table.html.js","legacy/camunda-commons-ui/lib/widgets/variables-table/cam-widget-variables-deletion-dialog.html.js","legacy/camunda-commons-ui/lib/widgets/variables-table/cam-render-var-template.js","legacy/camunda-commons-ui/lib/widgets/search/cam-widget-search.js","legacy/camunda-commons-ui/lib/widgets/search/cam-widget-search.html.js","legacy/camunda-commons-ui/lib/widgets/bpmn-viewer/cam-widget-bpmn-viewer.js","legacy/camunda-commons-ui/lib/util/viewer.js","legacy/camunda-commons-ui/lib/widgets/bpmn-viewer/cam-widget-bpmn-viewer.html.js","legacy/camunda-commons-ui/lib/widgets/cmmn-viewer/cam-widget-cmmn-viewer.js","legacy/camunda-commons-ui/lib/widgets/cmmn-viewer/cam-widget-cmmn-viewer.html.js","legacy/camunda-commons-ui/lib/widgets/dmn-viewer/cam-widget-dmn-viewer.js","legacy/camunda-commons-ui/lib/widgets/dmn-viewer/lib/navigatedViewer.js","legacy/camunda-commons-ui/lib/util/change-dmn-namespace.js","legacy/camunda-commons-ui/lib/widgets/dmn-viewer/cam-widget-dmn-viewer.html.js","legacy/camunda-commons-ui/lib/widgets/variable/cam-variable-validator.js","legacy/camunda-commons-ui/lib/widgets/cam-share-link/cam-share-link.js","legacy/camunda-commons-ui/lib/widgets/cam-share-link/cam-share-link.html.js","legacy/camunda-commons-ui/lib/widgets/password/cam-widget-password.js","legacy/camunda-commons-ui/lib/widgets/password/cam-widget-password.html.js","legacy/plugins/base/app/plugin.js","legacy/plugins/base/app/views/main.js","legacy/common/scripts/module/services/is-module-available.js","legacy/common/scripts/module/services/expose-scope-properties.js","legacy/common/scripts/module/services/loaders.js","legacy/common/scripts/module/services/integrate-activity-instance-filter.js","legacy/common/scripts/module/services/params.js","legacy/common/scripts/module/services/create-list-query-function.js","legacy/common/scripts/module/services/create-is-search-query-changed-function.js","legacy/common/scripts/module/services/read-files.js","legacy/common/scripts/module/services/upload.js","legacy/common/scripts/module/services/get-deployment-url.js","legacy/common/scripts/module/services/is-file-upload-supported.js","legacy/common/scripts/module/services/get.js","legacy/common/scripts/module/components/cam-toolbar.js","legacy/common/scripts/module/components/cam-toolbar.html.js","legacy/common/scripts/module/components/cam-pagination.js","legacy/common/scripts/module/components/cam-pagination.html.js","legacy/common/scripts/module/components/cam-searchable-area.js","legacy/common/scripts/module/components/cam-searchable-area.html.js","legacy/common/scripts/module/components/cam-tabs.js","legacy/common/scripts/module/components/cam-tabs.html.js","legacy/common/scripts/module/directives/cam-hover-area.js","legacy/common/scripts/module/directives/cam-hover-trigger.js","legacy/common/scripts/module/directives/cam-hoverable-title.js","legacy/common/scripts/module/directives/cam-file.js","legacy/common/scripts/module/directives/cam-inline-panel-property.js","legacy/common/scripts/module/directives/cam-inline-panel-property.html.js","legacy/common/scripts/module/directives/cam-sortable-table-header.js","legacy/common/scripts/module/directives/cam-sortable-table-column.js","legacy/common/scripts/module/directives/cam-sortable-table-column.html.js","legacy/common/scripts/module/controllers/hover-area.js","legacy/common/scripts/module/controllers/cam-pagination.js","legacy/common/scripts/module/controllers/cam-tabs.js","legacy/common/scripts/module/controllers/cam-pagination-search-integration.js","legacy/common/scripts/util/pagination-utils.js","legacy/common/scripts/util/includes.js","legacy/common/scripts/module/external-tasks-common/index.js","legacy/common/scripts/module/external-tasks-common/services/observe-bpmn-elements.js","legacy/common/scripts/module/external-tasks-common/components/external-task-activity-link.js","legacy/common/scripts/module/external-tasks-common/components/external-task-activity-link.html.js","legacy/common/scripts/module/external-tasks-common/components/external-tasks-tab.js","legacy/common/scripts/module/external-tasks-common/components/external-tasks-tab.html.js","legacy/common/scripts/module/external-tasks-common/components/external-task-error-message-link.js","legacy/common/scripts/module/external-tasks-common/components/external-task-error-message-link.html.js","legacy/common/scripts/module/external-tasks-common/controllers/external-task-activity-link-controller.js","legacy/common/scripts/module/external-tasks-common/controllers/external-tasks-tab-controller.js","legacy/common/scripts/module/external-tasks-common/controllers/external-task-error-message-link-controller.js","legacy/plugins/base/app/views/processInstance/diagramPlugins/index.js","legacy/plugins/base/app/views/processInstance/diagramPlugins/instanceCount.js","legacy/plugins/base/app/views/common/diagramPlugins/instanceCount.html.js","legacy/plugins/base/app/views/processInstance/diagramPlugins/callActivity.js","legacy/client/scripts/components/callActivityOverlay/index.js","legacy/client/scripts/components/callActivityOverlay/template.html.js","legacy/plugins/base/app/views/processDefinition/diagramPlugins/index.js","legacy/plugins/base/app/views/processDefinition/diagramPlugins/instanceCount.js","legacy/plugins/base/app/views/processDefinition/diagramPlugins/overlayAction.html.js","legacy/plugins/base/app/views/dashboard/deployments.js","legacy/plugins/base/app/views/dashboard/reports.js","legacy/plugins/base/app/views/dashboard/batches.js","legacy/plugins/base/app/views/dashboard/processes.js","legacy/plugins/base/app/views/dashboard/decisions.js","legacy/plugins/base/app/views/dashboard/tasks.js","legacy/plugins/base/app/views/processesDashboard/process-definitions.js","legacy/plugins/base/app/views/processesDashboard/process-definitions.html.js","legacy/plugins/base/app/views/processDefinition/processInstanceTable.js","legacy/plugins/base/app/views/processDefinition/process-instance-table.html.js","legacy/plugins/base/app/views/processDefinition/calledProcessDefinitionTable.js","legacy/plugins/base/app/views/processDefinition/called-process-definition-table.html.js","legacy/plugins/base/app/views/processDefinition/updateSuspensionStateAction.js","legacy/plugins/base/app/views/processDefinition/update-suspension-state-action.html.js","legacy/plugins/base/app/views/processDefinition/update-suspension-state-dialog.html.js","legacy/plugins/base/app/views/processDefinition/updateSuspensionStateDialog.js","legacy/plugins/base/app/views/processDefinition/pdIncidentsTab.js","legacy/plugins/base/app/views/processDefinition/pd-incidents-tab.html.js","legacy/plugins/base/app/views/processInstance/variableInstancesTab.js","legacy/plugins/base/app/views/processInstance/variable-instances-tab.html.js","legacy/client/scripts/components/variables/variable-inspect-dialog.js","legacy/client/scripts/components/variables/variable-inspect-dialog.html.js","legacy/client/scripts/components/variables/variable-upload-dialog.js","legacy/client/scripts/components/variables/variable-upload-dialog.html.js","legacy/plugins/base/app/views/processInstance/incidentsTab.js","legacy/plugins/base/app/views/processInstance/incidents-tab.html.js","legacy/plugins/base/app/views/processInstance/calledProcessInstanceTable.js","legacy/plugins/base/app/views/processInstance/called-process-instance-table.html.js","legacy/plugins/base/app/views/processInstance/userTasksTable.js","legacy/plugins/base/app/views/processInstance/identity-links-modal.html.js","legacy/plugins/base/app/views/processInstance/user-tasks-table.html.js","legacy/plugins/base/app/views/processInstance/jobRetryBulkAction.js","legacy/plugins/base/app/views/processInstance/job-retry-bulk-dialog.html.js","legacy/plugins/base/app/views/processInstance/job-retry-bulk-action.html.js","legacy/plugins/base/app/views/processInstance/jobRetryBulkDialog.js","legacy/plugins/base/app/views/processInstance/jobRetryDialog.js","legacy/plugins/base/app/views/processInstance/externalTaskRetryDialog.js","legacy/plugins/base/app/views/processInstance/cancelProcessInstanceAction.js","legacy/plugins/base/app/views/processInstance/cancel-process-instance-dialog.html.js","legacy/plugins/base/app/views/processInstance/cancel-process-instance-action.html.js","legacy/plugins/base/app/views/processInstance/cancelProcessInstanceDialog.js","legacy/plugins/base/app/views/processInstance/addVariableAction.js","legacy/plugins/base/app/views/processInstance/add-variable-action.html.js","legacy/client/scripts/components/variables/variable-add-dialog.js","legacy/client/scripts/components/variables/variable-add-dialog.html.js","legacy/plugins/base/app/views/processInstance/updateSuspensionStateAction.js","legacy/plugins/base/app/views/processInstance/update-suspension-state-action.html.js","legacy/plugins/base/app/views/processInstance/update-suspension-state-dialog.html.js","legacy/plugins/base/app/views/processInstance/updateSuspensionStateDialog.js","legacy/plugins/base/app/views/processInstance/incidentJobRetryAction.js","legacy/plugins/base/app/views/processInstance/incident-job-retry-action.html.js","legacy/plugins/base/app/views/processInstance/incident-externalTask-retry-action.js","legacy/plugins/base/app/views/processInstance/incident-external-task-action.html.js","legacy/plugins/base/app/views/processInstance/jobsTab.js","legacy/plugins/base/app/views/processInstance/jobs-tab.html.js","legacy/plugins/base/app/views/processInstance/jobs-reschedule-modal.html.js","legacy/plugins/base/app/resources/main.js","legacy/plugins/base/app/resources/processDefinition.js","legacy/plugins/base/app/resources/processInstance.js","legacy/plugins/base/app/data/main.js","legacy/plugins/base/app/data/dashboard/processDefinitionStatisticsData.js","legacy/plugins/decisionList/app/plugin.js","legacy/plugins/decisionList/app/views/main.js","legacy/plugins/decisionList/app/views/dashboard/index.js","legacy/plugins/decisionList/app/views/dashboard/views/decision-list.js","legacy/plugins/decisionList/app/views/dashboard/views/decision-list.html.js","legacy/plugins/decisionList/app/views/dashboard/controllers/decision-list.js","legacy/plugins/decisionList/app/views/dashboard/services/decision-list.js","legacy/plugins/decisionList/app/views/dashboard/components/decisions-table.js","legacy/plugins/decisionList/app/views/dashboard/components/decisions-table.html.js","legacy/plugins/decisionList/app/views/decisionDefinition/decisionInstanceTable.js","legacy/plugins/decisionList/app/views/decisionDefinition/decision-instance-table.html.js","legacy/plugins/decisionList/app/views/decisionInstance/inputTable.js","legacy/plugins/decisionList/app/views/decisionInstance/input-variable-table.html.js","legacy/plugins/decisionList/app/views/decisionInstance/outputTable.js","legacy/plugins/decisionList/app/views/decisionInstance/output-variable-table.html.js","legacy/plugins/decisionList/app/views/decisionInstance/highlightRules.js","legacy/plugins/decisionList/app/views/decisionInstance/realInput.js","legacy/plugins/decisionList/app/views/decisionInstance/realOutput.js","legacy/plugins/jobDefinition/app/plugin.js","legacy/plugins/jobDefinition/app/views/main.js","legacy/plugins/jobDefinition/app/views/processDefinition/jobDefinitionTable.js","legacy/plugins/jobDefinition/app/views/processDefinition/job-definition-table.html.js","legacy/plugins/jobDefinition/app/views/processDefinition/jobDefinitionSuspensionState.js","legacy/plugins/jobDefinition/app/views/processDefinition/suspensionStateAction.js","legacy/plugins/jobDefinition/app/views/processDefinition/suspension-state-action.html.js","legacy/plugins/jobDefinition/app/views/processDefinition/job-definition-suspension-state-dialog.html.js","legacy/plugins/jobDefinition/app/views/processDefinition/diagramPlugins/index.js","legacy/plugins/jobDefinition/app/views/processDefinition/diagramPlugins/jobSuspension.js","legacy/plugins/jobDefinition/app/views/processDefinition/diagramPlugins/jobSuspension.html.js","legacy/plugins/jobDefinition/app/actions/main.js","legacy/plugins/jobDefinition/app/actions/override-job-priority/override-job-priority-action.js","legacy/plugins/jobDefinition/app/actions/override-job-priority/override-job-priority-action.html.js","legacy/plugins/jobDefinition/app/actions/override-job-priority/override-job-priority-dialog.html.js","legacy/plugins/jobDefinition/app/actions/override-job-priority/override-job-priority-dialog.js","legacy/plugins/jobDefinition/app/actions/bulk-override-job-priority/bulk-override-job-priority-action.js","legacy/plugins/jobDefinition/app/actions/bulk-override-job-priority/bulk-override-job-priority-action.html.js","legacy/plugins/jobDefinition/app/actions/bulk-override-job-priority/bulk-override-job-priority-dialog.html.js","legacy/plugins/jobDefinition/app/actions/bulk-override-job-priority/bulk-override-job-priority-dialog.js","legacy/plugins/tasks/app/plugin.js","legacy/plugins/tasks/app/views/main.js","legacy/plugins/tasks/app/views/dashboard/task-dashboard.js","legacy/plugins/tasks/app/views/dashboard/task-dashboard.html.js","legacy/plugins/external-tasks-process-instance-runtime-tab/index.js","legacy/plugins/external-tasks-process-instance-runtime-tab/services/external-tasks.js","legacy/plugins/external-tasks-process-instance-runtime-tab/controllers/process-instance-runtime-external-tasks-controller.js","legacy/plugins/external-tasks-process-instance-runtime-tab/view-provider.config.js","legacy/plugins/external-tasks-process-instance-runtime-tab/process-instance-runtime-external-tasks.html.js","legacy/client/scripts/services/transform.js","legacy/client/scripts/services/variables.js","legacy/client/scripts/services/breadcrumbTrails.js","legacy/client/scripts/services/query-max-results.js","legacy/common/scripts/services/routeUtil.js","legacy/common/scripts/services/page.js","legacy/common/scripts/services/cam-api.js","legacy/common/scripts/services/has-plugin.js","legacy/common/scripts/services/typeUtils.js","legacy/camunda-bpm-sdk-js/lib/index.js","legacy/client/scripts/services/escapeHtml.js","legacy/client/scripts/resources/processDefinitionResource.js","legacy/client/scripts/resources/incidentResource.js","legacy/client/scripts/resources/processInstanceResource.js","legacy/client/scripts/resources/localExecutionVariableResource.js","legacy/client/scripts/resources/jobResource.js","legacy/client/scripts/resources/taskResource.js","legacy/client/scripts/resources/jobDefinitionResource.js","legacy/client/scripts/filters/shorten.js","legacy/client/scripts/filters/duration.js","legacy/common/scripts/directives/breadcrumbs.js","legacy/common/scripts/directives/breadcrumbs.html.js","legacy/client/scripts/directives/numeric.js","legacy/common/scripts/directives/date.js","legacy/client/scripts/directives/processDiagram.js","legacy/client/scripts/directives/processDiagram.html.js","legacy/client/scripts/directives/decisionTable.js","legacy/client/scripts/directives/decisionTable.html.js","legacy/client/scripts/directives/processDiagramPreview.js","legacy/client/scripts/directives/processDiagramPreview.html.js","legacy/client/scripts/directives/activityInstanceTree.js","legacy/client/scripts/directives/activity-instance-tree.html.js","legacy/client/scripts/directives/sidebarContainer.js","legacy/client/scripts/directives/stateCircle.js","legacy/client/scripts/directives/variable.js","legacy/client/scripts/directives/variable.html.js","legacy/client/scripts/directives/focus.js","legacy/client/scripts/directives/viewPills.js","legacy/client/scripts/directives/pie-chart.js","legacy/client/scripts/directives/selectActivity.js","legacy/client/scripts/directives/selectActivityInstance.js","legacy/client/scripts/directives/processVariable.js","legacy/client/scripts/directives/dynamicName.js","legacy/client/scripts/directives/quickFilter.js","legacy/client/scripts/directives/quick-filter.html.js","legacy/client/scripts/directives/diagramStatisticsLoader.js","legacy/client/scripts/directives/diagram-statistics-loader.html.js","legacy/client/scripts/directives/time-to-live.js","legacy/client/scripts/directives/time-to-live.html.js","legacy/client/scripts/directives/change-version.js","legacy/client/scripts/directives/change-version.html.js","legacy/client/scripts/directives/isSidebarCollapsed.js","legacy/client/scripts/directives/incidentsTab.js","legacy/client/scripts/directives/incidents-tab.html.js","legacy/client/scripts/directives/incidents-tab-stacktrace.html.js","legacy/client/scripts/directives/sortableTableHead.js","legacy/client/scripts/directives/sortable-table-head.html.js","legacy/common/scripts/services/cam-configuration.js","legacy/client/scripts/batches/config/routes.js","legacy/client/scripts/batches/templates/cam-cockpit-batch-view.html.js","legacy/client/scripts/batches/controllers/view-ctrl.js","legacy/client/scripts/batches/components/batch.js","legacy/client/scripts/batches/templates/delete-modal.html.js","legacy/client/scripts/batches/controllers/modal-ctrl.js","legacy/client/scripts/batches/components/delete.js","legacy/client/scripts/batches/controllers/job-log-ctrl.js","legacy/client/scripts/batches/templates/job-log.html.js","legacy/client/scripts/batches/components/breadcrumbs.js","legacy/client/scripts/pages/dashboard.html.js","legacy/client/scripts/pages/decision-definition.html.js","legacy/client/scripts/pages/decision-instance.html.js","legacy/client/scripts/pages/decisions.html.js","legacy/client/scripts/pages/process-definition.html.js","legacy/client/scripts/pages/processes.html.js","legacy/client/scripts/pages/process-instance.html.js","legacy/client/scripts/repository/config/routes.js","legacy/client/scripts/repository/controllers/cam-cockpit-repository-view.html.js","legacy/client/scripts/repository/controllers/cam-cockpit-repository-view-ctrl.js","legacy/client/scripts/repository/deployments/main.js","legacy/client/scripts/repository/deployments/controllers/cam-cockpit-deployments-ctrl.js","legacy/client/scripts/repository/deployments/directives/cam-cockpit-deployments.js","legacy/camunda-commons-ui/vendor/lodash.js","legacy/client/scripts/repository/deployments/directives/cam-cockpit-deployments.html.js","legacy/client/scripts/repository/deployments/directives/cam-cockpit-deployment.js","legacy/client/scripts/repository/deployments/directives/cam-cockpit-deployment.html.js","legacy/client/scripts/repository/deployments/directives/cam-cockpit-deployments-sorting-choices.js","legacy/client/scripts/repository/deployments/directives/cam-cockpit-deployments-sorting-choices.html.js","legacy/client/scripts/repository/deployments/plugins/actions/delete/cam-cockpit-delete-deployment-plugin.js","legacy/client/scripts/repository/deployments/plugins/actions/delete/cam-cockpit-delete-deployment-plugin.html.js","legacy/client/scripts/repository/deployments/plugins/actions/delete/modals/cam-cockpit-delete-deployment-modal.html.js","legacy/client/scripts/repository/deployments/plugins/actions/delete/modals/cam-cockpit-delete-deployment-modal-ctrl.js","legacy/client/scripts/repository/resources/main.js","legacy/client/scripts/repository/resources/directives/cam-cockpit-resources.js","legacy/client/scripts/repository/resources/directives/cam-cockpit-resources.html.js","legacy/client/scripts/repository/resource/main.js","legacy/client/scripts/repository/resource/controllers/cam-cockpit-resource-details-ctrl.js","legacy/client/scripts/repository/resource/directives/cam-cockpit-resource-wrapper.js","legacy/client/scripts/repository/resource/directives/cam-cockpit-resource-wrapper.html.js","legacy/client/scripts/repository/resource/directives/cam-cockpit-resource-meta.js","legacy/client/scripts/repository/resource/directives/cam-cockpit-resource-meta.html.js","legacy/client/scripts/repository/resource/directives/cam-cockpit-resource-content.js","legacy/client/scripts/repository/resource/directives/cam-cockpit-resource-content.html.js","legacy/client/scripts/repository/resource/directives/cam-cockpit-source.js","legacy/client/scripts/repository/resource/directives/cam-cockpit-source.html.js","legacy/camunda-commons-ui/vendor/prism.js","legacy/client/scripts/repository/resource/plugins/details/definitions/cam-cockpit-definitions-plugin.js","legacy/client/scripts/repository/resource/plugins/details/definitions/cam-cockpit-definitions-plugin.html.js","legacy/client/scripts/repository/resource/plugins/actions/download/cam-cockpit-resource-action-download-plugin.js","legacy/client/scripts/repository/resource/plugins/actions/download/cam-cockpit-resource-action-download-plugin.html.js","legacy/client/scripts/pages/tasks.html.js","legacy/client/scripts/services/main.js","legacy/client/scripts/filters/main.js","enterprise_stubs/cockpit/cockpitPluginsEE.js","modules/utils/angularToReactPluginInterface.js","modules/utils/translation.js","modules/utils/cockpitNavigationFactory.js","plugins/cockpit.navigation/index.js","plugins/index.js","enterprise_stubs/index.js","modules/utils/config.js","modules/utils/request.js","modules/utils/PluginPoint/addApiAttributes.js","modules/utils/PluginPoint/PluginPoint.js","modules/utils/notifications.js","angularModuleSetup.js","AngularApp.js","components/Footer.js","modules/HOC/withUser.js","modules/components/Dropdown/Dropdown.js","modules/components/Dropdown/DropdownOption.js","modules/components/LinkButton/LinkButton.js","modules/components/LoadingIndicator/LoadingIndicator.js","modules/components/Notifications/Notifications.js","modules/components/Table/Table.js","modules/utils/paths.js","modules/components/Tooltip/Tooltip.js","components/Header/SmallScreenSwitch.js","components/Header/EngineSelect.js","components/Header/AppSelect.js","components/Header/UserInformation.js","components/Header/logo-2020-round.svg","components/Header/Navigation.js","components/Header/Header.js","RedirectToLoginIfUnauthenticated.js","angularBridges/auth.js","angularBridges/batch.js","legacy/client/scripts/pages/dashboard.js","angularBridges/dashboard.js","angularBridges/decisionDefinition.js","angularBridges/decisionInstance.js","legacy/client/scripts/pages/decisions.js","angularBridges/decisions.js","legacy/client/scripts/pages/processDefinition.js","angularBridges/processDefinition.js","legacy/client/scripts/pages/processes.js","angularBridges/processes.js","angularBridges/processInstance.js","angularBridges/repository.js","legacy/client/scripts/pages/tasks.js","angularBridges/tasks.js","App.js","index.js"],"names":["module","exports","require","Q","Events","noop","AbstractClientResource","extend","initialize","this","http","constructor","path","create","list","params","done","self","results","count","items","combinedPromise","defer","countFinished","listFinished","checkCompletion","trigger","resolve","err","reject","get","data","itemsRes","firstResult","parseInt","maxResults","promise","deferred","result","update","delete","attach","utils","typeUtils","solveHALEmbedded","isId","str","slice","prop","embedded","_embedded","length","keys","obj","arr","Object","a","splice","_embeddedRessources","r","name","i","properties","p","e","id","series","tasks","callback","iterator","completed","iterate","_eachSeries","k","args","Array","prototype","call","arguments","escapeUrl","string","encodeURIComponent","replace","angular","analytics","auth","util","pages","plugin","directives","resources","search","services","widgets","dateFilter","DIRECTIVE_CAM_FORM","DIRECTIVE_CAM_VARIABLE_NAME","DIRECTIVE_CAM_VARIABLE_TYPE","DIRECTIVE_CAM_FILE_DOWNLOAD","DIRECTIVE_CAM_CHOICES","DIRECTIVE_CAM_SCRIPT","DIRECTIVE_CAM_ERROR_CODE","DIRECTIVE_CAM_ERROR_MESSAGE","DIRECTIVE_CAM_ESCALATION_CODE","moment","includes","encodeQuery","query","encodeURI","prepareObjectForComparing","whiteList","isObject","reduce","newObj","key","value","stripUndefinedFromObject","stripProperties","createSearchesForActivityIds","searchType","activityIds","map","createActivitySearch","bind","type","operator","addSearchToQuery","arrayTypes","variableTypes","op","indexOf","isDateType","isOperatorAppendable","getSearchType","basic","toLowerCase","test","allowDates","simpleDateExp","ISO_8601","format","sanitizeValue","getSearchValue","parseValue","createVariableValue","isArray","concat","appendNewValueToArrayType","getSearchQueryForSearchType","values","JSON","stringify","getActivityIdsFromUrlParams","searches","parse","searchQuery","filter","getActivityIdsFromSearches","replaceActivitiesInSearchQuery","selectedActivityIds","removeActivitySearches","createSearchQueryForSearchWidget","shouldUpdateFilter","newFilter","currentFilter","equals","updateSearchValuesForTypeInCtrlMode","newSearches","removeDoubledSearches","newValues","searchesValues","removeDoubleValues","isNaN","trim","lastIndexOf","substr","INTEGER_PATTERN","FLOAT_PATTERN","BOOLEAN_PATTERN","DATE_PATTERN","xmlParser","isType","dateToString","validate","isValidXML","isValidJSON","pad","number","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","convertToType","Error","parseFloat","currentPath","currentSearch","redirectUrl","redirectTo","replacement","keepSearchParams","toString","push","join","uriFilter","uriProvider","provider","toArray","once","func","memo","ran","apply","ensureEvents","_events","on","off","eventName","cb","_callback","shift","BaseClass","$","AbstractFormField","element","variableManager","camForm","form","variableName","selector","applyValue","getValue","directive","$animate","$q","$parse","$injector","$animateCss","has","link","scope","attrs","expandingExpr","expanding","expandedExpr","expanded","collapsingExpr","collapsing","collapsedExpr","collapsed","horizontal","css","cssTo","getScrollFromElement","width","scrollWidth","height","scrollHeight","expandDone","removeClass","addClass","collapseDone","$eval","uibCollapse","attr","init","$watch","shouldCollapse","hasClass","then","to","start","collapse","easing","overflow","restrict","elem","$observe","disabled","$set","constant","closeOthers","controller","$scope","$attrs","accordionConfig","groups","openGroup","isDefined","forEach","group","isOpen","addGroup","groupScope","that","$on","event","removeGroup","index","controllerAs","transclude","templateUrl","heading","panelClass","isDisabled","setHeading","accordionCtrl","openClass","toggleClass","toggleOpen","$event","which","$id","Math","floor","random","headingId","panelId","template","accordionGroupCtrl","uibAccordionTransclude","querySelector","html","append","$element","$interpolate","$timeout","closeable","close","dismissOnTimeout","$parent","activeClass","toggleEvent","buttonConfig","ctrls","buttonsCtrl","ngModelCtrl","uncheckableExpr","uibUncheckable","find","display","$render","$modelValue","uibBtnRadio","isActive","uncheckable","$apply","$setViewValue","undefined","getTrueValue","getCheckboxValue","btnCheckboxTrue","attribute","defaultValue","btnCheckboxFalse","$interval","currentInterval","isPlaying","slides","currentIndex","active","destroyed","setActive","slide","findSlideIndex","resetTimer","cancel","restartTimer","interval","timerFn","next","pause","addSlide","sort","b","isNumber","$currentTransition","select","play","getCurrentIndex","newIndex","noWrap","prev","removeSlide","nextSlide","direction","nextIndex","enabled","currentIdx","phase","goNext","indexOfSlide","isPrevDisabled","isNextDisabled","noPause","noTransition","$watchCollection","actual","carouselCtrl","animation","className","beforeAddClass","directionClass","removeClassFn","beforeRemoveClass","service","$log","$locale","orderByFilter","filterFilter","localeId","formatCodeToRegex","SPECIAL_CHARACTERS_REGEXP","getFormatCodeToRegex","constructLiteralFormatter","literalIdx","endIdx","constructFormatterFromIdx","currentPosStr","j","RegExp","parser","formatter","charAt","toInt","timezoneToOffset","timezone","fallback","requestedTimezoneOffset","Date","addDateMinutes","minutes","getTime","setMinutes","convertTimezoneToLocal","reverse","dateTimezoneOffset","getTimezoneOffset","parsers","formatters","regex","year","_date","setFullYear","abs","month","DATETIME_FORMATS","MONTH","SHORTMONTH","DAY","SHORTDAY","hours","milliseconds","seconds","AMPMS","matches","match","sign","ERANAMES","ERAS","version","major","minor","STANDALONEMONTH","getParser","f","overrideParser","isFunction","isDate","createFormatter","input","baseDate","isString","split","quoteIndex","inLiteral","n","matcher","createParser","tzOffset","fields","dt","getMilliseconds","warn","mapper","datesetter","setUTCFullYear","timesetter","setUTCHours","setHours","isValid","toTimezone","fromTimezone","ON_REGEXP","IS_REGEXP","compile","tElement","tAttrs","linkedScopes","instances","expToData","onExpMatches","uibIsClass","onExp","exps","exp","clazz","compareWithExp","watchFn","compareWithVal","newActivated","some","instance","lastActivated","watcher","addForExp","removeScope","removedScope","targetScope","newWatchScope","datepickerMode","formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","maxDate","maxMode","minDate","minMode","monthColumns","ngModelOptions","shortcutPropagation","showWeeks","yearColumns","yearRows","datepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","dateParser","watchListeners","datepickerOptions","modes","startingDay","FIRSTDAYOFWEEK","getOption","refreshView","uniqueId","ngDisabled","dateObject","compare","activeDate","activeDateId","uid","ngModelCtrl_","$options","createChild","extractOptions","initDate","$isEmpty","$invalid","render","$viewValue","error","selectedDt","_refreshView","activeDt","$setValidity","createDateObject","model","today","time","label","selected","past","current","future","customClass","dateDisabled","mode","size","arrays","setMode","$emit","$broadcast","move","step","years","months","toggleMode","13","32","33","34","35","36","37","38","39","40","focus","keydown","evt","shiftKey","altKey","preventDefault","stopPropagation","ctrlKey","handleKeyDown","DAYS_IN_MONTH","getDaysInMonth","getISO8601WeekNumber","checkDate","setDate","getDay","setMonth","round","ctrl","getDates","startDate","dates","firstDayOfMonth","difference","numDisplayedFromPreviousMonth","firstDate","days","secondary","labels","abbr","full","title","rows","weekNumbers","thursdayIndex","numWeeks","curWeek","date1","date2","_date1","_date2","min","yearHeaderColspan","columns","range","getStartingYear","yearpickerInit","datepickerCtrl","factory","$document","$window","SCROLLBAR_WIDTH","BODY_SCROLLBAR_WIDTH","OVERFLOW_REGEX","normal","hidden","PLACEMENT_REGEX","auto","primary","vertical","BODY_REGEX","getRawNode","nodeName","parseStyle","isFinite","offsetParent","el","documentElement","getComputedStyle","position","scrollbarWidth","isBody","isUndefined","bodyElem","innerWidth","clientWidth","scrollElem","offsetWidth","remove","scrollbarPadding","elemStyle","paddingRight","paddingBottom","scrollParent","tagName","widthOverflow","right","originalRight","heightOverflow","clientHeight","bottom","originalBottom","isScrollable","includeHidden","overflowRegex","overflowY","overflowX","includeSelf","documentEl","excludeStatic","parentElement","spStyle","includeMagins","elemOffset","offset","top","marginTop","left","marginLeft","parent","parentOffset","clientTop","scrollTop","clientLeft","scrollLeft","offsetHeight","elemBCR","getBoundingClientRect","pageYOffset","pageXOffset","viewportOffset","useDocument","includePadding","offsetBCR","offsetParentBCR","offsetParentStyle","paddingTop","paddingLeft","parsePlacement","placement","autoPlace","positionElements","hostElem","targetElem","appendToBody","targetWidth","targetHeight","hostElemPos","targetElemPos","targetElemStyle","adjustedSize","marginRight","marginBottom","xOverflow","yOverflow","adjustTop","placementClasses","containerPosition","initialHeight","currentHeight","positionArrow","innerElem","isTooltip","arrowElem","arrowCss","borderProp","borderWidth","borderRadiusProp","borderRadius","altInputFormats","clearText","closeOnDateSelection","closeText","currentText","datepickerPopup","datepickerPopupTemplateUrl","datepickerTemplateUrl","html5Types","onOpenFocus","showButtonBar","$compile","$rootScope","$position","datepickerPopupConfig","$datepickerPopupLiteralWarning","dateFormat","popupEl","datepickerEl","scrollParentEl","ngModel","$popup","isHtml5DateInput","parseDateString","viewValue","parseDate","validator","modelValue","ngRequired","documentClickBind","popup","dpContainsTarget","contains","target","popupContainsTarget","inputKeydownBind","positionPopup","dpElement","popupPlacement","_ngModel_","datepickerAppendToBody","uibDatepickerPopup","oldValue","newDateFormat","children","$formatters","$$parserName","$validators","$parsers","unshift","$viewChangeListeners","after","$$phase","getText","dateSelection","val","debounceTime","timeoutPromise","createNew","entries","hasKey","put","idx","appendToOpenClass","$$multiMap","openScope","openedContainers","isOnlyOpen","dropdownScope","appendTo","openedDropdowns","toClose","dropdown","open","closeDropdown","keybindFilter","dropdownToClose","getAutoClose","toggleElement","getToggleElement","dropdownElement","getDropdownElement","focusToggleElement","dropdownElementTargeted","toggleElementTargeted","isKeynavEnabled","focusDropdownEntry","dropdownConfig","uibDropdownService","$templateRequest","templateScope","getIsOpen","$new","setIsOpen","toggleInvoker","onToggle","keynavEnabled","body","removeDropdownMenu","dropdownMenu","assign","keyboardNav","toggle","autoClose","getElement","keyCode","elems","eq","selectedOption","wasOpen","dropdownAppendTo","appendToEl","dropdownAppendToBody","rightalign","pos","window","appendOffset","openContainer","dropdownOpenClass","hasOpenClass","dropdownMenuTemplateUrl","tplContent","newEl","replaceWith","$destroy","dropdownCtrl","dropdownNested","tplUrl","toggleDropdown","stack","add","removeTop","pop","resolver","setResolver","$get","invocables","locals","promises","invoke","all","resolves","resolveObj","resolveIter","$modalStack","backdropClass","linkFn","modalInClass","NOW_CLOSING_EVENT","setIsAsync","modalOptions","windowTopClass","modal","getTop","backdrop","currentTarget","dismiss","$isRendered","modalRenderDeferObj","$$postDigest","animationPromise","when","modalRendered","activeElement","inputWithAutofocus","modalAnimation","uibModalAnimationClass","clone","empty","enter","$$stackedMap","$uibPosition","backdropDomEl","backdropScope","openedWindows","openedClasses","topModalIndex","previousTopOpenedModal","ARIA_HIDDEN_ATTRIBUTE_NAME","SNAKE_CASE_REGEXP","backdropIndex","topBackdropIndex","opened","removeModalWindow","modalInstance","elementToReceiveFocus","modalWindow","appendToElement","modalDomEl","removeAfterAnimate","modalScope","modalBodyClass","openedClass","areAnyOpen","toggleTopWindowClass","closedDeferred","checkRemoveBackdrop","toggleSwitch","domEl","asyncDeferred","asyncPromise","afterAnimating","leave","keydownListener","isDefaultPrevented","keyboard","loadFocusElementList","focusChanged","isFocusInFirstItem","isModalFocused","focusLastFocusableElement","isFocusInLastItem","focusFirstFocusableElement","broadcastClosing","resultOrReason","closing","defaultPrevented","unhideBackgroundElements","document","querySelectorAll","hiddenEl","newHiddenCount","getAttribute","setAttribute","removeAttribute","newBackdropIndex","modalOpener","renderDeferred","content","currBackdropIndex","component","createElement","letter","angularDomEl","windowTemplateUrl","ariaLabelledBy","ariaDescribedBy","windowClass","$$topModalIndex","applyAriaHidden","child","getSiblings","sibling","elemIsAlreadyHidden","ariaHiddenCount","$$uibDestructionScheduled","reason","dismissAll","topModal","srcElement","modalDomE1","elements","getClientRects","isVisible","$modalProvider","options","$controller","$uibResolve","$modal","promiseChain","getPromiseChain","templateAndResolvePromise","samePromise","modalResultDeferred","modalOpenedDeferred","modalClosedDeferred","modalRenderDeferred","closed","rendered","resolveWithTemplate","tplAndVars","providedScope","$close","$dismiss","ctrlInstance","ctrlInstantiate","ctrlLocals","constructLocals","instanceOnScope","injectable","$resolve","$uibModalInstance","bindToController","$onInit","setNumPages","numPages","_watchers","config","itemsPerPage","totalPages","calculateTotalPages","updatePage","newTotal","oldTotal","ceil","totalItems","max","page","selectPage","blur","noPrevious","noNext","uibPaging","uibPagerConfig","align","previousText","nextText","paginationCtrl","uibPaginationConfig","maxSize","rotate","forceEllipses","boundaryLinkNumbers","pageLabel","$page","identity","makePage","text","boundaryLinks","directionLinks","originalRender","currentPage","startPage","endPage","isMaxSized","previousPageSet","secondPageLink","firstPageLink","nextPageSet","secondToLastPageLink","lastPageLink","getPages","firstText","lastText","defaultOptions","placementClassPrefix","popupDelay","popupCloseDelay","useContentExp","triggerMap","globalOptions","setTriggers","triggers","openedTooltips","keypressListener","last","ttType","prefix","defaultTriggerShow","getTriggers","show","hide","directiveName","startSym","startSymbol","endSym","endSymbol","tElem","tooltipLinker","tooltipCtrl","tooltip","tooltipLinkedScope","transitionTimeout","showTimeout","hideTimeout","positionTimeout","adjustmentTimeout","lastPlacement","hasEnableExp","ttScope","repositionScheduled","isOpenParse","contentParse","observers","positionTooltip","ttPosition","elementPos","adjustment","toggleTooltipBind","hideTooltipBind","showTooltipBind","cancelHide","popupClass","delay","closeDelay","prepareTooltip","cancelShow","prepObservers","createTooltip","$evalAsync","assignIsOpen","removeTooltip","observer","bodyHideTooltipBind","hideOnEscapeKey","origScope","contentExp","unregisterTriggers","showTriggers","hideTriggers","prepTriggers","appendToBodyVal","appendKey","$sce","currentScope","previousElement","currentElement","tooltipTemplateTranscludeScope","changeCounter","cleanupLastIncludeContent","parseAsResourceUrl","uibTooltipTemplateTransclude","src","thisChangeId","response","newScope","tooltipAnimationClass","$uibTooltip","originScope","uibTitle","animate","progressConfig","getMaxOrDefault","maxParam","bars","addBar","bar","recalculatePercentage","totalPercentage","total","percent","toFixed","removeBar","progressCtrl","stateOn","stateOff","enableReset","titles","ratingConfig","tmpTitles","ratingStates","buildTemplateObjects","states","getTitle","rate","readonly","newViewValue","onHover","reset","onLeave","onKeydown","ratingCtrl","oldIndex","findTabIndex","tabs","previousIndex","previousSelected","tab","onDeselect","$selectedIndex","onSelect","addTab","t1","t2","newActiveIndex","removeTab","newActiveTabIndex","justified","classes","elm","tabsetCtrl","disable","t","$transcludeFn","uibTabContentTransclude","contents","node","hasAttribute","isTabHeading","headingElement","hourStep","minuteStep","secondStep","showMeridian","showSeconds","meridians","readonlyInput","mousewheel","arrowkeys","showSpinners","timepickerConfig","hoursModelCtrl","minutesModelCtrl","secondsModelCtrl","watchers","padHours","tabindex","removeAttr","inputs","hoursInputEl","minutesInputEl","secondsInputEl","setupMousewheelEvents","setupArrowkeyEvents","setupInputEvents","noIncrementHours","incrementedSelected","addMinutes","noDecrementHours","decrementedSelected","noIncrementMinutes","noDecrementMinutes","noIncrementSeconds","addSeconds","noDecrementSeconds","noToggleMeridian","getHoursFromTemplate","meridian","getMinutesFromTemplate","noPad","refresh","keyboardChange","makeValid","updateTemplate","invalidHours","invalidMinutes","invalidSeconds","addSecondsToSelected","newDate","modelIsEmpty","$error","isScrollingUp","originalEvent","delta","wheelDelta","deltaY","detail","incrementHours","decrementHours","incrementMinutes","decrementMinutes","incrementSeconds","decrementSeconds","updateHours","updateMinutes","updateSeconds","invalidate","$setDirty","$setTouched","getSecondsFromTemplate","setSeconds","toggleMeridian","uibTimepickerConfig","timepickerCtrl","TYPEAHEAD_REGEXP","itemName","source","viewMapper","modelMapper","originalScope","$$debounce","typeaheadParser","modelCtrl","HOT_KEYS","minLength","typeaheadMinLength","newVal","waitTime","typeaheadWaitMs","isEditable","typeaheadEditable","hasFocus","isLoadingSetter","typeaheadLoading","isSelectEvent","typeaheadShouldSelect","vals","onSelectCallback","typeaheadOnSelect","isSelectOnBlur","typeaheadSelectOnBlur","isNoResultsSetter","typeaheadNoResults","inputFormatter","typeaheadInputFormatter","typeaheadAppendToBody","typeaheadAppendTo","focusFirst","typeaheadFocusFirst","selectOnExact","typeaheadSelectOnExact","isOpenSetter","typeaheadIsOpen","showHint","typeaheadShowHint","parsedModel","invokeModelSetter","parserResult","uibTypeahead","offDestroy","inputsContainer","hintInputElem","popupId","popUpEl","debounce","typeaheadTemplateUrl","typeaheadPopupTemplateUrl","resetMatches","activeIdx","getMatchId","getMatchesAsync","inputValue","onCurrentRequest","recalculatePosition","toUpperCase","inputIsExactMatch","debounceUpdate","firstLabel","fireRecalculating","debouncedRecalculate","moveInProgress","$digest","cancelPreviousTimeout","item","newValue","$$$p","$setModelValue","$item","$model","$label","typeaheadFocusOnSelect","shouldSelect","parentNode","offsetTop","editable","dismissClickHandler","_modelCtrl","scheduleSearchWithTimeout","candidateViewValue","popupTemplateUrl","isDropdownOpen","matchIdx","selectActive","selectMatch","tplEl","isSanitizePresent","matchItem","containsHtml","trustAsHtml","run","$templateCache","$$csp","noInlineStyle","$$uibCarouselCss","prepend","$$uibDatepickerCss","$$uibPositionCss","$$uibDatepickerpopupCss","$$uibTooltipCss","$$uibTimepickerCss","$$uibTypeaheadCss","protoProps","staticProps","Surrogate","s","hasOwnProperty","root","global","jQuery","Zepto","isModuleAvailable","exposeScopeProperties","loaders","integrateActivityInstanceFilter","createListQueryFunction","createIsSearchQueryChangedFunction","readFiles","upload","getDeploymentUrl","isFileUploadSupported","camToolbar","camPagination","camSearchableArea","camTabs","camHoverArea","camHoverTrigger","camHoverableTitle","camFile","camInlinePanelProperty","camSortableTableHeader","camSortableTableColumn","HoverAreaController","CamPaginationController","CamTabsController","CamPaginationSearchIntegrationController","routeUtil","paginationUtils","searchWidgetUtils","externalTasksCommon","ngModule","email","engineSelect","autoFill","inPlaceTextField","notificationsPanel","passwordRepeat","showIfAuthorized","compileTemplate","nl2br","instantTypeahead","directivesModule","$tooltipProvider","SearchFactory","$location","silent","lastRoute","updateSilently","replaceFlag","oldPath","absUrl","searchModule","Client","Form","CamundaClient","apiUri","engine","mock","HttpClient","baseUrl","proto","_resources","conf","resConf","c","forwardError","headers","resource","decimal","pow","abbreviations","abbreviateNumber","templateDialog","templateStringDialog","varUtils","camundaFormattedDate","toISOString","modalCtrl","$dialogScope","variable","hovered","toggleHover","original","copy","hasChanged","valueInfo","serializationDataFormat","objectTypeName","types","defaultValues","Boolean","Bytes","File","Double","Integer","Long","Null","Short","String","Json","Xml","isPrimitive","isBinary","useCheckbox","newTyped","valid","filtersModule","variants","short","long","setDateFormat","newFormat","variant","$filterProvider","register","$translate","camDateFormat","storage","localStorage","getItem","set","setItem","control","processData","processDiagram","Loaders","callbacks","viewer","getViewer","overlays","elementRegistry","stopLoading","startLoading","overlaysNodes","observe","sources","shape","nodes","bpmnElements","businessObject","getData","clickListener","selectRunningInstances","instancesNode","incidentsNode","getOverlayNodes","minZoom","Infinity","maxZoom","isSelectable","updateOverlayNodes","toggleIsLoading","activityId","multiInstance","base","decisionList","jobDefinition","externalTasksTab","processDefinitionResource","incidentResource","processInstanceResource","localExecutionVariableResource","jobResource","taskResource","jobDefinitionResource","resourcesModule","breadcrumbs","numeric","decisionTable","processDiagramPreview","activityInstanceTree","sidebarContainer","stateCircle","viewPills","pieChart","selectActivity","selectActivityInstance","processVariable","dynamicName","quickFilter","diagramStatisticsLoader","timeToLive","changeVersion","camCommon","isSidebarCollapsed","incidentsTab","sortableTableHead","routes","batchModule","camCommons","Controller","dataDepend","camAPI","decisionDefinition","Views","queryMaxResults","decisionData","decisionDefinitionService","hasDrdPlugin","provide","decisionDefinitionId","getXml","dmnXml","queryParams","sortBy","sortOrder","tenantId","tenantIdIn","withoutTenantId","allDefinitions","showBreadcrumbs","breadcrumbData","definition","breadcrumbsClear","breadcrumbsAdd","instant","href","titleSet","tableXml","initializeTablePlugins","tablePlugins","getProviders","_viewers","decisionDefinitionVars","read","decisionDefinitionTabs","decisionDefinitionActions","decisionPlugins","initData","selectTab","tabProvider","selectedTab","detailsTab","selectedTabId","getProvider","setDefaultTab","deploymentId","deployment","resourceName","deploymentsQuery","RouteConfig","$routeProvider","authentication","ResourceResolver","getByRouteParam","reloadOnSearch","ViewsProvider","registerDefaultView","priority","decisionInstance","hasCasePlugin","hasHistoryPlugin","processInstanceLink","processInstanceId","activityInstanceId","decisionDefinitionName","decisionDefinitionKey","getActivitySearch","tableControl","decisionInstanceId","decisionInstanceVars","decisionInstanceTabs","decisionInstanceActions","includeInputs","includeOutputs","disableBinaryFetching","disableCustomObjectDeserialization","status","commonModule","$filter","ProcessDefinitionResource","ProcessInstanceResource","IncidentResource","Data","Transform","processInstance","breadcrumbTrails","hasMigrationPlugin","pageData","fetchSuperProcessInstance","subProcessInstance","$promise","superInstance","catch","diagramCollapsed","onDiagramCollapseChange","hoverTitle","definitionId","getBpmn20Xml","bpmn20Xml","transformBpmn20Xml","parsedBpmn20","definitions","activityInstances","processDefinition","activityIdToInstancesMap","instanceIdToInstanceMap","activityIdToIncidentIdMap","getActivityName","bpmnElement","shortenFilter","$type","addIncidents","incidents","incident","incidentIds","decorateActivityInstanceTree","childActivityInstances","isTransitionInstance","transitions","childTransitionInstances","transition","targetActivityId","transitionBpmnElement","transitionInstances","executionIdToInstanceMap","executionIds","executionId","execId","bpmnDefinition","latestVersion","shouldRemoveActivityIds","latestProcessDefinition","isLatestVersion","getMigrationUrl","sourceKey","targetKey","sourceVersion","targetVersion","superProcessInstance","crumbs","plugins","divider","choices","handleBpmnElementSelection","activityInstanceIds","instanceList","instanceId","handleActivityInstanceSelection","foundAnotherActivityInstance","otherIndex","scrollToBpmnElement","orderChildrenBy","processInstanceVars","processInstanceActions","instantiateProviders","instancePlugins","filterData","newChild","activityCount","activityInstanceCount","_filterData","clearSelection","getDataWhen","null","one","other","sidebarTab","redirectToRuntime","Uri","Notifications","$route","$http","appUri","message","processDefinitionId","addMessage","exclusive","duration","addError","camCockpitRepositoryViewCtrl","deploymentsModule","resourceDetailsModule","ngDeps","deploymentModule","modalTemplate","camundaLogo","previousUrl","addEventListener","oldURL","modalController","telemetryResource","loadingState","logo","enableUsage","save","configure","res","enableTelemetry","commonsUtil","loginPage","ifLoggedInDirective","ifLoggedOutDirective","authenticationService","preLoginUrl","url","$cacheFactory","removeAll","dayContext","now","hour","getDayContext","shouldDisplayAuthenticationError","TEMPLATES_PATTERN","replacements","pattern","AuthenticationService","localConf","configuration","appName","getAppName","showFirstLogin","getDisableWelcomeMessage","method","dismissInfoBox","FirstLoginMessage","autofocusField","login","username","password","clearAll","terminal","childElement","childScope","redraw","Authentication","emit","userId","authorizedApps","authenticationPromise","updateAuthentication","param","logout","post","reload","getAuthentication","canAccess","app","pagesModule","ResponseErrorHandlerInitializer","exceptionType","pageTitle","setHeadTitle","resourceId","permissionName","missingAuths","missingAuthorizations","missingAuth","ProcessEngineSelectionController","enginesByName","engines","currentEngine","location","view","pluginModule","$anchorScroll","lastScope","destroyLastScope","clearContent","viewProvider","viewVars","vars","cache","getTemplate","write","excludeExp","_camPlugins","expParts","feature","PluginsProvider","pluginMap","registerPlugin","addPlugin","internalRegisterPlugin","getAllProviders","providers","registerView","Plugins","initialized","ensureInitialized","viewProviders","DataProvider","registerData","dataProvider","dataProviders","instantiate","EMAIL_REGEX","ngShow","insertAfter","$setPristine","unserializeCallback","serializeCallback","initializeCallback","enterCallback","validateCallback","submitCallback","successCallback","errorCallback","leaveCallback","context","property","isRequired","required","editing","submit","notifications","consumer","notification","matchesFilter","registerConsumer","removeNotification","notificationClass","trustHTML","msg","unregisterConsumer","repeatedPasswordName","builtInResources","application","user","authorization","AuthorizationResource","permission","authPermission","authResourceName","authResourceId","invertCheck","authInverse","check","request","resourceType","mapParameters","authorized","parsed","ngBindHtml","replaced","triggerHandler","authorizationResource","$resource","action","escape","RequestLogger","unescape","fixDate","unfixDate","$httpProvider","interceptors","logStarted","logFinished","responseError","httpError","$windowProvider","defaults","fn","wait","timer","debounced","$loading","activeCount","paramName","succeed","fail","errorResponse","preventRedirection","CamSDK","$cookies","AngularClient","_wrapped","myTimeout","token","getCsrfCookieName","setHeaders","applyResponse","Accept","end","ok","noContent","req","isFieldOrAttach","Buffer","field","attachments","file","send","load","accept","del","Authorization","authorizationId","Batch","suspended","statistics","statisticsCount","cascade","Deployment","deploymentName","files","deploymentSource","enableDuplicateFiltering","deployChangedOnly","getResources","getResource","getResourceData","redeploy","ExternalTask","fetchAndLock","complete","failure","unlock","retries","retriesAsync","Filter","filterId","getTasks","authorizations","helpers","History","userOperationCount","userOperation","setUserOperationAnnotation","clearUserOperationAnnotation","processInstanceCount","deleteProcessInstancesAsync","setRemovalTimeToHistoricProcessInstancesAsync","setRemovalTimeToHistoricDecisionInstancesAsync","setRemovalTimeToHistoricBatchesAsync","decisionInstanceCount","deleteDecisionInstancesAsync","batch","singleBatch","batchCount","batchDelete","report","reportType","periodUnit","reportAsCsv","task","taskCount","taskDurationReport","taskReport","caseInstance","caseInstanceCount","caseActivityInstance","caseActivityInstanceCount","activityInstance","variableInstance","variableInstanceCount","caseActivityStatistics","drdStatistics","cleanupConfiguration","deleteVariable","deleteAllVariables","cleanupJobs","cleanup","cleanableProcessCount","cleanableProcess","cleanableCaseCount","cleanableCase","cleanableDecisionCount","cleanableDecision","cleanableBatchCount","cleanableBatch","jobLogList","jobLogCount","externalTaskLogList","createSimpleGetQueryFunction","externalTaskLogCount","urlSuffix","ProcessDefinition","suspend","stats","getByKey","formVariables","pointer","queryData","deserializeValues","names","variableNames","submitForm","businessKey","variables","startForm","xml","ids","updateHistoryTimeToLive","restart","restartAsync","ProcessInstance","getActivityInstances","modify","modifyAsync","deleteAsync","payload","deleteAsyncHistoricQueryBased","setJobsRetriesAsync","setJobsRetriesAsyncHistoricQueryBased","suspendAsync","setVariablesAsync","setVariable","Task","procDefs","taskId","comments","identityLinks","identityLinksAdd","identityLinksDelete","createComment","assignee","delegate","claim","unclaim","bpmnEscalation","escalationCode","bpmnError","errorCode","errorMessage","localVariable","varId","localVariables","modifyVariables","TaskReport","countByCandidateGroup","countByCandidateGroupAsCsv","Telemetry","Variable","CaseExecution","reenable","manualStart","CaseInstance","terminate","CaseDefinition","User","profile","firstName","lastName","credentials","updateProfile","updateCredentials","authenticatedUserPassword","Group","createMember","deleteMember","Tenant","createUserMember","createGroupMember","groupId","deleteUserMember","deleteGroupMember","Incident","JobDefinition","setRetries","Job","stacktrace","recalculateDuedate","creationDateBased","setDuedate","Metrics","sum","byInterval","DecisionDefinition","evaluate","Execution","Migration","generate","execute","executeAsync","DRD","createIdUrl","createKeyTenantUrl","getXML","getXMLByKey","Modification","Message","correlate","PasswordPolicy","CamundaFormAngular","camVariableType","$pristine","$dirty","camMaxFilesize","CamundaForm","constants","renderForm","autoBind","camVarName","formElement","formFieldHandlers","handler","each","injector","executeFormScript","script","inject","extensions","eval","fireEvent","doFireEvent","VariableManager","InputFieldHandler","ChoicesFieldHandler","FileDownloadHandler","ErrorButtonHandler","EscalationButtonHandler","dest","client","clientConfig","processDefinitionKey","taskBasePath","containerElement","formUrl","scripts","initializeHandler","FieldHandler","initializeForm","noCache","urlParams","formHtmlSource","initializeFormScripts","initializeFieldHandlers","executeFormScripts","fetchVariables","mergeVariables","storeOriginalValues","restore","applyVariables","formScriptElements","store","formId","caseInstanceId","storePrevented","retrieveVariables","isRestorable","stored","caseDefinitionId","submitPrevented","transformFiles","submitVariables","removeItem","errorPrevented","parseVariables","escalate","escalationPrevented","counter","callCallback","bytesToSize","bytes","log","toPrecision","fileVar","FileReader","reader","onloadend","binary","Uint8Array","len","byteLength","fromCharCode","btoa","filename","mimeType","readAsArrayBuffer","varManager","originalValue","variableData","v","isDirty","isJsonVariable","isDateVariable","setOriginalValue","contentUrl","isVariablesFetched","cleanLocalStorage","timestamp","fetchVariable","createVariable","destroyVariable","variableValue","isSame","isBooleanCheckbox","variableType","previousValue","getValueFromHtmlControl","dateValue","applyValueToHtmlControl","choicesVariableName","selectedIndex","choicesVariableValue","setTimeout","change","replacedString","decodeURIComponent","inlineField","searchPill","camQueryComponent","header","footer","loader","chartLine","debug","clipboard","variablesTable","camRenderVarTemplate","bpmnViewer","cmmnViewer","dmnViewer","variableValidator","camShareLink","widgetModule","varValue","varType","onStart","onCancel","placeholder","allowNonOptions","flexible","disableAutoselect","$btnsEl","$ctrlsEl","$scrollableParentEl","style","excludeStaticParent","getScrollParent","dateRegex","isSimpleField","invalid","editValue","simpleField","dateStr","dateObj","YEAR","HOURS","MINUTES","SECONDS","MILLISECONDS","exec","convertDateStringToObject","bodyDirectChild","$el","outerRightOffset","outerWidth","outerHeight","$datepickerEl","removeFromBody","force","stopEditing","bodyClicked","targetElement","cancelChange","before","changeType","attributes","startEditing","savedEditValue","isValueOfTypeObject","compareValue","innerText","applyChange","selection","unbind","changeDate","pickerScope","selectNextInlineField","reversed","allFields","click","trapKeyboard","cancelOnEsc","handleKeydown","saveSelection","extended","enforceDates","enforceString","invalidText","deleteText","potentialNames","onChange","onDelete","disableTypeaheadAutoselect","valueType","getValueType","changeSearch","inEdit","clearEditTrigger","focusField","fieldName","camDate","apps","welcome","admin","cockpit","tasklist","userName","currentApp","signOut","toggleNavigation","myProfile","smallScreenWarning","brandName","setApps","kept","showAppDropDown","getTargetRoute","timezoneName","Intl","DateTimeFormat","resolvedOptions","timeZone","textEmpty","textError","textLoading","throttle","LineChart","fontFamily","fontSize","handleColor","handleColorHover","handleWidth","lineColors","lineWidth","rulersColor","selectingColor","textPadding","tickSize","timeLabelFormats","timespan","timestampFormat","unselectedColor","valueLabelsCount","disableSelection","isLogScale","container","computedStyles","chart","onselection","info","color","cn","setData","appendChild","canvas","resize","draw","removeEventListener","roundUp","x","stepWidth","stepWidthStr","log10","day","week","_mouseIsDown","_selectedIn","_selectedOut","_eventHandlers","mouseout","drawMouseHint","drawSelection","mousemove","cursorPosition","_hoveredSelectionHandle","hoveredSelectionHandle","cursor","_grabbedSelectionHandle","mousedown","verticalScaleX","innerW","mouseup","in","out","momentAtX","wheel","ctx","clearRect","speed","rect","clientX","clientY","bindEvents","evtName","unbindEvents","_clearCache","_verticalLabels","_verticalScaleX","_horizontalScaleY","_innerW","_innerH","offCanvas","getContext","offCtx","d","labelFrom","msPerPx","labelTo","valueAtY","y","newTimespan","newInterval","defaultData","dateformat","labelValue","rounded","maxLog","valueLabels","l","timeLabels","startOf","unit","subtract","unitCount","milliDiff","labelsStart","millis","positionPercent","verticalLabels","tt","measureText","padding","tm","innerH","horizontalScaleY","vertLabel","strokeStyle","fillStyle","lineCap","lineJoin","font","drawImage","tw","tx","ty","fillText","beginPath","moveTo","lineTo","stroke","closePath","_fillStyle","fillRect","_lineWidth","_strokeStyle","returned","isPointInPath","drawRulers","valueLabel","yPosition","textAlign","textBaseline","translate","PI","labelDiff","pxFromTop","transformedVal","pxFromLeft","mom","skipped","arc","fill","removeChild","debugged","displayName","extensionName","extendedInfo","tooltipPlacement","varName","Clipboard","_top","copyStatus","handleResize","icon","elementStyle","contentWidth","containerWidth","noTooltip","tooltipText","destroy","shown","hiddenTypes","what","isShown","shownClasses","part","backup","previous","classList","isNull","setNonNull","setNull","editVariableValue","confirmationTemplate","emptyVariable","additions","noopPromise","success","isVariableEditable","deleteVar","saveVar","editVar","downloadVar","uploadVar","onSortChange","onChangeStart","onChangeEnd","defaultSort","ignoreTypes","backups","_getVar","headerClasses","column","class","sortObj","orderClass","forColumn","none","desc","asc","changeOrder","variableModalConfig","changed","_copy","initVariables","varPath","wrapedValidate","readStringVar","downloadLink","canEditVariable","editMode","hasEditDialog","rowClasses","colClasses","headerClass","addVariable","saveVariable","enableEditMode","saved","uploadVariable","uncompletedCount","completedCount","headerName","scopeVariables","getType","validateOperator","IGNORE_URL_UPDATE","searchService","widgetLocalConf","translations","operators","validSearches","storageGroup","searchId","matchAny","operatorGroupedByType","isMatchAnyActive","caseHandeling","switchMatchType","focused","searchHasVariableQuery","caseOptions","hasBug","textContent","inputPlaceholder","insertBefore","firstChild","$root","weAreScrewed","searchTypes","getRightPadding","defaultType","default","getTypes","allowedGroups","aggregatedList","getConfigByTypeKey","groupsArray","typeKey","getOperators","filteredSearches","newSearch","ignoreNames","ignoreValues","getSearchesFromURL","urlSearches","validSearchesBuffer","createSearch","inputQuery","deleteSearch","handleChange","startIndex","startField","selectNextInvalidElement","copyValid","extractSearches","defaultSearchObject","handleSearchesUpdate","newLocation","queryObj","updateSearchTypes","compareSearches","dropdownTypes","searchCriteriaStorage","nameInput","available","filterCriteria","isSearchCriteriaStorageGrouped","groupAndName","_group","storedCriteriaInputClick","$evt","searchCriteriaInputKeydown","storedCriteriaSaveClick","hasCriteriaSets","loadCriteriaSet","dropCriteriaSet","Viewer","diagramData","disableNavigation","onLoad","onClick","onMouseEnter","onMouseLeave","bpmnJsConf","diagramContainer","attachDiagram","_container","grabbing","highlight","addMarker","rx","ry","clearHighlight","removeMarker","isHighlighted","hasMarker","createBadge","htmlElement","createTextNode","overlayId","removeBadges","removeBadge","scrollToElement","viewbox","elementId","getElements","loaded","isLoaded","addAction","addImage","image","img","imageElement","onload","onerror","preloadImage","preloadedElement","createElementNS","setAttributeNS","_viewport","bpmnJsModules","loadedModules","generateViewer","deferUpdate","additionalModules","moddleExtensions","cached","originalShow","fire","originalHide","showAgain","originalViewboxChanged","_viewboxChanged","debouncedOriginal","handleViewerLoad","_definitions","eventBus","onOut","onMousedown","onViewboxChange","setupEventListeners","zoom","useDefinitions","importFunction","importXML","diagram","_setDefinitions","diagrams","renderDiagram","mouseReleaseCallback","zoomIn","zoomOut","resetZoom","resized","refreshZoom","clearEventListeners","clear","viewers","cachedViewer","BpmnViewer","getPrototypeOf","cacheViewer","marker","CmmnViewer","importDefinitions","migrateDiagram","Modeler","changeDmnNamespace","table","showDetails","enableDrdNavigation","disableLoader","onDblClick","isDrd","getActiveViewer","highlightRow","highlightElement","clearAllElementsHighlight","getRootElement","clearElementHighlight","isElementHighlighted","addOverlay","hideDetails","tableViewOnly","drd","drillDown","dmn13Xml","correctedXML","getDefinitions","drgElement","selectView","renderTable","isIndex","getViews","Manager","super","_getViewProviders","LiteralExpressionViewer","opens","is","literalExpression","DecisionTableViewer","DrdViewer","containsDi","OLD_NAMESPACES","replaceNamespace","namespace","camVariableValidator","getLink","passwordPolicyProvider","variablePolicyIsActive","policyText","rules","rule","parameter","handlePasswordUpdate","createRestCall","viewsModule","dataModule","diagramInstancePlugins","diagramDefinitionPlugins","dashboardDeployments","dashboardReports","dashboardBatches","dashboardProcesses","dashboardDecisions","dashboardTasks","processDefinitions","processInstanceTable","calledProcessDefinitionTable","updateSuspensionStateAction","updateSuspensionStateDialog","pdIncidentsTab","variableInstancesTab","calledProcessInstanceTable","userTasksTable","jobRetryBulkAction","jobRetryBulkDialog","jobRetryDialog","externalTaskRetryDialog","cancelProcessInstanceAction","cancelProcessInstanceDialog","addVariableAction","updateSuspensionStateActionPI","updateSuspensionStateDialogPI","incidentJobRetryAction","incidentExternalTaskRetryAction","jobsTab","moduleName","descriptors","defineProperties","activeLoaders","fireChanges","addStatusListener","getLoadingStatus","parseFilterFromUri","lastFilter","ignoreActivityIds","shouldActivityIdsBeIgnored","completedFilter","externalUpdate","foundOne","instanceIds","newScrollTo","serializeFilterToUri","processInstanceTabs","queryStr","getCount","getList","sorting","first","listQuery","lastSearchQuery","readFile","readAsText","segments","entry","sBoundary","sData","transformRequest","searchParams","object","onPaginationChange","loadingError","buildCustomQuery","onSearchChange","blocked","providerParams","tabsApi","varsValues","$ctrl","$transclude","$attr","HoverArea","cleanHover","removeHoverListener","hoverClass","cleanUp","addHoverListener","isHovered","onRemove","onSortInitialized","sortingId","defaultSorting","saveLocal","getSorting","_hovered","_listeners","_fireListeners","listener","_fireEntry","initializePaginationInController","CamTabs","initializeVars","onLocationChange","compareProviders","providerA","providerB","isTabSelectionChangedInUrl","tabParams","isSelected","lastSearchQueryString","locationChange","getCurrentPageFromSearch","pagesWatchExpr","onPageChange","updateQuery","onBlockedChange","removeForcedRefresh","onForcedRefresh","prepareSearchesForComparassion","extractMeaningfulInformation","resetPage","executeQueries","getSearchQueryString","hasSearchQueryStringChanged","searchCurrentPage","areSearchesDifferent","createQuery","oldSearches","preparedNewSearches","preparedOldSearches","DEFAULT_PAGES","updateCallback","oldCurrent","array","observeBpmnElements","externalTaskActivityLink","externalTaskErrorMessageLink","ExternalTaskActivityLinkController","ExternalTasksTabController","ExternalTaskErrorMessageLinkController","searchQueryType","historic","ExternalTaskActivityLink","onFilterChanged","getActivityIdsFromFilter","isFilterChanged","loadTasks","lastActivities","currentActivities","ExternalTaskErrorMessageLink","getStacktraceUrl","abstractUrl","instanceCount","callActivity","overlay","activityIdToIncidentsMap","instancesMI","incidentsMI","getInstanceCount","callActivityOverlay","viewContext","PluginProcessInstanceResource","showCalledPInstances","activities","TAB_NAME","activity","addOverlayForSingleElement","buttonOverlay","diagramNode","applyFunction","delayHide","mouseoverListener","redirectToCalledPInstance","calledProcessInstanceId","addInteractions","flowNodes","bo","$instanceOf","getFlowNodes","callActivityToInstancesMap","addOverlays","getCallActivitiesMap","processInstances","calledPInstances","calledPInstance","callActivityId","isLoading","showOverlays","getInstancesCountsForElement","activityInstanceStatistics","getRuntimeActivityInstanceMetrics","toggleOverlay","from","getElementsByClassName","getStatsWithId","statsMi","statsIncidents","statsMiIncidents","incidentsCount","incidentCount","getIncidentCount","pagePath","access","checkActive","parts","processDefinitionService","processesActions","hasActionPlugin","processInstancePlugins","hasReportPlugin","hasSearchPlugin","headColumns","sortable","condition","loadLocal","sortReverse","countProcessDefinitions","latest","processDefinitionsCount","listProcessDefinitions","processDefinitionStatistics","processDefinitionData","statistic","processDefId","foundObject","pd","definitionVars","removeActionDeleteListener","incidentsLink","activeTab","activeSection","toggleSection","searchConfig","updateView","pagesObj","defaultParams","pagingParams","countParams","getProcessInstanceUrl","PluginProcessDefinitionResource","superProcessDefinitionId","parentProcessDefinitionId","activityIdIn","getCalledProcessDefinitions","calledProcessDefinitions","calledFromActivityIds","calledFromActivities","attachCalledFromActivities","calledProcessDefinition","actionTemplate","dialogTemplate","openDialog","executeImmediately","$modalInstance","includeInstances","executionDate","updateSuspensionState","includeProcessInstances","formScope","updateSuspensionStateForm","$valid","Configuration","$inject","variableInstancesTabSearchConfig","instancesTemplate","inspectTemplate","uploadTemplate","LocalExecutionVariableResource","escapeHtml","variableInstanceIdexceptionMessageMap","variableCopies","variableInstanceData","executionService","taskService","variableService","getBasePath","variableQuery","processInstanceIdIn","activityInstanceLink","basePath","downloadVariable","editVariable","history","modifiedVariable","newType","newVariable","modifications","initialDeserializedValue","isJsonOrXml","currentValue","isChangeDisabled","jsonXmlForm","currentDeserializedValue","typeIn","isSerializedTab","updateVariable","updateDeserialized","exception","fd","FormData","Blob","updateDeserializedValue","variableUpdate","updateValue","deserializationError","uploadEventHandlers","progress","lengthComputable","xhr","setFile","incidentsTemplate","calledProcessInstanceData","activityInstanceIdIn","calledProcessInstances","calledInstance","callActivityInstanceId","processDefinitionLabel","processDefinitionName","identityLinksTemplate","userTasksTemplate","newArray","compact","TaskResource","taskIdIdToExceptionMessageMap","taskCopies","userTaskData","userTasks","newExecutionIdToInstanceMap","_sorting","getHref","userTask","getTasklistHref","submitAssigneeChange","editForm","setAssignee","decorator","changeGroupIdentityLinks","changeUserIdentityLinks","getExceptionForUserTask","identityLink","g","exists","newItem","addItem","newIdentityLink","JobResource","jobRetriesData","jobPages","summarizePages","jobIdToFailedJobMap","selectedFailedJobIds","finishedWithFailures","allJobsSelected","executionMap","failedJobs","withException","noRetriesLeft","job","selectAllJobs","updateJobTable","showJobsRetried","jobId","updateSummarizeTable","selectFailedJob","failedJob","retryFailedJobs","retryJob","retryError","doRetry","incrementRetry","SKIP_CUSTOM_LISTENERS","getSkipCustomListeners","SKIP_IO_MAPPINGS","getSkipIoMappings","cancelProcessInstanceData","skipCustomListeners","skipIoMappings","hideSkipCustomListeners","subProcessInstancesCount","subProcessInstances","cancelProcessInstance","$delete","addTemplate","operation","isProcessInstance","isBatchOperation","addVariableForm","openJobRetryDialog","openExternalTaskRetryDialog","jobsTemplate","jobRescheduleTemplate","jobProvider","jobDefinitionProvider","jobCallback","jobs","jobDefinitionIds","accumulate","jobDefinitionId","Set","updateActivityNames","recalculateDate","useCreationDate","updateJob","activityName","openRecalculationWindow","recalculationType","duedate","console","rescheduleJobDuedateForm","toggleSuspension","failedActivityId","failedElement","failedActivityName","getCalledProcessInstances","queryStatistics","rootIncidents","aggregateStatistics","statisticsResult","currentStatistic","incidentType","newIncident","statisticIncident","dashboard","decisionInstanceTable","inputTable","outputTable","highlightRules","realInput","realOutput","DecisionListController","decisionListService","decisionsTableComponent","drdDashboard","isDrdDashboardAvailable","initialSearch","paginationController","decisionPages","decisionPage","drdPages","drdPage","changeDecisionPage","updateDecisionPage","changeDecisionSorting","decisionSorting","changeDrdPage","updateDrdPage","changeDrdSorting","drdSorting","getDrds","drds","getDecisions","decisions","getDecisionsLists","decisionCount","decisionsCount","drdsCount","drdDashboardVars","drdService","connectDrdsToDecisionDefinitions","decision","decisionRequirementsDefinitionId","findDrdById","decisionRequirementsDefinitionKey","decParams","drdParams","decisionsProm","decisionsCountProm","drdsProm","drdsCountProm","isDrdAvailable","pagination","decisionSearchConfig","getProcessDefinitionLink","getProcessInstanceLink","historyService","decisionInstances","decisionInstanceQuery","countQuery","orderBy","clauseName","clauseId","outputs","output","ruleId","dataEl","inputHeaders","inputHeader","inputObject","outputCell","actionsModule","jobDefinitionTable","jobDefinitionSuspensionState","suspensionStateAction","diagramPlugins","jobDefinitions","JobProvider","loadJobDefinitions","jobDefinitionSelection","newElements","newProcessDefinition","jobDefinitionVars","jobDefinitionActions","includeJobs","openSuspensionStateDialog","jobSuspension","_processDefinition","definitionsForElement","getElementDefinitions","overrideJobPriorityAction","overrideJobPriorityDialog","bulkOverrideJobPriorityAction","bulkOverrideJobPriorityDialog","JobDefinitionResource","setJobPriority","overridingJobPriority","hasOverridingJobPriority","overrideJobPriorityForm","fetchDefinitions","jobDef","hasNoJobDefinitions","showJobDefinitions","doOverride","overrideJobPriority","taskDashboard","tasksPluginData","HistoryResource","TaskReportResource","taskStatistics","state","provideResourceData","resourceCallback","unfinished","candidateGroups","groupIds","groupName","idIn","groupDefinitions","groupDef","def","openTasksState","_count","openTasksCount","_userCount","_groupCount","_notAssignedCount","taskGroupState","_candidateGroupCounts","taskGroups","formatGroupName","taskDashboardPlugins","addTermToSearch","resetSearch","searchLinks","identifier","externalTasks","ProcessInstanceRuntimeTabController","viewConfig","getExternalTasks","getActiveExternalTasksForProcess","processId","otherParams","sortParams","ProcessInstanceRuntimeTab","_loadLocal","_saveLocal","getActivityParams","BpmnIO","Service","_createModdle","getBpmnJs","fromXML","elementsById","VariablesFactory","hash","OPS","neq","gt","gteq","lt","lteq","like","SYM_TO_OPS","PATTERN","substring","typed","typedString","fetchSuperInstance","trail","superProcessDefinition","breadcrumbsInsertAt","replaceLastPathFragment","headTitle","getUserProfile","userFullName","isActivePage","pageName","ev","newTitle","titleGet","crumb","breadcrumbsGet","camAPIHttpClient","pluginPoint","pluginId","div","innerHTML","queryActivityStatistics","updateVariables","getIdentityLinks","addIdentityLink","deleteIdentityLink","subAction","addValue","selectChoice","choice","getActiveChoice","sortedChoices","integer","isValidPattern","isValidValue","DirectiveController","diagramProviderComponent","overlayProviders","overlayProviderComponent","$loaded","diagramLoaded","diagramEnabled","decorateBpmnElement","decorateDiagram","actionProviderComponent","actionProviders","actionElement","addActions","updateSelection","isElementSelectable","selectAll","newOverlay","newSelection","onElementClick","bpmnElementId","processDiagramOverlay","diagramXML","debouncedZoom","iconNames","Directive","quickFilters","symbolIconName","$1","dashed","$nodeElement","handleNodeEvents","parentActivityInstanceId","fireNodeEvent","endTime","newElement","createTreeNode","deselect","propogateSelection","containerId","ctnCollapsableParent","collapsableElement","minWidth","ctnMinWidth","previouslyCollapsed","previouslyMaximized","compensateElement","resizeHandle","showHandle","hideHandle","maximizeHandle","maximizeDirection","restoreHandle","setCollapsed","maximized","updateCollapsedClass","changeAttr","resizeHandleAttachAttr","changeAxis","createOffset","createSize","originalCollapsableSize","updateResizeHandlePosition","collapsableSize","collapsablePosition","maximize","draggable","axis","containment","getPos","isCollapsed","isCurrentlyMaximized","targetSize","removeRestoreListner","removeMaximizeListener","removeResizeListener","initResize","updateStateCircle","running","incidentsForTypes","setStateToRed","oldVariableValue","inPlaceEdit","oldVariableValueBoolean","customJsonXmlValidator","changeVariableValue","autofocus","isBoolean","isInteger","isShort","isLong","isDouble","isFloat","isInPlaceEdit","isJSON","isXML","getUrl","PieChart","missingData","radius","curr","punchPie","hoveredSlice","px","py","rad","angle","colors","getMousePos","_resize","selectedActivityQuery","selectedActivityInstanceQuery","Variables","camDynamicName","holderSelector","labelSelector","itemSelector","$holder","showNameFilter","nameFilter","showStateFilter","stateFilter","canceled","searched","visible","showElement","clearName","loadingStatus","customOnChange","lastValue","getAndCorrectTimeToLiveValue","historyTimeToLive","ttl","noRedirect","newVersion","isValidating","enableValidating","changeLocation","newDefinition","storedVersion","$rollbackViewValue","callbackFunc","notififyCallback","incidentsContext","availableColumns","classesToInclude","PInstanceClass","localConfKey","incidentData","processDefinitionIdIn","linkable","getIncidentState","resolved","deleted","getIncidentType","getJobStacktraceUrl","rootCauseIncidentConfiguration","stacktraceName","historyConfiguration","incidentHasActions","incidentVars","incidentActions","viewVariable","transformResponse","finally","incidentStacktrace","evaluateCondition","formatClassName","defaultConfig","monthName","locales","availableLocales","fallbackLocale","runtimeActivityInstanceMetrics","historicActivityInstanceMetrics","adjustablePeriod","period","batchOperation","autoLoadEnded","csrfCookieName","disableWelcomeMessage","userOperationLogAnnotationLength","clearTranslationData","bust","getDateFormat","formatName","getFallbackLocale","getAvailableLocales","getDateLocales","camDateLocales","getAppVendor","vendor","getActivityInstancePeriod","getActivityInstanceAdjustable","getBatchOperationMode","getBatchOperationAutoLoadEnded","getHistoricProcessInstancesSearch","getUserOperationLogAnnotationLength","Ctrl","events","deleteModalTemplate","deleteModalCtrl","jobLogModalCtrl","jobLogModalTemplate","runtimeHeadColumns","historyHeadColumns","jobHeadColumns","removeAllListeners","stopLoadingPeriodically","details","loadDetails","deleteModal","loadPeriodically","openLog","_sdk","_localConf","shouldLoadHistory","sortingProperties","runtime","runtimeSorting","historySorting","_batches","jobSorting","_jobs","_remove","openDeleteModal","onBatchSortChange","_load","onJobSortChange","_loadFailedJobs","getSelection","handleRetryResponse","retryAll","batchJobDefinitionId","deleteJob","getProgressPercentage","completedJobs","remainingJobs","getProgressRoundedPercentage","getProgressAbsolute","getJobs","getJobCount","getLoadingState","getBatches","getSelectionType","getBatchCount","getPageSize","getCurrentPage","getSuspendedState","loadHistory","intervalHandle","setInterval","clearInterval","loadingFailed","errMsg","loadingSuccessful","createUserId","batchId","countCb","sortingKeys","Delete","confirm","getHistoricJobLogStacktraceUrl","getState","creationLog","failureLog","deletionLog","successLog","logs","rootScope","deployments","getPropertyFromLocation","repositoryData","deploymentsSortBy","deploymentsSortOrder","_deploymentId","currentDeployment","onDeployed","oldDeploymentsSortBy","oldDeploymentsSortOrder","oldDeploymentId","oldResourceId","oldResourceName","camCockpitDeploymentsCtrl","camCockpitDeployments","camCockpitDeployment","camCockpitDeploymentsSortingChoices","camCockpitDeleteDeploymentPlugin","camCockpitDeleteDeploymentModalCtrl","deploymentsData","deploymentsVars","deploymentsPlugins","lodash","searchConfigJSON","deploymentsListData","unsafe","deploymentsSorting","isFocused","deploymentData","deploymentVars","deploymentPlugins","deploymentsSortingData","uniqueProps","deploymentTime","updateSorting","searchParam","byLabel","changeBy","by","deleteDeployment","deleteDeploymentData","processInstanceCountState","caseInstanceCountState","countsLoaded","hasInstances","canDeleteDeployment","getInfoSnippet","camCockpitResources","resourcesData","currentResourceId","sharedStart","paths","_filename","_filepath","A","a1","a2","L","truncateFilepath","filepath","selectNextResource","selectPreviousResource","scrollIntoView","camResourceDetailsCtrl","camCockpitResourceWrapper","camCockpitResourceMeta","camCockpitResourceContent","camCockpitSource","camCockpitDefinitionsPlugin","camCockpitResourceDownloadPlugin","resourceModule","checkResource","resourceDetailsData","BPMN_PATTERN","CMMN_PATTERN","DMN_PATTERN","IMAGE_PATTERN","getResourceName","isBpmnResource","isCmmnResource","isDmnResource","isImageResource","isUnkownResource","bpmnResource","handleError","resourceVars","resourceActions","resourceData","setDefaultResourceDetailTab","selectedResourceId","selectedResourceDetailTab","resourceState","errorNotification","clearResource","resourceDetailTabs","selectResourceDetailTab","resResourceDetailTabs","resourceMetaData","resourceContentData","imageLink","_resource","_deployment","Prism","Extensions","js","rb","bpmn","cmmn","dmn","extension","codeElement","_self","WorkerGlobalScope","encode","alias","languages","o","DFS","highlightAll","u","language","grammar","code","hooks","Worker","onmessage","highlightedCode","postMessage","immediateClose","tokenize","Token","rest","inside","lookbehind","h","lastIndex","m","w","P","tag","spellcheck","getElementsByTagName","markup","comment","prolog","doctype","cdata","punctuation","entity","mathml","svg","atrule","important","clike","keyword","javascript","interpolation","groovy","shebang","annotation","expression","java","php","delimiter","tokenStack","backupCode","python","ruby","symbol","builtin","hasPlugin","definitionsData","DrdService","loadInstancesCount","loadDecisionRequirementsDefinition","instancesCount","drdId","drdLoadingState","drdTextError","getDefinitionLink","getDrdLink","downloadData","transform","servicesModule","shorten","incidentId","drdDefinitionId","getDefinition","rootDecisionInstanceId","processParams","translateString","translated","getLocale","injectData","processes","navFactory","repository","cockpitNavigation","withSuffix","suffix","endsWith","async","loadPlugins","excludedPlugins","customScripts","JARScripts","JAR_PLUGINS","rel","head","addCssSource","main","fetchers","import","loadedPlugins","Promise","acc","combinedPlugins","buildInPlugins","eePlugins","loadLocale","availableLanguages","preferredLanguage","nav","navigator","browserLanguage","systemLanguage","userLanguage","getLanguage","fallbackLanguage","isPreferredLanguageAvailable","localesToLoad","loadedLocales","local","fetch","json","locale","preferredLocale","loadBpmnJsExtensions","moduleFetchers","modulePromise","moddlePromises","getPlugins","handlers","getCSRFToken","CSRFCookieName","cookie","resourceUrl","replaceApiPlaceholders","formatQuery","XSRFToken","requestHeaders","processBody","fct","api","adminApi","baseApi","cockpitApi","engineApi","CSRFToken","PluginPoint","renderIn","wrapPlugins","PluginWrapper","additionalData","Plugin","unmount","ContainerComponent","useParams","ref","useRef","reactContent","setReactContent","useState","useEffect","addApiAttributes","consumers","removeCandidates","candidate","setup","requires","camCommonsModule","pluginsModule","filters","pluginDirectiveUID","getPassthroughData","isolatedContainer","xsrfCookieName","$translateProvider","useSanitizeValueStrategy","camDateFormatProvider","formats","UriProvider","$locationProvider","$animateProvider","$qProvider","getUri","hashPrefix","classNameFilter","errorOnUnhandledRejections","uri","AngularApp","domNode","bootstrap","Footer","process","UserContext","createContext","UserProvider","setUser","refreshUser","Provider","newURL","Component","props","useContext","Dropdown","handleClick","closest","classNames","Option","Divider","LinkButton","LoadingIndicator","fullscreen","setNotifications","consumerIndex","setConsumerIndex","useCallback","dangerouslySetInnerHTML","__html","Table","pathUtil","Head","onSort","sortIcon","Row","Cell","Tooltip","SmallScreenSwitch","smallContent","EngineSelect","setEngines","AppSelect","withRouter","_extends","_ref","SvgLogo2020Round","svgRef","viewBox","ForwardRef","forwardRef","TopLevelItems","pathname","AdditionalItems","Navigation","withUser","RedirectToLoginIfUnauthenticated","redirect","forceRedirect","loginHandler","addHandler","LoginComponent","prioritySort","valuesSort","replaceAll","prepareValues","treshold","belowTreshold","hue","hasMetricsPlugin","hasProcessSearch","hasCaseSearch","hasTaskSearch","mainPlugins","miscPlugins","dashboardVars","deprecateDashboardProviders","procInst","procIncid","linkBase","processIncidents","caseDefResource","decisionDefResource","deploymentResource","actualActive","loadingActual","totalInstances","runningProcessInstances","aggregateInstances","totalIncidents","definitionIncidents","openIncidents","aggregateIncidents","assignedToUser","assigned","assignedToGroup","unassigned","withCandidateGroups","withoutCandidateGroups","deployedActive","deployed","loadingDeployed","decisionDefinitions","caseDefinitions","deploymentDefinitions","metricsPeriod","setMetricsPeriod","metricsVars","metricsPlugins","processDefinitionTabs","parentId","processDefinitionWithoutTenantId","instanceStatistics","targetBpmnElement","allCount","currentCount","processDiagramData","scrollTo","newIds","loopCharacteristics","isMultipleInstance","getNewActivityIds","processDefinitionVars","processDefinitionActions","processPlugins","getLatestVersion","dashboardProviders","dashboardPlugins","targetPlugin","AngularRoute","App","setIsLoading","loadedConfig","loadConfig","exact","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.12f48097.chunk.js","sourcesContent":["/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = require(\"../../camunda-bpm-sdk-js/vendor/angular\");\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = require(\"angular\");\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// var HttpClient = require('./http-client');\nvar Q = require(\"q\");\nvar Events = require(\"./../events\");\nvar BaseClass = require(\"./../base-class\");\n\n/**\n * No-Op callback\n */\nfunction noop() {}\n\n/**\n * Abstract class for resources\n *\n * @class\n * @augments {CamSDK.BaseClass}\n * @memberof CamSDK.client\n *\n * @borrows CamSDK.Events.on                        as on\n * @borrows CamSDK.Events.once                      as once\n * @borrows CamSDK.Events.off                       as off\n * @borrows CamSDK.Events.trigger                   as trigger\n *\n * @borrows CamSDK.Events.on                        as prototype.on\n * @borrows CamSDK.Events.once                      as prototype.once\n * @borrows CamSDK.Events.off                       as prototype.off\n * @borrows CamSDK.Events.trigger                   as prototype.trigger\n *\n *\n * @example\n *\n * // create a resource Model\n * var Model = AbstractClientResource.extend({\n *   apiUri: 'path-to-the-endpoint'\n *   doSomethingOnInstance: function() {\n *     //\n *   }\n * }, {\n *   somethingStatic: {}\n * });\n *\n * // use the generated Model statically\n * // with events\n * Model.on('eventname', function(results) {\n *   // You probably have something like\n *   var total = results.count;\n *   var instances = results.items;\n * });\n * Model.list({ nameLike: '%call%' });\n *\n * // or alternatively by using a callback\n * Model.list({ nameLike: '%call%' }, function(err, results) {\n *   if (err) {\n *     throw err;\n *   }\n *\n *   var total = results.count;\n *   var instances = results.items;\n * });\n *\n * var instance = new Model();\n * instance.claim(function(err, result) {\n *\n * });\n */\nvar AbstractClientResource = BaseClass.extend(\n  /** @lends AbstractClientResource.prototype */\n  {\n    /**\n     * Initializes a AbstractClientResource instance\n     *\n     * This method is aimed to be overriden by other implementations\n     * of the AbstractClientResource.\n     *\n     * @method initialize\n     */\n    initialize: function() {\n      // do something to initialize the instance\n      // like copying the Model http property to the \"this\" (instanciated)\n      this.http = this.constructor.http;\n    }\n  },\n\n  /** @lends AbstractClientResource */\n  {\n    /**\n     * Path used by the resource to perform HTTP queries\n     *\n     * @abstract\n     * @memberOf CamSDK.client.AbstractClientResource\n     */\n    path: \"\",\n\n    /**\n     * Object hosting the methods for HTTP queries.\n     *\n     * @abstract\n     * @memberof CamSDK.client.AbstractClientResource\n     */\n    http: {},\n\n    /**\n     * Create an instance on the backend\n     *\n     * @abstract\n     * @memberOf CamSDK.client.AbstractClientResource\n     *\n     * @param  {!Object|Object[]}  attributes\n     * @param  {requestCallback} [done]\n     */\n    create: function() {},\n\n    /**\n     * Fetch a list of instances\n     *\n     * @memberof CamSDK.client.AbstractClientResource\n     *\n     * @fires CamSDK.AbstractClientResource#error\n     * @fires CamSDK.AbstractClientResource#loaded\n     *\n     * @param  {?Object.<String, String>} params\n     * @param  {requestCallback} [done]\n     */\n    list: function(params, done) {\n      // allows to pass only a callback\n      if (typeof params === \"function\") {\n        done = params;\n        params = {};\n      }\n      params = params || {};\n      done = done || noop;\n\n      // var likeExp = /Like$/;\n      var self = this;\n      var results = {\n        count: 0,\n        items: []\n      };\n\n      var combinedPromise = Q.defer();\n\n      var countFinished = false;\n      var listFinished = false;\n\n      var checkCompletion = function() {\n        if (listFinished && countFinished) {\n          self.trigger(\"loaded\", results);\n          combinedPromise.resolve(results);\n          done(null, results);\n        }\n      };\n\n      // until a new webservice is made available,\n      // we need to perform 2 requests.\n      // Since they are independent requests, make them asynchronously\n      self.count(params, function(err, count) {\n        if (err) {\n          self.trigger(\"error\", err);\n          combinedPromise.reject(err);\n          done(err);\n        } else {\n          results.count = count;\n          countFinished = true;\n          checkCompletion();\n        }\n      });\n\n      self.http.get(self.path, {\n        data: params,\n        done: function(err, itemsRes) {\n          if (err) {\n            self.trigger(\"error\", err);\n            combinedPromise.reject(err);\n            done(err);\n          } else {\n            results.items = itemsRes;\n            // QUESTION: should we return that too?\n            results.firstResult = parseInt(params.firstResult || 0, 10);\n            results.maxResults =\n              results.firstResult + parseInt(params.maxResults || 10, 10);\n            listFinished = true;\n            checkCompletion();\n          }\n        }\n      });\n\n      return combinedPromise.promise;\n    },\n\n    /**\n     * Fetch a count of instances\n     *\n     * @memberof CamSDK.client.AbstractClientResource\n     *\n     * @fires CamSDK.AbstractClientResource#error\n     * @fires CamSDK.AbstractClientResource#loaded\n     *\n     * @param  {?Object.<String, String>} params\n     * @param  {requestCallback} [done]\n     */\n    count: function(params, done) {\n      // allows to pass only a callback\n      if (typeof params === \"function\") {\n        done = params;\n        params = {};\n      }\n      params = params || {};\n      done = done || noop;\n      var self = this;\n      var deferred = Q.defer();\n\n      this.http.get(this.path + \"/count\", {\n        data: params,\n        done: function(err, result) {\n          if (err) {\n            /**\n             * @event CamSDK.AbstractClientResource#error\n             * @type {Error}\n             */\n            self.trigger(\"error\", err);\n\n            deferred.reject(err);\n            done(err);\n          } else {\n            deferred.resolve(result.count);\n            done(null, result.count);\n          }\n        }\n      });\n\n      return deferred.promise;\n    },\n\n    /**\n     * Update one or more instances\n     *\n     * @abstract\n     * @memberof CamSDK.AbstractClientResource\n     *\n     * @param  {!String|String[]}     ids\n     * @param  {Object.<String, *>}   attributes\n     * @param  {requestCallback} [done]\n     */\n    update: function() {},\n\n    /**\n     * Delete one or more instances\n     *\n     * @abstract\n     * @memberof CamSDK.AbstractClientResource\n     *\n     * @param  {!String|String[]}  ids\n     * @param  {requestCallback} [done]\n     */\n    delete: function() {}\n  }\n);\n\nEvents.attach(AbstractClientResource);\n\nmodule.exports = AbstractClientResource;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @exports CamSDK.utils\n */\nvar utils = (module.exports = { typeUtils: require(\"./forms/type-util\") });\n\nutils.solveHALEmbedded = function(results) {\n  function isId(str) {\n    if (str.slice(-2) !== \"Id\") {\n      return false;\n    }\n\n    var prop = str.slice(0, -2);\n    var embedded = results._embedded;\n    return !!(embedded[prop] && !!embedded[prop].length);\n  }\n\n  function keys(obj) {\n    var arr = Object.keys(obj);\n\n    for (var a in arr) {\n      if (arr[a][0] === \"_\" || !isId(arr[a])) {\n        arr.splice(a, 1);\n      }\n    }\n\n    return arr;\n  }\n\n  var _embeddedRessources = Object.keys(results._embedded || {});\n  for (var r in _embeddedRessources) {\n    var name = _embeddedRessources[r];\n\n    for (var i in results._embedded[name]) {\n      results._embedded[name][i]._embedded =\n        results._embedded[name][i]._embedded || {};\n\n      var properties = keys(results._embedded[name][i]);\n\n      for (var p in properties) {\n        var prop = properties[p];\n        if (results._embedded[name][i][prop]) {\n          var embedded = results._embedded[prop.slice(0, -2)];\n          for (var e in embedded) {\n            if (embedded[e].id === results._embedded[name][i][prop]) {\n              results._embedded[name][i]._embedded[prop.slice(0, -2)] = [\n                embedded[e]\n              ];\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return results;\n};\n\n// the 2 folowing functions were borrowed from async.js\n// https://github.com/caolan/async/blob/master/lib/async.js\n\nfunction _eachSeries(arr, iterator, callback) {\n  callback = callback || function() {};\n  if (!arr.length) {\n    return callback();\n  }\n  var completed = 0;\n  var iterate = function() {\n    iterator(arr[completed], function(err) {\n      if (err) {\n        callback(err);\n        callback = function() {};\n      } else {\n        completed += 1;\n        if (completed >= arr.length) {\n          callback();\n        } else {\n          iterate();\n        }\n      }\n    });\n  };\n  iterate();\n}\n\n/**\n * Executes functions in serie\n *\n * @param  {(Object.<String, Function>|Array.<Function>)} tasks object or array of functions\n *                                                              taking a callback\n *\n * @param  {Function} callback                                  executed at the end, first argument\n *                                                              will be an error (if error occured),\n *                                                              the second depends on \"tasks\" type\n *\n * @example\n * CamSDK.utils.series({\n *   a: function(cb) { setTimeout(function() { cb(null, 1); }, 1); },\n *   b: function(cb) { setTimeout(function() { cb(new Error('Bang!')); }, 1); },\n *   c: function(cb) { setTimeout(function() { cb(null, 3); }, 1); }\n * }, function(err, result) {\n *   // err will be passed\n *   // result will be { a: 1, b: undefined }\n * });\n */\nutils.series = function(tasks, callback) {\n  callback = callback || function() {};\n\n  var results = {};\n  _eachSeries(\n    Object.keys(tasks),\n    function(k, callback) {\n      tasks[k](function(err) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        if (args.length <= 1) {\n          args = args[0];\n        }\n        results[k] = args;\n        callback(err);\n      });\n    },\n    function(err) {\n      callback(err, results);\n    }\n  );\n};\n\n/**\n * Escapes url string\n *\n * @param {string} string\n * @returns {string}\n */\nutils.escapeUrl = function(string) {\n  return encodeURIComponent(string)\n    .replace(/\\//g, \"%2F\")\n    .replace(/%2F/g, \"%252F\")\n    .replace(/\\*/g, \"%2A\")\n    .replace(/%5C/g, \"%255C\");\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @namespace camunda.common\n */\n\nvar angular = require(\"../../camunda-bpm-sdk-js/vendor/angular\"),\n  analytics = require(\"./analytics/index\"),\n  auth = require(\"./auth/index\"),\n  util = require(\"./util/index\"),\n  pages = require(\"./pages/index\"),\n  plugin = require(\"./plugin/index\"),\n  directives = require(\"./directives/index\"),\n  resources = require(\"./resources/index\"),\n  search = require(\"./search/index\"),\n  services = require(\"./services/index\"),\n  widgets = require(\"./widgets/index\"),\n  dateFilter = require(\"./filter/date/index\");\n\nrequire(\"../vendor/ui-bootstrap-tpls-2.5.0-camunda\");\nrequire(\"angular-translate\");\nrequire(\"angular-cookies\");\nrequire(\"angular-animate\");\n\nmodule.exports = angular.module(\"cam.commons\", [\n  auth.name,\n  analytics.name,\n  util.name,\n  pages.name,\n  plugin.name,\n  directives.name,\n  resources.name,\n  search.name,\n  services.name,\n  widgets.name,\n  dateFilter.name,\n  \"ui.bootstrap\",\n  \"pascalprecht.translate\",\n  \"ngCookies\",\n  \"ngAnimate\"\n]);\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = {\n  DIRECTIVE_CAM_FORM: \"cam-form\",\n  DIRECTIVE_CAM_VARIABLE_NAME: \"cam-variable-name\",\n  DIRECTIVE_CAM_VARIABLE_TYPE: \"cam-variable-type\",\n  DIRECTIVE_CAM_FILE_DOWNLOAD: \"cam-file-download\",\n  DIRECTIVE_CAM_CHOICES: \"cam-choices\",\n  DIRECTIVE_CAM_SCRIPT: \"cam-script\",\n  DIRECTIVE_CAM_ERROR_CODE: \"cam-error-code\",\n  DIRECTIVE_CAM_ERROR_MESSAGE: \"cam-error-message\",\n  DIRECTIVE_CAM_ESCALATION_CODE: \"cam-escalation-code\"\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\");\nvar moment = require(\"../../../camunda-commons-ui/vendor/moment\");\nvar includes = require(\"./includes\");\n\nmodule.exports = {\n  getSearchQueryForSearchType: getSearchQueryForSearchType,\n  getActivityIdsFromUrlParams: getActivityIdsFromUrlParams,\n  replaceActivitiesInSearchQuery: replaceActivitiesInSearchQuery,\n  createSearchQueryForSearchWidget: createSearchQueryForSearchWidget,\n  shouldUpdateFilter: shouldUpdateFilter,\n  createSearchesForActivityIds: createSearchesForActivityIds,\n  encodeQuery: encodeQuery,\n  updateSearchValuesForTypeInCtrlMode: updateSearchValuesForTypeInCtrlMode\n};\n\n/**\n * Creates url part for search query with values for given search type\n *\n * @param searchType\n * @param values list of ids or single id\n */\nfunction getSearchQueryForSearchType(searchType, values) {\n  values = [].concat(values); //convert single id to list of ids or in case of array do nothing\n\n  var value = JSON.stringify(createSearchesForActivityIds(searchType, values));\n\n  return encodeQuery(\"searchQuery=\" + value);\n}\n\nfunction encodeQuery(query) {\n  return encodeURI(query).replace(/#/g, \"%23\");\n}\n\n/**\n * Function that returns true when filter has meaningful changes.\n *\n * @param newFilter\n * @param currentFilter\n * @param whiteList list of properties that should be ignored while comparing object, by default []\n * @returns {boolean}\n */\nfunction shouldUpdateFilter(newFilter, currentFilter, whiteList) {\n  whiteList = angular.isArray(whiteList) ? whiteList : [];\n\n  return !angular.equals(\n    prepareObjectForComparing(newFilter, whiteList),\n    prepareObjectForComparing(currentFilter, whiteList)\n  );\n}\n\nfunction prepareObjectForComparing(obj, whiteList) {\n  if (!angular.isObject(obj)) {\n    return obj;\n  }\n\n  return stripUndefinedFromObject(stripProperties(obj, whiteList));\n}\n\nfunction stripProperties(obj, whiteList) {\n  return Object.keys(obj).reduce(function(newObj, key) {\n    var value = obj[key];\n\n    if (includes(whiteList, key)) {\n      newObj[key] = value;\n    }\n\n    return newObj;\n  }, {});\n}\n\nfunction stripUndefinedFromObject(obj) {\n  return Object.keys(obj).reduce(function(newObj, key) {\n    var value = obj[key];\n\n    if (value !== null) {\n      newObj[key] = value;\n    }\n\n    return newObj;\n  }, {});\n}\n\n/**\n * Extracts activity ids from searchQuery param\n *\n * @param searchType type of pill with activity ids\n * @param params url params\n * @returns {*}\n */\nfunction getActivityIdsFromUrlParams(searchType, params) {\n  var searches = JSON.parse(params.searchQuery || \"[]\");\n\n  return getActivityIdsFromSearches(searchType, searches);\n}\n\nfunction getActivityIdsFromSearches(searchType, searches) {\n  return searches\n    .filter(function(search) {\n      return search.type === searchType;\n    })\n    .map(function(search) {\n      return search.value;\n    });\n}\n\n/**\n * Updates values in search query for given search type when control is pressed\n *\n * @param searches\n * @param searchType\n * @param values\n * @returns {Array.<T>|string}\n */\nfunction updateSearchValuesForTypeInCtrlMode(searches, searchType, values) {\n  var newSearches = removeDoubledSearches(searches, values, searchType);\n  var newValues = removeDoubleValues(values, searches, searchType);\n\n  return newSearches.concat(\n    createSearchesForActivityIds(searchType, newValues)\n  );\n}\n\nfunction removeDoubledSearches(searches, values, searchType) {\n  return searches.filter(function(search) {\n    return search.type !== searchType || !includes(values, search.value);\n  });\n}\n\nfunction removeDoubleValues(values, searches, searchType) {\n  var searchesValues = searches\n    .filter(function(search) {\n      return search.type === searchType;\n    })\n    .map(function(search) {\n      return search.value;\n    });\n\n  return values.filter(function(value) {\n    return !includes(searchesValues, value);\n  });\n}\n\n/**\n * Updates search widget with selected activity ids (usually from filter)\n *\n * @param search service that updates location search\n * @param searchType type of activity search pill\n * @param selectedActivityIds list of ids for selected activities\n */\nfunction replaceActivitiesInSearchQuery(\n  searches,\n  searchType,\n  selectedActivityIds\n) {\n  return removeActivitySearches(searchType, searches).concat(\n    createSearchesForActivityIds(searchType, selectedActivityIds)\n  );\n}\n\nfunction removeActivitySearches(searchType, searches) {\n  return searches.filter(function(search) {\n    return search.type !== searchType;\n  });\n}\n\nfunction createSearchesForActivityIds(searchType, activityIds) {\n  return activityIds.map(createActivitySearch.bind(null, searchType));\n}\n\nfunction createActivitySearch(searchType, value) {\n  return {\n    type: searchType,\n    operator: \"eq\",\n    value: value\n  };\n}\n\n/**\n * Function that creates query parameters based on search pills\n *\n * @param searches list of search pills\n * @param arrayTypes list of types that should be arrays\n * @param variableTypes list of types that should be treated as variables,\n *        by default it is singleton with variable type\n * @returns {*}\n */\nfunction createSearchQueryForSearchWidget(searches, arrayTypes, variableTypes) {\n  searches = angular.isArray(searches) ? searches : [];\n  arrayTypes = angular.isArray(arrayTypes) ? arrayTypes : [];\n  variableTypes = angular.isArray(variableTypes)\n    ? variableTypes\n    : [\"variables\"];\n\n  //all variable types are also array types\n  arrayTypes = arrayTypes.concat(variableTypes);\n\n  return searches.reduce(\n    addSearchToQuery.bind(null, arrayTypes, variableTypes),\n    {}\n  );\n}\n\nfunction addSearchToQuery(arrayTypes, variableTypes, query, search) {\n  var type = getSearchType(search, variableTypes);\n  var value = getSearchValue(search, type, variableTypes);\n\n  if (includes(variableTypes, type)) {\n    value = createVariableValue(search, value);\n  }\n\n  if (includes(arrayTypes, type)) {\n    query[type] = appendNewValueToArrayType(query, type, value);\n  } else {\n    query[type] = value;\n  }\n\n  return query;\n}\n\nfunction getSearchType(search, variableTypes) {\n  var type = search.type.value.key;\n  var op = search.operator.value.key;\n\n  if (isDateType(type)) {\n    type = type.slice(0, -4);\n  }\n\n  if (isOperatorAppendable(op) && !includes(variableTypes, type)) {\n    type += op;\n  }\n\n  return type;\n}\n\nfunction isDateType(type) {\n  return type.indexOf(\"Date\") !== -1;\n}\n\nfunction isOperatorAppendable(op) {\n  return includes([\"After\", \"Before\", \"Like\"], op);\n}\n\nfunction getSearchValue(search) {\n  if (search.basic) {\n    return true;\n  }\n\n  return sanitizeValue(search.value.value, search.operator.value.key, search);\n}\n\nvar simpleDateExp = /^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\\.[0-9]{0,4})$/;\nfunction sanitizeValue(value, operator, search) {\n  // Regex for '\\_' and '\\%' epxressions\n  var specialWildCardCharExp = /(\\\\%)|(\\\\_)/g;\n  // Regex for '_' and '%' special characters\n  var wildCardExp = /(%)|(_)/;\n  if (\n    operator.toLowerCase() === \"like\" &&\n    !wildCardExp.test(value.replace(specialWildCardCharExp, \"\"))\n  ) {\n    return \"%\" + value + \"%\";\n  } else if (search.allowDates && simpleDateExp.test(value)) {\n    return moment(value, moment.ISO_8601).format(\"YYYY-MM-DDTHH:mm:ss.SSSZZ\");\n  }\n  return value;\n}\n\nfunction parseValue(value) {\n  if (!isNaN(value) && value.trim() !== \"\") {\n    // value must be transformed to number\n    return +value;\n  }\n  if (value === \"true\") {\n    return true;\n  }\n  if (value === \"false\") {\n    return false;\n  }\n  if (value === \"NULL\") {\n    return null;\n  }\n  if (value.indexOf(\"'\") === 0 && value.lastIndexOf(\"'\") === value.length - 1) {\n    return value.substr(1, value.length - 2);\n  }\n  return value;\n}\n\nfunction createVariableValue(search, value) {\n  return {\n    name: search.name.value,\n    operator: search.operator.value.key,\n    value: parseValue(value)\n  };\n}\n\nfunction appendNewValueToArrayType(query, type, value) {\n  return angular.isArray(query[type]) ? query[type].concat([value]) : [value];\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar INTEGER_PATTERN = /^-?[\\d]+$/;\n\nvar FLOAT_PATTERN = /^(0|(-?(((0|[1-9]\\d*)\\.\\d+)|([1-9]\\d*))))([eE][-+]?[0-9]+)?$/;\n\nvar BOOLEAN_PATTERN = /^(true|false)$/;\n\nvar DATE_PATTERN = /^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\\.[0-9]{0,4})$/;\n\nvar xmlParser = require(\"fast-xml-parser\");\n\nvar isValidXML = function(value) {\n  return value ? xmlParser.validate(value) : false;\n};\n\nvar isValidJSON = function(value) {\n  try {\n    JSON.parse(value);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nvar isType = function(value, type) {\n  switch (type) {\n    case \"Integer\":\n    case \"Long\":\n    case \"Short\":\n      return INTEGER_PATTERN.test(value);\n    case \"Float\":\n    case \"Double\":\n      return FLOAT_PATTERN.test(value);\n    case \"Boolean\":\n      return BOOLEAN_PATTERN.test(value);\n    case \"Date\":\n      return DATE_PATTERN.test(dateToString(value));\n    case \"Xml\":\n      return isValidXML(value);\n    case \"Json\":\n      return isValidJSON(value);\n    default:\n      return undefined;\n  }\n};\n\nvar convertToType = function(value, type) {\n  if (typeof value === \"string\") {\n    value = value.trim();\n  }\n\n  if (type === \"String\" || type === \"Bytes\" || type === \"File\") {\n    return value;\n  } else if (isType(value, type)) {\n    switch (type) {\n      case \"Integer\":\n      case \"Long\":\n      case \"Short\":\n        return parseInt(value, 10);\n      case \"Float\":\n      case \"Double\":\n        return parseFloat(value);\n      case \"Boolean\":\n        return \"true\" === value;\n      case \"Date\":\n        return dateToString(value);\n      default:\n        return undefined;\n    }\n  } else {\n    throw new Error(\"Value '\" + value + \"' is not of type \" + type);\n  }\n};\n\n/**\n * This reformates the date into a ISO8601 conform string which will mirror the selected date in local format.\n * TODO: Remove this when it is fixed by angularjs\n *\n * @see https://app.camunda.com/jira/browse/CAM-4746\n *\n */\nvar pad = function(number) {\n  return number < 10 ? \"0\" + number : number;\n};\n\nvar dateToString = function(date) {\n  if (typeof date === \"object\" && typeof date.getFullYear === \"function\") {\n    var year = date.getFullYear(),\n      month = pad(date.getMonth() + 1),\n      day = pad(date.getDate()),\n      hour = pad(date.getHours()),\n      min = pad(date.getMinutes()),\n      sec = pad(date.getSeconds());\n\n    return year + \"-\" + month + \"-\" + day + \"T\" + hour + \":\" + min + \":\" + sec;\n  } else {\n    return date;\n  }\n};\n\nmodule.exports = {\n  convertToType: convertToType,\n  isType: isType,\n  dateToString: dateToString\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A set of utilities for routing\n * @exports routeUtil\n */\nvar utils = {};\n\n/**\n * Determine where (and if) the user should be redirected\n * when landing on a the `process-definition` or `process-instance`\n * base URL.\n * {@link http://code.angularjs.org/1.1.5/docs/api/ng.$routeProvider|see ng.$routeProvider documentation}\n *\n * @param {Object} params         - The route parameters as used in\n *                                  a angular route\n * @param {string} currentPath    - The actual path of the request,\n *                                  generally something like:\n *                                  `/process-definition/<processDefinitionId>`\n * @param {Object} currentSearch  - The parsed object of the route \"search\" part\n * @return {string}               - A URL string to be redirected to\n */\nutils.redirectToRuntime = function(params, currentPath, currentSearch) {\n  var redirectUrl = currentPath + \"/runtime\";\n\n  return utils.redirectTo(redirectUrl, currentSearch, true);\n};\n\n/**\n * Replace the last fragment of a given path with a given replacement.\n *\n * @param {string} replacement    - The replacement.\n * @param {string} currentPath    - The actual path of the request,\n *                                  generally something like:\n *                                  `/process-definition/<processDefinitionId>/runtime`\n * @param {Object} currentSearch  - The parsed object of the route \"search\" part\n * @return {string}               - A URL string to be redirected to\n */\nutils.replaceLastPathFragment = function(\n  replacement,\n  currentPath,\n  currentSearch,\n  keepSearchParams\n) {\n  var redirectUrl = currentPath.replace(/[^/]*$/, replacement);\n\n  return utils.redirectTo(redirectUrl, currentSearch, keepSearchParams);\n};\n\nutils.redirectTo = function(redirectUrl, currentSearch, keepSearchParams) {\n  var search = [],\n    key;\n\n  if (currentSearch && keepSearchParams) {\n    var isArray =\n      Object.prototype.toString.call(keepSearchParams) === \"[object Array]\";\n\n    for (key in currentSearch) {\n      if (isArray) {\n        if (keepSearchParams.indexOf(key) === -1) {\n          continue;\n        }\n      }\n\n      search.push(key + \"=\" + encodeURIComponent(currentSearch[key]));\n    }\n  }\n\n  return redirectUrl + (search.length ? \"?\" + search.join(\"&\") : \"\");\n};\n\nmodule.exports = utils;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\"),\n  uriFilter = require(\"./uriFilter\"),\n  uriProvider = require(\"./uriProvider\");\n\n/**\n * @module cam.commons.util\n */\n\n/**\n * @memberof cam.commons\n */\n\nmodule.exports = angular\n  .module(\"cam.commons.util\", [])\n  .filter(\"uri\", uriFilter)\n  .provider(\"Uri\", uriProvider);\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Events handling utility which can be used on\n * any kind of object to provide `on`, `once`, `off`\n * and `trigger` functions.\n *\n * @exports CamSDK.Events\n * @mixin\n *\n * @example\n * var obj = {};\n * Events.attach(obj);\n *\n * obj.on('event:name', function() {});\n * obj.once('event:name', function() {});\n * obj.trigger('event:name', data, moreData, evenMoreData);\n */\n\nvar Events = {};\n\n/**\n * Converts an object into array\n * @param  {*} obj\n * @return {Array}\n */\nfunction toArray(obj) {\n  var a,\n    arr = [];\n  for (a in obj) {\n    arr.push(obj[a]);\n  }\n  return arr;\n}\n\n/**\n * Returns a function that will be executed\n * at most one time, no matter how often you call it.\n * @param  {Function} func\n * @return {Function}\n */\nfunction once(func) {\n  var ran = false,\n    memo;\n  return function() {\n    if (ran) return memo;\n    ran = true;\n    memo = func.apply(this, arguments);\n    func = null;\n    return memo;\n  };\n}\n\n/**\n * Ensure an object to have the needed _events property\n * @param  {*} obj\n * @param  {String} name\n */\nfunction ensureEvents(obj, name) {\n  obj._events = obj._events || {};\n  obj._events[name] = obj._events[name] || [];\n}\n\n/**\n * Add the relevant Events methods to an object\n * @param  {*} obj\n */\nEvents.attach = function(obj) {\n  obj.on = this.on;\n  obj.once = this.once;\n  obj.off = this.off;\n  obj.trigger = this.trigger;\n  obj._events = {};\n};\n\n/**\n * Bind a callback to `eventName`\n * @param  {String}   eventName\n * @param  {Function} callback\n */\nEvents.on = function(eventName, callback) {\n  ensureEvents(this, eventName);\n\n  this._events[eventName].push(callback);\n\n  return this;\n};\n\n/**\n * Bind a callback who will only be called once to `eventName`\n * @param  {String}   eventName\n * @param  {Function} callback\n */\nEvents.once = function(eventName, callback) {\n  var self = this;\n  var cb = once(function() {\n    self.off(eventName, once);\n    callback.apply(this, arguments);\n  });\n  cb._callback = callback;\n  return this.on(eventName, cb);\n};\n\n/**\n * Unbind one or all callbacks originally bound to `eventName`\n * @param  {String}   eventName\n * @param  {Function} [callback]\n */\nEvents.off = function(eventName, callback) {\n  ensureEvents(this, eventName);\n\n  if (!callback) {\n    delete this._events[eventName];\n    return this;\n  }\n\n  var e,\n    arr = [];\n  for (e in this._events[eventName]) {\n    if (this._events[eventName][e] !== callback) {\n      arr.push(this._events[eventName][e]);\n    }\n  }\n  this._events[eventName] = arr;\n\n  return this;\n};\n\n/**\n * Call the functions bound to `eventName`\n * @param  {String} eventName\n * @param {...*} [params]\n */\nEvents.trigger = function() {\n  var args = toArray(arguments);\n  var eventName = args.shift();\n  ensureEvents(this, eventName);\n\n  var e;\n  for (e in this._events[eventName]) {\n    this._events[eventName][e](this, args);\n  }\n\n  return this;\n};\n\nmodule.exports = Events;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar BaseClass = require(\"../../base-class\");\nvar $ = require(\"./../dom-lib\");\n\nfunction noop() {}\n\n/**\n * An abstract class for the form field controls\n *\n * @class AbstractFormField\n * @abstract\n * @memberof CamSDK.form\n *\n */\nfunction AbstractFormField(element, variableManager, camForm) {\n  this.element = $(element);\n  this.variableManager = variableManager;\n  this.form = camForm;\n\n  this.variableName = null;\n\n  this.initialize();\n}\n\n/**\n * @memberof CamSDK.form.AbstractFormField\n * @abstract\n * @name selector\n * @type {String}\n */\nAbstractFormField.selector = null;\n\n/**\n * @memberof CamSDK.form.AbstractFormField\n * @borrows CamSDK.BaseClass.extend as extend\n * @name extend\n * @type {Function}\n */\nAbstractFormField.extend = BaseClass.extend;\n\n/**\n * @memberof CamSDK.form.AbstractFormField.prototype\n * @abstract\n * @method initialize\n */\nAbstractFormField.prototype.initialize = noop;\n\n/**\n * Applies the stored value to a field element.\n *\n * @memberof CamSDK.form.AbstractFormField.prototype\n * @abstract\n * @method applyValue\n *\n * @return {CamSDK.form.AbstractFormField} Chainable method\n */\nAbstractFormField.prototype.applyValue = noop;\n\n/**\n * @memberof CamSDK.form.AbstractFormField.prototype\n * @abstract\n * @method getValue\n */\nAbstractFormField.prototype.getValue = noop;\n\nmodule.exports = AbstractFormField;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = require(\"moment\");\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = require(\"../../legacy/common/scripts/module\");\n","/* eslint-disable */\n/*\n * angular-ui-bootstrap\n * http://angular-ui.github.io/bootstrap/\n\n * Version: 2.5.0 - 2017-01-28\n * License: MIT\n */\nconst angular = require('./angular');\n\nangular.module(\"ui.bootstrap\", [\"ui.bootstrap.tpls\",\"ui.bootstrap.collapse\",\"ui.bootstrap.tabindex\",\"ui.bootstrap.accordion\",\"ui.bootstrap.alert\",\"ui.bootstrap.buttons\",\"ui.bootstrap.carousel\",\"ui.bootstrap.dateparser\",\"ui.bootstrap.isClass\",\"ui.bootstrap.datepicker\",\"ui.bootstrap.position\",\"ui.bootstrap.datepickerPopup\",\"ui.bootstrap.debounce\",\"ui.bootstrap.multiMap\",\"ui.bootstrap.dropdown\",\"ui.bootstrap.stackedMap\",\"ui.bootstrap.modal\",\"ui.bootstrap.paging\",\"ui.bootstrap.pager\",\"ui.bootstrap.pagination\",\"ui.bootstrap.tooltip\",\"ui.bootstrap.popover\",\"ui.bootstrap.progressbar\",\"ui.bootstrap.rating\",\"ui.bootstrap.tabs\",\"ui.bootstrap.timepicker\",\"ui.bootstrap.typeahead\"]);\nangular.module(\"ui.bootstrap.tpls\", [\"uib/template/accordion/accordion-group.html\",\"uib/template/accordion/accordion.html\",\"uib/template/alert/alert.html\",\"uib/template/carousel/carousel.html\",\"uib/template/carousel/slide.html\",\"uib/template/datepicker/datepicker.html\",\"uib/template/datepicker/day.html\",\"uib/template/datepicker/month.html\",\"uib/template/datepicker/year.html\",\"uib/template/datepickerPopup/popup.html\",\"uib/template/modal/window.html\",\"uib/template/pager/pager.html\",\"uib/template/pagination/pagination.html\",\"uib/template/tooltip/tooltip-html-popup.html\",\"uib/template/tooltip/tooltip-popup.html\",\"uib/template/tooltip/tooltip-template-popup.html\",\"uib/template/popover/popover-html.html\",\"uib/template/popover/popover-template.html\",\"uib/template/popover/popover.html\",\"uib/template/progressbar/bar.html\",\"uib/template/progressbar/progress.html\",\"uib/template/progressbar/progressbar.html\",\"uib/template/rating/rating.html\",\"uib/template/tabs/tab.html\",\"uib/template/tabs/tabset.html\",\"uib/template/timepicker/timepicker.html\",\"uib/template/typeahead/typeahead-match.html\",\"uib/template/typeahead/typeahead-popup.html\"]);\nangular.module('ui.bootstrap.collapse', [])\n\n  .directive('uibCollapse', ['$animate', '$q', '$parse', '$injector', function($animate, $q, $parse, $injector) {\n    var $animateCss = $injector.has('$animateCss') ? $injector.get('$animateCss') : null;\n    return {\n      link: function(scope, element, attrs) {\n        var expandingExpr = $parse(attrs.expanding),\n          expandedExpr = $parse(attrs.expanded),\n          collapsingExpr = $parse(attrs.collapsing),\n          collapsedExpr = $parse(attrs.collapsed),\n          horizontal = false,\n          css = {},\n          cssTo = {};\n\n        init();\n\n        function init() {\n          horizontal = !!('horizontal' in attrs);\n          if (horizontal) {\n            css = {\n              width: ''\n            };\n            cssTo = {width: '0'};\n          } else {\n            css = {\n              height: ''\n            };\n            cssTo = {height: '0'};\n          }\n          if (!scope.$eval(attrs.uibCollapse)) {\n            element.addClass('in')\n              .addClass('collapse')\n              .attr('aria-expanded', true)\n              .attr('aria-hidden', false)\n              .css(css);\n          }\n        }\n\n        function getScrollFromElement(element) {\n          if (horizontal) {\n            return {width: element.scrollWidth + 'px'};\n          }\n          return {height: element.scrollHeight + 'px'};\n        }\n\n        function expand() {\n          if (element.hasClass('collapse') && element.hasClass('in')) {\n            return;\n          }\n\n          $q.resolve(expandingExpr(scope))\n            .then(function() {\n              element.removeClass('collapse')\n                .addClass('collapsing')\n                .attr('aria-expanded', true)\n                .attr('aria-hidden', false);\n\n              if ($animateCss) {\n                $animateCss(element, {\n                  addClass: 'in',\n                  easing: 'ease',\n                  css: {\n                    overflow: 'hidden'\n                  },\n                  to: getScrollFromElement(element[0])\n                }).start()['finally'](expandDone);\n              } else {\n                $animate.addClass(element, 'in', {\n                  css: {\n                    overflow: 'hidden'\n                  },\n                  to: getScrollFromElement(element[0])\n                }).then(expandDone);\n              }\n            }, angular.noop);\n        }\n\n        function expandDone() {\n          element.removeClass('collapsing')\n            .addClass('collapse')\n            .css(css);\n          expandedExpr(scope);\n        }\n\n        function collapse() {\n          if (!element.hasClass('collapse') && !element.hasClass('in')) {\n            return collapseDone();\n          }\n\n          $q.resolve(collapsingExpr(scope))\n            .then(function() {\n              element\n              // IMPORTANT: The width must be set before adding \"collapsing\" class.\n              // Otherwise, the browser attempts to animate from width 0 (in\n              // collapsing class) to the given width here.\n                .css(getScrollFromElement(element[0]))\n                // initially all panel collapse have the collapse class, this removal\n                // prevents the animation from jumping to collapsed state\n                .removeClass('collapse')\n                .addClass('collapsing')\n                .attr('aria-expanded', false)\n                .attr('aria-hidden', true);\n\n              if ($animateCss) {\n                $animateCss(element, {\n                  removeClass: 'in',\n                  to: cssTo\n                }).start()['finally'](collapseDone);\n              } else {\n                $animate.removeClass(element, 'in', {\n                  to: cssTo\n                }).then(collapseDone);\n              }\n            }, angular.noop);\n        }\n\n        function collapseDone() {\n          element.css(cssTo); // Required so that collapse works when animation is disabled\n          element.removeClass('collapsing')\n            .addClass('collapse');\n          collapsedExpr(scope);\n        }\n\n        scope.$watch(attrs.uibCollapse, function(shouldCollapse) {\n          if (shouldCollapse) {\n            collapse();\n          } else {\n            expand();\n          }\n        });\n      }\n    };\n  }]);\n\nangular.module('ui.bootstrap.tabindex', [])\n\n.directive('uibTabindexToggle', function() {\n  return {\n    restrict: 'A',\n    link: function(scope, elem, attrs) {\n      attrs.$observe('disabled', function(disabled) {\n        attrs.$set('tabindex', disabled ? -1 : null);\n      });\n    }\n  };\n});\n\nangular.module('ui.bootstrap.accordion', ['ui.bootstrap.collapse', 'ui.bootstrap.tabindex'])\n\n.constant('uibAccordionConfig', {\n  closeOthers: true\n})\n\n.controller('UibAccordionController', ['$scope', '$attrs', 'uibAccordionConfig', function($scope, $attrs, accordionConfig) {\n  // This array keeps track of the accordion groups\n  this.groups = [];\n\n  // Ensure that all the groups in this accordion are closed, unless close-others explicitly says not to\n  this.closeOthers = function(openGroup) {\n    var closeOthers = angular.isDefined($attrs.closeOthers) ?\n      $scope.$eval($attrs.closeOthers) : accordionConfig.closeOthers;\n    if (closeOthers) {\n      angular.forEach(this.groups, function(group) {\n        if (group !== openGroup) {\n          group.isOpen = false;\n        }\n      });\n    }\n  };\n\n  // This is called from the accordion-group directive to add itself to the accordion\n  this.addGroup = function(groupScope) {\n    var that = this;\n    this.groups.push(groupScope);\n\n    groupScope.$on('$destroy', function(event) {\n      that.removeGroup(groupScope);\n    });\n  };\n\n  // This is called from the accordion-group directive when to remove itself\n  this.removeGroup = function(group) {\n    var index = this.groups.indexOf(group);\n    if (index !== -1) {\n      this.groups.splice(index, 1);\n    }\n  };\n}])\n\n// The accordion directive simply sets up the directive controller\n// and adds an accordion CSS class to itself element.\n.directive('uibAccordion', function() {\n  return {\n    controller: 'UibAccordionController',\n    controllerAs: 'accordion',\n    transclude: true,\n    templateUrl: function(element, attrs) {\n      return attrs.templateUrl || 'uib/template/accordion/accordion.html';\n    }\n  };\n})\n\n// The accordion-group directive indicates a block of html that will expand and collapse in an accordion\n.directive('uibAccordionGroup', function() {\n  return {\n    require: '^uibAccordion',         // We need this directive to be inside an accordion\n    transclude: true,              // It transcludes the contents of the directive into the template\n    restrict: 'A',\n    templateUrl: function(element, attrs) {\n      return attrs.templateUrl || 'uib/template/accordion/accordion-group.html';\n    },\n    scope: {\n      heading: '@',               // Interpolate the heading attribute onto this scope\n      panelClass: '@?',           // Ditto with panelClass\n      isOpen: '=?',\n      isDisabled: '=?'\n    },\n    controller: function() {\n      this.setHeading = function(element) {\n        this.heading = element;\n      };\n    },\n    link: function(scope, element, attrs, accordionCtrl) {\n      element.addClass('panel');\n      accordionCtrl.addGroup(scope);\n\n      scope.openClass = attrs.openClass || 'panel-open';\n      scope.panelClass = attrs.panelClass || 'panel-default';\n      scope.$watch('isOpen', function(value) {\n        element.toggleClass(scope.openClass, !!value);\n        if (value) {\n          accordionCtrl.closeOthers(scope);\n        }\n      });\n\n      scope.toggleOpen = function($event) {\n        if (!scope.isDisabled) {\n          if (!$event || $event.which === 32) {\n            scope.isOpen = !scope.isOpen;\n          }\n        }\n      };\n\n      var id = 'accordiongroup-' + scope.$id + '-' + Math.floor(Math.random() * 10000);\n      scope.headingId = id + '-tab';\n      scope.panelId = id + '-panel';\n    }\n  };\n})\n\n// Use accordion-heading below an accordion-group to provide a heading containing HTML\n.directive('uibAccordionHeading', function() {\n  return {\n    transclude: true,   // Grab the contents to be used as the heading\n    template: '',       // In effect remove this element!\n    replace: true,\n    require: '^uibAccordionGroup',\n    link: function(scope, element, attrs, accordionGroupCtrl, transclude) {\n      // Pass the heading to the accordion-group controller\n      // so that it can be transcluded into the right place in the template\n      // [The second parameter to transclude causes the elements to be cloned so that they work in ng-repeat]\n      accordionGroupCtrl.setHeading(transclude(scope, angular.noop));\n    }\n  };\n})\n\n// Use in the accordion-group template to indicate where you want the heading to be transcluded\n// You must provide the property on the accordion-group controller that will hold the transcluded element\n.directive('uibAccordionTransclude', function() {\n  return {\n    require: '^uibAccordionGroup',\n    link: function(scope, element, attrs, controller) {\n      scope.$watch(function() { return controller[attrs.uibAccordionTransclude]; }, function(heading) {\n        if (heading) {\n          var elem = angular.element(element[0].querySelector(getHeaderSelectors()));\n          elem.html('');\n          elem.append(heading);\n        }\n      });\n    }\n  };\n\n  function getHeaderSelectors() {\n      return 'uib-accordion-header,' +\n          'data-uib-accordion-header,' +\n          'x-uib-accordion-header,' +\n          'uib\\\\:accordion-header,' +\n          '[uib-accordion-header],' +\n          '[data-uib-accordion-header],' +\n          '[x-uib-accordion-header]';\n  }\n});\n\nangular.module('ui.bootstrap.alert', [])\n\n.controller('UibAlertController', ['$scope', '$element', '$attrs', '$interpolate', '$timeout', function($scope, $element, $attrs, $interpolate, $timeout) {\n  $scope.closeable = !!$attrs.close;\n  $element.addClass('alert');\n  $attrs.$set('role', 'alert');\n  if ($scope.closeable) {\n    $element.addClass('alert-dismissible');\n  }\n\n  var dismissOnTimeout = angular.isDefined($attrs.dismissOnTimeout) ?\n    $interpolate($attrs.dismissOnTimeout)($scope.$parent) : null;\n\n  if (dismissOnTimeout) {\n    $timeout(function() {\n      $scope.close();\n    }, parseInt(dismissOnTimeout, 10));\n  }\n}])\n\n.directive('uibAlert', function() {\n  return {\n    controller: 'UibAlertController',\n    controllerAs: 'alert',\n    restrict: 'A',\n    templateUrl: function(element, attrs) {\n      return attrs.templateUrl || 'uib/template/alert/alert.html';\n    },\n    transclude: true,\n    scope: {\n      close: '&'\n    }\n  };\n});\n\nangular.module('ui.bootstrap.buttons', [])\n\n.constant('uibButtonConfig', {\n  activeClass: 'active',\n  toggleEvent: 'click'\n})\n\n.controller('UibButtonsController', ['uibButtonConfig', function(buttonConfig) {\n  this.activeClass = buttonConfig.activeClass || 'active';\n  this.toggleEvent = buttonConfig.toggleEvent || 'click';\n}])\n\n.directive('uibBtnRadio', ['$parse', function($parse) {\n  return {\n    require: ['uibBtnRadio', 'ngModel'],\n    controller: 'UibButtonsController',\n    controllerAs: 'buttons',\n    link: function(scope, element, attrs, ctrls) {\n      var buttonsCtrl = ctrls[0], ngModelCtrl = ctrls[1];\n      var uncheckableExpr = $parse(attrs.uibUncheckable);\n\n      element.find('input').css({display: 'none'});\n\n      //model -> UI\n      ngModelCtrl.$render = function() {\n        element.toggleClass(buttonsCtrl.activeClass, angular.equals(ngModelCtrl.$modelValue, scope.$eval(attrs.uibBtnRadio)));\n      };\n\n      //ui->model\n      element.on(buttonsCtrl.toggleEvent, function() {\n        if (attrs.disabled) {\n          return;\n        }\n\n        var isActive = element.hasClass(buttonsCtrl.activeClass);\n\n        if (!isActive || angular.isDefined(attrs.uncheckable)) {\n          scope.$apply(function() {\n            ngModelCtrl.$setViewValue(isActive ? null : scope.$eval(attrs.uibBtnRadio));\n            ngModelCtrl.$render();\n          });\n        }\n      });\n\n      if (attrs.uibUncheckable) {\n        scope.$watch(uncheckableExpr, function(uncheckable) {\n          attrs.$set('uncheckable', uncheckable ? '' : undefined);\n        });\n      }\n    }\n  };\n}])\n\n.directive('uibBtnCheckbox', function() {\n  return {\n    require: ['uibBtnCheckbox', 'ngModel'],\n    controller: 'UibButtonsController',\n    controllerAs: 'button',\n    link: function(scope, element, attrs, ctrls) {\n      var buttonsCtrl = ctrls[0], ngModelCtrl = ctrls[1];\n\n      element.find('input').css({display: 'none'});\n\n      function getTrueValue() {\n        return getCheckboxValue(attrs.btnCheckboxTrue, true);\n      }\n\n      function getFalseValue() {\n        return getCheckboxValue(attrs.btnCheckboxFalse, false);\n      }\n\n      function getCheckboxValue(attribute, defaultValue) {\n        return angular.isDefined(attribute) ? scope.$eval(attribute) : defaultValue;\n      }\n\n      //model -> UI\n      ngModelCtrl.$render = function() {\n        element.toggleClass(buttonsCtrl.activeClass, angular.equals(ngModelCtrl.$modelValue, getTrueValue()));\n      };\n\n      //ui->model\n      element.on(buttonsCtrl.toggleEvent, function() {\n        if (attrs.disabled) {\n          return;\n        }\n\n        scope.$apply(function() {\n          ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass) ? getFalseValue() : getTrueValue());\n          ngModelCtrl.$render();\n        });\n      });\n    }\n  };\n});\n\nangular.module('ui.bootstrap.carousel', [])\n\n.controller('UibCarouselController', ['$scope', '$element', '$interval', '$timeout', '$animate', function($scope, $element, $interval, $timeout, $animate) {\n  var self = this,\n    slides = self.slides = $scope.slides = [],\n    SLIDE_DIRECTION = 'uib-slideDirection',\n    currentIndex = $scope.active,\n    currentInterval, isPlaying;\n\n  var destroyed = false;\n  $element.addClass('carousel');\n\n  self.addSlide = function(slide, element) {\n    slides.push({\n      slide: slide,\n      element: element\n    });\n    slides.sort(function(a, b) {\n      return +a.slide.index - +b.slide.index;\n    });\n    //if this is the first slide or the slide is set to active, select it\n    if (slide.index === $scope.active || slides.length === 1 && !angular.isNumber($scope.active)) {\n      if ($scope.$currentTransition) {\n        $scope.$currentTransition = null;\n      }\n\n      currentIndex = slide.index;\n      $scope.active = slide.index;\n      setActive(currentIndex);\n      self.select(slides[findSlideIndex(slide)]);\n      if (slides.length === 1) {\n        $scope.play();\n      }\n    }\n  };\n\n  self.getCurrentIndex = function() {\n    for (var i = 0; i < slides.length; i++) {\n      if (slides[i].slide.index === currentIndex) {\n        return i;\n      }\n    }\n  };\n\n  self.next = $scope.next = function() {\n    var newIndex = (self.getCurrentIndex() + 1) % slides.length;\n\n    if (newIndex === 0 && $scope.noWrap()) {\n      $scope.pause();\n      return;\n    }\n\n    return self.select(slides[newIndex], 'next');\n  };\n\n  self.prev = $scope.prev = function() {\n    var newIndex = self.getCurrentIndex() - 1 < 0 ? slides.length - 1 : self.getCurrentIndex() - 1;\n\n    if ($scope.noWrap() && newIndex === slides.length - 1) {\n      $scope.pause();\n      return;\n    }\n\n    return self.select(slides[newIndex], 'prev');\n  };\n\n  self.removeSlide = function(slide) {\n    var index = findSlideIndex(slide);\n\n    //get the index of the slide inside the carousel\n    slides.splice(index, 1);\n    if (slides.length > 0 && currentIndex === index) {\n      if (index >= slides.length) {\n        currentIndex = slides.length - 1;\n        $scope.active = currentIndex;\n        setActive(currentIndex);\n        self.select(slides[slides.length - 1]);\n      } else {\n        currentIndex = index;\n        $scope.active = currentIndex;\n        setActive(currentIndex);\n        self.select(slides[index]);\n      }\n    } else if (currentIndex > index) {\n      currentIndex--;\n      $scope.active = currentIndex;\n    }\n\n    //clean the active value when no more slide\n    if (slides.length === 0) {\n      currentIndex = null;\n      $scope.active = null;\n    }\n  };\n\n  /* direction: \"prev\" or \"next\" */\n  self.select = $scope.select = function(nextSlide, direction) {\n    var nextIndex = findSlideIndex(nextSlide.slide);\n    //Decide direction if it's not given\n    if (direction === undefined) {\n      direction = nextIndex > self.getCurrentIndex() ? 'next' : 'prev';\n    }\n    //Prevent this user-triggered transition from occurring if there is already one in progress\n    if (nextSlide.slide.index !== currentIndex &&\n      !$scope.$currentTransition) {\n      goNext(nextSlide.slide, nextIndex, direction);\n    }\n  };\n\n  /* Allow outside people to call indexOf on slides array */\n  $scope.indexOfSlide = function(slide) {\n    return +slide.slide.index;\n  };\n\n  $scope.isActive = function(slide) {\n    return $scope.active === slide.slide.index;\n  };\n\n  $scope.isPrevDisabled = function() {\n    return $scope.active === 0 && $scope.noWrap();\n  };\n\n  $scope.isNextDisabled = function() {\n    return $scope.active === slides.length - 1 && $scope.noWrap();\n  };\n\n  $scope.pause = function() {\n    if (!$scope.noPause) {\n      isPlaying = false;\n      resetTimer();\n    }\n  };\n\n  $scope.play = function() {\n    if (!isPlaying) {\n      isPlaying = true;\n      restartTimer();\n    }\n  };\n\n  $element.on('mouseenter', $scope.pause);\n  $element.on('mouseleave', $scope.play);\n\n  $scope.$on('$destroy', function() {\n    destroyed = true;\n    resetTimer();\n  });\n\n  $scope.$watch('noTransition', function(noTransition) {\n    $animate.enabled($element, !noTransition);\n  });\n\n  $scope.$watch('interval', restartTimer);\n\n  $scope.$watchCollection('slides', resetTransition);\n\n  $scope.$watch('active', function(index) {\n    if (angular.isNumber(index) && currentIndex !== index) {\n      for (var i = 0; i < slides.length; i++) {\n        if (slides[i].slide.index === index) {\n          index = i;\n          break;\n        }\n      }\n\n      var slide = slides[index];\n      if (slide) {\n        setActive(index);\n        self.select(slides[index]);\n        currentIndex = index;\n      }\n    }\n  });\n\n  function getSlideByIndex(index) {\n    for (var i = 0, l = slides.length; i < l; ++i) {\n      if (slides[i].index === index) {\n        return slides[i];\n      }\n    }\n  }\n\n  function setActive(index) {\n    for (var i = 0; i < slides.length; i++) {\n      slides[i].slide.active = i === index;\n    }\n  }\n\n  function goNext(slide, index, direction) {\n    if (destroyed) {\n      return;\n    }\n\n    angular.extend(slide, {direction: direction});\n    angular.extend(slides[currentIndex].slide || {}, {direction: direction});\n    if ($animate.enabled($element) && !$scope.$currentTransition &&\n      slides[index].element && self.slides.length > 1) {\n      slides[index].element.data(SLIDE_DIRECTION, slide.direction);\n      var currentIdx = self.getCurrentIndex();\n\n      if (angular.isNumber(currentIdx) && slides[currentIdx].element) {\n        slides[currentIdx].element.data(SLIDE_DIRECTION, slide.direction);\n      }\n\n      $scope.$currentTransition = true;\n      $animate.on('addClass', slides[index].element, function(element, phase) {\n        if (phase === 'close') {\n          $scope.$currentTransition = null;\n          $animate.off('addClass', element);\n        }\n      });\n    }\n\n    $scope.active = slide.index;\n    currentIndex = slide.index;\n    setActive(index);\n\n    //every time you change slides, reset the timer\n    restartTimer();\n  }\n\n  function findSlideIndex(slide) {\n    for (var i = 0; i < slides.length; i++) {\n      if (slides[i].slide === slide) {\n        return i;\n      }\n    }\n  }\n\n  function resetTimer() {\n    if (currentInterval) {\n      $interval.cancel(currentInterval);\n      currentInterval = null;\n    }\n  }\n\n  function resetTransition(slides) {\n    if (!slides.length) {\n      $scope.$currentTransition = null;\n    }\n  }\n\n  function restartTimer() {\n    resetTimer();\n    var interval = +$scope.interval;\n    if (!isNaN(interval) && interval > 0) {\n      currentInterval = $interval(timerFn, interval);\n    }\n  }\n\n  function timerFn() {\n    var interval = +$scope.interval;\n    if (isPlaying && !isNaN(interval) && interval > 0 && slides.length) {\n      $scope.next();\n    } else {\n      $scope.pause();\n    }\n  }\n}])\n\n.directive('uibCarousel', function() {\n  return {\n    transclude: true,\n    controller: 'UibCarouselController',\n    controllerAs: 'carousel',\n    restrict: 'A',\n    templateUrl: function(element, attrs) {\n      return attrs.templateUrl || 'uib/template/carousel/carousel.html';\n    },\n    scope: {\n      active: '=',\n      interval: '=',\n      noTransition: '=',\n      noPause: '=',\n      noWrap: '&'\n    }\n  };\n})\n\n.directive('uibSlide', ['$animate', function($animate) {\n  return {\n    require: '^uibCarousel',\n    restrict: 'A',\n    transclude: true,\n    templateUrl: function(element, attrs) {\n      return attrs.templateUrl || 'uib/template/carousel/slide.html';\n    },\n    scope: {\n      actual: '=?',\n      index: '=?'\n    },\n    link: function (scope, element, attrs, carouselCtrl) {\n      element.addClass('item');\n      carouselCtrl.addSlide(scope, element);\n      //when the scope is destroyed then remove the slide from the current slides array\n      scope.$on('$destroy', function() {\n        carouselCtrl.removeSlide(scope);\n      });\n\n      scope.$watch('active', function(active) {\n        $animate[active ? 'addClass' : 'removeClass'](element, 'active');\n      });\n    }\n  };\n}])\n\n.animation('.item', ['$animateCss',\nfunction($animateCss) {\n  var SLIDE_DIRECTION = 'uib-slideDirection';\n\n  function removeClass(element, className, callback) {\n    element.removeClass(className);\n    if (callback) {\n      callback();\n    }\n  }\n\n  return {\n    beforeAddClass: function(element, className, done) {\n      if (className === 'active') {\n        var stopped = false;\n        var direction = element.data(SLIDE_DIRECTION);\n        var directionClass = direction === 'next' ? 'left' : 'right';\n        var removeClassFn = removeClass.bind(this, element,\n          directionClass + ' ' + direction, done);\n        element.addClass(direction);\n\n        $animateCss(element, {addClass: directionClass})\n          .start()\n          .done(removeClassFn);\n\n        return function() {\n          stopped = true;\n        };\n      }\n      done();\n    },\n    beforeRemoveClass: function (element, className, done) {\n      if (className === 'active') {\n        var stopped = false;\n        var direction = element.data(SLIDE_DIRECTION);\n        var directionClass = direction === 'next' ? 'left' : 'right';\n        var removeClassFn = removeClass.bind(this, element, directionClass, done);\n\n        $animateCss(element, {addClass: directionClass})\n          .start()\n          .done(removeClassFn);\n\n        return function() {\n          stopped = true;\n        };\n      }\n      done();\n    }\n  };\n}]);\n\nangular.module('ui.bootstrap.dateparser', [])\n\n.service('uibDateParser', ['$log', '$locale', 'dateFilter', 'orderByFilter', 'filterFilter', function($log, $locale, dateFilter, orderByFilter, filterFilter) {\n  // Pulled from https://github.com/mbostock/d3/blob/master/src/format/requote.js\n  var SPECIAL_CHARACTERS_REGEXP = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n\n  var localeId;\n  var formatCodeToRegex;\n\n  this.init = function() {\n    localeId = $locale.id;\n\n    this.parsers = {};\n    this.formatters = {};\n\n    formatCodeToRegex = [\n      {\n        key: 'yyyy',\n        regex: '\\\\d{4}',\n        apply: function(value) { this.year = +value; },\n        formatter: function(date) {\n          var _date = new Date();\n          _date.setFullYear(Math.abs(date.getFullYear()));\n          return dateFilter(_date, 'yyyy');\n        }\n      },\n      {\n        key: 'yy',\n        regex: '\\\\d{2}',\n        apply: function(value) { value = +value; this.year = value < 69 ? value + 2000 : value + 1900; },\n        formatter: function(date) {\n          var _date = new Date();\n          _date.setFullYear(Math.abs(date.getFullYear()));\n          return dateFilter(_date, 'yy');\n        }\n      },\n      {\n        key: 'y',\n        regex: '\\\\d{1,4}',\n        apply: function(value) { this.year = +value; },\n        formatter: function(date) {\n          var _date = new Date();\n          _date.setFullYear(Math.abs(date.getFullYear()));\n          return dateFilter(_date, 'y');\n        }\n      },\n      {\n        key: 'M!',\n        regex: '0?[1-9]|1[0-2]',\n        apply: function(value) { this.month = value - 1; },\n        formatter: function(date) {\n          var value = date.getMonth();\n          if (/^[0-9]$/.test(value)) {\n            return dateFilter(date, 'MM');\n          }\n\n          return dateFilter(date, 'M');\n        }\n      },\n      {\n        key: 'MMMM',\n        regex: $locale.DATETIME_FORMATS.MONTH.join('|'),\n        apply: function(value) { this.month = $locale.DATETIME_FORMATS.MONTH.indexOf(value); },\n        formatter: function(date) { return dateFilter(date, 'MMMM'); }\n      },\n      {\n        key: 'MMM',\n        regex: $locale.DATETIME_FORMATS.SHORTMONTH.join('|'),\n        apply: function(value) { this.month = $locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value); },\n        formatter: function(date) { return dateFilter(date, 'MMM'); }\n      },\n      {\n        key: 'MM',\n        regex: '0[1-9]|1[0-2]',\n        apply: function(value) { this.month = value - 1; },\n        formatter: function(date) { return dateFilter(date, 'MM'); }\n      },\n      {\n        key: 'M',\n        regex: '[1-9]|1[0-2]',\n        apply: function(value) { this.month = value - 1; },\n        formatter: function(date) { return dateFilter(date, 'M'); }\n      },\n      {\n        key: 'd!',\n        regex: '[0-2]?[0-9]{1}|3[0-1]{1}',\n        apply: function(value) { this.date = +value; },\n        formatter: function(date) {\n          var value = date.getDate();\n          if (/^[1-9]$/.test(value)) {\n            return dateFilter(date, 'dd');\n          }\n\n          return dateFilter(date, 'd');\n        }\n      },\n      {\n        key: 'dd',\n        regex: '[0-2][0-9]{1}|3[0-1]{1}',\n        apply: function(value) { this.date = +value; },\n        formatter: function(date) { return dateFilter(date, 'dd'); }\n      },\n      {\n        key: 'd',\n        regex: '[1-2]?[0-9]{1}|3[0-1]{1}',\n        apply: function(value) { this.date = +value; },\n        formatter: function(date) { return dateFilter(date, 'd'); }\n      },\n      {\n        key: 'EEEE',\n        regex: $locale.DATETIME_FORMATS.DAY.join('|'),\n        formatter: function(date) { return dateFilter(date, 'EEEE'); }\n      },\n      {\n        key: 'EEE',\n        regex: $locale.DATETIME_FORMATS.SHORTDAY.join('|'),\n        formatter: function(date) { return dateFilter(date, 'EEE'); }\n      },\n      {\n        key: 'HH',\n        regex: '(?:0|1)[0-9]|2[0-3]',\n        apply: function(value) { this.hours = +value; },\n        formatter: function(date) { return dateFilter(date, 'HH'); }\n      },\n      {\n        key: 'hh',\n        regex: '0[0-9]|1[0-2]',\n        apply: function(value) { this.hours = +value; },\n        formatter: function(date) { return dateFilter(date, 'hh'); }\n      },\n      {\n        key: 'H',\n        regex: '1?[0-9]|2[0-3]',\n        apply: function(value) { this.hours = +value; },\n        formatter: function(date) { return dateFilter(date, 'H'); }\n      },\n      {\n        key: 'h',\n        regex: '[0-9]|1[0-2]',\n        apply: function(value) { this.hours = +value; },\n        formatter: function(date) { return dateFilter(date, 'h'); }\n      },\n      {\n        key: 'mm',\n        regex: '[0-5][0-9]',\n        apply: function(value) { this.minutes = +value; },\n        formatter: function(date) { return dateFilter(date, 'mm'); }\n      },\n      {\n        key: 'm',\n        regex: '[0-9]|[1-5][0-9]',\n        apply: function(value) { this.minutes = +value; },\n        formatter: function(date) { return dateFilter(date, 'm'); }\n      },\n      {\n        key: 'sss',\n        regex: '[0-9][0-9][0-9]',\n        apply: function(value) { this.milliseconds = +value; },\n        formatter: function(date) { return dateFilter(date, 'sss'); }\n      },\n      {\n        key: 'ss',\n        regex: '[0-5][0-9]',\n        apply: function(value) { this.seconds = +value; },\n        formatter: function(date) { return dateFilter(date, 'ss'); }\n      },\n      {\n        key: 's',\n        regex: '[0-9]|[1-5][0-9]',\n        apply: function(value) { this.seconds = +value; },\n        formatter: function(date) { return dateFilter(date, 's'); }\n      },\n      {\n        key: 'a',\n        regex: $locale.DATETIME_FORMATS.AMPMS.join('|'),\n        apply: function(value) {\n          if (this.hours === 12) {\n            this.hours = 0;\n          }\n\n          if (value === 'PM') {\n            this.hours += 12;\n          }\n        },\n        formatter: function(date) { return dateFilter(date, 'a'); }\n      },\n      {\n        key: 'Z',\n        regex: '[+-]\\\\d{4}',\n        apply: function(value) {\n          var matches = value.match(/([+-])(\\d{2})(\\d{2})/),\n            sign = matches[1],\n            hours = matches[2],\n            minutes = matches[3];\n          this.hours += toInt(sign + hours);\n          this.minutes += toInt(sign + minutes);\n        },\n        formatter: function(date) {\n          return dateFilter(date, 'Z');\n        }\n      },\n      {\n        key: 'ww',\n        regex: '[0-4][0-9]|5[0-3]',\n        formatter: function(date) { return dateFilter(date, 'ww'); }\n      },\n      {\n        key: 'w',\n        regex: '[0-9]|[1-4][0-9]|5[0-3]',\n        formatter: function(date) { return dateFilter(date, 'w'); }\n      },\n      {\n        key: 'GGGG',\n        regex: $locale.DATETIME_FORMATS.ERANAMES.join('|').replace(/\\s/g, '\\\\s'),\n        formatter: function(date) { return dateFilter(date, 'GGGG'); }\n      },\n      {\n        key: 'GGG',\n        regex: $locale.DATETIME_FORMATS.ERAS.join('|'),\n        formatter: function(date) { return dateFilter(date, 'GGG'); }\n      },\n      {\n        key: 'GG',\n        regex: $locale.DATETIME_FORMATS.ERAS.join('|'),\n        formatter: function(date) { return dateFilter(date, 'GG'); }\n      },\n      {\n        key: 'G',\n        regex: $locale.DATETIME_FORMATS.ERAS.join('|'),\n        formatter: function(date) { return dateFilter(date, 'G'); }\n      }\n    ];\n\n    if (angular.version.major >= 1 && angular.version.minor > 4) {\n      formatCodeToRegex.push({\n        key: 'LLLL',\n        regex: $locale.DATETIME_FORMATS.STANDALONEMONTH.join('|'),\n        apply: function(value) { this.month = $locale.DATETIME_FORMATS.STANDALONEMONTH.indexOf(value); },\n        formatter: function(date) { return dateFilter(date, 'LLLL'); }\n      });\n    }\n  };\n\n  this.init();\n\n  function getFormatCodeToRegex(key) {\n    return filterFilter(formatCodeToRegex, {key: key}, true)[0];\n  }\n\n  this.getParser = function (key) {\n    var f = getFormatCodeToRegex(key);\n    return f && f.apply || null;\n  };\n\n  this.overrideParser = function (key, parser) {\n    var f = getFormatCodeToRegex(key);\n    if (f && angular.isFunction(parser)) {\n      this.parsers = {};\n      f.apply = parser;\n    }\n  }.bind(this);\n\n  function createParser(format) {\n    var map = [], regex = format.split('');\n\n    // check for literal values\n    var quoteIndex = format.indexOf('\\'');\n    if (quoteIndex > -1) {\n      var inLiteral = false;\n      format = format.split('');\n      for (var i = quoteIndex; i < format.length; i++) {\n        if (inLiteral) {\n          if (format[i] === '\\'') {\n            if (i + 1 < format.length && format[i+1] === '\\'') { // escaped single quote\n              format[i+1] = '$';\n              regex[i+1] = '';\n            } else { // end of literal\n              regex[i] = '';\n              inLiteral = false;\n            }\n          }\n          format[i] = '$';\n        } else {\n          if (format[i] === '\\'') { // start of literal\n            format[i] = '$';\n            regex[i] = '';\n            inLiteral = true;\n          }\n        }\n      }\n\n      format = format.join('');\n    }\n\n    angular.forEach(formatCodeToRegex, function(data) {\n      var index = format.indexOf(data.key);\n\n      if (index > -1) {\n        format = format.split('');\n\n        regex[index] = '(' + data.regex + ')';\n        format[index] = '$'; // Custom symbol to define consumed part of format\n        for (var i = index + 1, n = index + data.key.length; i < n; i++) {\n          regex[i] = '';\n          format[i] = '$';\n        }\n        format = format.join('');\n\n        map.push({\n          index: index,\n          key: data.key,\n          apply: data.apply,\n          matcher: data.regex\n        });\n      }\n    });\n\n    return {\n      regex: new RegExp('^' + regex.join('') + '$'),\n      map: orderByFilter(map, 'index')\n    };\n  }\n\n  function createFormatter(format) {\n    var formatters = [];\n    var i = 0;\n    var formatter, literalIdx;\n    while (i < format.length) {\n      if (angular.isNumber(literalIdx)) {\n        if (format.charAt(i) === '\\'') {\n          if (i + 1 >= format.length || format.charAt(i + 1) !== '\\'') {\n            formatters.push(constructLiteralFormatter(format, literalIdx, i));\n            literalIdx = null;\n          }\n        } else if (i === format.length) {\n          while (literalIdx < format.length) {\n            formatter = constructFormatterFromIdx(format, literalIdx);\n            formatters.push(formatter);\n            literalIdx = formatter.endIdx;\n          }\n        }\n\n        i++;\n        continue;\n      }\n\n      if (format.charAt(i) === '\\'') {\n        literalIdx = i;\n        i++;\n        continue;\n      }\n\n      formatter = constructFormatterFromIdx(format, i);\n\n      formatters.push(formatter.parser);\n      i = formatter.endIdx;\n    }\n\n    return formatters;\n  }\n\n  function constructLiteralFormatter(format, literalIdx, endIdx) {\n    return function() {\n      return format.substr(literalIdx + 1, endIdx - literalIdx - 1);\n    };\n  }\n\n  function constructFormatterFromIdx(format, i) {\n    var currentPosStr = format.substr(i);\n    for (var j = 0; j < formatCodeToRegex.length; j++) {\n      if (new RegExp('^' + formatCodeToRegex[j].key).test(currentPosStr)) {\n        var data = formatCodeToRegex[j];\n        return {\n          endIdx: i + data.key.length,\n          parser: data.formatter\n        };\n      }\n    }\n\n    return {\n      endIdx: i + 1,\n      parser: function() {\n        return currentPosStr.charAt(0);\n      }\n    };\n  }\n\n  this.filter = function(date, format) {\n    if (!angular.isDate(date) || isNaN(date) || !format) {\n      return '';\n    }\n\n    format = $locale.DATETIME_FORMATS[format] || format;\n\n    if ($locale.id !== localeId) {\n      this.init();\n    }\n\n    if (!this.formatters[format]) {\n      this.formatters[format] = createFormatter(format);\n    }\n\n    var formatters = this.formatters[format];\n\n    return formatters.reduce(function(str, formatter) {\n      return str + formatter(date);\n    }, '');\n  };\n\n  this.parse = function(input, format, baseDate) {\n    if (!angular.isString(input) || !format) {\n      return input;\n    }\n\n    format = $locale.DATETIME_FORMATS[format] || format;\n    format = format.replace(SPECIAL_CHARACTERS_REGEXP, '\\\\$&');\n\n    if ($locale.id !== localeId) {\n      this.init();\n    }\n\n    if (!this.parsers[format]) {\n      this.parsers[format] = createParser(format, 'apply');\n    }\n\n    var parser = this.parsers[format],\n        regex = parser.regex,\n        map = parser.map,\n        results = input.match(regex),\n        tzOffset = false;\n    if (results && results.length) {\n      var fields, dt;\n      if (angular.isDate(baseDate) && !isNaN(baseDate.getTime())) {\n        fields = {\n          year: baseDate.getFullYear(),\n          month: baseDate.getMonth(),\n          date: baseDate.getDate(),\n          hours: baseDate.getHours(),\n          minutes: baseDate.getMinutes(),\n          seconds: baseDate.getSeconds(),\n          milliseconds: baseDate.getMilliseconds()\n        };\n      } else {\n        if (baseDate) {\n          $log.warn('dateparser:', 'baseDate is not a valid date');\n        }\n        fields = { year: 1900, month: 0, date: 1, hours: 0, minutes: 0, seconds: 0, milliseconds: 0 };\n      }\n\n      for (var i = 1, n = results.length; i < n; i++) {\n        var mapper = map[i - 1];\n        if (mapper.matcher === 'Z') {\n          tzOffset = true;\n        }\n\n        if (mapper.apply) {\n          mapper.apply.call(fields, results[i]);\n        }\n      }\n\n      var datesetter = tzOffset ? Date.prototype.setUTCFullYear :\n        Date.prototype.setFullYear;\n      var timesetter = tzOffset ? Date.prototype.setUTCHours :\n        Date.prototype.setHours;\n\n      if (isValid(fields.year, fields.month, fields.date)) {\n        if (angular.isDate(baseDate) && !isNaN(baseDate.getTime()) && !tzOffset) {\n          dt = new Date(baseDate);\n          datesetter.call(dt, fields.year, fields.month, fields.date);\n          timesetter.call(dt, fields.hours, fields.minutes,\n            fields.seconds, fields.milliseconds);\n        } else {\n          dt = new Date(0);\n          datesetter.call(dt, fields.year, fields.month, fields.date);\n          timesetter.call(dt, fields.hours || 0, fields.minutes || 0,\n            fields.seconds || 0, fields.milliseconds || 0);\n        }\n      }\n\n      return dt;\n    }\n  };\n\n  // Check if date is valid for specific month (and year for February).\n  // Month: 0 = Jan, 1 = Feb, etc\n  function isValid(year, month, date) {\n    if (date < 1) {\n      return false;\n    }\n\n    if (month === 1 && date > 28) {\n      return date === 29 && (year % 4 === 0 && year % 100 !== 0 || year % 400 === 0);\n    }\n\n    if (month === 3 || month === 5 || month === 8 || month === 10) {\n      return date < 31;\n    }\n\n    return true;\n  }\n\n  function toInt(str) {\n    return parseInt(str, 10);\n  }\n\n  this.toTimezone = toTimezone;\n  this.fromTimezone = fromTimezone;\n  this.timezoneToOffset = timezoneToOffset;\n  this.addDateMinutes = addDateMinutes;\n  this.convertTimezoneToLocal = convertTimezoneToLocal;\n\n  function toTimezone(date, timezone) {\n    return date && timezone ? convertTimezoneToLocal(date, timezone) : date;\n  }\n\n  function fromTimezone(date, timezone) {\n    return date && timezone ? convertTimezoneToLocal(date, timezone, true) : date;\n  }\n\n  //https://github.com/angular/angular.js/blob/622c42169699ec07fc6daaa19fe6d224e5d2f70e/src/Angular.js#L1207\n  function timezoneToOffset(timezone, fallback) {\n    timezone = timezone.replace(/:/g, '');\n    var requestedTimezoneOffset = Date.parse('Jan 01, 1970 00:00:00 ' + timezone) / 60000;\n    return isNaN(requestedTimezoneOffset) ? fallback : requestedTimezoneOffset;\n  }\n\n  function addDateMinutes(date, minutes) {\n    date = new Date(date.getTime());\n    date.setMinutes(date.getMinutes() + minutes);\n    return date;\n  }\n\n  function convertTimezoneToLocal(date, timezone, reverse) {\n    reverse = reverse ? -1 : 1;\n    var dateTimezoneOffset = date.getTimezoneOffset();\n    var timezoneOffset = timezoneToOffset(timezone, dateTimezoneOffset);\n    return addDateMinutes(date, reverse * (timezoneOffset - dateTimezoneOffset));\n  }\n}]);\n\n// Avoiding use of ng-class as it creates a lot of watchers when a class is to be applied to\n// at most one element.\nangular.module('ui.bootstrap.isClass', [])\n.directive('uibIsClass', [\n         '$animate',\nfunction ($animate) {\n  //                    11111111          22222222\n  var ON_REGEXP = /^\\s*([\\s\\S]+?)\\s+on\\s+([\\s\\S]+?)\\s*$/;\n  //                    11111111           22222222\n  var IS_REGEXP = /^\\s*([\\s\\S]+?)\\s+for\\s+([\\s\\S]+?)\\s*$/;\n\n  var dataPerTracked = {};\n\n  return {\n    restrict: 'A',\n    compile: function(tElement, tAttrs) {\n      var linkedScopes = [];\n      var instances = [];\n      var expToData = {};\n      var lastActivated = null;\n      var onExpMatches = tAttrs.uibIsClass.match(ON_REGEXP);\n      var onExp = onExpMatches[2];\n      var expsStr = onExpMatches[1];\n      var exps = expsStr.split(',');\n\n      return linkFn;\n\n      function linkFn(scope, element, attrs) {\n        linkedScopes.push(scope);\n        instances.push({\n          scope: scope,\n          element: element\n        });\n\n        exps.forEach(function(exp, k) {\n          addForExp(exp, scope);\n        });\n\n        scope.$on('$destroy', removeScope);\n      }\n\n      function addForExp(exp, scope) {\n        var matches = exp.match(IS_REGEXP);\n        var clazz = scope.$eval(matches[1]);\n        var compareWithExp = matches[2];\n        var data = expToData[exp];\n        if (!data) {\n          var watchFn = function(compareWithVal) {\n            var newActivated = null;\n            instances.some(function(instance) {\n              var thisVal = instance.scope.$eval(onExp);\n              if (thisVal === compareWithVal) {\n                newActivated = instance;\n                return true;\n              }\n            });\n            if (data.lastActivated !== newActivated) {\n              if (data.lastActivated) {\n                $animate.removeClass(data.lastActivated.element, clazz);\n              }\n              if (newActivated) {\n                $animate.addClass(newActivated.element, clazz);\n              }\n              data.lastActivated = newActivated;\n            }\n          };\n          expToData[exp] = data = {\n            lastActivated: null,\n            scope: scope,\n            watchFn: watchFn,\n            compareWithExp: compareWithExp,\n            watcher: scope.$watch(compareWithExp, watchFn)\n          };\n        }\n        data.watchFn(scope.$eval(compareWithExp));\n      }\n\n      function removeScope(e) {\n        var removedScope = e.targetScope;\n        var index = linkedScopes.indexOf(removedScope);\n        linkedScopes.splice(index, 1);\n        instances.splice(index, 1);\n        if (linkedScopes.length) {\n          var newWatchScope = linkedScopes[0];\n          angular.forEach(expToData, function(data) {\n            if (data.scope === removedScope) {\n              data.watcher = newWatchScope.$watch(data.compareWithExp, data.watchFn);\n              data.scope = newWatchScope;\n            }\n          });\n        } else {\n          expToData = {};\n        }\n      }\n    }\n  };\n}]);\nangular.module('ui.bootstrap.datepicker', ['ui.bootstrap.dateparser', 'ui.bootstrap.isClass'])\n\n.value('$datepickerSuppressError', false)\n\n.value('$datepickerLiteralWarning', true)\n\n.constant('uibDatepickerConfig', {\n  datepickerMode: 'day',\n  formatDay: 'dd',\n  formatMonth: 'MMMM',\n  formatYear: 'yyyy',\n  formatDayHeader: 'EEE',\n  formatDayTitle: 'MMMM yyyy',\n  formatMonthTitle: 'yyyy',\n  maxDate: null,\n  maxMode: 'year',\n  minDate: null,\n  minMode: 'day',\n  monthColumns: 3,\n  ngModelOptions: {},\n  shortcutPropagation: false,\n  showWeeks: true,\n  yearColumns: 5,\n  yearRows: 4\n})\n\n.controller('UibDatepickerController', ['$scope', '$element', '$attrs', '$parse', '$interpolate', '$locale', '$log', 'dateFilter', 'uibDatepickerConfig', '$datepickerLiteralWarning', '$datepickerSuppressError', 'uibDateParser',\n  function($scope, $element, $attrs, $parse, $interpolate, $locale, $log, dateFilter, datepickerConfig, $datepickerLiteralWarning, $datepickerSuppressError, dateParser) {\n  var self = this,\n      ngModelCtrl = { $setViewValue: angular.noop }, // nullModelCtrl;\n      ngModelOptions = {},\n      watchListeners = [];\n\n  $element.addClass('uib-datepicker');\n  $attrs.$set('role', 'application');\n\n  if (!$scope.datepickerOptions) {\n    $scope.datepickerOptions = {};\n  }\n\n  // Modes chain\n  this.modes = ['day', 'month', 'year'];\n\n  [\n    'customClass',\n    'dateDisabled',\n    'datepickerMode',\n    'formatDay',\n    'formatDayHeader',\n    'formatDayTitle',\n    'formatMonth',\n    'formatMonthTitle',\n    'formatYear',\n    'maxDate',\n    'maxMode',\n    'minDate',\n    'minMode',\n    'monthColumns',\n    'showWeeks',\n    'shortcutPropagation',\n    'startingDay',\n    'yearColumns',\n    'yearRows'\n  ].forEach(function(key) {\n    switch (key) {\n      case 'customClass':\n      case 'dateDisabled':\n        $scope[key] = $scope.datepickerOptions[key] || angular.noop;\n        break;\n      case 'datepickerMode':\n        $scope.datepickerMode = angular.isDefined($scope.datepickerOptions.datepickerMode) ?\n          $scope.datepickerOptions.datepickerMode : datepickerConfig.datepickerMode;\n        break;\n      case 'formatDay':\n      case 'formatDayHeader':\n      case 'formatDayTitle':\n      case 'formatMonth':\n      case 'formatMonthTitle':\n      case 'formatYear':\n        self[key] = angular.isDefined($scope.datepickerOptions[key]) ?\n          $interpolate($scope.datepickerOptions[key])($scope.$parent) :\n          datepickerConfig[key];\n        break;\n      case 'monthColumns':\n      case 'showWeeks':\n      case 'shortcutPropagation':\n      case 'yearColumns':\n      case 'yearRows':\n        self[key] = angular.isDefined($scope.datepickerOptions[key]) ?\n          $scope.datepickerOptions[key] : datepickerConfig[key];\n        break;\n      case 'startingDay':\n        if (angular.isDefined($scope.datepickerOptions.startingDay)) {\n          self.startingDay = $scope.datepickerOptions.startingDay;\n        } else if (angular.isNumber(datepickerConfig.startingDay)) {\n          self.startingDay = datepickerConfig.startingDay;\n        } else {\n          self.startingDay = ($locale.DATETIME_FORMATS.FIRSTDAYOFWEEK + 8) % 7;\n        }\n\n        break;\n      case 'maxDate':\n      case 'minDate':\n        $scope.$watch('datepickerOptions.' + key, function(value) {\n          if (value) {\n            if (angular.isDate(value)) {\n              self[key] = dateParser.fromTimezone(new Date(value), ngModelOptions.getOption('timezone'));\n            } else {\n              if ($datepickerLiteralWarning) {\n                $log.warn('Literal date support has been deprecated, please switch to date object usage');\n              }\n\n              self[key] = new Date(dateFilter(value, 'medium'));\n            }\n          } else {\n            self[key] = datepickerConfig[key] ?\n              dateParser.fromTimezone(new Date(datepickerConfig[key]), ngModelOptions.getOption('timezone')) :\n              null;\n          }\n\n          self.refreshView();\n        });\n\n        break;\n      case 'maxMode':\n      case 'minMode':\n        if ($scope.datepickerOptions[key]) {\n          $scope.$watch(function() { return $scope.datepickerOptions[key]; }, function(value) {\n            self[key] = $scope[key] = angular.isDefined(value) ? value : $scope.datepickerOptions[key];\n            if (key === 'minMode' && self.modes.indexOf($scope.datepickerOptions.datepickerMode) < self.modes.indexOf(self[key]) ||\n              key === 'maxMode' && self.modes.indexOf($scope.datepickerOptions.datepickerMode) > self.modes.indexOf(self[key])) {\n              $scope.datepickerMode = self[key];\n              $scope.datepickerOptions.datepickerMode = self[key];\n            }\n          });\n        } else {\n          self[key] = $scope[key] = datepickerConfig[key] || null;\n        }\n\n        break;\n    }\n  });\n\n  $scope.uniqueId = 'datepicker-' + $scope.$id + '-' + Math.floor(Math.random() * 10000);\n\n  $scope.disabled = angular.isDefined($attrs.disabled) || false;\n  if (angular.isDefined($attrs.ngDisabled)) {\n    watchListeners.push($scope.$parent.$watch($attrs.ngDisabled, function(disabled) {\n      $scope.disabled = disabled;\n      self.refreshView();\n    }));\n  }\n\n  $scope.isActive = function(dateObject) {\n    if (self.compare(dateObject.date, self.activeDate) === 0) {\n      $scope.activeDateId = dateObject.uid;\n      return true;\n    }\n    return false;\n  };\n\n  this.init = function(ngModelCtrl_) {\n    ngModelCtrl = ngModelCtrl_;\n    ngModelOptions = extractOptions(ngModelCtrl);\n\n    if ($scope.datepickerOptions.initDate) {\n      self.activeDate = dateParser.fromTimezone($scope.datepickerOptions.initDate, ngModelOptions.getOption('timezone')) || new Date();\n      $scope.$watch('datepickerOptions.initDate', function(initDate) {\n        if (initDate && (ngModelCtrl.$isEmpty(ngModelCtrl.$modelValue) || ngModelCtrl.$invalid)) {\n          self.activeDate = dateParser.fromTimezone(initDate, ngModelOptions.getOption('timezone'));\n          self.refreshView();\n        }\n      });\n    } else {\n      self.activeDate = new Date();\n    }\n\n    var date = ngModelCtrl.$modelValue ? new Date(ngModelCtrl.$modelValue) : new Date();\n    this.activeDate = !isNaN(date) ?\n      dateParser.fromTimezone(date, ngModelOptions.getOption('timezone')) :\n      dateParser.fromTimezone(new Date(), ngModelOptions.getOption('timezone'));\n\n    ngModelCtrl.$render = function() {\n      self.render();\n    };\n  };\n\n  this.render = function() {\n    if (ngModelCtrl.$viewValue) {\n      var date = new Date(ngModelCtrl.$viewValue),\n          isValid = !isNaN(date);\n\n      if (isValid) {\n        this.activeDate = dateParser.fromTimezone(date, ngModelOptions.getOption('timezone'));\n      } else if (!$datepickerSuppressError) {\n        $log.error('Datepicker directive: \"ng-model\" value must be a Date object');\n      }\n    }\n    this.refreshView();\n  };\n\n  this.refreshView = function() {\n    if (this.element) {\n      $scope.selectedDt = null;\n      this._refreshView();\n      if ($scope.activeDt) {\n        $scope.activeDateId = $scope.activeDt.uid;\n      }\n\n      var date = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : null;\n      date = dateParser.fromTimezone(date, ngModelOptions.getOption('timezone'));\n      ngModelCtrl.$setValidity('dateDisabled', !date ||\n        this.element && !this.isDisabled(date));\n    }\n  };\n\n  this.createDateObject = function(date, format) {\n    var model = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : null;\n    model = dateParser.fromTimezone(model, ngModelOptions.getOption('timezone'));\n    var today = new Date();\n    today = dateParser.fromTimezone(today, ngModelOptions.getOption('timezone'));\n    var time = this.compare(date, today);\n    var dt = {\n      date: date,\n      label: dateParser.filter(date, format),\n      selected: model && this.compare(date, model) === 0,\n      disabled: this.isDisabled(date),\n      past: time < 0,\n      current: time === 0,\n      future: time > 0,\n      customClass: this.customClass(date) || null\n    };\n\n    if (model && this.compare(date, model) === 0) {\n      $scope.selectedDt = dt;\n    }\n\n    if (self.activeDate && this.compare(dt.date, self.activeDate) === 0) {\n      $scope.activeDt = dt;\n    }\n\n    return dt;\n  };\n\n  this.isDisabled = function(date) {\n    return $scope.disabled ||\n      this.minDate && this.compare(date, this.minDate) < 0 ||\n      this.maxDate && this.compare(date, this.maxDate) > 0 ||\n      $scope.dateDisabled && $scope.dateDisabled({date: date, mode: $scope.datepickerMode});\n  };\n\n  this.customClass = function(date) {\n    return $scope.customClass({date: date, mode: $scope.datepickerMode});\n  };\n\n  // Split array into smaller arrays\n  this.split = function(arr, size) {\n    var arrays = [];\n    while (arr.length > 0) {\n      arrays.push(arr.splice(0, size));\n    }\n    return arrays;\n  };\n\n  $scope.select = function(date) {\n    if ($scope.datepickerMode === self.minMode) {\n      var dt = ngModelCtrl.$viewValue ? dateParser.fromTimezone(new Date(ngModelCtrl.$viewValue), ngModelOptions.getOption('timezone')) : new Date(0, 0, 0, 0, 0, 0, 0);\n      dt.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n      dt = dateParser.toTimezone(dt, ngModelOptions.getOption('timezone'));\n      ngModelCtrl.$setViewValue(dt);\n      ngModelCtrl.$render();\n    } else {\n      self.activeDate = date;\n      setMode(self.modes[self.modes.indexOf($scope.datepickerMode) - 1]);\n\n      $scope.$emit('uib:datepicker.mode');\n    }\n\n    $scope.$broadcast('uib:datepicker.focus');\n  };\n\n  $scope.move = function(direction) {\n    var year = self.activeDate.getFullYear() + direction * (self.step.years || 0),\n        month = self.activeDate.getMonth() + direction * (self.step.months || 0);\n    self.activeDate.setFullYear(year, month, 1);\n    self.refreshView();\n  };\n\n  $scope.toggleMode = function(direction) {\n    direction = direction || 1;\n\n    if ($scope.datepickerMode === self.maxMode && direction === 1 ||\n      $scope.datepickerMode === self.minMode && direction === -1) {\n      return;\n    }\n\n    setMode(self.modes[self.modes.indexOf($scope.datepickerMode) + direction]);\n\n    $scope.$emit('uib:datepicker.mode');\n  };\n\n  // Key event mapper\n  $scope.keys = { 13: 'enter', 32: 'space', 33: 'pageup', 34: 'pagedown', 35: 'end', 36: 'home', 37: 'left', 38: 'up', 39: 'right', 40: 'down' };\n\n  var focusElement = function() {\n    self.element[0].focus();\n  };\n\n  // Listen for focus requests from popup directive\n  $scope.$on('uib:datepicker.focus', focusElement);\n\n  $scope.keydown = function(evt) {\n    var key = $scope.keys[evt.which];\n\n    if (!key || evt.shiftKey || evt.altKey || $scope.disabled) {\n      return;\n    }\n\n    evt.preventDefault();\n    if (!self.shortcutPropagation) {\n      evt.stopPropagation();\n    }\n\n    if (key === 'enter' || key === 'space') {\n      if (self.isDisabled(self.activeDate)) {\n        return; // do nothing\n      }\n      $scope.select(self.activeDate);\n    } else if (evt.ctrlKey && (key === 'up' || key === 'down')) {\n      $scope.toggleMode(key === 'up' ? 1 : -1);\n    } else {\n      self.handleKeyDown(key, evt);\n      self.refreshView();\n    }\n  };\n\n  $element.on('keydown', function(evt) {\n    $scope.$apply(function() {\n      $scope.keydown(evt);\n    });\n  });\n\n  $scope.$on('$destroy', function() {\n    //Clear all watch listeners on destroy\n    while (watchListeners.length) {\n      watchListeners.shift()();\n    }\n  });\n\n  function setMode(mode) {\n    $scope.datepickerMode = mode;\n    $scope.datepickerOptions.datepickerMode = mode;\n  }\n\n  function extractOptions(ngModelCtrl) {\n    var ngModelOptions;\n\n    if (angular.version.minor < 6) { // in angular < 1.6 $options could be missing\n      // guarantee a value\n      ngModelOptions = ngModelCtrl.$options ||\n        $scope.datepickerOptions.ngModelOptions ||\n        datepickerConfig.ngModelOptions ||\n        {};\n\n      // mimic 1.6+ api\n      ngModelOptions.getOption = function (key) {\n        return ngModelOptions[key];\n      };\n    } else { // in angular >=1.6 $options is always present\n      // ng-model-options defaults timezone to null; don't let its precedence squash a non-null value\n      var timezone = ngModelCtrl.$options.getOption('timezone') ||\n        ($scope.datepickerOptions.ngModelOptions ? $scope.datepickerOptions.ngModelOptions.timezone : null) ||\n        (datepickerConfig.ngModelOptions ? datepickerConfig.ngModelOptions.timezone : null);\n\n      // values passed to createChild override existing values\n      ngModelOptions = ngModelCtrl.$options // start with a ModelOptions instance\n        .createChild(datepickerConfig.ngModelOptions) // lowest precedence\n        .createChild($scope.datepickerOptions.ngModelOptions)\n        .createChild(ngModelCtrl.$options) // highest precedence\n        .createChild({timezone: timezone}); // to keep from squashing a non-null value\n    }\n\n    return ngModelOptions;\n  }\n}])\n\n.controller('UibDaypickerController', ['$scope', '$element', 'dateFilter', function(scope, $element, dateFilter) {\n  var DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n  this.step = { months: 1 };\n  this.element = $element;\n  function getDaysInMonth(year, month) {\n    return month === 1 && year % 4 === 0 &&\n      (year % 100 !== 0 || year % 400 === 0) ? 29 : DAYS_IN_MONTH[month];\n  }\n\n  this.init = function(ctrl) {\n    angular.extend(ctrl, this);\n    scope.showWeeks = ctrl.showWeeks;\n    ctrl.refreshView();\n  };\n\n  this.getDates = function(startDate, n) {\n    var dates = new Array(n), current = new Date(startDate), i = 0, date;\n    while (i < n) {\n      date = new Date(current);\n      dates[i++] = date;\n      current.setDate(current.getDate() + 1);\n    }\n    return dates;\n  };\n\n  this._refreshView = function() {\n    var year = this.activeDate.getFullYear(),\n      month = this.activeDate.getMonth(),\n      firstDayOfMonth = new Date(this.activeDate);\n\n    firstDayOfMonth.setFullYear(year, month, 1);\n\n    var difference = this.startingDay - firstDayOfMonth.getDay(),\n      numDisplayedFromPreviousMonth = difference > 0 ?\n        7 - difference : - difference,\n      firstDate = new Date(firstDayOfMonth);\n\n    if (numDisplayedFromPreviousMonth > 0) {\n      firstDate.setDate(-numDisplayedFromPreviousMonth + 1);\n    }\n\n    // 42 is the number of days on a six-week calendar\n    var days = this.getDates(firstDate, 42);\n    for (var i = 0; i < 42; i ++) {\n      days[i] = angular.extend(this.createDateObject(days[i], this.formatDay), {\n        secondary: days[i].getMonth() !== month,\n        uid: scope.uniqueId + '-' + i\n      });\n    }\n\n    scope.labels = new Array(7);\n    for (var j = 0; j < 7; j++) {\n      scope.labels[j] = {\n        abbr: dateFilter(days[j].date, this.formatDayHeader),\n        full: dateFilter(days[j].date, 'EEEE')\n      };\n    }\n\n    scope.title = dateFilter(this.activeDate, this.formatDayTitle);\n    scope.rows = this.split(days, 7);\n\n    if (scope.showWeeks) {\n      scope.weekNumbers = [];\n      var thursdayIndex = (4 + 7 - this.startingDay) % 7,\n          numWeeks = scope.rows.length;\n      for (var curWeek = 0; curWeek < numWeeks; curWeek++) {\n        scope.weekNumbers.push(\n          getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date));\n      }\n    }\n  };\n\n  this.compare = function(date1, date2) {\n    var _date1 = new Date(date1.getFullYear(), date1.getMonth(), date1.getDate());\n    var _date2 = new Date(date2.getFullYear(), date2.getMonth(), date2.getDate());\n    _date1.setFullYear(date1.getFullYear());\n    _date2.setFullYear(date2.getFullYear());\n    return _date1 - _date2;\n  };\n\n  function getISO8601WeekNumber(date) {\n    var checkDate = new Date(date);\n    checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7)); // Thursday\n    var time = checkDate.getTime();\n    checkDate.setMonth(0); // Compare with Jan 1\n    checkDate.setDate(1);\n    return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;\n  }\n\n  this.handleKeyDown = function(key, evt) {\n    var date = this.activeDate.getDate();\n\n    if (key === 'left') {\n      date = date - 1;\n    } else if (key === 'up') {\n      date = date - 7;\n    } else if (key === 'right') {\n      date = date + 1;\n    } else if (key === 'down') {\n      date = date + 7;\n    } else if (key === 'pageup' || key === 'pagedown') {\n      var month = this.activeDate.getMonth() + (key === 'pageup' ? - 1 : 1);\n      this.activeDate.setMonth(month, 1);\n      date = Math.min(getDaysInMonth(this.activeDate.getFullYear(), this.activeDate.getMonth()), date);\n    } else if (key === 'home') {\n      date = 1;\n    } else if (key === 'end') {\n      date = getDaysInMonth(this.activeDate.getFullYear(), this.activeDate.getMonth());\n    }\n    this.activeDate.setDate(date);\n  };\n}])\n\n.controller('UibMonthpickerController', ['$scope', '$element', 'dateFilter', function(scope, $element, dateFilter) {\n  this.step = { years: 1 };\n  this.element = $element;\n\n  this.init = function(ctrl) {\n    angular.extend(ctrl, this);\n    ctrl.refreshView();\n  };\n\n  this._refreshView = function() {\n    var months = new Array(12),\n        year = this.activeDate.getFullYear(),\n        date;\n\n    for (var i = 0; i < 12; i++) {\n      date = new Date(this.activeDate);\n      date.setFullYear(year, i, 1);\n      months[i] = angular.extend(this.createDateObject(date, this.formatMonth), {\n        uid: scope.uniqueId + '-' + i\n      });\n    }\n\n    scope.title = dateFilter(this.activeDate, this.formatMonthTitle);\n    scope.rows = this.split(months, this.monthColumns);\n    scope.yearHeaderColspan = this.monthColumns > 3 ? this.monthColumns - 2 : 1;\n  };\n\n  this.compare = function(date1, date2) {\n    var _date1 = new Date(date1.getFullYear(), date1.getMonth());\n    var _date2 = new Date(date2.getFullYear(), date2.getMonth());\n    _date1.setFullYear(date1.getFullYear());\n    _date2.setFullYear(date2.getFullYear());\n    return _date1 - _date2;\n  };\n\n  this.handleKeyDown = function(key, evt) {\n    var date = this.activeDate.getMonth();\n\n    if (key === 'left') {\n      date = date - 1;\n    } else if (key === 'up') {\n      date = date - this.monthColumns;\n    } else if (key === 'right') {\n      date = date + 1;\n    } else if (key === 'down') {\n      date = date + this.monthColumns;\n    } else if (key === 'pageup' || key === 'pagedown') {\n      var year = this.activeDate.getFullYear() + (key === 'pageup' ? - 1 : 1);\n      this.activeDate.setFullYear(year);\n    } else if (key === 'home') {\n      date = 0;\n    } else if (key === 'end') {\n      date = 11;\n    }\n    this.activeDate.setMonth(date);\n  };\n}])\n\n.controller('UibYearpickerController', ['$scope', '$element', 'dateFilter', function(scope, $element, dateFilter) {\n  var columns, range;\n  this.element = $element;\n\n  function getStartingYear(year) {\n    return parseInt((year - 1) / range, 10) * range + 1;\n  }\n\n  this.yearpickerInit = function() {\n    columns = this.yearColumns;\n    range = this.yearRows * columns;\n    this.step = { years: range };\n  };\n\n  this._refreshView = function() {\n    var years = new Array(range), date;\n\n    for (var i = 0, start = getStartingYear(this.activeDate.getFullYear()); i < range; i++) {\n      date = new Date(this.activeDate);\n      date.setFullYear(start + i, 0, 1);\n      years[i] = angular.extend(this.createDateObject(date, this.formatYear), {\n        uid: scope.uniqueId + '-' + i\n      });\n    }\n\n    scope.title = [years[0].label, years[range - 1].label].join(' - ');\n    scope.rows = this.split(years, columns);\n    scope.columns = columns;\n  };\n\n  this.compare = function(date1, date2) {\n    return date1.getFullYear() - date2.getFullYear();\n  };\n\n  this.handleKeyDown = function(key, evt) {\n    var date = this.activeDate.getFullYear();\n\n    if (key === 'left') {\n      date = date - 1;\n    } else if (key === 'up') {\n      date = date - columns;\n    } else if (key === 'right') {\n      date = date + 1;\n    } else if (key === 'down') {\n      date = date + columns;\n    } else if (key === 'pageup' || key === 'pagedown') {\n      date += (key === 'pageup' ? - 1 : 1) * range;\n    } else if (key === 'home') {\n      date = getStartingYear(this.activeDate.getFullYear());\n    } else if (key === 'end') {\n      date = getStartingYear(this.activeDate.getFullYear()) + range - 1;\n    }\n    this.activeDate.setFullYear(date);\n  };\n}])\n\n.directive('uibDatepicker', function() {\n  return {\n    templateUrl: function(element, attrs) {\n      return attrs.templateUrl || 'uib/template/datepicker/datepicker.html';\n    },\n    scope: {\n      datepickerOptions: '=?'\n    },\n    require: ['uibDatepicker', '^ngModel'],\n    restrict: 'A',\n    controller: 'UibDatepickerController',\n    controllerAs: 'datepicker',\n    link: function(scope, element, attrs, ctrls) {\n      var datepickerCtrl = ctrls[0], ngModelCtrl = ctrls[1];\n\n      datepickerCtrl.init(ngModelCtrl);\n    }\n  };\n})\n\n.directive('uibDaypicker', function() {\n  return {\n    templateUrl: function(element, attrs) {\n      return attrs.templateUrl || 'uib/template/datepicker/day.html';\n    },\n    require: ['^uibDatepicker', 'uibDaypicker'],\n    restrict: 'A',\n    controller: 'UibDaypickerController',\n    link: function(scope, element, attrs, ctrls) {\n      var datepickerCtrl = ctrls[0],\n        daypickerCtrl = ctrls[1];\n\n      daypickerCtrl.init(datepickerCtrl);\n    }\n  };\n})\n\n.directive('uibMonthpicker', function() {\n  return {\n    templateUrl: function(element, attrs) {\n      return attrs.templateUrl || 'uib/template/datepicker/month.html';\n    },\n    require: ['^uibDatepicker', 'uibMonthpicker'],\n    restrict: 'A',\n    controller: 'UibMonthpickerController',\n    link: function(scope, element, attrs, ctrls) {\n      var datepickerCtrl = ctrls[0],\n        monthpickerCtrl = ctrls[1];\n\n      monthpickerCtrl.init(datepickerCtrl);\n    }\n  };\n})\n\n.directive('uibYearpicker', function() {\n  return {\n    templateUrl: function(element, attrs) {\n      return attrs.templateUrl || 'uib/template/datepicker/year.html';\n    },\n    require: ['^uibDatepicker', 'uibYearpicker'],\n    restrict: 'A',\n    controller: 'UibYearpickerController',\n    link: function(scope, element, attrs, ctrls) {\n      var ctrl = ctrls[0];\n      angular.extend(ctrl, ctrls[1]);\n      ctrl.yearpickerInit();\n\n      ctrl.refreshView();\n    }\n  };\n});\n\nangular.module('ui.bootstrap.position', [])\n\n/**\n * A set of utility methods for working with the DOM.\n * It is meant to be used where we need to absolute-position elements in\n * relation to another element (this is the case for tooltips, popovers,\n * typeahead suggestions etc.).\n */\n  .factory('$uibPosition', ['$document', '$window', function($document, $window) {\n    /**\n     * Used by scrollbarWidth() function to cache scrollbar's width.\n     * Do not access this variable directly, use scrollbarWidth() instead.\n     */\n    var SCROLLBAR_WIDTH;\n    /**\n     * scrollbar on body and html element in IE and Edge overlay\n     * content and should be considered 0 width.\n     */\n    var BODY_SCROLLBAR_WIDTH;\n    var OVERFLOW_REGEX = {\n      normal: /(auto|scroll)/,\n      hidden: /(auto|scroll|hidden)/\n    };\n    var PLACEMENT_REGEX = {\n      auto: /\\s?auto?\\s?/i,\n      primary: /^(top|bottom|left|right)$/,\n      secondary: /^(top|bottom|left|right|center)$/,\n      vertical: /^(top|bottom)$/\n    };\n    var BODY_REGEX = /(HTML|BODY)/;\n\n    return {\n\n      /**\n       * Provides a raw DOM element from a jQuery/jQLite element.\n       *\n       * @param {element} elem - The element to convert.\n       *\n       * @returns {element} A HTML element.\n       */\n      getRawNode: function(elem) {\n        return elem.nodeName ? elem : elem[0] || elem;\n      },\n\n      /**\n       * Provides a parsed number for a style property.  Strips\n       * units and casts invalid numbers to 0.\n       *\n       * @param {string} value - The style value to parse.\n       *\n       * @returns {number} A valid number.\n       */\n      parseStyle: function(value) {\n        value = parseFloat(value);\n        return isFinite(value) ? value : 0;\n      },\n\n      /**\n       * Provides the closest positioned ancestor.\n       *\n       * @param {element} element - The element to get the offest parent for.\n       *\n       * @returns {element} The closest positioned ancestor.\n       */\n      offsetParent: function(elem) {\n        elem = this.getRawNode(elem);\n\n        var offsetParent = elem.offsetParent || $document[0].documentElement;\n\n        function isStaticPositioned(el) {\n          return ($window.getComputedStyle(el).position || 'static') === 'static';\n        }\n\n        while (offsetParent && offsetParent !== $document[0].documentElement && isStaticPositioned(offsetParent)) {\n          offsetParent = offsetParent.offsetParent;\n        }\n\n        return offsetParent || $document[0].documentElement;\n      },\n\n      /**\n       * Provides the scrollbar width, concept from TWBS measureScrollbar()\n       * function in https://github.com/twbs/bootstrap/blob/master/js/modal.js\n       * In IE and Edge, scollbar on body and html element overlay and should\n       * return a width of 0.\n       *\n       * @returns {number} The width of the browser scollbar.\n       */\n      scrollbarWidth: function(isBody) {\n        if (isBody) {\n          if (angular.isUndefined(BODY_SCROLLBAR_WIDTH)) {\n            var bodyElem = $document.find('body');\n            bodyElem.addClass('uib-position-body-scrollbar-measure');\n            BODY_SCROLLBAR_WIDTH = $window.innerWidth - bodyElem[0].clientWidth;\n            BODY_SCROLLBAR_WIDTH = isFinite(BODY_SCROLLBAR_WIDTH) ? BODY_SCROLLBAR_WIDTH : 0;\n            bodyElem.removeClass('uib-position-body-scrollbar-measure');\n          }\n          return BODY_SCROLLBAR_WIDTH;\n        }\n\n        if (angular.isUndefined(SCROLLBAR_WIDTH)) {\n          var scrollElem = angular.element('<div class=\"uib-position-scrollbar-measure\"></div>');\n          $document.find('body').append(scrollElem);\n          SCROLLBAR_WIDTH = scrollElem[0].offsetWidth - scrollElem[0].clientWidth;\n          SCROLLBAR_WIDTH = isFinite(SCROLLBAR_WIDTH) ? SCROLLBAR_WIDTH : 0;\n          scrollElem.remove();\n        }\n\n        return SCROLLBAR_WIDTH;\n      },\n\n      /**\n       * Provides the padding required on an element to replace the scrollbar.\n       *\n       * @returns {object} An object with the following properties:\n       *   <ul>\n       *     <li>**scrollbarWidth**: the width of the scrollbar</li>\n       *     <li>**widthOverflow**: whether the the width is overflowing</li>\n       *     <li>**right**: the amount of right padding on the element needed to replace the scrollbar</li>\n       *     <li>**rightOriginal**: the amount of right padding currently on the element</li>\n       *     <li>**heightOverflow**: whether the the height is overflowing</li>\n       *     <li>**bottom**: the amount of bottom padding on the element needed to replace the scrollbar</li>\n       *     <li>**bottomOriginal**: the amount of bottom padding currently on the element</li>\n       *   </ul>\n       */\n      scrollbarPadding: function(elem) {\n        elem = this.getRawNode(elem);\n\n        var elemStyle = $window.getComputedStyle(elem);\n        var paddingRight = this.parseStyle(elemStyle.paddingRight);\n        var paddingBottom = this.parseStyle(elemStyle.paddingBottom);\n        var scrollParent = this.scrollParent(elem, false, true);\n        var scrollbarWidth = this.scrollbarWidth(BODY_REGEX.test(scrollParent.tagName));\n\n        return {\n          scrollbarWidth: scrollbarWidth,\n          widthOverflow: scrollParent.scrollWidth > scrollParent.clientWidth,\n          right: paddingRight + scrollbarWidth,\n          originalRight: paddingRight,\n          heightOverflow: scrollParent.scrollHeight > scrollParent.clientHeight,\n          bottom: paddingBottom + scrollbarWidth,\n          originalBottom: paddingBottom\n         };\n      },\n\n      /**\n       * Checks to see if the element is scrollable.\n       *\n       * @param {element} elem - The element to check.\n       * @param {boolean=} [includeHidden=false] - Should scroll style of 'hidden' be considered,\n       *   default is false.\n       *\n       * @returns {boolean} Whether the element is scrollable.\n       */\n      isScrollable: function(elem, includeHidden) {\n        elem = this.getRawNode(elem);\n\n        var overflowRegex = includeHidden ? OVERFLOW_REGEX.hidden : OVERFLOW_REGEX.normal;\n        var elemStyle = $window.getComputedStyle(elem);\n        return overflowRegex.test(elemStyle.overflow + elemStyle.overflowY + elemStyle.overflowX);\n      },\n\n      /**\n       * Provides the closest scrollable ancestor.\n       * A port of the jQuery UI scrollParent method:\n       * https://github.com/jquery/jquery-ui/blob/master/ui/scroll-parent.js\n       *\n       * @param {element} elem - The element to find the scroll parent of.\n       * @param {boolean=} [includeHidden=false] - Should scroll style of 'hidden' be considered,\n       *   default is false.\n       * @param {boolean=} [includeSelf=false] - Should the element being passed be\n       * included in the scrollable llokup.\n       *\n       * @returns {element} A HTML element.\n       */\n      scrollParent: function(elem, includeHidden, includeSelf) {\n        elem = this.getRawNode(elem);\n\n        var overflowRegex = includeHidden ? OVERFLOW_REGEX.hidden : OVERFLOW_REGEX.normal;\n        var documentEl = $document[0].documentElement;\n        var elemStyle = $window.getComputedStyle(elem);\n        if (includeSelf && overflowRegex.test(elemStyle.overflow + elemStyle.overflowY + elemStyle.overflowX)) {\n          return elem;\n        }\n        var excludeStatic = elemStyle.position === 'absolute';\n        var scrollParent = elem.parentElement || documentEl;\n\n        if (scrollParent === documentEl || elemStyle.position === 'fixed') {\n          return documentEl;\n        }\n\n        while (scrollParent.parentElement && scrollParent !== documentEl) {\n          var spStyle = $window.getComputedStyle(scrollParent);\n          if (excludeStatic && spStyle.position !== 'static') {\n            excludeStatic = false;\n          }\n\n          if (!excludeStatic && overflowRegex.test(spStyle.overflow + spStyle.overflowY + spStyle.overflowX)) {\n            break;\n          }\n          scrollParent = scrollParent.parentElement;\n        }\n\n        return scrollParent;\n      },\n\n      /**\n       * Provides read-only equivalent of jQuery's position function:\n       * http://api.jquery.com/position/ - distance to closest positioned\n       * ancestor.  Does not account for margins by default like jQuery position.\n       *\n       * @param {element} elem - The element to caclulate the position on.\n       * @param {boolean=} [includeMargins=false] - Should margins be accounted\n       * for, default is false.\n       *\n       * @returns {object} An object with the following properties:\n       *   <ul>\n       *     <li>**width**: the width of the element</li>\n       *     <li>**height**: the height of the element</li>\n       *     <li>**top**: distance to top edge of offset parent</li>\n       *     <li>**left**: distance to left edge of offset parent</li>\n       *   </ul>\n       */\n      position: function(elem, includeMagins) {\n        elem = this.getRawNode(elem);\n\n        var elemOffset = this.offset(elem);\n        if (includeMagins) {\n          var elemStyle = $window.getComputedStyle(elem);\n          elemOffset.top -= this.parseStyle(elemStyle.marginTop);\n          elemOffset.left -= this.parseStyle(elemStyle.marginLeft);\n        }\n        var parent = this.offsetParent(elem);\n        var parentOffset = {top: 0, left: 0};\n\n        if (parent !== $document[0].documentElement) {\n          parentOffset = this.offset(parent);\n          parentOffset.top += parent.clientTop - parent.scrollTop;\n          parentOffset.left += parent.clientLeft - parent.scrollLeft;\n        }\n\n        return {\n          width: Math.round(angular.isNumber(elemOffset.width) ? elemOffset.width : elem.offsetWidth),\n          height: Math.round(angular.isNumber(elemOffset.height) ? elemOffset.height : elem.offsetHeight),\n          top: Math.round(elemOffset.top - parentOffset.top),\n          left: Math.round(elemOffset.left - parentOffset.left)\n        };\n      },\n\n      /**\n       * Provides read-only equivalent of jQuery's offset function:\n       * http://api.jquery.com/offset/ - distance to viewport.  Does\n       * not account for borders, margins, or padding on the body\n       * element.\n       *\n       * @param {element} elem - The element to calculate the offset on.\n       *\n       * @returns {object} An object with the following properties:\n       *   <ul>\n       *     <li>**width**: the width of the element</li>\n       *     <li>**height**: the height of the element</li>\n       *     <li>**top**: distance to top edge of viewport</li>\n       *     <li>**right**: distance to bottom edge of viewport</li>\n       *   </ul>\n       */\n      offset: function(elem) {\n        elem = this.getRawNode(elem);\n\n        var elemBCR = elem.getBoundingClientRect();\n        return {\n          width: Math.round(angular.isNumber(elemBCR.width) ? elemBCR.width : elem.offsetWidth),\n          height: Math.round(angular.isNumber(elemBCR.height) ? elemBCR.height : elem.offsetHeight),\n          top: Math.round(elemBCR.top + ($window.pageYOffset || $document[0].documentElement.scrollTop)),\n          left: Math.round(elemBCR.left + ($window.pageXOffset || $document[0].documentElement.scrollLeft))\n        };\n      },\n\n      /**\n       * Provides offset distance to the closest scrollable ancestor\n       * or viewport.  Accounts for border and scrollbar width.\n       *\n       * Right and bottom dimensions represent the distance to the\n       * respective edge of the viewport element.  If the element\n       * edge extends beyond the viewport, a negative value will be\n       * reported.\n       *\n       * @param {element} elem - The element to get the viewport offset for.\n       * @param {boolean=} [useDocument=false] - Should the viewport be the document element instead\n       * of the first scrollable element, default is false.\n       * @param {boolean=} [includePadding=true] - Should the padding on the offset parent element\n       * be accounted for, default is true.\n       *\n       * @returns {object} An object with the following properties:\n       *   <ul>\n       *     <li>**top**: distance to the top content edge of viewport element</li>\n       *     <li>**bottom**: distance to the bottom content edge of viewport element</li>\n       *     <li>**left**: distance to the left content edge of viewport element</li>\n       *     <li>**right**: distance to the right content edge of viewport element</li>\n       *   </ul>\n       */\n      viewportOffset: function(elem, useDocument, includePadding) {\n        elem = this.getRawNode(elem);\n        includePadding = includePadding !== false ? true : false;\n\n        var elemBCR = elem.getBoundingClientRect();\n        var offsetBCR = {top: 0, left: 0, bottom: 0, right: 0};\n\n        var offsetParent = useDocument ? $document[0].documentElement : this.scrollParent(elem);\n        var offsetParentBCR = offsetParent.getBoundingClientRect();\n\n        offsetBCR.top = offsetParentBCR.top + offsetParent.clientTop;\n        offsetBCR.left = offsetParentBCR.left + offsetParent.clientLeft;\n        if (offsetParent === $document[0].documentElement) {\n          offsetBCR.top += $window.pageYOffset;\n          offsetBCR.left += $window.pageXOffset;\n        }\n        offsetBCR.bottom = offsetBCR.top + offsetParent.clientHeight;\n        offsetBCR.right = offsetBCR.left + offsetParent.clientWidth;\n\n        if (includePadding) {\n          var offsetParentStyle = $window.getComputedStyle(offsetParent);\n          offsetBCR.top += this.parseStyle(offsetParentStyle.paddingTop);\n          offsetBCR.bottom -= this.parseStyle(offsetParentStyle.paddingBottom);\n          offsetBCR.left += this.parseStyle(offsetParentStyle.paddingLeft);\n          offsetBCR.right -= this.parseStyle(offsetParentStyle.paddingRight);\n        }\n\n        return {\n          top: Math.round(elemBCR.top - offsetBCR.top),\n          bottom: Math.round(offsetBCR.bottom - elemBCR.bottom),\n          left: Math.round(elemBCR.left - offsetBCR.left),\n          right: Math.round(offsetBCR.right - elemBCR.right)\n        };\n      },\n\n      /**\n       * Provides an array of placement values parsed from a placement string.\n       * Along with the 'auto' indicator, supported placement strings are:\n       *   <ul>\n       *     <li>top: element on top, horizontally centered on host element.</li>\n       *     <li>top-left: element on top, left edge aligned with host element left edge.</li>\n       *     <li>top-right: element on top, lerightft edge aligned with host element right edge.</li>\n       *     <li>bottom: element on bottom, horizontally centered on host element.</li>\n       *     <li>bottom-left: element on bottom, left edge aligned with host element left edge.</li>\n       *     <li>bottom-right: element on bottom, right edge aligned with host element right edge.</li>\n       *     <li>left: element on left, vertically centered on host element.</li>\n       *     <li>left-top: element on left, top edge aligned with host element top edge.</li>\n       *     <li>left-bottom: element on left, bottom edge aligned with host element bottom edge.</li>\n       *     <li>right: element on right, vertically centered on host element.</li>\n       *     <li>right-top: element on right, top edge aligned with host element top edge.</li>\n       *     <li>right-bottom: element on right, bottom edge aligned with host element bottom edge.</li>\n       *   </ul>\n       * A placement string with an 'auto' indicator is expected to be\n       * space separated from the placement, i.e: 'auto bottom-left'  If\n       * the primary and secondary placement values do not match 'top,\n       * bottom, left, right' then 'top' will be the primary placement and\n       * 'center' will be the secondary placement.  If 'auto' is passed, true\n       * will be returned as the 3rd value of the array.\n       *\n       * @param {string} placement - The placement string to parse.\n       *\n       * @returns {array} An array with the following values\n       * <ul>\n       *   <li>**[0]**: The primary placement.</li>\n       *   <li>**[1]**: The secondary placement.</li>\n       *   <li>**[2]**: If auto is passed: true, else undefined.</li>\n       * </ul>\n       */\n      parsePlacement: function(placement) {\n        var autoPlace = PLACEMENT_REGEX.auto.test(placement);\n        if (autoPlace) {\n          placement = placement.replace(PLACEMENT_REGEX.auto, '');\n        }\n\n        placement = placement.split('-');\n\n        placement[0] = placement[0] || 'top';\n        if (!PLACEMENT_REGEX.primary.test(placement[0])) {\n          placement[0] = 'top';\n        }\n\n        placement[1] = placement[1] || 'center';\n        if (!PLACEMENT_REGEX.secondary.test(placement[1])) {\n          placement[1] = 'center';\n        }\n\n        if (autoPlace) {\n          placement[2] = true;\n        } else {\n          placement[2] = false;\n        }\n\n        return placement;\n      },\n\n      /**\n       * Provides coordinates for an element to be positioned relative to\n       * another element.  Passing 'auto' as part of the placement parameter\n       * will enable smart placement - where the element fits. i.e:\n       * 'auto left-top' will check to see if there is enough space to the left\n       * of the hostElem to fit the targetElem, if not place right (same for secondary\n       * top placement).  Available space is calculated using the viewportOffset\n       * function.\n       *\n       * @param {element} hostElem - The element to position against.\n       * @param {element} targetElem - The element to position.\n       * @param {string=} [placement=top] - The placement for the targetElem,\n       *   default is 'top'. 'center' is assumed as secondary placement for\n       *   'top', 'left', 'right', and 'bottom' placements.  Available placements are:\n       *   <ul>\n       *     <li>top</li>\n       *     <li>top-right</li>\n       *     <li>top-left</li>\n       *     <li>bottom</li>\n       *     <li>bottom-left</li>\n       *     <li>bottom-right</li>\n       *     <li>left</li>\n       *     <li>left-top</li>\n       *     <li>left-bottom</li>\n       *     <li>right</li>\n       *     <li>right-top</li>\n       *     <li>right-bottom</li>\n       *   </ul>\n       * @param {boolean=} [appendToBody=false] - Should the top and left values returned\n       *   be calculated from the body element, default is false.\n       *\n       * @returns {object} An object with the following properties:\n       *   <ul>\n       *     <li>**top**: Value for targetElem top.</li>\n       *     <li>**left**: Value for targetElem left.</li>\n       *     <li>**placement**: The resolved placement.</li>\n       *   </ul>\n       */\n      positionElements: function(hostElem, targetElem, placement, appendToBody) {\n        hostElem = this.getRawNode(hostElem);\n        targetElem = this.getRawNode(targetElem);\n\n        // need to read from prop to support tests.\n        var targetWidth = angular.isDefined(targetElem.offsetWidth) ? targetElem.offsetWidth : targetElem.prop('offsetWidth');\n        var targetHeight = angular.isDefined(targetElem.offsetHeight) ? targetElem.offsetHeight : targetElem.prop('offsetHeight');\n\n        placement = this.parsePlacement(placement);\n\n        var hostElemPos = appendToBody ? this.offset(hostElem) : this.position(hostElem);\n        var targetElemPos = {top: 0, left: 0, placement: ''};\n\n        if (placement[2]) {\n          var viewportOffset = this.viewportOffset(hostElem, appendToBody);\n\n          var targetElemStyle = $window.getComputedStyle(targetElem);\n          var adjustedSize = {\n            width: targetWidth + Math.round(Math.abs(this.parseStyle(targetElemStyle.marginLeft) + this.parseStyle(targetElemStyle.marginRight))),\n            height: targetHeight + Math.round(Math.abs(this.parseStyle(targetElemStyle.marginTop) + this.parseStyle(targetElemStyle.marginBottom)))\n          };\n\n          placement[0] = placement[0] === 'top' && adjustedSize.height > viewportOffset.top && adjustedSize.height <= viewportOffset.bottom ? 'bottom' :\n                         placement[0] === 'bottom' && adjustedSize.height > viewportOffset.bottom && adjustedSize.height <= viewportOffset.top ? 'top' :\n                         placement[0] === 'left' && adjustedSize.width > viewportOffset.left && adjustedSize.width <= viewportOffset.right ? 'right' :\n                         placement[0] === 'right' && adjustedSize.width > viewportOffset.right && adjustedSize.width <= viewportOffset.left ? 'left' :\n                         placement[0];\n\n          placement[1] = placement[1] === 'top' && adjustedSize.height - hostElemPos.height > viewportOffset.bottom && adjustedSize.height - hostElemPos.height <= viewportOffset.top ? 'bottom' :\n                         placement[1] === 'bottom' && adjustedSize.height - hostElemPos.height > viewportOffset.top && adjustedSize.height - hostElemPos.height <= viewportOffset.bottom ? 'top' :\n                         placement[1] === 'left' && adjustedSize.width - hostElemPos.width > viewportOffset.right && adjustedSize.width - hostElemPos.width <= viewportOffset.left ? 'right' :\n                         placement[1] === 'right' && adjustedSize.width - hostElemPos.width > viewportOffset.left && adjustedSize.width - hostElemPos.width <= viewportOffset.right ? 'left' :\n                         placement[1];\n\n          if (placement[1] === 'center') {\n            if (PLACEMENT_REGEX.vertical.test(placement[0])) {\n              var xOverflow = hostElemPos.width / 2 - targetWidth / 2;\n              if (viewportOffset.left + xOverflow < 0 && adjustedSize.width - hostElemPos.width <= viewportOffset.right) {\n                placement[1] = 'left';\n              } else if (viewportOffset.right + xOverflow < 0 && adjustedSize.width - hostElemPos.width <= viewportOffset.left) {\n                placement[1] = 'right';\n              }\n            } else {\n              var yOverflow = hostElemPos.height / 2 - adjustedSize.height / 2;\n              if (viewportOffset.top + yOverflow < 0 && adjustedSize.height - hostElemPos.height <= viewportOffset.bottom) {\n                placement[1] = 'top';\n              } else if (viewportOffset.bottom + yOverflow < 0 && adjustedSize.height - hostElemPos.height <= viewportOffset.top) {\n                placement[1] = 'bottom';\n              }\n            }\n          }\n        }\n\n        switch (placement[0]) {\n          case 'top':\n            targetElemPos.top = hostElemPos.top - targetHeight;\n            break;\n          case 'bottom':\n            targetElemPos.top = hostElemPos.top + hostElemPos.height;\n            break;\n          case 'left':\n            targetElemPos.left = hostElemPos.left - targetWidth;\n            break;\n          case 'right':\n            targetElemPos.left = hostElemPos.left + hostElemPos.width;\n            break;\n        }\n\n        switch (placement[1]) {\n          case 'top':\n            targetElemPos.top = hostElemPos.top;\n            break;\n          case 'bottom':\n            targetElemPos.top = hostElemPos.top + hostElemPos.height - targetHeight;\n            break;\n          case 'left':\n            targetElemPos.left = hostElemPos.left;\n            break;\n          case 'right':\n            targetElemPos.left = hostElemPos.left + hostElemPos.width - targetWidth;\n            break;\n          case 'center':\n            if (PLACEMENT_REGEX.vertical.test(placement[0])) {\n              targetElemPos.left = hostElemPos.left + hostElemPos.width / 2 - targetWidth / 2;\n            } else {\n              targetElemPos.top = hostElemPos.top + hostElemPos.height / 2 - targetHeight / 2;\n            }\n            break;\n        }\n\n        targetElemPos.top = Math.round(targetElemPos.top);\n        targetElemPos.left = Math.round(targetElemPos.left);\n        targetElemPos.placement = placement[1] === 'center' ? placement[0] : placement[0] + '-' + placement[1];\n\n        return targetElemPos;\n      },\n\n      /**\n       * Provides a way to adjust the top positioning after first\n       * render to correctly align element to top after content\n       * rendering causes resized element height\n       *\n       * @param {array} placementClasses - The array of strings of classes\n       * element should have.\n       * @param {object} containerPosition - The object with container\n       * position information\n       * @param {number} initialHeight - The initial height for the elem.\n       * @param {number} currentHeight - The current height for the elem.\n       */\n      adjustTop: function(placementClasses, containerPosition, initialHeight, currentHeight) {\n        if (placementClasses.indexOf('top') !== -1 && initialHeight !== currentHeight) {\n          return {\n            top: containerPosition.top - currentHeight + 'px'\n          };\n        }\n      },\n\n      /**\n       * Provides a way for positioning tooltip & dropdown\n       * arrows when using placement options beyond the standard\n       * left, right, top, or bottom.\n       *\n       * @param {element} elem - The tooltip/dropdown element.\n       * @param {string} placement - The placement for the elem.\n       */\n      positionArrow: function(elem, placement) {\n        elem = this.getRawNode(elem);\n\n        var innerElem = elem.querySelector('.tooltip-inner, .popover-inner');\n        if (!innerElem) {\n          return;\n        }\n\n        var isTooltip = angular.element(innerElem).hasClass('tooltip-inner');\n\n        var arrowElem = isTooltip ? elem.querySelector('.tooltip-arrow') : elem.querySelector('.arrow');\n        if (!arrowElem) {\n          return;\n        }\n\n        var arrowCss = {\n          top: '',\n          bottom: '',\n          left: '',\n          right: ''\n        };\n\n        placement = this.parsePlacement(placement);\n        if (placement[1] === 'center') {\n          // no adjustment necessary - just reset styles\n          angular.element(arrowElem).css(arrowCss);\n          return;\n        }\n\n        var borderProp = 'border-' + placement[0] + '-width';\n        var borderWidth = $window.getComputedStyle(arrowElem)[borderProp];\n\n        var borderRadiusProp = 'border-';\n        if (PLACEMENT_REGEX.vertical.test(placement[0])) {\n          borderRadiusProp += placement[0] + '-' + placement[1];\n        } else {\n          borderRadiusProp += placement[1] + '-' + placement[0];\n        }\n        borderRadiusProp += '-radius';\n        var borderRadius = $window.getComputedStyle(isTooltip ? innerElem : elem)[borderRadiusProp];\n\n        switch (placement[0]) {\n          case 'top':\n            arrowCss.bottom = isTooltip ? '0' : '-' + borderWidth;\n            break;\n          case 'bottom':\n            arrowCss.top = isTooltip ? '0' : '-' + borderWidth;\n            break;\n          case 'left':\n            arrowCss.right = isTooltip ? '0' : '-' + borderWidth;\n            break;\n          case 'right':\n            arrowCss.left = isTooltip ? '0' : '-' + borderWidth;\n            break;\n        }\n\n        arrowCss[placement[1]] = borderRadius;\n\n        angular.element(arrowElem).css(arrowCss);\n      }\n    };\n  }]);\n\nangular.module('ui.bootstrap.datepickerPopup', ['ui.bootstrap.datepicker', 'ui.bootstrap.position'])\n\n.value('$datepickerPopupLiteralWarning', true)\n\n.constant('uibDatepickerPopupConfig', {\n  altInputFormats: [],\n  appendToBody: false,\n  clearText: 'Clear',\n  closeOnDateSelection: true,\n  closeText: 'Done',\n  currentText: 'Today',\n  datepickerPopup: 'yyyy-MM-dd',\n  datepickerPopupTemplateUrl: 'uib/template/datepickerPopup/popup.html',\n  datepickerTemplateUrl: 'uib/template/datepicker/datepicker.html',\n  html5Types: {\n    date: 'yyyy-MM-dd',\n    'datetime-local': 'yyyy-MM-ddTHH:mm:ss.sss',\n    'month': 'yyyy-MM'\n  },\n  onOpenFocus: true,\n  showButtonBar: true,\n  placement: 'auto bottom-left'\n})\n\n.controller('UibDatepickerPopupController', ['$scope', '$element', '$attrs', '$compile', '$log', '$parse', '$window', '$document', '$rootScope', '$uibPosition', 'dateFilter', 'uibDateParser', 'uibDatepickerPopupConfig', '$timeout', 'uibDatepickerConfig', '$datepickerPopupLiteralWarning',\nfunction($scope, $element, $attrs, $compile, $log, $parse, $window, $document, $rootScope, $position, dateFilter, dateParser, datepickerPopupConfig, $timeout, datepickerConfig, $datepickerPopupLiteralWarning) {\n  var cache = {},\n    isHtml5DateInput = false;\n  var dateFormat, closeOnDateSelection, appendToBody, onOpenFocus,\n    datepickerPopupTemplateUrl, datepickerTemplateUrl, popupEl, datepickerEl, scrollParentEl,\n    ngModel, ngModelOptions, $popup, altInputFormats, watchListeners = [];\n\n  this.init = function(_ngModel_) {\n    ngModel = _ngModel_;\n    ngModelOptions = extractOptions(ngModel);\n    closeOnDateSelection = angular.isDefined($attrs.closeOnDateSelection) ?\n      $scope.$parent.$eval($attrs.closeOnDateSelection) :\n      datepickerPopupConfig.closeOnDateSelection;\n    appendToBody = angular.isDefined($attrs.datepickerAppendToBody) ?\n      $scope.$parent.$eval($attrs.datepickerAppendToBody) :\n      datepickerPopupConfig.appendToBody;\n    onOpenFocus = angular.isDefined($attrs.onOpenFocus) ?\n      $scope.$parent.$eval($attrs.onOpenFocus) : datepickerPopupConfig.onOpenFocus;\n    datepickerPopupTemplateUrl = angular.isDefined($attrs.datepickerPopupTemplateUrl) ?\n      $attrs.datepickerPopupTemplateUrl :\n      datepickerPopupConfig.datepickerPopupTemplateUrl;\n    datepickerTemplateUrl = angular.isDefined($attrs.datepickerTemplateUrl) ?\n      $attrs.datepickerTemplateUrl : datepickerPopupConfig.datepickerTemplateUrl;\n    altInputFormats = angular.isDefined($attrs.altInputFormats) ?\n      $scope.$parent.$eval($attrs.altInputFormats) :\n      datepickerPopupConfig.altInputFormats;\n\n    $scope.showButtonBar = angular.isDefined($attrs.showButtonBar) ?\n      $scope.$parent.$eval($attrs.showButtonBar) :\n      datepickerPopupConfig.showButtonBar;\n\n    if (datepickerPopupConfig.html5Types[$attrs.type]) {\n      dateFormat = datepickerPopupConfig.html5Types[$attrs.type];\n      isHtml5DateInput = true;\n    } else {\n      dateFormat = $attrs.uibDatepickerPopup || datepickerPopupConfig.datepickerPopup;\n      $attrs.$observe('uibDatepickerPopup', function(value, oldValue) {\n        var newDateFormat = value || datepickerPopupConfig.datepickerPopup;\n        // Invalidate the $modelValue to ensure that formatters re-run\n        // FIXME: Refactor when PR is merged: https://github.com/angular/angular.js/pull/10764\n        if (newDateFormat !== dateFormat) {\n          dateFormat = newDateFormat;\n          ngModel.$modelValue = null;\n\n          if (!dateFormat) {\n            throw new Error('uibDatepickerPopup must have a date format specified.');\n          }\n        }\n      });\n    }\n\n    if (!dateFormat) {\n      throw new Error('uibDatepickerPopup must have a date format specified.');\n    }\n\n    if (isHtml5DateInput && $attrs.uibDatepickerPopup) {\n      throw new Error('HTML5 date input types do not support custom formats.');\n    }\n\n    // popup element used to display calendar\n    popupEl = angular.element('<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>');\n\n    popupEl.attr({\n      'ng-model': 'date',\n      'ng-change': 'dateSelection(date)',\n      'template-url': datepickerPopupTemplateUrl\n    });\n\n    // datepicker element\n    datepickerEl = angular.element(popupEl.children()[0]);\n    datepickerEl.attr('template-url', datepickerTemplateUrl);\n\n    if (!$scope.datepickerOptions) {\n      $scope.datepickerOptions = {};\n    }\n\n    if (isHtml5DateInput) {\n      if ($attrs.type === 'month') {\n        $scope.datepickerOptions.datepickerMode = 'month';\n        $scope.datepickerOptions.minMode = 'month';\n      }\n    }\n\n    datepickerEl.attr('datepicker-options', 'datepickerOptions');\n\n    if (!isHtml5DateInput) {\n      // Internal API to maintain the correct ng-invalid-[key] class\n      ngModel.$$parserName = 'date';\n      ngModel.$validators.date = validator;\n      ngModel.$parsers.unshift(parseDate);\n      ngModel.$formatters.push(function(value) {\n        if (ngModel.$isEmpty(value)) {\n          $scope.date = value;\n          return value;\n        }\n\n        if (angular.isNumber(value)) {\n          value = new Date(value);\n        }\n\n        $scope.date = dateParser.fromTimezone(value, ngModelOptions.getOption('timezone'));\n\n        return dateParser.filter($scope.date, dateFormat);\n      });\n    } else {\n      ngModel.$formatters.push(function(value) {\n        $scope.date = dateParser.fromTimezone(value, ngModelOptions.getOption('timezone'));\n        return value;\n      });\n    }\n\n    // Detect changes in the view from the text box\n    ngModel.$viewChangeListeners.push(function() {\n      $scope.date = parseDateString(ngModel.$viewValue);\n    });\n\n    $element.on('keydown', inputKeydownBind);\n\n    $popup = $compile(popupEl)($scope);\n    // Prevent jQuery cache memory leak (template is now redundant after linking)\n    popupEl.remove();\n\n    if (appendToBody) {\n      $document.find('body').append($popup);\n    } else {\n      $element.after($popup);\n    }\n\n    $scope.$on('$destroy', function() {\n      if ($scope.isOpen === true) {\n        if (!$rootScope.$$phase) {\n          $scope.$apply(function() {\n            $scope.isOpen = false;\n          });\n        }\n      }\n\n      $popup.remove();\n      $element.off('keydown', inputKeydownBind);\n      $document.off('click', documentClickBind);\n      if (scrollParentEl) {\n        scrollParentEl.off('scroll', positionPopup);\n      }\n      angular.element($window).off('resize', positionPopup);\n\n      //Clear all watch listeners on destroy\n      while (watchListeners.length) {\n        watchListeners.shift()();\n      }\n    });\n  };\n\n  $scope.getText = function(key) {\n    return $scope[key + 'Text'] || datepickerPopupConfig[key + 'Text'];\n  };\n\n  $scope.isDisabled = function(date) {\n    if (date === 'today') {\n      date = dateParser.fromTimezone(new Date(), ngModelOptions.getOption('timezone'));\n    }\n\n    var dates = {};\n    angular.forEach(['minDate', 'maxDate'], function(key) {\n      if (!$scope.datepickerOptions[key]) {\n        dates[key] = null;\n      } else if (angular.isDate($scope.datepickerOptions[key])) {\n        dates[key] = new Date($scope.datepickerOptions[key]);\n      } else {\n        if ($datepickerPopupLiteralWarning) {\n          $log.warn('Literal date support has been deprecated, please switch to date object usage');\n        }\n\n        dates[key] = new Date(dateFilter($scope.datepickerOptions[key], 'medium'));\n      }\n    });\n\n    return $scope.datepickerOptions &&\n      dates.minDate && $scope.compare(date, dates.minDate) < 0 ||\n      dates.maxDate && $scope.compare(date, dates.maxDate) > 0;\n  };\n\n  $scope.compare = function(date1, date2) {\n    return new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()) - new Date(date2.getFullYear(), date2.getMonth(), date2.getDate());\n  };\n\n  // Inner change\n  $scope.dateSelection = function(dt) {\n    $scope.date = dt;\n    var date = $scope.date ? dateParser.filter($scope.date, dateFormat) : null; // Setting to NULL is necessary for form validators to function\n    $element.val(date);\n    ngModel.$setViewValue(date);\n\n    if (closeOnDateSelection) {\n      $scope.isOpen = false;\n      $element[0].focus();\n    }\n  };\n\n  $scope.keydown = function(evt) {\n    if (evt.which === 27) {\n      evt.stopPropagation();\n      $scope.isOpen = false;\n      $element[0].focus();\n    }\n  };\n\n  $scope.select = function(date, evt) {\n    evt.stopPropagation();\n\n    if (date === 'today') {\n      var today = new Date();\n      if (angular.isDate($scope.date)) {\n        date = new Date($scope.date);\n        date.setFullYear(today.getFullYear(), today.getMonth(), today.getDate());\n      } else {\n        date = dateParser.fromTimezone(today, ngModelOptions.getOption('timezone'));\n        date.setHours(0, 0, 0, 0);\n      }\n    }\n    $scope.dateSelection(date);\n  };\n\n  $scope.close = function(evt) {\n    evt.stopPropagation();\n\n    $scope.isOpen = false;\n    $element[0].focus();\n  };\n\n  $scope.disabled = angular.isDefined($attrs.disabled) || false;\n  if ($attrs.ngDisabled) {\n    watchListeners.push($scope.$parent.$watch($parse($attrs.ngDisabled), function(disabled) {\n      $scope.disabled = disabled;\n    }));\n  }\n\n  $scope.$watch('isOpen', function(value) {\n    if (value) {\n      if (!$scope.disabled) {\n        $timeout(function() {\n          positionPopup();\n\n          if (onOpenFocus) {\n            $scope.$broadcast('uib:datepicker.focus');\n          }\n\n          $document.on('click', documentClickBind);\n\n          var placement = $attrs.popupPlacement ? $attrs.popupPlacement : datepickerPopupConfig.placement;\n          if (appendToBody || $position.parsePlacement(placement)[2]) {\n            scrollParentEl = scrollParentEl || angular.element($position.scrollParent($element));\n            if (scrollParentEl) {\n              scrollParentEl.on('scroll', positionPopup);\n            }\n          } else {\n            scrollParentEl = null;\n          }\n\n          angular.element($window).on('resize', positionPopup);\n        }, 0, false);\n      } else {\n        $scope.isOpen = false;\n      }\n    } else {\n      $document.off('click', documentClickBind);\n      if (scrollParentEl) {\n        scrollParentEl.off('scroll', positionPopup);\n      }\n      angular.element($window).off('resize', positionPopup);\n    }\n  });\n\n  function cameltoDash(string) {\n    return string.replace(/([A-Z])/g, function($1) { return '-' + $1.toLowerCase(); });\n  }\n\n  function parseDateString(viewValue) {\n    var date = dateParser.parse(viewValue, dateFormat, $scope.date);\n    if (isNaN(date)) {\n      for (var i = 0; i < altInputFormats.length; i++) {\n        date = dateParser.parse(viewValue, altInputFormats[i], $scope.date);\n        if (!isNaN(date)) {\n          return date;\n        }\n      }\n    }\n    return date;\n  }\n\n  function parseDate(viewValue) {\n    if (angular.isNumber(viewValue)) {\n      // presumably timestamp to date object\n      viewValue = new Date(viewValue);\n    }\n\n    if (!viewValue) {\n      return null;\n    }\n\n    if (angular.isDate(viewValue) && !isNaN(viewValue)) {\n      return viewValue;\n    }\n\n    if (angular.isString(viewValue)) {\n      var date = parseDateString(viewValue);\n      if (!isNaN(date)) {\n        return dateParser.toTimezone(date, ngModelOptions.getOption('timezone'));\n      }\n    }\n\n    return ngModelOptions.getOption('allowInvalid') ? viewValue : undefined;\n  }\n\n  function validator(modelValue, viewValue) {\n    var value = modelValue || viewValue;\n\n    if (!$attrs.ngRequired && !value) {\n      return true;\n    }\n\n    if (angular.isNumber(value)) {\n      value = new Date(value);\n    }\n\n    if (!value) {\n      return true;\n    }\n\n    if (angular.isDate(value) && !isNaN(value)) {\n      return true;\n    }\n\n    if (angular.isString(value)) {\n      return !isNaN(parseDateString(value));\n    }\n\n    return false;\n  }\n\n  function documentClickBind(event) {\n    if (!$scope.isOpen && $scope.disabled) {\n      return;\n    }\n\n    var popup = $popup[0];\n    var dpContainsTarget = $element[0].contains(event.target);\n    // The popup node may not be an element node\n    // In some browsers (IE) only element nodes have the 'contains' function\n    var popupContainsTarget = popup.contains !== undefined && popup.contains(event.target);\n    if ($scope.isOpen && !(dpContainsTarget || popupContainsTarget)) {\n      $scope.$apply(function() {\n        $scope.isOpen = false;\n      });\n    }\n  }\n\n  function inputKeydownBind(evt) {\n    if (evt.which === 27 && $scope.isOpen) {\n      evt.preventDefault();\n      evt.stopPropagation();\n      $scope.$apply(function() {\n        $scope.isOpen = false;\n      });\n      $element[0].focus();\n    } else if (evt.which === 40 && !$scope.isOpen) {\n      evt.preventDefault();\n      evt.stopPropagation();\n      $scope.$apply(function() {\n        $scope.isOpen = true;\n      });\n    }\n  }\n\n  function positionPopup() {\n    if ($scope.isOpen) {\n      var dpElement = angular.element($popup[0].querySelector('.uib-datepicker-popup'));\n      var placement = $attrs.popupPlacement ? $attrs.popupPlacement : datepickerPopupConfig.placement;\n      var position = $position.positionElements($element, dpElement, placement, appendToBody);\n      dpElement.css({top: position.top + 'px', left: position.left + 'px'});\n      if (dpElement.hasClass('uib-position-measure')) {\n        dpElement.removeClass('uib-position-measure');\n      }\n    }\n  }\n\n  function extractOptions(ngModelCtrl) {\n    var ngModelOptions;\n\n    if (angular.version.minor < 6) { // in angular < 1.6 $options could be missing\n      // guarantee a value\n      ngModelOptions = angular.isObject(ngModelCtrl.$options) ?\n        ngModelCtrl.$options :\n        {\n          timezone: null\n        };\n\n      // mimic 1.6+ api\n      ngModelOptions.getOption = function (key) {\n        return ngModelOptions[key];\n      };\n    } else { // in angular >=1.6 $options is always present\n      ngModelOptions = ngModelCtrl.$options;\n    }\n\n    return ngModelOptions;\n  }\n\n  $scope.$on('uib:datepicker.mode', function() {\n    $timeout(positionPopup, 0, false);\n  });\n}])\n\n.directive('uibDatepickerPopup', function() {\n  return {\n    require: ['ngModel', 'uibDatepickerPopup'],\n    controller: 'UibDatepickerPopupController',\n    scope: {\n      datepickerOptions: '=?',\n      isOpen: '=?',\n      currentText: '@',\n      clearText: '@',\n      closeText: '@'\n    },\n    link: function(scope, element, attrs, ctrls) {\n      var ngModel = ctrls[0],\n        ctrl = ctrls[1];\n\n      ctrl.init(ngModel);\n    }\n  };\n})\n\n.directive('uibDatepickerPopupWrap', function() {\n  return {\n    restrict: 'A',\n    transclude: true,\n    templateUrl: function(element, attrs) {\n      return attrs.templateUrl || 'uib/template/datepickerPopup/popup.html';\n    }\n  };\n});\n\nangular.module('ui.bootstrap.debounce', [])\n/**\n * A helper, internal service that debounces a function\n */\n  .factory('$$debounce', ['$timeout', function($timeout) {\n    return function(callback, debounceTime) {\n      var timeoutPromise;\n\n      return function() {\n        var self = this;\n        var args = Array.prototype.slice.call(arguments);\n        if (timeoutPromise) {\n          $timeout.cancel(timeoutPromise);\n        }\n\n        timeoutPromise = $timeout(function() {\n          callback.apply(self, args);\n        }, debounceTime);\n      };\n    };\n  }]);\n\nangular.module('ui.bootstrap.multiMap', [])\n/**\n * A helper, internal data structure that stores all references attached to key\n */\n  .factory('$$multiMap', function() {\n    return {\n      createNew: function() {\n        var map = {};\n\n        return {\n          entries: function() {\n            return Object.keys(map).map(function(key) {\n              return {\n                key: key,\n                value: map[key]\n              };\n            });\n          },\n          get: function(key) {\n            return map[key];\n          },\n          hasKey: function(key) {\n            return !!map[key];\n          },\n          keys: function() {\n            return Object.keys(map);\n          },\n          put: function(key, value) {\n            if (!map[key]) {\n              map[key] = [];\n            }\n\n            map[key].push(value);\n          },\n          remove: function(key, value) {\n            var values = map[key];\n\n            if (!values) {\n              return;\n            }\n\n            var idx = values.indexOf(value);\n\n            if (idx !== -1) {\n              values.splice(idx, 1);\n            }\n\n            if (!values.length) {\n              delete map[key];\n            }\n          }\n        };\n      }\n    };\n  });\n\nangular.module('ui.bootstrap.dropdown', ['ui.bootstrap.multiMap', 'ui.bootstrap.position'])\n\n.constant('uibDropdownConfig', {\n  appendToOpenClass: 'uib-dropdown-open',\n  openClass: 'open'\n})\n\n.service('uibDropdownService', ['$document', '$rootScope', '$$multiMap', function($document, $rootScope, $$multiMap) {\n  var openScope = null;\n  var openedContainers = $$multiMap.createNew();\n\n  this.isOnlyOpen = function(dropdownScope, appendTo) {\n    var openedDropdowns = openedContainers.get(appendTo);\n    if (openedDropdowns) {\n      var openDropdown = openedDropdowns.reduce(function(toClose, dropdown) {\n        if (dropdown.scope === dropdownScope) {\n          return dropdown;\n        }\n\n        return toClose;\n      }, {});\n      if (openDropdown) {\n        return openedDropdowns.length === 1;\n      }\n    }\n\n    return false;\n  };\n\n  this.open = function(dropdownScope, element, appendTo) {\n    if (!openScope) {\n      $document.on('click', closeDropdown);\n    }\n\n    if (openScope && openScope !== dropdownScope) {\n      openScope.isOpen = false;\n    }\n\n    openScope = dropdownScope;\n\n    if (!appendTo) {\n      return;\n    }\n\n    var openedDropdowns = openedContainers.get(appendTo);\n    if (openedDropdowns) {\n      var openedScopes = openedDropdowns.map(function(dropdown) {\n        return dropdown.scope;\n      });\n      if (openedScopes.indexOf(dropdownScope) === -1) {\n        openedContainers.put(appendTo, {\n          scope: dropdownScope\n        });\n      }\n    } else {\n      openedContainers.put(appendTo, {\n        scope: dropdownScope\n      });\n    }\n  };\n\n  this.close = function(dropdownScope, element, appendTo) {\n    if (openScope === dropdownScope) {\n      $document.off('click', closeDropdown);\n      $document.off('keydown', this.keybindFilter);\n      openScope = null;\n    }\n\n    if (!appendTo) {\n      return;\n    }\n\n    var openedDropdowns = openedContainers.get(appendTo);\n    if (openedDropdowns) {\n      var dropdownToClose = openedDropdowns.reduce(function(toClose, dropdown) {\n        if (dropdown.scope === dropdownScope) {\n          return dropdown;\n        }\n\n        return toClose;\n      }, {});\n      if (dropdownToClose) {\n        openedContainers.remove(appendTo, dropdownToClose);\n      }\n    }\n  };\n\n  var closeDropdown = function(evt) {\n    // This method may still be called during the same mouse event that\n    // unbound this event handler. So check openScope before proceeding.\n    if (!openScope || !openScope.isOpen) { return; }\n\n    if (evt && openScope.getAutoClose() === 'disabled') { return; }\n\n    if (evt && evt.which === 3) { return; }\n\n    var toggleElement = openScope.getToggleElement();\n    if (evt && toggleElement && toggleElement[0].contains(evt.target)) {\n      return;\n    }\n\n    var dropdownElement = openScope.getDropdownElement();\n    if (evt && openScope.getAutoClose() === 'outsideClick' &&\n      dropdownElement && dropdownElement[0].contains(evt.target)) {\n      return;\n    }\n\n    openScope.focusToggleElement();\n    openScope.isOpen = false;\n\n    if (!$rootScope.$$phase) {\n      openScope.$apply();\n    }\n  };\n\n  this.keybindFilter = function(evt) {\n    if (!openScope) {\n      // see this.close as ESC could have been pressed which kills the scope so we can not proceed\n      return;\n    }\n\n    var dropdownElement = openScope.getDropdownElement();\n    var toggleElement = openScope.getToggleElement();\n    var dropdownElementTargeted = dropdownElement && dropdownElement[0].contains(evt.target);\n    var toggleElementTargeted = toggleElement && toggleElement[0].contains(evt.target);\n    if (evt.which === 27) {\n      evt.stopPropagation();\n      openScope.focusToggleElement();\n      closeDropdown();\n    } else if (openScope.isKeynavEnabled() && [38, 40].indexOf(evt.which) !== -1 && openScope.isOpen && (dropdownElementTargeted || toggleElementTargeted)) {\n      evt.preventDefault();\n      evt.stopPropagation();\n      openScope.focusDropdownEntry(evt.which);\n    }\n  };\n}])\n\n.controller('UibDropdownController', ['$scope', '$element', '$attrs', '$parse', 'uibDropdownConfig', 'uibDropdownService', '$animate', '$uibPosition', '$document', '$compile', '$templateRequest', function($scope, $element, $attrs, $parse, dropdownConfig, uibDropdownService, $animate, $position, $document, $compile, $templateRequest) {\n  var self = this,\n    scope = $scope.$new(), // create a child scope so we are not polluting original one\n    templateScope,\n    appendToOpenClass = dropdownConfig.appendToOpenClass,\n    openClass = dropdownConfig.openClass,\n    getIsOpen,\n    setIsOpen = angular.noop,\n    toggleInvoker = $attrs.onToggle ? $parse($attrs.onToggle) : angular.noop,\n    keynavEnabled = false,\n    selectedOption = null,\n    body = $document.find('body');\n\n  $element.addClass('dropdown');\n\n  this.init = function() {\n    if ($attrs.isOpen) {\n      getIsOpen = $parse($attrs.isOpen);\n      setIsOpen = getIsOpen.assign;\n\n      $scope.$watch(getIsOpen, function(value) {\n        scope.isOpen = !!value;\n      });\n    }\n\n    keynavEnabled = angular.isDefined($attrs.keyboardNav);\n  };\n\n  this.toggle = function(open) {\n    scope.isOpen = arguments.length ? !!open : !scope.isOpen;\n    if (angular.isFunction(setIsOpen)) {\n      setIsOpen(scope, scope.isOpen);\n    }\n\n    return scope.isOpen;\n  };\n\n  // Allow other directives to watch status\n  this.isOpen = function() {\n    return scope.isOpen;\n  };\n\n  scope.getToggleElement = function() {\n    return self.toggleElement;\n  };\n\n  scope.getAutoClose = function() {\n    return $attrs.autoClose || 'always'; //or 'outsideClick' or 'disabled'\n  };\n\n  scope.getElement = function() {\n    return $element;\n  };\n\n  scope.isKeynavEnabled = function() {\n    return keynavEnabled;\n  };\n\n  scope.focusDropdownEntry = function(keyCode) {\n    var elems = self.dropdownMenu ? //If append to body is used.\n      angular.element(self.dropdownMenu).find('a') :\n      $element.find('ul').eq(0).find('a');\n\n    switch (keyCode) {\n      case 40: {\n        if (!angular.isNumber(self.selectedOption)) {\n          self.selectedOption = 0;\n        } else {\n          self.selectedOption = self.selectedOption === elems.length - 1 ?\n            self.selectedOption :\n            self.selectedOption + 1;\n        }\n        break;\n      }\n      case 38: {\n        if (!angular.isNumber(self.selectedOption)) {\n          self.selectedOption = elems.length - 1;\n        } else {\n          self.selectedOption = self.selectedOption === 0 ?\n            0 : self.selectedOption - 1;\n        }\n        break;\n      }\n    }\n    elems[self.selectedOption].focus();\n  };\n\n  scope.getDropdownElement = function() {\n    return self.dropdownMenu;\n  };\n\n  scope.focusToggleElement = function() {\n    if (self.toggleElement) {\n      self.toggleElement[0].focus();\n    }\n  };\n\n  function removeDropdownMenu() {\n    $element.append(self.dropdownMenu);\n  }\n\n  scope.$watch('isOpen', function(isOpen, wasOpen) {\n    var appendTo = null,\n      appendToBody = false;\n\n    if (angular.isDefined($attrs.dropdownAppendTo)) {\n      var appendToEl = $parse($attrs.dropdownAppendTo)(scope);\n      if (appendToEl) {\n        appendTo = angular.element(appendToEl);\n      }\n    }\n\n    if (angular.isDefined($attrs.dropdownAppendToBody)) {\n      var appendToBodyValue = $parse($attrs.dropdownAppendToBody)(scope);\n      if (appendToBodyValue !== false) {\n        appendToBody = true;\n      }\n    }\n\n    if (appendToBody && !appendTo) {\n      appendTo = body;\n    }\n\n    if (appendTo && self.dropdownMenu) {\n      if (isOpen) {\n        appendTo.append(self.dropdownMenu);\n        $element.on('$destroy', removeDropdownMenu);\n      } else {\n        $element.off('$destroy', removeDropdownMenu);\n        removeDropdownMenu();\n      }\n    }\n\n    if (appendTo && self.dropdownMenu) {\n      var pos = $position.positionElements($element, self.dropdownMenu, 'bottom-left', true),\n        css,\n        rightalign,\n        scrollbarPadding,\n        scrollbarWidth = 0;\n\n      css = {\n        top: pos.top + 'px',\n        display: isOpen ? 'block' : 'none'\n      };\n\n      rightalign = self.dropdownMenu.hasClass('dropdown-menu-right');\n      if (!rightalign) {\n        css.left = pos.left + 'px';\n        css.right = 'auto';\n      } else {\n        css.left = 'auto';\n        scrollbarPadding = $position.scrollbarPadding(appendTo);\n\n        if (scrollbarPadding.heightOverflow && scrollbarPadding.scrollbarWidth) {\n          scrollbarWidth = scrollbarPadding.scrollbarWidth;\n        }\n\n        css.right = window.innerWidth - scrollbarWidth -\n          (pos.left + $element.prop('offsetWidth')) + 'px';\n      }\n\n      // Need to adjust our positioning to be relative to the appendTo container\n      // if it's not the body element\n      if (!appendToBody) {\n        var appendOffset = $position.offset(appendTo);\n\n        css.top = pos.top - appendOffset.top + 'px';\n\n        if (!rightalign) {\n          css.left = pos.left - appendOffset.left + 'px';\n        } else {\n          css.right = window.innerWidth -\n            (pos.left - appendOffset.left + $element.prop('offsetWidth')) + 'px';\n        }\n      }\n\n      self.dropdownMenu.css(css);\n    }\n\n    var openContainer = appendTo ? appendTo : $element;\n    var dropdownOpenClass = appendTo ? appendToOpenClass : openClass;\n    var hasOpenClass = openContainer.hasClass(dropdownOpenClass);\n    var isOnlyOpen = uibDropdownService.isOnlyOpen($scope, appendTo);\n\n    if (hasOpenClass === !isOpen) {\n      var toggleClass;\n      if (appendTo) {\n        toggleClass = !isOnlyOpen ? 'addClass' : 'removeClass';\n      } else {\n        toggleClass = isOpen ? 'addClass' : 'removeClass';\n      }\n      $animate[toggleClass](openContainer, dropdownOpenClass).then(function() {\n        if (angular.isDefined(isOpen) && isOpen !== wasOpen) {\n          toggleInvoker($scope, { open: !!isOpen });\n        }\n      });\n    }\n\n    if (isOpen) {\n      if (self.dropdownMenuTemplateUrl) {\n        $templateRequest(self.dropdownMenuTemplateUrl).then(function(tplContent) {\n          templateScope = scope.$new();\n          $compile(tplContent.trim())(templateScope, function(dropdownElement) {\n            var newEl = dropdownElement;\n            self.dropdownMenu.replaceWith(newEl);\n            self.dropdownMenu = newEl;\n            $document.on('keydown', uibDropdownService.keybindFilter);\n          });\n        });\n      } else {\n        $document.on('keydown', uibDropdownService.keybindFilter);\n      }\n\n      scope.focusToggleElement();\n      uibDropdownService.open(scope, $element, appendTo);\n    } else {\n      uibDropdownService.close(scope, $element, appendTo);\n      if (self.dropdownMenuTemplateUrl) {\n        if (templateScope) {\n          templateScope.$destroy();\n        }\n        var newEl = angular.element('<ul class=\"dropdown-menu\"></ul>');\n        self.dropdownMenu.replaceWith(newEl);\n        self.dropdownMenu = newEl;\n      }\n\n      self.selectedOption = null;\n    }\n\n    if (angular.isFunction(setIsOpen)) {\n      setIsOpen($scope, isOpen);\n    }\n  });\n}])\n\n.directive('uibDropdown', function() {\n  return {\n    controller: 'UibDropdownController',\n    link: function(scope, element, attrs, dropdownCtrl) {\n      dropdownCtrl.init();\n    }\n  };\n})\n\n.directive('uibDropdownMenu', function() {\n  return {\n    restrict: 'A',\n    require: '?^uibDropdown',\n    link: function(scope, element, attrs, dropdownCtrl) {\n      if (!dropdownCtrl || angular.isDefined(attrs.dropdownNested)) {\n        return;\n      }\n\n      element.addClass('dropdown-menu');\n\n      var tplUrl = attrs.templateUrl;\n      if (tplUrl) {\n        dropdownCtrl.dropdownMenuTemplateUrl = tplUrl;\n      }\n\n      if (!dropdownCtrl.dropdownMenu) {\n        dropdownCtrl.dropdownMenu = element;\n      }\n    }\n  };\n})\n\n.directive('uibDropdownToggle', function() {\n  return {\n    require: '?^uibDropdown',\n    link: function(scope, element, attrs, dropdownCtrl) {\n      if (!dropdownCtrl) {\n        return;\n      }\n\n      element.addClass('dropdown-toggle');\n\n      dropdownCtrl.toggleElement = element;\n\n      var toggleDropdown = function(event) {\n        event.preventDefault();\n\n        if (!element.hasClass('disabled') && !attrs.disabled) {\n          scope.$apply(function() {\n            dropdownCtrl.toggle();\n          });\n        }\n      };\n\n      element.on('click', toggleDropdown);\n\n      // WAI-ARIA\n      element.attr({ 'aria-haspopup': true, 'aria-expanded': false });\n      scope.$watch(dropdownCtrl.isOpen, function(isOpen) {\n        element.attr('aria-expanded', !!isOpen);\n      });\n\n      scope.$on('$destroy', function() {\n        element.off('click', toggleDropdown);\n      });\n    }\n  };\n});\n\nangular.module('ui.bootstrap.stackedMap', [])\n/**\n * A helper, internal data structure that acts as a map but also allows getting / removing\n * elements in the LIFO order\n */\n  .factory('$$stackedMap', function() {\n    return {\n      createNew: function() {\n        var stack = [];\n\n        return {\n          add: function(key, value) {\n            stack.push({\n              key: key,\n              value: value\n            });\n          },\n          get: function(key) {\n            for (var i = 0; i < stack.length; i++) {\n              if (key === stack[i].key) {\n                return stack[i];\n              }\n            }\n          },\n          keys: function() {\n            var keys = [];\n            for (var i = 0; i < stack.length; i++) {\n              keys.push(stack[i].key);\n            }\n            return keys;\n          },\n          top: function() {\n            return stack[stack.length - 1];\n          },\n          remove: function(key) {\n            var idx = -1;\n            for (var i = 0; i < stack.length; i++) {\n              if (key === stack[i].key) {\n                idx = i;\n                break;\n              }\n            }\n            return stack.splice(idx, 1)[0];\n          },\n          removeTop: function() {\n            return stack.pop();\n          },\n          length: function() {\n            return stack.length;\n          }\n        };\n      }\n    };\n  });\nangular.module('ui.bootstrap.modal', ['ui.bootstrap.multiMap', 'ui.bootstrap.stackedMap', 'ui.bootstrap.position'])\n/**\n * Pluggable resolve mechanism for the modal resolve resolution\n * Supports UI Router's $resolve service\n */\n  .provider('$uibResolve', function() {\n    var resolve = this;\n    this.resolver = null;\n\n    this.setResolver = function(resolver) {\n      this.resolver = resolver;\n    };\n\n    this.$get = ['$injector', '$q', function($injector, $q) {\n      var resolver = resolve.resolver ? $injector.get(resolve.resolver) : null;\n      return {\n        resolve: function(invocables, locals, parent, self) {\n          if (resolver) {\n            return resolver.resolve(invocables, locals, parent, self);\n          }\n\n          var promises = [];\n\n          angular.forEach(invocables, function(value) {\n            if (angular.isFunction(value) || angular.isArray(value)) {\n              promises.push($q.resolve($injector.invoke(value)));\n            } else if (angular.isString(value)) {\n              promises.push($q.resolve($injector.get(value)));\n            } else {\n              promises.push($q.resolve(value));\n            }\n          });\n\n          return $q.all(promises).then(function(resolves) {\n            var resolveObj = {};\n            var resolveIter = 0;\n            angular.forEach(invocables, function(value, key) {\n              resolveObj[key] = resolves[resolveIter++];\n            });\n\n            return resolveObj;\n          });\n        }\n      };\n    }];\n  })\n\n/**\n * A helper directive for the $modal service. It creates a backdrop element.\n */\n  .directive('uibModalBackdrop', ['$animate', '$injector', '$uibModalStack',\n  function($animate, $injector, $modalStack) {\n    return {\n      restrict: 'A',\n      compile: function(tElement, tAttrs) {\n        tElement.addClass(tAttrs.backdropClass);\n        return linkFn;\n      }\n    };\n\n    function linkFn(scope, element, attrs) {\n      if (attrs.modalInClass) {\n        $animate.addClass(element, attrs.modalInClass);\n\n        scope.$on($modalStack.NOW_CLOSING_EVENT, function(e, setIsAsync) {\n          var done = setIsAsync();\n          if (scope.modalOptions.animation) {\n            $animate.removeClass(element, attrs.modalInClass).then(done);\n          } else {\n            done();\n          }\n        });\n      }\n    }\n  }])\n\n  .directive('uibModalWindow', ['$uibModalStack', '$q', '$animateCss', '$document',\n  function($modalStack, $q, $animateCss, $document) {\n    return {\n      scope: {\n        index: '@'\n      },\n      restrict: 'A',\n      transclude: true,\n      templateUrl: function(tElement, tAttrs) {\n        return tAttrs.templateUrl || 'uib/template/modal/window.html';\n      },\n      link: function(scope, element, attrs) {\n        element.addClass(attrs.windowTopClass || '');\n        scope.size = attrs.size;\n\n        scope.close = function(evt) {\n          var modal = $modalStack.getTop();\n          if (modal && modal.value.backdrop &&\n            modal.value.backdrop !== 'static' &&\n            evt.target === evt.currentTarget) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            $modalStack.dismiss(modal.key, 'backdrop click');\n          }\n        };\n\n        // moved from template to fix issue #2280\n        element.on('click', scope.close);\n\n        // This property is only added to the scope for the purpose of detecting when this directive is rendered.\n        // We can detect that by using this property in the template associated with this directive and then use\n        // {@link Attribute#$observe} on it. For more details please see {@link TableColumnResize}.\n        scope.$isRendered = true;\n\n        // Deferred object that will be resolved when this modal is rendered.\n        var modalRenderDeferObj = $q.defer();\n        // Resolve render promise post-digest\n        scope.$$postDigest(function() {\n          modalRenderDeferObj.resolve();\n        });\n\n        modalRenderDeferObj.promise.then(function() {\n          var animationPromise = null;\n\n          if (attrs.modalInClass) {\n            animationPromise = $animateCss(element, {\n              addClass: attrs.modalInClass\n            }).start();\n\n            scope.$on($modalStack.NOW_CLOSING_EVENT, function(e, setIsAsync) {\n              var done = setIsAsync();\n              $animateCss(element, {\n                removeClass: attrs.modalInClass\n              }).start().then(done);\n            });\n          }\n\n\n          $q.when(animationPromise).then(function() {\n            // Notify {@link $modalStack} that modal is rendered.\n            var modal = $modalStack.getTop();\n            if (modal) {\n              $modalStack.modalRendered(modal.key);\n            }\n\n            /**\n             * If something within the freshly-opened modal already has focus (perhaps via a\n             * directive that causes focus) then there's no need to try to focus anything.\n             */\n            if (!($document[0].activeElement && element[0].contains($document[0].activeElement))) {\n              var inputWithAutofocus = element[0].querySelector('[autofocus]');\n              /**\n               * Auto-focusing of a freshly-opened modal element causes any child elements\n               * with the autofocus attribute to lose focus. This is an issue on touch\n               * based devices which will show and then hide the onscreen keyboard.\n               * Attempts to refocus the autofocus element via JavaScript will not reopen\n               * the onscreen keyboard. Fixed by updated the focusing logic to only autofocus\n               * the modal element if the modal does not contain an autofocus element.\n               */\n              if (inputWithAutofocus) {\n                inputWithAutofocus.focus();\n              } else {\n                element[0].focus();\n              }\n            }\n          });\n        });\n      }\n    };\n  }])\n\n  .directive('uibModalAnimationClass', function() {\n    return {\n      compile: function(tElement, tAttrs) {\n        if (tAttrs.modalAnimation) {\n          tElement.addClass(tAttrs.uibModalAnimationClass);\n        }\n      }\n    };\n  })\n\n  .directive('uibModalTransclude', ['$animate', function($animate) {\n    return {\n      link: function(scope, element, attrs, controller, transclude) {\n        transclude(scope.$parent, function(clone) {\n          element.empty();\n          $animate.enter(clone, element);\n        });\n      }\n    };\n  }])\n\n  .factory('$uibModalStack', ['$animate', '$animateCss', '$document',\n    '$compile', '$rootScope', '$q', '$$multiMap', '$$stackedMap', '$uibPosition',\n    function($animate, $animateCss, $document, $compile, $rootScope, $q, $$multiMap, $$stackedMap, $uibPosition) {\n      var OPENED_MODAL_CLASS = 'modal-open';\n\n      var backdropDomEl, backdropScope;\n      var openedWindows = $$stackedMap.createNew();\n      var openedClasses = $$multiMap.createNew();\n      var $modalStack = {\n        NOW_CLOSING_EVENT: 'modal.stack.now-closing'\n      };\n      var topModalIndex = 0;\n      var previousTopOpenedModal = null;\n      var ARIA_HIDDEN_ATTRIBUTE_NAME = 'data-bootstrap-modal-aria-hidden-count';\n\n      //Modal focus behavior\n      var tabbableSelector = 'a[href], area[href], input:not([disabled]):not([tabindex=\\'-1\\']), ' +\n        'button:not([disabled]):not([tabindex=\\'-1\\']),select:not([disabled]):not([tabindex=\\'-1\\']), textarea:not([disabled]):not([tabindex=\\'-1\\']), ' +\n        'iframe, object, embed, *[tabindex]:not([tabindex=\\'-1\\']), *[contenteditable=true]';\n      var scrollbarPadding;\n      var SNAKE_CASE_REGEXP = /[A-Z]/g;\n\n      // TODO: extract into common dependency with tooltip\n      function snake_case(name) {\n        var separator = '-';\n        return name.replace(SNAKE_CASE_REGEXP, function(letter, pos) {\n          return (pos ? separator : '') + letter.toLowerCase();\n        });\n      }\n\n      function isVisible(element) {\n        return !!(element.offsetWidth ||\n          element.offsetHeight ||\n          element.getClientRects().length);\n      }\n\n      function backdropIndex() {\n        var topBackdropIndex = -1;\n        var opened = openedWindows.keys();\n        for (var i = 0; i < opened.length; i++) {\n          if (openedWindows.get(opened[i]).value.backdrop) {\n            topBackdropIndex = i;\n          }\n        }\n\n        // If any backdrop exist, ensure that it's index is always\n        // right below the top modal\n        if (topBackdropIndex > -1 && topBackdropIndex < topModalIndex) {\n          topBackdropIndex = topModalIndex;\n        }\n        return topBackdropIndex;\n      }\n\n      $rootScope.$watch(backdropIndex, function(newBackdropIndex) {\n        if (backdropScope) {\n          backdropScope.index = newBackdropIndex;\n        }\n      });\n\n      function removeModalWindow(modalInstance, elementToReceiveFocus) {\n        var modalWindow = openedWindows.get(modalInstance).value;\n        var appendToElement = modalWindow.appendTo;\n\n        //clean up the stack\n        openedWindows.remove(modalInstance);\n        previousTopOpenedModal = openedWindows.top();\n        if (previousTopOpenedModal) {\n          topModalIndex = parseInt(previousTopOpenedModal.value.modalDomEl.attr('index'), 10);\n        }\n\n        removeAfterAnimate(modalWindow.modalDomEl, modalWindow.modalScope, function() {\n          var modalBodyClass = modalWindow.openedClass || OPENED_MODAL_CLASS;\n          openedClasses.remove(modalBodyClass, modalInstance);\n          var areAnyOpen = openedClasses.hasKey(modalBodyClass);\n          appendToElement.toggleClass(modalBodyClass, areAnyOpen);\n          if (!areAnyOpen && scrollbarPadding && scrollbarPadding.heightOverflow && scrollbarPadding.scrollbarWidth) {\n            if (scrollbarPadding.originalRight) {\n              appendToElement.css({paddingRight: scrollbarPadding.originalRight + 'px'});\n            } else {\n              appendToElement.css({paddingRight: ''});\n            }\n            scrollbarPadding = null;\n          }\n          toggleTopWindowClass(true);\n        }, modalWindow.closedDeferred);\n        checkRemoveBackdrop();\n\n        //move focus to specified element if available, or else to body\n        if (elementToReceiveFocus && elementToReceiveFocus.focus) {\n          elementToReceiveFocus.focus();\n        } else if (appendToElement.focus) {\n          appendToElement.focus();\n        }\n      }\n\n      // Add or remove \"windowTopClass\" from the top window in the stack\n      function toggleTopWindowClass(toggleSwitch) {\n        var modalWindow;\n\n        if (openedWindows.length() > 0) {\n          modalWindow = openedWindows.top().value;\n          modalWindow.modalDomEl.toggleClass(modalWindow.windowTopClass || '', toggleSwitch);\n        }\n      }\n\n      function checkRemoveBackdrop() {\n        //remove backdrop if no longer needed\n        if (backdropDomEl && backdropIndex() === -1) {\n          var backdropScopeRef = backdropScope;\n          removeAfterAnimate(backdropDomEl, backdropScope, function() {\n            backdropScopeRef = null;\n          });\n          backdropDomEl = undefined;\n          backdropScope = undefined;\n        }\n      }\n\n      function removeAfterAnimate(domEl, scope, done, closedDeferred) {\n        var asyncDeferred;\n        var asyncPromise = null;\n        var setIsAsync = function() {\n          if (!asyncDeferred) {\n            asyncDeferred = $q.defer();\n            asyncPromise = asyncDeferred.promise;\n          }\n\n          return function asyncDone() {\n            asyncDeferred.resolve();\n          };\n        };\n        scope.$broadcast($modalStack.NOW_CLOSING_EVENT, setIsAsync);\n\n        // Note that it's intentional that asyncPromise might be null.\n        // That's when setIsAsync has not been called during the\n        // NOW_CLOSING_EVENT broadcast.\n        return $q.when(asyncPromise).then(afterAnimating);\n\n        function afterAnimating() {\n          if (afterAnimating.done) {\n            return;\n          }\n          afterAnimating.done = true;\n\n          $animate.leave(domEl).then(function() {\n            if (done) {\n              done();\n            }\n\n            domEl.remove();\n            if (closedDeferred) {\n              closedDeferred.resolve();\n            }\n          });\n\n          scope.$destroy();\n        }\n      }\n\n      $document.on('keydown', keydownListener);\n\n      $rootScope.$on('$destroy', function() {\n        $document.off('keydown', keydownListener);\n      });\n\n      function keydownListener(evt) {\n        if (evt.isDefaultPrevented()) {\n          return evt;\n        }\n\n        var modal = openedWindows.top();\n        if (modal) {\n          switch (evt.which) {\n            case 27: {\n              if (modal.value.keyboard) {\n                evt.preventDefault();\n                $rootScope.$apply(function() {\n                  $modalStack.dismiss(modal.key, 'escape key press');\n                });\n              }\n              break;\n            }\n            case 9: {\n              var list = $modalStack.loadFocusElementList(modal);\n              var focusChanged = false;\n              if (evt.shiftKey) {\n                if ($modalStack.isFocusInFirstItem(evt, list) || $modalStack.isModalFocused(evt, modal)) {\n                  focusChanged = $modalStack.focusLastFocusableElement(list);\n                }\n              } else {\n                if ($modalStack.isFocusInLastItem(evt, list)) {\n                  focusChanged = $modalStack.focusFirstFocusableElement(list);\n                }\n              }\n\n              if (focusChanged) {\n                evt.preventDefault();\n                evt.stopPropagation();\n              }\n\n              break;\n            }\n          }\n        }\n      }\n\n      $modalStack.open = function(modalInstance, modal) {\n        var modalOpener = $document[0].activeElement,\n          modalBodyClass = modal.openedClass || OPENED_MODAL_CLASS;\n\n        toggleTopWindowClass(false);\n\n        // Store the current top first, to determine what index we ought to use\n        // for the current top modal\n        previousTopOpenedModal = openedWindows.top();\n\n        openedWindows.add(modalInstance, {\n          deferred: modal.deferred,\n          renderDeferred: modal.renderDeferred,\n          closedDeferred: modal.closedDeferred,\n          modalScope: modal.scope,\n          backdrop: modal.backdrop,\n          keyboard: modal.keyboard,\n          openedClass: modal.openedClass,\n          windowTopClass: modal.windowTopClass,\n          animation: modal.animation,\n          appendTo: modal.appendTo\n        });\n\n        openedClasses.put(modalBodyClass, modalInstance);\n\n        var appendToElement = modal.appendTo,\n            currBackdropIndex = backdropIndex();\n\n        if (currBackdropIndex >= 0 && !backdropDomEl) {\n          backdropScope = $rootScope.$new(true);\n          backdropScope.modalOptions = modal;\n          backdropScope.index = currBackdropIndex;\n          backdropDomEl = angular.element('<div uib-modal-backdrop=\"modal-backdrop\"></div>');\n          backdropDomEl.attr({\n            'class': 'modal-backdrop',\n            'ng-style': '{\\'z-index\\': 1040 + (index && 1 || 0) + index*10}',\n            'uib-modal-animation-class': 'fade',\n            'modal-in-class': 'in'\n          });\n          if (modal.backdropClass) {\n            backdropDomEl.addClass(modal.backdropClass);\n          }\n\n          if (modal.animation) {\n            backdropDomEl.attr('modal-animation', 'true');\n          }\n          $compile(backdropDomEl)(backdropScope);\n          $animate.enter(backdropDomEl, appendToElement);\n          if ($uibPosition.isScrollable(appendToElement)) {\n            scrollbarPadding = $uibPosition.scrollbarPadding(appendToElement);\n            if (scrollbarPadding.heightOverflow && scrollbarPadding.scrollbarWidth) {\n              appendToElement.css({paddingRight: scrollbarPadding.right + 'px'});\n            }\n          }\n        }\n\n        var content;\n        if (modal.component) {\n          content = document.createElement(snake_case(modal.component.name));\n          content = angular.element(content);\n          content.attr({\n            resolve: '$resolve',\n            'modal-instance': '$uibModalInstance',\n            close: '$close($value)',\n            dismiss: '$dismiss($value)'\n          });\n        } else {\n          content = modal.content;\n        }\n\n        // Set the top modal index based on the index of the previous top modal\n        topModalIndex = previousTopOpenedModal ? parseInt(previousTopOpenedModal.value.modalDomEl.attr('index'), 10) + 1 : 0;\n        var angularDomEl = angular.element('<div uib-modal-window=\"modal-window\"></div>');\n        angularDomEl.attr({\n          'class': 'modal',\n          'template-url': modal.windowTemplateUrl,\n          'window-top-class': modal.windowTopClass,\n          'role': 'dialog',\n          'aria-labelledby': modal.ariaLabelledBy,\n          'aria-describedby': modal.ariaDescribedBy,\n          'size': modal.size,\n          'index': topModalIndex,\n          'animate': 'animate',\n          'ng-style': '{\\'z-index\\': 1050 + $$topModalIndex*10, display: \\'block\\'}',\n          'tabindex': -1,\n          'uib-modal-animation-class': 'fade',\n          'modal-in-class': 'in'\n        }).append(content);\n        if (modal.windowClass) {\n          angularDomEl.addClass(modal.windowClass);\n        }\n\n        if (modal.animation) {\n          angularDomEl.attr('modal-animation', 'true');\n        }\n\n        appendToElement.addClass(modalBodyClass);\n        if (modal.scope) {\n          // we need to explicitly add the modal index to the modal scope\n          // because it is needed by ngStyle to compute the zIndex property.\n          modal.scope.$$topModalIndex = topModalIndex;\n        }\n        $animate.enter($compile(angularDomEl)(modal.scope), appendToElement);\n\n        openedWindows.top().value.modalDomEl = angularDomEl;\n        openedWindows.top().value.modalOpener = modalOpener;\n\n        applyAriaHidden(angularDomEl);\n\n        function applyAriaHidden(el) {\n          if (!el || el[0].tagName === 'BODY') {\n            return;\n          }\n\n          getSiblings(el).forEach(function(sibling) {\n            var elemIsAlreadyHidden = sibling.getAttribute('aria-hidden') === 'true',\n              ariaHiddenCount = parseInt(sibling.getAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME), 10);\n\n            if (!ariaHiddenCount) {\n              ariaHiddenCount = elemIsAlreadyHidden ? 1 : 0;\n            }\n\n            sibling.setAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME, ariaHiddenCount + 1);\n            sibling.setAttribute('aria-hidden', 'true');\n          });\n\n          return applyAriaHidden(el.parent());\n\n          function getSiblings(el) {\n            var children = el.parent() ? el.parent().children() : [];\n\n            return Array.prototype.filter.call(children, function(child) {\n              return child !== el[0];\n            });\n          }\n        }\n      };\n\n      function broadcastClosing(modalWindow, resultOrReason, closing) {\n        return !modalWindow.value.modalScope.$broadcast('modal.closing', resultOrReason, closing).defaultPrevented;\n      }\n\n      function unhideBackgroundElements() {\n        Array.prototype.forEach.call(\n          document.querySelectorAll('[' + ARIA_HIDDEN_ATTRIBUTE_NAME + ']'),\n          function(hiddenEl) {\n            var ariaHiddenCount = parseInt(hiddenEl.getAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME), 10),\n              newHiddenCount = ariaHiddenCount - 1;\n            hiddenEl.setAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME, newHiddenCount);\n\n            if (!newHiddenCount) {\n              hiddenEl.removeAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME);\n              hiddenEl.removeAttribute('aria-hidden');\n            }\n          }\n        );\n      }\n\n      $modalStack.close = function(modalInstance, result) {\n        var modalWindow = openedWindows.get(modalInstance);\n        unhideBackgroundElements();\n        if (modalWindow && broadcastClosing(modalWindow, result, true)) {\n          modalWindow.value.modalScope.$$uibDestructionScheduled = true;\n          modalWindow.value.deferred.resolve(result);\n          removeModalWindow(modalInstance, modalWindow.value.modalOpener);\n          return true;\n        }\n\n        return !modalWindow;\n      };\n\n      $modalStack.dismiss = function(modalInstance, reason) {\n        var modalWindow = openedWindows.get(modalInstance);\n        unhideBackgroundElements();\n        if (modalWindow && broadcastClosing(modalWindow, reason, false)) {\n          modalWindow.value.modalScope.$$uibDestructionScheduled = true;\n          modalWindow.value.deferred.reject(reason);\n          removeModalWindow(modalInstance, modalWindow.value.modalOpener);\n          return true;\n        }\n        return !modalWindow;\n      };\n\n      $modalStack.dismissAll = function(reason) {\n        var topModal = this.getTop();\n        while (topModal && this.dismiss(topModal.key, reason)) {\n          topModal = this.getTop();\n        }\n      };\n\n      $modalStack.getTop = function() {\n        return openedWindows.top();\n      };\n\n      $modalStack.modalRendered = function(modalInstance) {\n        var modalWindow = openedWindows.get(modalInstance);\n        if (modalWindow) {\n          modalWindow.value.renderDeferred.resolve();\n        }\n      };\n\n      $modalStack.focusFirstFocusableElement = function(list) {\n        if (list.length > 0) {\n          list[0].focus();\n          return true;\n        }\n        return false;\n      };\n\n      $modalStack.focusLastFocusableElement = function(list) {\n        if (list.length > 0) {\n          list[list.length - 1].focus();\n          return true;\n        }\n        return false;\n      };\n\n      $modalStack.isModalFocused = function(evt, modalWindow) {\n        if (evt && modalWindow) {\n          var modalDomEl = modalWindow.value.modalDomEl;\n          if (modalDomEl && modalDomEl.length) {\n            return (evt.target || evt.srcElement) === modalDomEl[0];\n          }\n        }\n        return false;\n      };\n\n      $modalStack.isFocusInFirstItem = function(evt, list) {\n        if (list.length > 0) {\n          return (evt.target || evt.srcElement) === list[0];\n        }\n        return false;\n      };\n\n      $modalStack.isFocusInLastItem = function(evt, list) {\n        if (list.length > 0) {\n          return (evt.target || evt.srcElement) === list[list.length - 1];\n        }\n        return false;\n      };\n\n      $modalStack.loadFocusElementList = function(modalWindow) {\n        if (modalWindow) {\n          var modalDomE1 = modalWindow.value.modalDomEl;\n          if (modalDomE1 && modalDomE1.length) {\n            var elements = modalDomE1[0].querySelectorAll(tabbableSelector);\n            return elements ?\n              Array.prototype.filter.call(elements, function(element) {\n                return isVisible(element);\n              }) : elements;\n          }\n        }\n      };\n\n      return $modalStack;\n    }])\n\n  .provider('$uibModal', function() {\n    var $modalProvider = {\n      options: {\n        animation: true,\n        backdrop: true, //can also be false or 'static'\n        keyboard: true\n      },\n      $get: ['$rootScope', '$q', '$document', '$templateRequest', '$controller', '$uibResolve', '$uibModalStack',\n        function ($rootScope, $q, $document, $templateRequest, $controller, $uibResolve, $modalStack) {\n          var $modal = {};\n\n          function getTemplatePromise(options) {\n            return options.template ? $q.when(options.template) :\n              $templateRequest(angular.isFunction(options.templateUrl) ?\n                options.templateUrl() : options.templateUrl);\n          }\n\n          var promiseChain = null;\n          $modal.getPromiseChain = function() {\n            return promiseChain;\n          };\n\n          $modal.open = function(modalOptions) {\n            var modalResultDeferred = $q.defer();\n            var modalOpenedDeferred = $q.defer();\n            var modalClosedDeferred = $q.defer();\n            var modalRenderDeferred = $q.defer();\n\n            //prepare an instance of a modal to be injected into controllers and returned to a caller\n            var modalInstance = {\n              result: modalResultDeferred.promise,\n              opened: modalOpenedDeferred.promise,\n              closed: modalClosedDeferred.promise,\n              rendered: modalRenderDeferred.promise,\n              close: function (result) {\n                return $modalStack.close(modalInstance, result);\n              },\n              dismiss: function (reason) {\n                return $modalStack.dismiss(modalInstance, reason);\n              }\n            };\n\n            //merge and clean up options\n            modalOptions = angular.extend({}, $modalProvider.options, modalOptions);\n            modalOptions.resolve = modalOptions.resolve || {};\n            modalOptions.appendTo = modalOptions.appendTo || $document.find('body').eq(0);\n\n            if (!modalOptions.appendTo.length) {\n              throw new Error('appendTo element not found. Make sure that the element passed is in DOM.');\n            }\n\n            //verify options\n            if (!modalOptions.component && !modalOptions.template && !modalOptions.templateUrl) {\n              throw new Error('One of component or template or templateUrl options is required.');\n            }\n\n            var templateAndResolvePromise;\n            if (modalOptions.component) {\n              templateAndResolvePromise = $q.when($uibResolve.resolve(modalOptions.resolve, {}, null, null));\n            } else {\n              templateAndResolvePromise =\n                $q.all([getTemplatePromise(modalOptions), $uibResolve.resolve(modalOptions.resolve, {}, null, null)]);\n            }\n\n            function resolveWithTemplate() {\n              return templateAndResolvePromise;\n            }\n\n            // Wait for the resolution of the existing promise chain.\n            // Then switch to our own combined promise dependency (regardless of how the previous modal fared).\n            // Then add to $modalStack and resolve opened.\n            // Finally clean up the chain variable if no subsequent modal has overwritten it.\n            var samePromise;\n            samePromise = promiseChain = $q.all([promiseChain])\n              .then(resolveWithTemplate, resolveWithTemplate)\n              .then(function resolveSuccess(tplAndVars) {\n                var providedScope = modalOptions.scope || $rootScope;\n\n                var modalScope = providedScope.$new();\n                modalScope.$close = modalInstance.close;\n                modalScope.$dismiss = modalInstance.dismiss;\n\n                modalScope.$on('$destroy', function() {\n                  if (!modalScope.$$uibDestructionScheduled) {\n                    modalScope.$dismiss('$uibUnscheduledDestruction');\n                  }\n                });\n\n                var modal = {\n                  scope: modalScope,\n                  deferred: modalResultDeferred,\n                  renderDeferred: modalRenderDeferred,\n                  closedDeferred: modalClosedDeferred,\n                  animation: modalOptions.animation,\n                  backdrop: modalOptions.backdrop,\n                  keyboard: modalOptions.keyboard,\n                  backdropClass: modalOptions.backdropClass,\n                  windowTopClass: modalOptions.windowTopClass,\n                  windowClass: modalOptions.windowClass,\n                  windowTemplateUrl: modalOptions.windowTemplateUrl,\n                  ariaLabelledBy: modalOptions.ariaLabelledBy,\n                  ariaDescribedBy: modalOptions.ariaDescribedBy,\n                  size: modalOptions.size,\n                  openedClass: modalOptions.openedClass,\n                  appendTo: modalOptions.appendTo\n                };\n\n                var component = {};\n                var ctrlInstance, ctrlInstantiate, ctrlLocals = {};\n\n                if (modalOptions.component) {\n                  constructLocals(component, false, true, false);\n                  component.name = modalOptions.component;\n                  modal.component = component;\n                } else if (modalOptions.controller) {\n                  constructLocals(ctrlLocals, true, false, true);\n\n                  // the third param will make the controller instantiate later,private api\n                  // @see https://github.com/angular/angular.js/blob/master/src/ng/controller.js#L126\n                  ctrlInstantiate = $controller(modalOptions.controller, ctrlLocals, true, modalOptions.controllerAs);\n                  if (modalOptions.controllerAs && modalOptions.bindToController) {\n                    ctrlInstance = ctrlInstantiate.instance;\n                    ctrlInstance.$close = modalScope.$close;\n                    ctrlInstance.$dismiss = modalScope.$dismiss;\n                    angular.extend(ctrlInstance, {\n                      $resolve: ctrlLocals.$scope.$resolve\n                    }, providedScope);\n                  }\n\n                  ctrlInstance = ctrlInstantiate();\n\n                  if (angular.isFunction(ctrlInstance.$onInit)) {\n                    ctrlInstance.$onInit();\n                  }\n                }\n\n                if (!modalOptions.component) {\n                  modal.content = tplAndVars[0];\n                }\n\n                $modalStack.open(modalInstance, modal);\n                modalOpenedDeferred.resolve(true);\n\n                function constructLocals(obj, template, instanceOnScope, injectable) {\n                  obj.$scope = modalScope;\n                  obj.$scope.$resolve = {};\n                  if (instanceOnScope) {\n                    obj.$scope.$uibModalInstance = modalInstance;\n                  } else {\n                    obj.$uibModalInstance = modalInstance;\n                  }\n\n                  var resolves = template ? tplAndVars[1] : tplAndVars;\n                  angular.forEach(resolves, function(value, key) {\n                    if (injectable) {\n                      obj[key] = value;\n                    }\n\n                    obj.$scope.$resolve[key] = value;\n                  });\n                }\n            }, function resolveError(reason) {\n              modalOpenedDeferred.reject(reason);\n              modalResultDeferred.reject(reason);\n            })['finally'](function() {\n              if (promiseChain === samePromise) {\n                promiseChain = null;\n              }\n            });\n\n            return modalInstance;\n          };\n\n          return $modal;\n        }\n      ]\n    };\n\n    return $modalProvider;\n  });\n\nangular.module('ui.bootstrap.paging', [])\n/**\n * Helper internal service for generating common controller code between the\n * pager and pagination components\n */\n.factory('uibPaging', ['$parse', function($parse) {\n  return {\n    create: function(ctrl, $scope, $attrs) {\n      ctrl.setNumPages = $attrs.numPages ? $parse($attrs.numPages).assign : angular.noop;\n      ctrl.ngModelCtrl = { $setViewValue: angular.noop }; // nullModelCtrl\n      ctrl._watchers = [];\n\n      ctrl.init = function(ngModelCtrl, config) {\n        ctrl.ngModelCtrl = ngModelCtrl;\n        ctrl.config = config;\n\n        ngModelCtrl.$render = function() {\n          ctrl.render();\n        };\n\n        if ($attrs.itemsPerPage) {\n          ctrl._watchers.push($scope.$parent.$watch($attrs.itemsPerPage, function(value) {\n            ctrl.itemsPerPage = parseInt(value, 10);\n            $scope.totalPages = ctrl.calculateTotalPages();\n            ctrl.updatePage();\n          }));\n        } else {\n          ctrl.itemsPerPage = config.itemsPerPage;\n        }\n\n        $scope.$watch('totalItems', function(newTotal, oldTotal) {\n          if (angular.isDefined(newTotal) || newTotal !== oldTotal) {\n            $scope.totalPages = ctrl.calculateTotalPages();\n            ctrl.updatePage();\n          }\n        });\n      };\n\n      ctrl.calculateTotalPages = function() {\n        var totalPages = ctrl.itemsPerPage < 1 ? 1 : Math.ceil($scope.totalItems / ctrl.itemsPerPage);\n        return Math.max(totalPages || 0, 1);\n      };\n\n      ctrl.render = function() {\n        $scope.page = parseInt(ctrl.ngModelCtrl.$viewValue, 10) || 1;\n      };\n\n      $scope.selectPage = function(page, evt) {\n        if (evt) {\n          evt.preventDefault();\n        }\n\n        var clickAllowed = !$scope.ngDisabled || !evt;\n        if (clickAllowed && $scope.page !== page && page > 0 && page <= $scope.totalPages) {\n          if (evt && evt.target) {\n            evt.target.blur();\n          }\n          ctrl.ngModelCtrl.$setViewValue(page);\n          ctrl.ngModelCtrl.$render();\n        }\n      };\n\n      $scope.getText = function(key) {\n        return $scope[key + 'Text'] || ctrl.config[key + 'Text'];\n      };\n\n      $scope.noPrevious = function() {\n        return $scope.page === 1;\n      };\n\n      $scope.noNext = function() {\n        return $scope.page === $scope.totalPages;\n      };\n\n      ctrl.updatePage = function() {\n        ctrl.setNumPages($scope.$parent, $scope.totalPages); // Readonly variable\n\n        if ($scope.page > $scope.totalPages) {\n          $scope.selectPage($scope.totalPages);\n        } else {\n          ctrl.ngModelCtrl.$render();\n        }\n      };\n\n      $scope.$on('$destroy', function() {\n        while (ctrl._watchers.length) {\n          ctrl._watchers.shift()();\n        }\n      });\n    }\n  };\n}]);\n\nangular.module('ui.bootstrap.pager', ['ui.bootstrap.paging', 'ui.bootstrap.tabindex'])\n\n.controller('UibPagerController', ['$scope', '$attrs', 'uibPaging', 'uibPagerConfig', function($scope, $attrs, uibPaging, uibPagerConfig) {\n  $scope.align = angular.isDefined($attrs.align) ? $scope.$parent.$eval($attrs.align) : uibPagerConfig.align;\n\n  uibPaging.create(this, $scope, $attrs);\n}])\n\n.constant('uibPagerConfig', {\n  itemsPerPage: 10,\n  previousText: ' Previous',\n  nextText: 'Next ',\n  align: true\n})\n\n.directive('uibPager', ['uibPagerConfig', function(uibPagerConfig) {\n  return {\n    scope: {\n      totalItems: '=',\n      previousText: '@',\n      nextText: '@',\n      ngDisabled: '='\n    },\n    require: ['uibPager', '?ngModel'],\n    restrict: 'A',\n    controller: 'UibPagerController',\n    controllerAs: 'pager',\n    templateUrl: function(element, attrs) {\n      return attrs.templateUrl || 'uib/template/pager/pager.html';\n    },\n    link: function(scope, element, attrs, ctrls) {\n      element.addClass('pager');\n      var paginationCtrl = ctrls[0], ngModelCtrl = ctrls[1];\n\n      if (!ngModelCtrl) {\n        return; // do nothing if no ng-model\n      }\n\n      paginationCtrl.init(ngModelCtrl, uibPagerConfig);\n    }\n  };\n}]);\n\nangular.module('ui.bootstrap.pagination', ['ui.bootstrap.paging', 'ui.bootstrap.tabindex'])\n.controller('UibPaginationController', ['$scope', '$attrs', '$parse', 'uibPaging', 'uibPaginationConfig', function($scope, $attrs, $parse, uibPaging, uibPaginationConfig) {\n  var ctrl = this;\n  // Setup configuration parameters\n  var maxSize = angular.isDefined($attrs.maxSize) ? $scope.$parent.$eval($attrs.maxSize) : uibPaginationConfig.maxSize,\n    rotate = angular.isDefined($attrs.rotate) ? $scope.$parent.$eval($attrs.rotate) : uibPaginationConfig.rotate,\n    forceEllipses = angular.isDefined($attrs.forceEllipses) ? $scope.$parent.$eval($attrs.forceEllipses) : uibPaginationConfig.forceEllipses,\n    boundaryLinkNumbers = angular.isDefined($attrs.boundaryLinkNumbers) ? $scope.$parent.$eval($attrs.boundaryLinkNumbers) : uibPaginationConfig.boundaryLinkNumbers,\n    pageLabel = angular.isDefined($attrs.pageLabel) ? function(idx) { return $scope.$parent.$eval($attrs.pageLabel, {$page: idx}); } : angular.identity;\n  $scope.boundaryLinks = angular.isDefined($attrs.boundaryLinks) ? $scope.$parent.$eval($attrs.boundaryLinks) : uibPaginationConfig.boundaryLinks;\n  $scope.directionLinks = angular.isDefined($attrs.directionLinks) ? $scope.$parent.$eval($attrs.directionLinks) : uibPaginationConfig.directionLinks;\n  $attrs.$set('role', 'menu');\n\n  uibPaging.create(this, $scope, $attrs);\n\n  if ($attrs.maxSize) {\n    ctrl._watchers.push($scope.$parent.$watch($parse($attrs.maxSize), function(value) {\n      maxSize = parseInt(value, 10);\n      ctrl.render();\n    }));\n  }\n\n  // Create page object used in template\n  function makePage(number, text, isActive) {\n    return {\n      number: number,\n      text: text,\n      active: isActive\n    };\n  }\n\n  function getPages(currentPage, totalPages) {\n    var pages = [];\n\n    // Default page limits\n    var startPage = 1, endPage = totalPages;\n    var isMaxSized = angular.isDefined(maxSize) && maxSize < totalPages;\n\n    // recompute if maxSize\n    if (isMaxSized) {\n      if (rotate) {\n        // Current page is displayed in the middle of the visible ones\n        startPage = Math.max(currentPage - Math.floor(maxSize / 2), 1);\n        endPage = startPage + maxSize - 1;\n\n        // Adjust if limit is exceeded\n        if (endPage > totalPages) {\n          endPage = totalPages;\n          startPage = endPage - maxSize + 1;\n        }\n      } else {\n        // Visible pages are paginated with maxSize\n        startPage = (Math.ceil(currentPage / maxSize) - 1) * maxSize + 1;\n\n        // Adjust last page if limit is exceeded\n        endPage = Math.min(startPage + maxSize - 1, totalPages);\n      }\n    }\n\n    // Add page number links\n    for (var number = startPage; number <= endPage; number++) {\n      var page = makePage(number, pageLabel(number), number === currentPage);\n      pages.push(page);\n    }\n\n    // Add links to move between page sets\n    if (isMaxSized && maxSize > 0 && (!rotate || forceEllipses || boundaryLinkNumbers)) {\n      if (startPage > 1) {\n        if (!boundaryLinkNumbers || startPage > 3) { //need ellipsis for all options unless range is too close to beginning\n        var previousPageSet = makePage(startPage - 1, '...', false);\n        pages.unshift(previousPageSet);\n      }\n        if (boundaryLinkNumbers) {\n          if (startPage === 3) { //need to replace ellipsis when the buttons would be sequential\n            var secondPageLink = makePage(2, '2', false);\n            pages.unshift(secondPageLink);\n          }\n          //add the first page\n          var firstPageLink = makePage(1, '1', false);\n          pages.unshift(firstPageLink);\n        }\n      }\n\n      if (endPage < totalPages) {\n        if (!boundaryLinkNumbers || endPage < totalPages - 2) { //need ellipsis for all options unless range is too close to end\n        var nextPageSet = makePage(endPage + 1, '...', false);\n        pages.push(nextPageSet);\n      }\n        if (boundaryLinkNumbers) {\n          if (endPage === totalPages - 2) { //need to replace ellipsis when the buttons would be sequential\n            var secondToLastPageLink = makePage(totalPages - 1, totalPages - 1, false);\n            pages.push(secondToLastPageLink);\n          }\n          //add the last page\n          var lastPageLink = makePage(totalPages, totalPages, false);\n          pages.push(lastPageLink);\n        }\n      }\n    }\n    return pages;\n  }\n\n  var originalRender = this.render;\n  this.render = function() {\n    originalRender();\n    if ($scope.page > 0 && $scope.page <= $scope.totalPages) {\n      $scope.pages = getPages($scope.page, $scope.totalPages);\n    }\n  };\n}])\n\n.constant('uibPaginationConfig', {\n  itemsPerPage: 10,\n  boundaryLinks: false,\n  boundaryLinkNumbers: false,\n  directionLinks: true,\n  firstText: 'First',\n  previousText: 'Previous',\n  nextText: 'Next',\n  lastText: 'Last',\n  rotate: true,\n  forceEllipses: false\n})\n\n.directive('uibPagination', ['$parse', 'uibPaginationConfig', function($parse, uibPaginationConfig) {\n  return {\n    scope: {\n      totalItems: '=',\n      firstText: '@',\n      previousText: '@',\n      nextText: '@',\n      lastText: '@',\n      ngDisabled:'='\n    },\n    require: ['uibPagination', '?ngModel'],\n    restrict: 'A',\n    controller: 'UibPaginationController',\n    controllerAs: 'pagination',\n    templateUrl: function(element, attrs) {\n      return attrs.templateUrl || 'uib/template/pagination/pagination.html';\n    },\n    link: function(scope, element, attrs, ctrls) {\n      element.addClass('pagination');\n      var paginationCtrl = ctrls[0], ngModelCtrl = ctrls[1];\n\n      if (!ngModelCtrl) {\n         return; // do nothing if no ng-model\n      }\n\n      paginationCtrl.init(ngModelCtrl, uibPaginationConfig);\n    }\n  };\n}]);\n\n/**\n * The following features are still outstanding: animation as a\n * function, placement as a function, inside, support for more triggers than\n * just mouse enter/leave, html tooltips, and selector delegation.\n */\nangular.module('ui.bootstrap.tooltip', ['ui.bootstrap.position', 'ui.bootstrap.stackedMap'])\n\n/**\n * The $tooltip service creates tooltip- and popover-like directives as well as\n * houses global options for them.\n */\n.provider('$uibTooltip', function() {\n  // The default options tooltip and popover.\n  var defaultOptions = {\n    placement: 'top',\n    placementClassPrefix: '',\n    animation: true,\n    popupDelay: 0,\n    popupCloseDelay: 0,\n    useContentExp: false\n  };\n\n  // Default hide triggers for each show trigger\n  var triggerMap = {\n    'mouseenter': 'mouseleave',\n    'click': 'click',\n    'outsideClick': 'outsideClick',\n    'focus': 'blur',\n    'none': ''\n  };\n\n  // The options specified to the provider globally.\n  var globalOptions = {};\n\n  /**\n   * `options({})` allows global configuration of all tooltips in the\n   * application.\n   *\n   *   var app = angular.module( 'App', ['ui.bootstrap.tooltip'], function( $tooltipProvider ) {\n   *     // place tooltips left instead of top by default\n   *     $tooltipProvider.options( { placement: 'left' } );\n   *   });\n   */\n  this.options = function(value) {\n    angular.extend(globalOptions, value);\n  };\n\n  /**\n   * This allows you to extend the set of trigger mappings available. E.g.:\n   *\n   *   $tooltipProvider.setTriggers( { 'openTrigger': 'closeTrigger' } );\n   */\n  this.setTriggers = function setTriggers(triggers) {\n    angular.extend(triggerMap, triggers);\n  };\n\n  /**\n   * This is a helper function for translating camel-case to snake_case.\n   */\n  function snake_case(name) {\n    var regexp = /[A-Z]/g;\n    var separator = '-';\n    return name.replace(regexp, function(letter, pos) {\n      return (pos ? separator : '') + letter.toLowerCase();\n    });\n  }\n\n  /**\n   * Returns the actual instance of the $tooltip service.\n   * TODO support multiple triggers\n   */\n  this.$get = ['$window', '$compile', '$timeout', '$document', '$uibPosition', '$interpolate', '$rootScope', '$parse', '$$stackedMap', function($window, $compile, $timeout, $document, $position, $interpolate, $rootScope, $parse, $$stackedMap) {\n    var openedTooltips = $$stackedMap.createNew();\n    $document.on('keyup', keypressListener);\n\n    $rootScope.$on('$destroy', function() {\n      $document.off('keyup', keypressListener);\n    });\n\n    function keypressListener(e) {\n      if (e.which === 27) {\n        var last = openedTooltips.top();\n        if (last) {\n          last.value.close();\n          last = null;\n        }\n      }\n    }\n\n    return function $tooltip(ttType, prefix, defaultTriggerShow, options) {\n      options = angular.extend({}, defaultOptions, globalOptions, options);\n\n      /**\n       * Returns an object of show and hide triggers.\n       *\n       * If a trigger is supplied,\n       * it is used to show the tooltip; otherwise, it will use the `trigger`\n       * option passed to the `$tooltipProvider.options` method; else it will\n       * default to the trigger supplied to this directive factory.\n       *\n       * The hide trigger is based on the show trigger. If the `trigger` option\n       * was passed to the `$tooltipProvider.options` method, it will use the\n       * mapped trigger from `triggerMap` or the passed trigger if the map is\n       * undefined; otherwise, it uses the `triggerMap` value of the show\n       * trigger; else it will just use the show trigger.\n       */\n      function getTriggers(trigger) {\n        var show = (trigger || options.trigger || defaultTriggerShow).split(' ');\n        var hide = show.map(function(trigger) {\n          return triggerMap[trigger] || trigger;\n        });\n        return {\n          show: show,\n          hide: hide\n        };\n      }\n\n      var directiveName = snake_case(ttType);\n\n      var startSym = $interpolate.startSymbol();\n      var endSym = $interpolate.endSymbol();\n      var template =\n        '<div '+ directiveName + '-popup ' +\n          'uib-title=\"' + startSym + 'title' + endSym + '\" ' +\n          (options.useContentExp ?\n            'content-exp=\"contentExp()\" ' :\n            'content=\"' + startSym + 'content' + endSym + '\" ') +\n          'origin-scope=\"origScope\" ' +\n          'class=\"uib-position-measure ' + prefix + '\" ' +\n          'tooltip-animation-class=\"fade\"' +\n          'uib-tooltip-classes ' +\n          'ng-class=\"{ in: isOpen }\" ' +\n          '>' +\n        '</div>';\n\n      return {\n        compile: function(tElem, tAttrs) {\n          var tooltipLinker = $compile(template);\n\n          return function link(scope, element, attrs, tooltipCtrl) {\n            var tooltip;\n            var tooltipLinkedScope;\n            var transitionTimeout;\n            var showTimeout;\n            var hideTimeout;\n            var positionTimeout;\n            var adjustmentTimeout;\n            var appendToBody = angular.isDefined(options.appendToBody) ? options.appendToBody : false;\n            var triggers = getTriggers(undefined);\n            var hasEnableExp = angular.isDefined(attrs[prefix + 'Enable']);\n            var ttScope = scope.$new(true);\n            var repositionScheduled = false;\n            var isOpenParse = angular.isDefined(attrs[prefix + 'IsOpen']) ? $parse(attrs[prefix + 'IsOpen']) : false;\n            var contentParse = options.useContentExp ? $parse(attrs[ttType]) : false;\n            var observers = [];\n            var lastPlacement;\n\n            var positionTooltip = function() {\n              // check if tooltip exists and is not empty\n              if (!tooltip || !tooltip.html()) { return; }\n\n              if (!positionTimeout) {\n                positionTimeout = $timeout(function() {\n                  var ttPosition = $position.positionElements(element, tooltip, ttScope.placement, appendToBody);\n                  var initialHeight = angular.isDefined(tooltip.offsetHeight) ? tooltip.offsetHeight : tooltip.prop('offsetHeight');\n                  var elementPos = appendToBody ? $position.offset(element) : $position.position(element);\n                  tooltip.css({ top: ttPosition.top + 'px', left: ttPosition.left + 'px' });\n                  var placementClasses = ttPosition.placement.split('-');\n\n                  if (!tooltip.hasClass(placementClasses[0])) {\n                    tooltip.removeClass(lastPlacement.split('-')[0]);\n                    tooltip.addClass(placementClasses[0]);\n                  }\n\n                  if (!tooltip.hasClass(options.placementClassPrefix + ttPosition.placement)) {\n                    tooltip.removeClass(options.placementClassPrefix + lastPlacement);\n                    tooltip.addClass(options.placementClassPrefix + ttPosition.placement);\n                  }\n\n                  adjustmentTimeout = $timeout(function() {\n                    var currentHeight = angular.isDefined(tooltip.offsetHeight) ? tooltip.offsetHeight : tooltip.prop('offsetHeight');\n                    var adjustment = $position.adjustTop(placementClasses, elementPos, initialHeight, currentHeight);\n                    if (adjustment) {\n                      tooltip.css(adjustment);\n                    }\n                    adjustmentTimeout = null;\n                  }, 0, false);\n\n                  // first time through tt element will have the\n                  // uib-position-measure class or if the placement\n                  // has changed we need to position the arrow.\n                  if (tooltip.hasClass('uib-position-measure')) {\n                    $position.positionArrow(tooltip, ttPosition.placement);\n                    tooltip.removeClass('uib-position-measure');\n                  } else if (lastPlacement !== ttPosition.placement) {\n                    $position.positionArrow(tooltip, ttPosition.placement);\n                  }\n                  lastPlacement = ttPosition.placement;\n\n                  positionTimeout = null;\n                }, 0, false);\n              }\n            };\n\n            // Set up the correct scope to allow transclusion later\n            ttScope.origScope = scope;\n\n            // By default, the tooltip is not open.\n            // TODO add ability to start tooltip opened\n            ttScope.isOpen = false;\n\n            function toggleTooltipBind() {\n              if (!ttScope.isOpen) {\n                showTooltipBind();\n              } else {\n                hideTooltipBind();\n              }\n            }\n\n            // Show the tooltip with delay if specified, otherwise show it immediately\n            function showTooltipBind() {\n              if (hasEnableExp && !scope.$eval(attrs[prefix + 'Enable'])) {\n                return;\n              }\n\n              cancelHide();\n              prepareTooltip();\n\n              if (ttScope.popupDelay) {\n                // Do nothing if the tooltip was already scheduled to pop-up.\n                // This happens if show is triggered multiple times before any hide is triggered.\n                if (!showTimeout) {\n                  showTimeout = $timeout(show, ttScope.popupDelay, false);\n                }\n              } else {\n                show();\n              }\n            }\n\n            function hideTooltipBind() {\n              cancelShow();\n\n              if (ttScope.popupCloseDelay) {\n                if (!hideTimeout) {\n                  hideTimeout = $timeout(hide, ttScope.popupCloseDelay, false);\n                }\n              } else {\n                hide();\n              }\n            }\n\n            // Show the tooltip popup element.\n            function show() {\n              cancelShow();\n              cancelHide();\n\n              // Don't show empty tooltips.\n              if (!ttScope.content) {\n                return angular.noop;\n              }\n\n              createTooltip();\n\n              // And show the tooltip.\n              ttScope.$evalAsync(function() {\n                ttScope.isOpen = true;\n                assignIsOpen(true);\n                positionTooltip();\n              });\n            }\n\n            function cancelShow() {\n              if (showTimeout) {\n                $timeout.cancel(showTimeout);\n                showTimeout = null;\n              }\n\n              if (positionTimeout) {\n                $timeout.cancel(positionTimeout);\n                positionTimeout = null;\n              }\n            }\n\n            // Hide the tooltip popup element.\n            function hide() {\n              if (!ttScope) {\n                return;\n              }\n\n              // First things first: we don't show it anymore.\n              ttScope.$evalAsync(function() {\n                if (ttScope) {\n                  ttScope.isOpen = false;\n                  assignIsOpen(false);\n                  // And now we remove it from the DOM. However, if we have animation, we\n                  // need to wait for it to expire beforehand.\n                  // FIXME: this is a placeholder for a port of the transitions library.\n                  // The fade transition in TWBS is 150ms.\n                  if (ttScope.animation) {\n                    if (!transitionTimeout) {\n                      transitionTimeout = $timeout(removeTooltip, 150, false);\n                    }\n                  } else {\n                    removeTooltip();\n                  }\n                }\n              });\n            }\n\n            function cancelHide() {\n              if (hideTimeout) {\n                $timeout.cancel(hideTimeout);\n                hideTimeout = null;\n              }\n\n              if (transitionTimeout) {\n                $timeout.cancel(transitionTimeout);\n                transitionTimeout = null;\n              }\n            }\n\n            function createTooltip() {\n              // There can only be one tooltip element per directive shown at once.\n              if (tooltip) {\n                return;\n              }\n\n              tooltipLinkedScope = ttScope.$new();\n              tooltip = tooltipLinker(tooltipLinkedScope, function(tooltip) {\n                if (appendToBody) {\n                  $document.find('body').append(tooltip);\n                } else {\n                  element.after(tooltip);\n                }\n              });\n\n              openedTooltips.add(ttScope, {\n                close: hide\n              });\n\n              prepObservers();\n            }\n\n            function removeTooltip() {\n              cancelShow();\n              cancelHide();\n              unregisterObservers();\n\n              if (tooltip) {\n                tooltip.remove();\n\n                tooltip = null;\n                if (adjustmentTimeout) {\n                  $timeout.cancel(adjustmentTimeout);\n                }\n              }\n\n              openedTooltips.remove(ttScope);\n\n              if (tooltipLinkedScope) {\n                tooltipLinkedScope.$destroy();\n                tooltipLinkedScope = null;\n              }\n            }\n\n            /**\n             * Set the initial scope values. Once\n             * the tooltip is created, the observers\n             * will be added to keep things in sync.\n             */\n            function prepareTooltip() {\n              ttScope.title = attrs[prefix + 'Title'];\n              if (contentParse) {\n                ttScope.content = contentParse(scope);\n              } else {\n                ttScope.content = attrs[ttType];\n              }\n\n              ttScope.popupClass = attrs[prefix + 'Class'];\n              ttScope.placement = angular.isDefined(attrs[prefix + 'Placement']) ? attrs[prefix + 'Placement'] : options.placement;\n              var placement = $position.parsePlacement(ttScope.placement);\n              lastPlacement = placement[1] ? placement[0] + '-' + placement[1] : placement[0];\n\n              var delay = parseInt(attrs[prefix + 'PopupDelay'], 10);\n              var closeDelay = parseInt(attrs[prefix + 'PopupCloseDelay'], 10);\n              ttScope.popupDelay = !isNaN(delay) ? delay : options.popupDelay;\n              ttScope.popupCloseDelay = !isNaN(closeDelay) ? closeDelay : options.popupCloseDelay;\n            }\n\n            function assignIsOpen(isOpen) {\n              if (isOpenParse && angular.isFunction(isOpenParse.assign)) {\n                isOpenParse.assign(scope, isOpen);\n              }\n            }\n\n            ttScope.contentExp = function() {\n              return ttScope.content;\n            };\n\n            /**\n             * Observe the relevant attributes.\n             */\n            attrs.$observe('disabled', function(val) {\n              if (val) {\n                cancelShow();\n              }\n\n              if (val && ttScope.isOpen) {\n                hide();\n              }\n            });\n\n            if (isOpenParse) {\n              scope.$watch(isOpenParse, function(val) {\n                if (ttScope && !val === ttScope.isOpen) {\n                  toggleTooltipBind();\n                }\n              });\n            }\n\n            function prepObservers() {\n              observers.length = 0;\n\n              if (contentParse) {\n                observers.push(\n                  scope.$watch(contentParse, function(val) {\n                    ttScope.content = val;\n                    if (!val && ttScope.isOpen) {\n                      hide();\n                    }\n                  })\n                );\n\n                observers.push(\n                  tooltipLinkedScope.$watch(function() {\n                    if (!repositionScheduled) {\n                      repositionScheduled = true;\n                      tooltipLinkedScope.$$postDigest(function() {\n                        repositionScheduled = false;\n                        if (ttScope && ttScope.isOpen) {\n                          positionTooltip();\n                        }\n                      });\n                    }\n                  })\n                );\n              } else {\n                observers.push(\n                  attrs.$observe(ttType, function(val) {\n                    ttScope.content = val;\n                    if (!val && ttScope.isOpen) {\n                      hide();\n                    } else {\n                      positionTooltip();\n                    }\n                  })\n                );\n              }\n\n              observers.push(\n                attrs.$observe(prefix + 'Title', function(val) {\n                  ttScope.title = val;\n                  if (ttScope.isOpen) {\n                    positionTooltip();\n                  }\n                })\n              );\n\n              observers.push(\n                attrs.$observe(prefix + 'Placement', function(val) {\n                  ttScope.placement = val ? val : options.placement;\n                  if (ttScope.isOpen) {\n                    positionTooltip();\n                  }\n                })\n              );\n            }\n\n            function unregisterObservers() {\n              if (observers.length) {\n                angular.forEach(observers, function(observer) {\n                  observer();\n                });\n                observers.length = 0;\n              }\n            }\n\n            // hide tooltips/popovers for outsideClick trigger\n            function bodyHideTooltipBind(e) {\n              if (!ttScope || !ttScope.isOpen || !tooltip) {\n                return;\n              }\n              // make sure the tooltip/popover link or tool tooltip/popover itself were not clicked\n              if (!element[0].contains(e.target) && !tooltip[0].contains(e.target)) {\n                hideTooltipBind();\n              }\n            }\n\n            // KeyboardEvent handler to hide the tooltip on Escape key press\n            function hideOnEscapeKey(e) {\n              if (e.which === 27) {\n                hideTooltipBind();\n              }\n            }\n\n            var unregisterTriggers = function() {\n              triggers.show.forEach(function(trigger) {\n                if (trigger === 'outsideClick') {\n                  element.off('click', toggleTooltipBind);\n                } else {\n                  element.off(trigger, showTooltipBind);\n                  element.off(trigger, toggleTooltipBind);\n                }\n                element.off('keypress', hideOnEscapeKey);\n              });\n              triggers.hide.forEach(function(trigger) {\n                if (trigger === 'outsideClick') {\n                  $document.off('click', bodyHideTooltipBind);\n                } else {\n                  element.off(trigger, hideTooltipBind);\n                }\n              });\n            };\n\n            function prepTriggers() {\n              var showTriggers = [], hideTriggers = [];\n              var val = scope.$eval(attrs[prefix + 'Trigger']);\n              unregisterTriggers();\n\n              if (angular.isObject(val)) {\n                Object.keys(val).forEach(function(key) {\n                  showTriggers.push(key);\n                  hideTriggers.push(val[key]);\n                });\n                triggers = {\n                  show: showTriggers,\n                  hide: hideTriggers\n                };\n              } else {\n                triggers = getTriggers(val);\n              }\n\n              if (triggers.show !== 'none') {\n                triggers.show.forEach(function(trigger, idx) {\n                  if (trigger === 'outsideClick') {\n                    element.on('click', toggleTooltipBind);\n                    $document.on('click', bodyHideTooltipBind);\n                  } else if (trigger === triggers.hide[idx]) {\n                    element.on(trigger, toggleTooltipBind);\n                  } else if (trigger) {\n                    element.on(trigger, showTooltipBind);\n                    element.on(triggers.hide[idx], hideTooltipBind);\n                  }\n                  element.on('keypress', hideOnEscapeKey);\n                });\n              }\n            }\n\n            prepTriggers();\n\n            var animation = scope.$eval(attrs[prefix + 'Animation']);\n            ttScope.animation = angular.isDefined(animation) ? !!animation : options.animation;\n\n            var appendToBodyVal;\n            var appendKey = prefix + 'AppendToBody';\n            if (appendKey in attrs && attrs[appendKey] === undefined) {\n              appendToBodyVal = true;\n            } else {\n              appendToBodyVal = scope.$eval(attrs[appendKey]);\n            }\n\n            appendToBody = angular.isDefined(appendToBodyVal) ? appendToBodyVal : appendToBody;\n\n            // Make sure tooltip is destroyed and removed.\n            scope.$on('$destroy', function onDestroyTooltip() {\n              unregisterTriggers();\n              removeTooltip();\n              ttScope = null;\n            });\n          };\n        }\n      };\n    };\n  }];\n})\n\n// This is mostly ngInclude code but with a custom scope\n.directive('uibTooltipTemplateTransclude', [\n         '$animate', '$sce', '$compile', '$templateRequest',\nfunction ($animate, $sce, $compile, $templateRequest) {\n  return {\n    link: function(scope, elem, attrs) {\n      var origScope = scope.$eval(attrs.tooltipTemplateTranscludeScope);\n\n      var changeCounter = 0,\n        currentScope,\n        previousElement,\n        currentElement;\n\n      var cleanupLastIncludeContent = function() {\n        if (previousElement) {\n          previousElement.remove();\n          previousElement = null;\n        }\n\n        if (currentScope) {\n          currentScope.$destroy();\n          currentScope = null;\n        }\n\n        if (currentElement) {\n          $animate.leave(currentElement).then(function() {\n            previousElement = null;\n          });\n          previousElement = currentElement;\n          currentElement = null;\n        }\n      };\n\n      scope.$watch($sce.parseAsResourceUrl(attrs.uibTooltipTemplateTransclude), function(src) {\n        var thisChangeId = ++changeCounter;\n\n        if (src) {\n          //set the 2nd param to true to ignore the template request error so that the inner\n          //contents and scope can be cleaned up.\n          $templateRequest(src, true).then(function(response) {\n            if (thisChangeId !== changeCounter) { return; }\n            var newScope = origScope.$new();\n            var template = response;\n\n            var clone = $compile(template)(newScope, function(clone) {\n              cleanupLastIncludeContent();\n              $animate.enter(clone, elem);\n            });\n\n            currentScope = newScope;\n            currentElement = clone;\n\n            currentScope.$emit('$includeContentLoaded', src);\n          }, function() {\n            if (thisChangeId === changeCounter) {\n              cleanupLastIncludeContent();\n              scope.$emit('$includeContentError', src);\n            }\n          });\n          scope.$emit('$includeContentRequested', src);\n        } else {\n          cleanupLastIncludeContent();\n        }\n      });\n\n      scope.$on('$destroy', cleanupLastIncludeContent);\n    }\n  };\n}])\n\n/**\n * Note that it's intentional that these classes are *not* applied through $animate.\n * They must not be animated as they're expected to be present on the tooltip on\n * initialization.\n */\n.directive('uibTooltipClasses', ['$uibPosition', function($uibPosition) {\n  return {\n    restrict: 'A',\n    link: function(scope, element, attrs) {\n      // need to set the primary position so the\n      // arrow has space during position measure.\n      // tooltip.positionTooltip()\n      if (scope.placement) {\n        // // There are no top-left etc... classes\n        // // in TWBS, so we need the primary position.\n        var position = $uibPosition.parsePlacement(scope.placement);\n        element.addClass(position[0]);\n      }\n\n      if (scope.popupClass) {\n        element.addClass(scope.popupClass);\n      }\n\n      if (scope.animation) {\n        element.addClass(attrs.tooltipAnimationClass);\n      }\n    }\n  };\n}])\n\n.directive('uibTooltipPopup', function() {\n  return {\n    restrict: 'A',\n    scope: { content: '@' },\n    templateUrl: 'uib/template/tooltip/tooltip-popup.html'\n  };\n})\n\n.directive('uibTooltip', [ '$uibTooltip', function($uibTooltip) {\n  return $uibTooltip('uibTooltip', 'tooltip', 'mouseenter');\n}])\n\n.directive('uibTooltipTemplatePopup', function() {\n  return {\n    restrict: 'A',\n    scope: { contentExp: '&', originScope: '&' },\n    templateUrl: 'uib/template/tooltip/tooltip-template-popup.html'\n  };\n})\n\n.directive('uibTooltipTemplate', ['$uibTooltip', function($uibTooltip) {\n  return $uibTooltip('uibTooltipTemplate', 'tooltip', 'mouseenter', {\n    useContentExp: true\n  });\n}])\n\n.directive('uibTooltipHtmlPopup', function() {\n  return {\n    restrict: 'A',\n    scope: { contentExp: '&' },\n    templateUrl: 'uib/template/tooltip/tooltip-html-popup.html'\n  };\n})\n\n.directive('uibTooltipHtml', ['$uibTooltip', function($uibTooltip) {\n  return $uibTooltip('uibTooltipHtml', 'tooltip', 'mouseenter', {\n    useContentExp: true\n  });\n}]);\n\n/**\n * The following features are still outstanding: popup delay, animation as a\n * function, placement as a function, inside, support for more triggers than\n * just mouse enter/leave, and selector delegatation.\n */\nangular.module('ui.bootstrap.popover', ['ui.bootstrap.tooltip'])\n\n.directive('uibPopoverTemplatePopup', function() {\n  return {\n    restrict: 'A',\n    scope: { uibTitle: '@', contentExp: '&', originScope: '&' },\n    templateUrl: 'uib/template/popover/popover-template.html'\n  };\n})\n\n.directive('uibPopoverTemplate', ['$uibTooltip', function($uibTooltip) {\n  return $uibTooltip('uibPopoverTemplate', 'popover', 'click', {\n    useContentExp: true\n  });\n}])\n\n.directive('uibPopoverHtmlPopup', function() {\n  return {\n    restrict: 'A',\n    scope: { contentExp: '&', uibTitle: '@' },\n    templateUrl: 'uib/template/popover/popover-html.html'\n  };\n})\n\n.directive('uibPopoverHtml', ['$uibTooltip', function($uibTooltip) {\n  return $uibTooltip('uibPopoverHtml', 'popover', 'click', {\n    useContentExp: true\n  });\n}])\n\n.directive('uibPopoverPopup', function() {\n  return {\n    restrict: 'A',\n    scope: { uibTitle: '@', content: '@' },\n    templateUrl: 'uib/template/popover/popover.html'\n  };\n})\n\n.directive('uibPopover', ['$uibTooltip', function($uibTooltip) {\n  return $uibTooltip('uibPopover', 'popover', 'click');\n}]);\n\nangular.module('ui.bootstrap.progressbar', [])\n\n.constant('uibProgressConfig', {\n  animate: true,\n  max: 100\n})\n\n.controller('UibProgressController', ['$scope', '$attrs', 'uibProgressConfig', function($scope, $attrs, progressConfig) {\n  var self = this,\n      animate = angular.isDefined($attrs.animate) ? $scope.$parent.$eval($attrs.animate) : progressConfig.animate;\n\n  this.bars = [];\n  $scope.max = getMaxOrDefault();\n\n  this.addBar = function(bar, element, attrs) {\n    if (!animate) {\n      element.css({'transition': 'none'});\n    }\n\n    this.bars.push(bar);\n\n    bar.max = getMaxOrDefault();\n    bar.title = attrs && angular.isDefined(attrs.title) ? attrs.title : 'progressbar';\n\n    bar.$watch('value', function(value) {\n      bar.recalculatePercentage();\n    });\n\n    bar.recalculatePercentage = function() {\n      var totalPercentage = self.bars.reduce(function(total, bar) {\n        bar.percent = +(100 * bar.value / bar.max).toFixed(2);\n        return total + bar.percent;\n      }, 0);\n\n      if (totalPercentage > 100) {\n        bar.percent -= totalPercentage - 100;\n      }\n    };\n\n    bar.$on('$destroy', function() {\n      element = null;\n      self.removeBar(bar);\n    });\n  };\n\n  this.removeBar = function(bar) {\n    this.bars.splice(this.bars.indexOf(bar), 1);\n    this.bars.forEach(function (bar) {\n      bar.recalculatePercentage();\n    });\n  };\n\n  //$attrs.$observe('maxParam', function(maxParam) {\n  $scope.$watch('maxParam', function(maxParam) {\n    self.bars.forEach(function(bar) {\n      bar.max = getMaxOrDefault();\n      bar.recalculatePercentage();\n    });\n  });\n\n  function getMaxOrDefault () {\n    return angular.isDefined($scope.maxParam) ? $scope.maxParam : progressConfig.max;\n  }\n}])\n\n.directive('uibProgress', function() {\n  return {\n    replace: true,\n    transclude: true,\n    controller: 'UibProgressController',\n    require: 'uibProgress',\n    scope: {\n      maxParam: '=?max'\n    },\n    templateUrl: 'uib/template/progressbar/progress.html'\n  };\n})\n\n.directive('uibBar', function() {\n  return {\n    replace: true,\n    transclude: true,\n    require: '^uibProgress',\n    scope: {\n      value: '=',\n      type: '@'\n    },\n    templateUrl: 'uib/template/progressbar/bar.html',\n    link: function(scope, element, attrs, progressCtrl) {\n      progressCtrl.addBar(scope, element, attrs);\n    }\n  };\n})\n\n.directive('uibProgressbar', function() {\n  return {\n    replace: true,\n    transclude: true,\n    controller: 'UibProgressController',\n    scope: {\n      value: '=',\n      maxParam: '=?max',\n      type: '@'\n    },\n    templateUrl: 'uib/template/progressbar/progressbar.html',\n    link: function(scope, element, attrs, progressCtrl) {\n      progressCtrl.addBar(scope, angular.element(element.children()[0]), {title: attrs.title});\n    }\n  };\n});\n\nangular.module('ui.bootstrap.rating', [])\n\n.constant('uibRatingConfig', {\n  max: 5,\n  stateOn: null,\n  stateOff: null,\n  enableReset: true,\n  titles: ['one', 'two', 'three', 'four', 'five']\n})\n\n.controller('UibRatingController', ['$scope', '$attrs', 'uibRatingConfig', function($scope, $attrs, ratingConfig) {\n  var ngModelCtrl = { $setViewValue: angular.noop },\n    self = this;\n\n  this.init = function(ngModelCtrl_) {\n    ngModelCtrl = ngModelCtrl_;\n    ngModelCtrl.$render = this.render;\n\n    ngModelCtrl.$formatters.push(function(value) {\n      if (angular.isNumber(value) && value << 0 !== value) {\n        value = Math.round(value);\n      }\n\n      return value;\n    });\n\n    this.stateOn = angular.isDefined($attrs.stateOn) ? $scope.$parent.$eval($attrs.stateOn) : ratingConfig.stateOn;\n    this.stateOff = angular.isDefined($attrs.stateOff) ? $scope.$parent.$eval($attrs.stateOff) : ratingConfig.stateOff;\n    this.enableReset = angular.isDefined($attrs.enableReset) ?\n      $scope.$parent.$eval($attrs.enableReset) : ratingConfig.enableReset;\n    var tmpTitles = angular.isDefined($attrs.titles) ? $scope.$parent.$eval($attrs.titles) : ratingConfig.titles;\n    this.titles = angular.isArray(tmpTitles) && tmpTitles.length > 0 ?\n      tmpTitles : ratingConfig.titles;\n\n    var ratingStates = angular.isDefined($attrs.ratingStates) ?\n      $scope.$parent.$eval($attrs.ratingStates) :\n      new Array(angular.isDefined($attrs.max) ? $scope.$parent.$eval($attrs.max) : ratingConfig.max);\n    $scope.range = this.buildTemplateObjects(ratingStates);\n  };\n\n  this.buildTemplateObjects = function(states) {\n    for (var i = 0, n = states.length; i < n; i++) {\n      states[i] = angular.extend({ index: i }, { stateOn: this.stateOn, stateOff: this.stateOff, title: this.getTitle(i) }, states[i]);\n    }\n    return states;\n  };\n\n  this.getTitle = function(index) {\n    if (index >= this.titles.length) {\n      return index + 1;\n    }\n\n    return this.titles[index];\n  };\n\n  $scope.rate = function(value) {\n    if (!$scope.readonly && value >= 0 && value <= $scope.range.length) {\n      var newViewValue = self.enableReset && ngModelCtrl.$viewValue === value ? 0 : value;\n      ngModelCtrl.$setViewValue(newViewValue);\n      ngModelCtrl.$render();\n    }\n  };\n\n  $scope.enter = function(value) {\n    if (!$scope.readonly) {\n      $scope.value = value;\n    }\n    $scope.onHover({value: value});\n  };\n\n  $scope.reset = function() {\n    $scope.value = ngModelCtrl.$viewValue;\n    $scope.onLeave();\n  };\n\n  $scope.onKeydown = function(evt) {\n    if (/(37|38|39|40)/.test(evt.which)) {\n      evt.preventDefault();\n      evt.stopPropagation();\n      $scope.rate($scope.value + (evt.which === 38 || evt.which === 39 ? 1 : -1));\n    }\n  };\n\n  this.render = function() {\n    $scope.value = ngModelCtrl.$viewValue;\n    $scope.title = self.getTitle($scope.value - 1);\n  };\n}])\n\n.directive('uibRating', function() {\n  return {\n    require: ['uibRating', 'ngModel'],\n    restrict: 'A',\n    scope: {\n      readonly: '=?readOnly',\n      onHover: '&',\n      onLeave: '&'\n    },\n    controller: 'UibRatingController',\n    templateUrl: 'uib/template/rating/rating.html',\n    link: function(scope, element, attrs, ctrls) {\n      var ratingCtrl = ctrls[0], ngModelCtrl = ctrls[1];\n      ratingCtrl.init(ngModelCtrl);\n    }\n  };\n});\n\nangular.module('ui.bootstrap.tabs', [])\n\n.controller('UibTabsetController', ['$scope', function ($scope) {\n  var ctrl = this,\n    oldIndex;\n  ctrl.tabs = [];\n\n  ctrl.select = function(index, evt) {\n    if (!destroyed) {\n      var previousIndex = findTabIndex(oldIndex);\n      var previousSelected = ctrl.tabs[previousIndex];\n      if (previousSelected) {\n        previousSelected.tab.onDeselect({\n          $event: evt,\n          $selectedIndex: index\n        });\n        if (evt && evt.isDefaultPrevented()) {\n          return;\n        }\n        previousSelected.tab.active = false;\n      }\n\n      var selected = ctrl.tabs[index];\n      if (selected) {\n        selected.tab.onSelect({\n          $event: evt\n        });\n        selected.tab.active = true;\n        ctrl.active = selected.index;\n        oldIndex = selected.index;\n      } else if (!selected && angular.isDefined(oldIndex)) {\n        ctrl.active = null;\n        oldIndex = null;\n      }\n    }\n  };\n\n  ctrl.addTab = function addTab(tab) {\n    ctrl.tabs.push({\n      tab: tab,\n      index: tab.index\n    });\n    ctrl.tabs.sort(function(t1, t2) {\n      if (t1.index > t2.index) {\n        return 1;\n      }\n\n      if (t1.index < t2.index) {\n        return -1;\n      }\n\n      return 0;\n    });\n\n    if (tab.index === ctrl.active || !angular.isDefined(ctrl.active) && ctrl.tabs.length === 1) {\n      var newActiveIndex = findTabIndex(tab.index);\n      ctrl.select(newActiveIndex);\n    }\n  };\n\n  ctrl.removeTab = function removeTab(tab) {\n    var index;\n    for (var i = 0; i < ctrl.tabs.length; i++) {\n      if (ctrl.tabs[i].tab === tab) {\n        index = i;\n        break;\n      }\n    }\n\n    if (ctrl.tabs[index].index === ctrl.active) {\n      var newActiveTabIndex = index === ctrl.tabs.length - 1 ?\n        index - 1 : index + 1 % ctrl.tabs.length;\n      ctrl.select(newActiveTabIndex);\n    }\n\n    ctrl.tabs.splice(index, 1);\n  };\n\n  $scope.$watch('tabset.active', function(val) {\n    if (angular.isDefined(val) && val !== oldIndex) {\n      ctrl.select(findTabIndex(val));\n    }\n  });\n\n  var destroyed;\n  $scope.$on('$destroy', function() {\n    destroyed = true;\n  });\n\n  function findTabIndex(index) {\n    for (var i = 0; i < ctrl.tabs.length; i++) {\n      if (ctrl.tabs[i].index === index) {\n        return i;\n      }\n    }\n  }\n}])\n\n.directive('uibTabset', function() {\n  return {\n    transclude: true,\n    replace: true,\n    scope: {},\n    bindToController: {\n      active: '=?',\n      type: '@'\n    },\n    controller: 'UibTabsetController',\n    controllerAs: 'tabset',\n    templateUrl: function(element, attrs) {\n      return attrs.templateUrl || 'uib/template/tabs/tabset.html';\n    },\n    link: function(scope, element, attrs) {\n      scope.vertical = angular.isDefined(attrs.vertical) ?\n        scope.$parent.$eval(attrs.vertical) : false;\n      scope.justified = angular.isDefined(attrs.justified) ?\n        scope.$parent.$eval(attrs.justified) : false;\n    }\n  };\n})\n\n.directive('uibTab', ['$parse', function($parse) {\n  return {\n    require: '^uibTabset',\n    replace: true,\n    templateUrl: function(element, attrs) {\n      return attrs.templateUrl || 'uib/template/tabs/tab.html';\n    },\n    transclude: true,\n    scope: {\n      heading: '@',\n      index: '=?',\n      classes: '@?',\n      onSelect: '&select', //This callback is called in contentHeadingTransclude\n                          //once it inserts the tab's content into the dom\n      onDeselect: '&deselect'\n    },\n    controller: function() {\n      //Empty controller so other directives can require being 'under' a tab\n    },\n    controllerAs: 'tab',\n    link: function(scope, elm, attrs, tabsetCtrl, transclude) {\n      scope.disabled = false;\n      if (attrs.disable) {\n        scope.$parent.$watch($parse(attrs.disable), function(value) {\n          scope.disabled = !! value;\n        });\n      }\n\n      if (angular.isUndefined(attrs.index)) {\n        if (tabsetCtrl.tabs && tabsetCtrl.tabs.length) {\n          scope.index = Math.max.apply(null, tabsetCtrl.tabs.map(function(t) { return t.index; })) + 1;\n        } else {\n          scope.index = 0;\n        }\n      }\n\n      if (angular.isUndefined(attrs.classes)) {\n        scope.classes = '';\n      }\n\n      scope.select = function(evt) {\n        if (!scope.disabled) {\n          var index;\n          for (var i = 0; i < tabsetCtrl.tabs.length; i++) {\n            if (tabsetCtrl.tabs[i].tab === scope) {\n              index = i;\n              break;\n            }\n          }\n\n          tabsetCtrl.select(index, evt);\n        }\n      };\n\n      tabsetCtrl.addTab(scope);\n      scope.$on('$destroy', function() {\n        tabsetCtrl.removeTab(scope);\n      });\n\n      //We need to transclude later, once the content container is ready.\n      //when this link happens, we're inside a tab heading.\n      scope.$transcludeFn = transclude;\n    }\n  };\n}])\n\n.directive('uibTabHeadingTransclude', function() {\n  return {\n    restrict: 'A',\n    require: '^uibTab',\n    link: function(scope, elm) {\n      scope.$watch('headingElement', function updateHeadingElement(heading) {\n        if (heading) {\n          elm.html('');\n          elm.append(heading);\n        }\n      });\n    }\n  };\n})\n\n.directive('uibTabContentTransclude', function() {\n  return {\n    restrict: 'A',\n    require: '^uibTabset',\n    link: function(scope, elm, attrs) {\n      var tab = scope.$eval(attrs.uibTabContentTransclude).tab;\n\n      //Now our tab is ready to be transcluded: both the tab heading area\n      //and the tab content area are loaded.  Transclude 'em both.\n      tab.$transcludeFn(tab.$parent, function(contents) {\n        angular.forEach(contents, function(node) {\n          if (isTabHeading(node)) {\n            //Let tabHeadingTransclude know.\n            tab.headingElement = node;\n          } else {\n            elm.append(node);\n          }\n        });\n      });\n    }\n  };\n\n  function isTabHeading(node) {\n    return node.tagName && (\n      node.hasAttribute('uib-tab-heading') ||\n      node.hasAttribute('data-uib-tab-heading') ||\n      node.hasAttribute('x-uib-tab-heading') ||\n      node.tagName.toLowerCase() === 'uib-tab-heading' ||\n      node.tagName.toLowerCase() === 'data-uib-tab-heading' ||\n      node.tagName.toLowerCase() === 'x-uib-tab-heading' ||\n      node.tagName.toLowerCase() === 'uib:tab-heading'\n    );\n  }\n});\n\nangular.module('ui.bootstrap.timepicker', [])\n\n.constant('uibTimepickerConfig', {\n  hourStep: 1,\n  minuteStep: 1,\n  secondStep: 1,\n  showMeridian: true,\n  showSeconds: false,\n  meridians: null,\n  readonlyInput: false,\n  mousewheel: true,\n  arrowkeys: true,\n  showSpinners: true,\n  templateUrl: 'uib/template/timepicker/timepicker.html'\n})\n\n.controller('UibTimepickerController', ['$scope', '$element', '$attrs', '$parse', '$log', '$locale', 'uibTimepickerConfig', function($scope, $element, $attrs, $parse, $log, $locale, timepickerConfig) {\n  var hoursModelCtrl, minutesModelCtrl, secondsModelCtrl;\n  var selected = new Date(),\n    watchers = [],\n    ngModelCtrl = { $setViewValue: angular.noop }, // nullModelCtrl\n    meridians = angular.isDefined($attrs.meridians) ? $scope.$parent.$eval($attrs.meridians) : timepickerConfig.meridians || $locale.DATETIME_FORMATS.AMPMS,\n    padHours = angular.isDefined($attrs.padHours) ? $scope.$parent.$eval($attrs.padHours) : true;\n\n  $scope.tabindex = angular.isDefined($attrs.tabindex) ? $attrs.tabindex : 0;\n  $element.removeAttr('tabindex');\n\n  this.init = function(ngModelCtrl_, inputs) {\n    ngModelCtrl = ngModelCtrl_;\n    ngModelCtrl.$render = this.render;\n\n    ngModelCtrl.$formatters.unshift(function(modelValue) {\n      return modelValue ? new Date(modelValue) : null;\n    });\n\n    var hoursInputEl = inputs.eq(0),\n        minutesInputEl = inputs.eq(1),\n        secondsInputEl = inputs.eq(2);\n\n    hoursModelCtrl = hoursInputEl.controller('ngModel');\n    minutesModelCtrl = minutesInputEl.controller('ngModel');\n    secondsModelCtrl = secondsInputEl.controller('ngModel');\n\n    var mousewheel = angular.isDefined($attrs.mousewheel) ? $scope.$parent.$eval($attrs.mousewheel) : timepickerConfig.mousewheel;\n\n    if (mousewheel) {\n      this.setupMousewheelEvents(hoursInputEl, minutesInputEl, secondsInputEl);\n    }\n\n    var arrowkeys = angular.isDefined($attrs.arrowkeys) ? $scope.$parent.$eval($attrs.arrowkeys) : timepickerConfig.arrowkeys;\n    if (arrowkeys) {\n      this.setupArrowkeyEvents(hoursInputEl, minutesInputEl, secondsInputEl);\n    }\n\n    $scope.readonlyInput = angular.isDefined($attrs.readonlyInput) ? $scope.$parent.$eval($attrs.readonlyInput) : timepickerConfig.readonlyInput;\n    this.setupInputEvents(hoursInputEl, minutesInputEl, secondsInputEl);\n  };\n\n  var hourStep = timepickerConfig.hourStep;\n  if ($attrs.hourStep) {\n    watchers.push($scope.$parent.$watch($parse($attrs.hourStep), function(value) {\n      hourStep = +value;\n    }));\n  }\n\n  var minuteStep = timepickerConfig.minuteStep;\n  if ($attrs.minuteStep) {\n    watchers.push($scope.$parent.$watch($parse($attrs.minuteStep), function(value) {\n      minuteStep = +value;\n    }));\n  }\n\n  var min;\n  watchers.push($scope.$parent.$watch($parse($attrs.min), function(value) {\n    var dt = new Date(value);\n    min = isNaN(dt) ? undefined : dt;\n  }));\n\n  var max;\n  watchers.push($scope.$parent.$watch($parse($attrs.max), function(value) {\n    var dt = new Date(value);\n    max = isNaN(dt) ? undefined : dt;\n  }));\n\n  var disabled = false;\n  if ($attrs.ngDisabled) {\n    watchers.push($scope.$parent.$watch($parse($attrs.ngDisabled), function(value) {\n      disabled = value;\n    }));\n  }\n\n  $scope.noIncrementHours = function() {\n    var incrementedSelected = addMinutes(selected, hourStep * 60);\n    return disabled || incrementedSelected > max ||\n      incrementedSelected < selected && incrementedSelected < min;\n  };\n\n  $scope.noDecrementHours = function() {\n    var decrementedSelected = addMinutes(selected, -hourStep * 60);\n    return disabled || decrementedSelected < min ||\n      decrementedSelected > selected && decrementedSelected > max;\n  };\n\n  $scope.noIncrementMinutes = function() {\n    var incrementedSelected = addMinutes(selected, minuteStep);\n    return disabled || incrementedSelected > max ||\n      incrementedSelected < selected && incrementedSelected < min;\n  };\n\n  $scope.noDecrementMinutes = function() {\n    var decrementedSelected = addMinutes(selected, -minuteStep);\n    return disabled || decrementedSelected < min ||\n      decrementedSelected > selected && decrementedSelected > max;\n  };\n\n  $scope.noIncrementSeconds = function() {\n    var incrementedSelected = addSeconds(selected, secondStep);\n    return disabled || incrementedSelected > max ||\n      incrementedSelected < selected && incrementedSelected < min;\n  };\n\n  $scope.noDecrementSeconds = function() {\n    var decrementedSelected = addSeconds(selected, -secondStep);\n    return disabled || decrementedSelected < min ||\n      decrementedSelected > selected && decrementedSelected > max;\n  };\n\n  $scope.noToggleMeridian = function() {\n    if (selected.getHours() < 12) {\n      return disabled || addMinutes(selected, 12 * 60) > max;\n    }\n\n    return disabled || addMinutes(selected, -12 * 60) < min;\n  };\n\n  var secondStep = timepickerConfig.secondStep;\n  if ($attrs.secondStep) {\n    watchers.push($scope.$parent.$watch($parse($attrs.secondStep), function(value) {\n      secondStep = +value;\n    }));\n  }\n\n  $scope.showSeconds = timepickerConfig.showSeconds;\n  if ($attrs.showSeconds) {\n    watchers.push($scope.$parent.$watch($parse($attrs.showSeconds), function(value) {\n      $scope.showSeconds = !!value;\n    }));\n  }\n\n  // 12H / 24H mode\n  $scope.showMeridian = timepickerConfig.showMeridian;\n  if ($attrs.showMeridian) {\n    watchers.push($scope.$parent.$watch($parse($attrs.showMeridian), function(value) {\n      $scope.showMeridian = !!value;\n\n      if (ngModelCtrl.$error.time) {\n        // Evaluate from template\n        var hours = getHoursFromTemplate(), minutes = getMinutesFromTemplate();\n        if (angular.isDefined(hours) && angular.isDefined(minutes)) {\n          selected.setHours(hours);\n          refresh();\n        }\n      } else {\n        updateTemplate();\n      }\n    }));\n  }\n\n  // Get $scope.hours in 24H mode if valid\n  function getHoursFromTemplate() {\n    var hours = +$scope.hours;\n    var valid = $scope.showMeridian ? hours > 0 && hours < 13 :\n      hours >= 0 && hours < 24;\n    if (!valid || $scope.hours === '') {\n      return undefined;\n    }\n\n    if ($scope.showMeridian) {\n      if (hours === 12) {\n        hours = 0;\n      }\n      if ($scope.meridian === meridians[1]) {\n        hours = hours + 12;\n      }\n    }\n    return hours;\n  }\n\n  function getMinutesFromTemplate() {\n    var minutes = +$scope.minutes;\n    var valid = minutes >= 0 && minutes < 60;\n    if (!valid || $scope.minutes === '') {\n      return undefined;\n    }\n    return minutes;\n  }\n\n  function getSecondsFromTemplate() {\n    var seconds = +$scope.seconds;\n    return seconds >= 0 && seconds < 60 ? seconds : undefined;\n  }\n\n  function pad(value, noPad) {\n    if (value === null) {\n      return '';\n    }\n\n    return angular.isDefined(value) && value.toString().length < 2 && !noPad ?\n      '0' + value : value.toString();\n  }\n\n  // Respond on mousewheel spin\n  this.setupMousewheelEvents = function(hoursInputEl, minutesInputEl, secondsInputEl) {\n    var isScrollingUp = function(e) {\n      if (e.originalEvent) {\n        e = e.originalEvent;\n      }\n      //pick correct delta variable depending on event\n      var delta = e.wheelDelta ? e.wheelDelta : -e.deltaY;\n      return e.detail || delta > 0;\n    };\n\n    hoursInputEl.on('mousewheel wheel', function(e) {\n      if (!disabled) {\n        $scope.$apply(isScrollingUp(e) ? $scope.incrementHours() : $scope.decrementHours());\n      }\n      e.preventDefault();\n    });\n\n    minutesInputEl.on('mousewheel wheel', function(e) {\n      if (!disabled) {\n        $scope.$apply(isScrollingUp(e) ? $scope.incrementMinutes() : $scope.decrementMinutes());\n      }\n      e.preventDefault();\n    });\n\n     secondsInputEl.on('mousewheel wheel', function(e) {\n      if (!disabled) {\n        $scope.$apply(isScrollingUp(e) ? $scope.incrementSeconds() : $scope.decrementSeconds());\n      }\n      e.preventDefault();\n    });\n  };\n\n  // Respond on up/down arrowkeys\n  this.setupArrowkeyEvents = function(hoursInputEl, minutesInputEl, secondsInputEl) {\n    hoursInputEl.on('keydown', function(e) {\n      if (!disabled) {\n        if (e.which === 38) { // up\n          e.preventDefault();\n          $scope.incrementHours();\n          $scope.$apply();\n        } else if (e.which === 40) { // down\n          e.preventDefault();\n          $scope.decrementHours();\n          $scope.$apply();\n        }\n      }\n    });\n\n    minutesInputEl.on('keydown', function(e) {\n      if (!disabled) {\n        if (e.which === 38) { // up\n          e.preventDefault();\n          $scope.incrementMinutes();\n          $scope.$apply();\n        } else if (e.which === 40) { // down\n          e.preventDefault();\n          $scope.decrementMinutes();\n          $scope.$apply();\n        }\n      }\n    });\n\n    secondsInputEl.on('keydown', function(e) {\n      if (!disabled) {\n        if (e.which === 38) { // up\n          e.preventDefault();\n          $scope.incrementSeconds();\n          $scope.$apply();\n        } else if (e.which === 40) { // down\n          e.preventDefault();\n          $scope.decrementSeconds();\n          $scope.$apply();\n        }\n      }\n    });\n  };\n\n  this.setupInputEvents = function(hoursInputEl, minutesInputEl, secondsInputEl) {\n    if ($scope.readonlyInput) {\n      $scope.updateHours = angular.noop;\n      $scope.updateMinutes = angular.noop;\n      $scope.updateSeconds = angular.noop;\n      return;\n    }\n\n    var invalidate = function(invalidHours, invalidMinutes, invalidSeconds) {\n      ngModelCtrl.$setViewValue(null);\n      ngModelCtrl.$setValidity('time', false);\n      if (angular.isDefined(invalidHours)) {\n        $scope.invalidHours = invalidHours;\n        if (hoursModelCtrl) {\n          hoursModelCtrl.$setValidity('hours', false);\n        }\n      }\n\n      if (angular.isDefined(invalidMinutes)) {\n        $scope.invalidMinutes = invalidMinutes;\n        if (minutesModelCtrl) {\n          minutesModelCtrl.$setValidity('minutes', false);\n        }\n      }\n\n      if (angular.isDefined(invalidSeconds)) {\n        $scope.invalidSeconds = invalidSeconds;\n        if (secondsModelCtrl) {\n          secondsModelCtrl.$setValidity('seconds', false);\n        }\n      }\n    };\n\n    $scope.updateHours = function() {\n      var hours = getHoursFromTemplate(),\n        minutes = getMinutesFromTemplate();\n\n      ngModelCtrl.$setDirty();\n\n      if (angular.isDefined(hours) && angular.isDefined(minutes)) {\n        selected.setHours(hours);\n        selected.setMinutes(minutes);\n        if (selected < min || selected > max) {\n          invalidate(true);\n        } else {\n          refresh('h');\n        }\n      } else {\n        invalidate(true);\n      }\n    };\n\n    hoursInputEl.on('blur', function(e) {\n      ngModelCtrl.$setTouched();\n      if (modelIsEmpty()) {\n        makeValid();\n      } else if ($scope.hours === null || $scope.hours === '') {\n        invalidate(true);\n      } else if (!$scope.invalidHours && $scope.hours < 10) {\n        $scope.$apply(function() {\n          $scope.hours = pad($scope.hours, !padHours);\n        });\n      }\n    });\n\n    $scope.updateMinutes = function() {\n      var minutes = getMinutesFromTemplate(),\n        hours = getHoursFromTemplate();\n\n      ngModelCtrl.$setDirty();\n\n      if (angular.isDefined(minutes) && angular.isDefined(hours)) {\n        selected.setHours(hours);\n        selected.setMinutes(minutes);\n        if (selected < min || selected > max) {\n          invalidate(undefined, true);\n        } else {\n          refresh('m');\n        }\n      } else {\n        invalidate(undefined, true);\n      }\n    };\n\n    minutesInputEl.on('blur', function(e) {\n      ngModelCtrl.$setTouched();\n      if (modelIsEmpty()) {\n        makeValid();\n      } else if ($scope.minutes === null) {\n        invalidate(undefined, true);\n      } else if (!$scope.invalidMinutes && $scope.minutes < 10) {\n        $scope.$apply(function() {\n          $scope.minutes = pad($scope.minutes);\n        });\n      }\n    });\n\n    $scope.updateSeconds = function() {\n      var seconds = getSecondsFromTemplate();\n\n      ngModelCtrl.$setDirty();\n\n      if (angular.isDefined(seconds)) {\n        selected.setSeconds(seconds);\n        refresh('s');\n      } else {\n        invalidate(undefined, undefined, true);\n      }\n    };\n\n    secondsInputEl.on('blur', function(e) {\n      if (modelIsEmpty()) {\n        makeValid();\n      } else if (!$scope.invalidSeconds && $scope.seconds < 10) {\n        $scope.$apply( function() {\n          $scope.seconds = pad($scope.seconds);\n        });\n      }\n    });\n\n  };\n\n  this.render = function() {\n    var date = ngModelCtrl.$viewValue;\n\n    if (isNaN(date)) {\n      ngModelCtrl.$setValidity('time', false);\n      $log.error('Timepicker directive: \"ng-model\" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');\n    } else {\n      if (date) {\n        selected = date;\n      }\n\n      if (selected < min || selected > max) {\n        ngModelCtrl.$setValidity('time', false);\n        $scope.invalidHours = true;\n        $scope.invalidMinutes = true;\n      } else {\n        makeValid();\n      }\n      updateTemplate();\n    }\n  };\n\n  // Call internally when we know that model is valid.\n  function refresh(keyboardChange) {\n    makeValid();\n    ngModelCtrl.$setViewValue(new Date(selected));\n    updateTemplate(keyboardChange);\n  }\n\n  function makeValid() {\n    if (hoursModelCtrl) {\n      hoursModelCtrl.$setValidity('hours', true);\n    }\n\n    if (minutesModelCtrl) {\n      minutesModelCtrl.$setValidity('minutes', true);\n    }\n\n    if (secondsModelCtrl) {\n      secondsModelCtrl.$setValidity('seconds', true);\n    }\n\n    ngModelCtrl.$setValidity('time', true);\n    $scope.invalidHours = false;\n    $scope.invalidMinutes = false;\n    $scope.invalidSeconds = false;\n  }\n\n  function updateTemplate(keyboardChange) {\n    if (!ngModelCtrl.$modelValue) {\n      $scope.hours = null;\n      $scope.minutes = null;\n      $scope.seconds = null;\n      $scope.meridian = meridians[0];\n    } else {\n      var hours = selected.getHours(),\n        minutes = selected.getMinutes(),\n        seconds = selected.getSeconds();\n\n      if ($scope.showMeridian) {\n        hours = hours === 0 || hours === 12 ? 12 : hours % 12; // Convert 24 to 12 hour system\n      }\n\n      $scope.hours = keyboardChange === 'h' ? hours : pad(hours, !padHours);\n      if (keyboardChange !== 'm') {\n        $scope.minutes = pad(minutes);\n      }\n      $scope.meridian = selected.getHours() < 12 ? meridians[0] : meridians[1];\n\n      if (keyboardChange !== 's') {\n        $scope.seconds = pad(seconds);\n      }\n      $scope.meridian = selected.getHours() < 12 ? meridians[0] : meridians[1];\n    }\n  }\n\n  function addSecondsToSelected(seconds) {\n    selected = addSeconds(selected, seconds);\n    refresh();\n  }\n\n  function addMinutes(selected, minutes) {\n    return addSeconds(selected, minutes*60);\n  }\n\n  function addSeconds(date, seconds) {\n    var dt = new Date(date.getTime() + seconds * 1000);\n    var newDate = new Date(date);\n    newDate.setHours(dt.getHours(), dt.getMinutes(), dt.getSeconds());\n    return newDate;\n  }\n\n  function modelIsEmpty() {\n    return ($scope.hours === null || $scope.hours === '') &&\n      ($scope.minutes === null || $scope.minutes === '') &&\n      (!$scope.showSeconds || $scope.showSeconds && ($scope.seconds === null || $scope.seconds === ''));\n  }\n\n  $scope.showSpinners = angular.isDefined($attrs.showSpinners) ?\n    $scope.$parent.$eval($attrs.showSpinners) : timepickerConfig.showSpinners;\n\n  $scope.incrementHours = function() {\n    if (!$scope.noIncrementHours()) {\n      addSecondsToSelected(hourStep * 60 * 60);\n    }\n  };\n\n  $scope.decrementHours = function() {\n    if (!$scope.noDecrementHours()) {\n      addSecondsToSelected(-hourStep * 60 * 60);\n    }\n  };\n\n  $scope.incrementMinutes = function() {\n    if (!$scope.noIncrementMinutes()) {\n      addSecondsToSelected(minuteStep * 60);\n    }\n  };\n\n  $scope.decrementMinutes = function() {\n    if (!$scope.noDecrementMinutes()) {\n      addSecondsToSelected(-minuteStep * 60);\n    }\n  };\n\n  $scope.incrementSeconds = function() {\n    if (!$scope.noIncrementSeconds()) {\n      addSecondsToSelected(secondStep);\n    }\n  };\n\n  $scope.decrementSeconds = function() {\n    if (!$scope.noDecrementSeconds()) {\n      addSecondsToSelected(-secondStep);\n    }\n  };\n\n  $scope.toggleMeridian = function() {\n    var minutes = getMinutesFromTemplate(),\n        hours = getHoursFromTemplate();\n\n    if (!$scope.noToggleMeridian()) {\n      if (angular.isDefined(minutes) && angular.isDefined(hours)) {\n        addSecondsToSelected(12 * 60 * (selected.getHours() < 12 ? 60 : -60));\n      } else {\n        $scope.meridian = $scope.meridian === meridians[0] ? meridians[1] : meridians[0];\n      }\n    }\n  };\n\n  $scope.blur = function() {\n    ngModelCtrl.$setTouched();\n  };\n\n  $scope.$on('$destroy', function() {\n    while (watchers.length) {\n      watchers.shift()();\n    }\n  });\n}])\n\n.directive('uibTimepicker', ['uibTimepickerConfig', function(uibTimepickerConfig) {\n  return {\n    require: ['uibTimepicker', '?^ngModel'],\n    restrict: 'A',\n    controller: 'UibTimepickerController',\n    controllerAs: 'timepicker',\n    scope: {},\n    templateUrl: function(element, attrs) {\n      return attrs.templateUrl || uibTimepickerConfig.templateUrl;\n    },\n    link: function(scope, element, attrs, ctrls) {\n      var timepickerCtrl = ctrls[0], ngModelCtrl = ctrls[1];\n\n      if (ngModelCtrl) {\n        timepickerCtrl.init(ngModelCtrl, element.find('input'));\n      }\n    }\n  };\n}]);\n\nangular.module('ui.bootstrap.typeahead', ['ui.bootstrap.debounce', 'ui.bootstrap.position'])\n\n/**\n * A helper service that can parse typeahead's syntax (string provided by users)\n * Extracted to a separate service for ease of unit testing\n */\n  .factory('uibTypeaheadParser', ['$parse', function($parse) {\n    //                      000001111111100000000000002222222200000000000000003333333333333330000000000044444444000\n    var TYPEAHEAD_REGEXP = /^\\s*([\\s\\S]+?)(?:\\s+as\\s+([\\s\\S]+?))?\\s+for\\s+(?:([\\$\\w][\\$\\w\\d]*))\\s+in\\s+([\\s\\S]+?)$/;\n    return {\n      parse: function(input) {\n        var match = input.match(TYPEAHEAD_REGEXP);\n        if (!match) {\n          throw new Error(\n            'Expected typeahead specification in form of \"_modelValue_ (as _label_)? for _item_ in _collection_\"' +\n              ' but got \"' + input + '\".');\n        }\n\n        return {\n          itemName: match[3],\n          source: $parse(match[4]),\n          viewMapper: $parse(match[2] || match[1]),\n          modelMapper: $parse(match[1])\n        };\n      }\n    };\n  }])\n\n  .controller('UibTypeaheadController', ['$scope', '$element', '$attrs', '$compile', '$parse', '$q', '$timeout', '$document', '$window', '$rootScope', '$$debounce', '$uibPosition', 'uibTypeaheadParser',\n    function(originalScope, element, attrs, $compile, $parse, $q, $timeout, $document, $window, $rootScope, $$debounce, $position, typeaheadParser) {\n    var HOT_KEYS = [9, 13, 27, 38, 40];\n    var eventDebounceTime = 200;\n    var modelCtrl, ngModelOptions;\n    //SUPPORTED ATTRIBUTES (OPTIONS)\n\n    //minimal no of characters that needs to be entered before typeahead kicks-in\n    var minLength = originalScope.$eval(attrs.typeaheadMinLength);\n    if (!minLength && minLength !== 0) {\n      minLength = 1;\n    }\n\n    originalScope.$watch(attrs.typeaheadMinLength, function (newVal) {\n        minLength = !newVal && newVal !== 0 ? 1 : newVal;\n    });\n\n    //minimal wait time after last character typed before typeahead kicks-in\n    var waitTime = originalScope.$eval(attrs.typeaheadWaitMs) || 0;\n\n    //should it restrict model values to the ones selected from the popup only?\n    var isEditable = originalScope.$eval(attrs.typeaheadEditable) !== false;\n    originalScope.$watch(attrs.typeaheadEditable, function (newVal) {\n      isEditable = newVal !== false;\n    });\n\n    //binding to a variable that indicates if matches are being retrieved asynchronously\n    var isLoadingSetter = $parse(attrs.typeaheadLoading).assign || angular.noop;\n\n    //a function to determine if an event should cause selection\n    var isSelectEvent = attrs.typeaheadShouldSelect ? $parse(attrs.typeaheadShouldSelect) : function(scope, vals) {\n      var evt = vals.$event;\n      return evt.which === 13 || evt.which === 9;\n    };\n\n    //a callback executed when a match is selected\n    var onSelectCallback = $parse(attrs.typeaheadOnSelect);\n\n    //should it select highlighted popup value when losing focus?\n    var isSelectOnBlur = angular.isDefined(attrs.typeaheadSelectOnBlur) ? originalScope.$eval(attrs.typeaheadSelectOnBlur) : false;\n\n    //binding to a variable that indicates if there were no results after the query is completed\n    var isNoResultsSetter = $parse(attrs.typeaheadNoResults).assign || angular.noop;\n\n    var inputFormatter = attrs.typeaheadInputFormatter ? $parse(attrs.typeaheadInputFormatter) : undefined;\n\n    var appendToBody = attrs.typeaheadAppendToBody ? originalScope.$eval(attrs.typeaheadAppendToBody) : false;\n\n    var appendTo = attrs.typeaheadAppendTo ?\n      originalScope.$eval(attrs.typeaheadAppendTo) : null;\n\n    var focusFirst = originalScope.$eval(attrs.typeaheadFocusFirst) !== false;\n\n    //If input matches an item of the list exactly, select it automatically\n    var selectOnExact = attrs.typeaheadSelectOnExact ? originalScope.$eval(attrs.typeaheadSelectOnExact) : false;\n\n    //binding to a variable that indicates if dropdown is open\n    var isOpenSetter = $parse(attrs.typeaheadIsOpen).assign || angular.noop;\n\n    var showHint = originalScope.$eval(attrs.typeaheadShowHint) || false;\n\n    //INTERNAL VARIABLES\n\n    //model setter executed upon match selection\n    var parsedModel = $parse(attrs.ngModel);\n    var invokeModelSetter = $parse(attrs.ngModel + '($$$p)');\n    var $setModelValue = function(scope, newValue) {\n      if (angular.isFunction(parsedModel(originalScope)) &&\n        ngModelOptions.getOption('getterSetter')) {\n        return invokeModelSetter(scope, {$$$p: newValue});\n      }\n\n      return parsedModel.assign(scope, newValue);\n    };\n\n    //expressions used by typeahead\n    var parserResult = typeaheadParser.parse(attrs.uibTypeahead);\n\n    var hasFocus;\n\n    //Used to avoid bug in iOS webview where iOS keyboard does not fire\n    //mousedown & mouseup events\n    //Issue #3699\n    var selected;\n\n    //create a child scope for the typeahead directive so we are not polluting original scope\n    //with typeahead-specific data (matches, query etc.)\n    var scope = originalScope.$new();\n    var offDestroy = originalScope.$on('$destroy', function() {\n      scope.$destroy();\n    });\n    scope.$on('$destroy', offDestroy);\n\n    // WAI-ARIA\n    var popupId = 'typeahead-' + scope.$id + '-' + Math.floor(Math.random() * 10000);\n    element.attr({\n      'aria-autocomplete': 'list',\n      'aria-expanded': false,\n      'aria-owns': popupId\n    });\n\n    var inputsContainer, hintInputElem;\n    //add read-only input to show hint\n    if (showHint) {\n      inputsContainer = angular.element('<div></div>');\n      inputsContainer.css('position', 'relative');\n      element.after(inputsContainer);\n      hintInputElem = element.clone();\n      hintInputElem.attr('placeholder', '');\n      hintInputElem.attr('tabindex', '-1');\n      hintInputElem.val('');\n      hintInputElem.css({\n        'position': 'absolute',\n        'top': '0px',\n        'left': '0px',\n        'border-color': 'transparent',\n        'box-shadow': 'none',\n        'opacity': 1,\n        'background': 'none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)',\n        'color': '#999'\n      });\n      element.css({\n        'position': 'relative',\n        'vertical-align': 'top',\n        'background-color': 'transparent'\n      });\n\n      if (hintInputElem.attr('id')) {\n        hintInputElem.removeAttr('id'); // remove duplicate id if present.\n      }\n      inputsContainer.append(hintInputElem);\n      hintInputElem.after(element);\n    }\n\n    //pop-up element used to display matches\n    var popUpEl = angular.element('<div uib-typeahead-popup></div>');\n    popUpEl.attr({\n      id: popupId,\n      matches: 'matches',\n      active: 'activeIdx',\n      select: 'select(activeIdx, evt)',\n      'move-in-progress': 'moveInProgress',\n      query: 'query',\n      position: 'position',\n      'assign-is-open': 'assignIsOpen(isOpen)',\n      debounce: 'debounceUpdate'\n    });\n    //custom item template\n    if (angular.isDefined(attrs.typeaheadTemplateUrl)) {\n      popUpEl.attr('template-url', attrs.typeaheadTemplateUrl);\n    }\n\n    if (angular.isDefined(attrs.typeaheadPopupTemplateUrl)) {\n      popUpEl.attr('popup-template-url', attrs.typeaheadPopupTemplateUrl);\n    }\n\n    var resetHint = function() {\n      if (showHint) {\n        hintInputElem.val('');\n      }\n    };\n\n    var resetMatches = function() {\n      scope.matches = [];\n      scope.activeIdx = -1;\n      element.attr('aria-expanded', false);\n      resetHint();\n    };\n\n    var getMatchId = function(index) {\n      return popupId + '-option-' + index;\n    };\n\n    // Indicate that the specified match is the active (pre-selected) item in the list owned by this typeahead.\n    // This attribute is added or removed automatically when the `activeIdx` changes.\n    scope.$watch('activeIdx', function(index) {\n      if (index < 0) {\n        element.removeAttr('aria-activedescendant');\n      } else {\n        element.attr('aria-activedescendant', getMatchId(index));\n      }\n    });\n\n    var inputIsExactMatch = function(inputValue, index) {\n      if (scope.matches.length > index && inputValue) {\n        return inputValue.toUpperCase() === scope.matches[index].label.toUpperCase();\n      }\n\n      return false;\n    };\n\n    var getMatchesAsync = function(inputValue, evt) {\n      var locals = {$viewValue: inputValue};\n      isLoadingSetter(originalScope, true);\n      isNoResultsSetter(originalScope, false);\n      $q.when(parserResult.source(originalScope, locals)).then(function(matches) {\n        //it might happen that several async queries were in progress if a user were typing fast\n        //but we are interested only in responses that correspond to the current view value\n        var onCurrentRequest = inputValue === modelCtrl.$viewValue;\n        if (onCurrentRequest && hasFocus) {\n          if (matches && matches.length > 0) {\n            scope.activeIdx = focusFirst ? 0 : -1;\n            isNoResultsSetter(originalScope, false);\n            scope.matches.length = 0;\n\n            //transform labels\n            for (var i = 0; i < matches.length; i++) {\n              locals[parserResult.itemName] = matches[i];\n              scope.matches.push({\n                id: getMatchId(i),\n                label: parserResult.viewMapper(scope, locals),\n                model: matches[i]\n              });\n            }\n\n            scope.query = inputValue;\n            //position pop-up with matches - we need to re-calculate its position each time we are opening a window\n            //with matches as a pop-up might be absolute-positioned and position of an input might have changed on a page\n            //due to other elements being rendered\n            recalculatePosition();\n\n            element.attr('aria-expanded', true);\n\n            //Select the single remaining option if user input matches\n            if (selectOnExact && scope.matches.length === 1 && inputIsExactMatch(inputValue, 0)) {\n              if (angular.isNumber(scope.debounceUpdate) || angular.isObject(scope.debounceUpdate)) {\n                $$debounce(function() {\n                  scope.select(0, evt);\n                }, angular.isNumber(scope.debounceUpdate) ? scope.debounceUpdate : scope.debounceUpdate['default']);\n              } else {\n                scope.select(0, evt);\n              }\n            }\n\n            if (showHint) {\n              var firstLabel = scope.matches[0].label;\n              if (angular.isString(inputValue) &&\n                inputValue.length > 0 &&\n                firstLabel.slice(0, inputValue.length).toUpperCase() === inputValue.toUpperCase()) {\n                hintInputElem.val(inputValue + firstLabel.slice(inputValue.length));\n              } else {\n                hintInputElem.val('');\n              }\n            }\n          } else {\n            resetMatches();\n            isNoResultsSetter(originalScope, true);\n          }\n        }\n        if (onCurrentRequest) {\n          isLoadingSetter(originalScope, false);\n        }\n      }, function() {\n        resetMatches();\n        isLoadingSetter(originalScope, false);\n        isNoResultsSetter(originalScope, true);\n      });\n    };\n\n    // bind events only if appendToBody params exist - performance feature\n    if (appendToBody) {\n      angular.element($window).on('resize', fireRecalculating);\n      $document.find('body').on('scroll', fireRecalculating);\n    }\n\n    // Declare the debounced function outside recalculating for\n    // proper debouncing\n    var debouncedRecalculate = $$debounce(function() {\n      // if popup is visible\n      if (scope.matches.length) {\n        recalculatePosition();\n      }\n\n      scope.moveInProgress = false;\n    }, eventDebounceTime);\n\n    // Default progress type\n    scope.moveInProgress = false;\n\n    function fireRecalculating() {\n      if (!scope.moveInProgress) {\n        scope.moveInProgress = true;\n        scope.$digest();\n      }\n\n      debouncedRecalculate();\n    }\n\n    // recalculate actual position and set new values to scope\n    // after digest loop is popup in right position\n    function recalculatePosition() {\n      scope.position = appendToBody ? $position.offset(element) : $position.position(element);\n      scope.position.top += element.prop('offsetHeight');\n    }\n\n    //we need to propagate user's query so we can higlight matches\n    scope.query = undefined;\n\n    //Declare the timeout promise var outside the function scope so that stacked calls can be cancelled later\n    var timeoutPromise;\n\n    var scheduleSearchWithTimeout = function(inputValue) {\n      timeoutPromise = $timeout(function() {\n        getMatchesAsync(inputValue);\n      }, waitTime);\n    };\n\n    var cancelPreviousTimeout = function() {\n      if (timeoutPromise) {\n        $timeout.cancel(timeoutPromise);\n      }\n    };\n\n    resetMatches();\n\n    scope.assignIsOpen = function (isOpen) {\n      isOpenSetter(originalScope, isOpen);\n    };\n\n    scope.select = function(activeIdx, evt) {\n      //called from within the $digest() cycle\n      var locals = {};\n      var model, item;\n\n      selected = true;\n      locals[parserResult.itemName] = item = scope.matches[activeIdx].model;\n      model = parserResult.modelMapper(originalScope, locals);\n      $setModelValue(originalScope, model);\n      modelCtrl.$setValidity('editable', true);\n      modelCtrl.$setValidity('parse', true);\n\n      onSelectCallback(originalScope, {\n        $item: item,\n        $model: model,\n        $label: parserResult.viewMapper(originalScope, locals),\n        $event: evt\n      });\n\n      resetMatches();\n\n      //return focus to the input element if a match was selected via a mouse click event\n      // use timeout to avoid $rootScope:inprog error\n      if (scope.$eval(attrs.typeaheadFocusOnSelect) !== false) {\n        $timeout(function() { element[0].focus(); }, 0, false);\n      }\n    };\n\n    //bind keyboard events: arrows up(38) / down(40), enter(13) and tab(9), esc(27)\n    element.on('keydown', function(evt) {\n      //typeahead is open and an \"interesting\" key was pressed\n      if (scope.matches.length === 0 || HOT_KEYS.indexOf(evt.which) === -1) {\n        return;\n      }\n\n      var shouldSelect = isSelectEvent(originalScope, {$event: evt});\n\n      /**\n       * if there's nothing selected (i.e. focusFirst) and enter or tab is hit\n       * or\n       * shift + tab is pressed to bring focus to the previous element\n       * then clear the results\n       */\n      if (scope.activeIdx === -1 && shouldSelect || evt.which === 9 && !!evt.shiftKey) {\n        resetMatches();\n        scope.$digest();\n        return;\n      }\n\n      evt.preventDefault();\n      var target;\n      switch (evt.which) {\n        case 27: // escape\n          evt.stopPropagation();\n\n          resetMatches();\n          originalScope.$digest();\n          break;\n        case 38: // up arrow\n          scope.activeIdx = (scope.activeIdx > 0 ? scope.activeIdx : scope.matches.length) - 1;\n          scope.$digest();\n          target = popUpEl[0].querySelectorAll('.uib-typeahead-match')[scope.activeIdx];\n          target.parentNode.scrollTop = target.offsetTop;\n          break;\n        case 40: // down arrow\n          scope.activeIdx = (scope.activeIdx + 1) % scope.matches.length;\n          scope.$digest();\n          target = popUpEl[0].querySelectorAll('.uib-typeahead-match')[scope.activeIdx];\n          target.parentNode.scrollTop = target.offsetTop;\n          break;\n        default:\n          if (shouldSelect) {\n            scope.$apply(function() {\n              if (angular.isNumber(scope.debounceUpdate) || angular.isObject(scope.debounceUpdate)) {\n                $$debounce(function() {\n                  scope.select(scope.activeIdx, evt);\n                }, angular.isNumber(scope.debounceUpdate) ? scope.debounceUpdate : scope.debounceUpdate['default']);\n              } else {\n                scope.select(scope.activeIdx, evt);\n              }\n            });\n          }\n      }\n    });\n\n    element.on('focus', function (evt) {\n      hasFocus = true;\n      if (minLength === 0 && !modelCtrl.$viewValue) {\n        $timeout(function() {\n          getMatchesAsync(modelCtrl.$viewValue, evt);\n        }, 0);\n      }\n    });\n\n    element.on('blur', function(evt) {\n      if (isSelectOnBlur && scope.matches.length && scope.activeIdx !== -1 && !selected) {\n        selected = true;\n        scope.$apply(function() {\n          if (angular.isObject(scope.debounceUpdate) && angular.isNumber(scope.debounceUpdate.blur)) {\n            $$debounce(function() {\n              scope.select(scope.activeIdx, evt);\n            }, scope.debounceUpdate.blur);\n          } else {\n            scope.select(scope.activeIdx, evt);\n          }\n        });\n      }\n      if (!isEditable && modelCtrl.$error.editable) {\n        modelCtrl.$setViewValue();\n        scope.$apply(function() {\n          // Reset validity as we are clearing\n          modelCtrl.$setValidity('editable', true);\n          modelCtrl.$setValidity('parse', true);\n        });\n        element.val('');\n      }\n      hasFocus = false;\n      selected = false;\n    });\n\n    // Keep reference to click handler to unbind it.\n    var dismissClickHandler = function(evt) {\n      // Issue #3973\n      // Firefox treats right click as a click on document\n      if (element[0] !== evt.target && evt.which !== 3 && scope.matches.length !== 0) {\n        resetMatches();\n        if (!$rootScope.$$phase) {\n          originalScope.$digest();\n        }\n      }\n    };\n\n    $document.on('click', dismissClickHandler);\n\n    originalScope.$on('$destroy', function() {\n      $document.off('click', dismissClickHandler);\n      if (appendToBody || appendTo) {\n        $popup.remove();\n      }\n\n      if (appendToBody) {\n        angular.element($window).off('resize', fireRecalculating);\n        $document.find('body').off('scroll', fireRecalculating);\n      }\n      // Prevent jQuery cache memory leak\n      popUpEl.remove();\n\n      if (showHint) {\n          inputsContainer.remove();\n      }\n    });\n\n    var $popup = $compile(popUpEl)(scope);\n\n    if (appendToBody) {\n      $document.find('body').append($popup);\n    } else if (appendTo) {\n      angular.element(appendTo).eq(0).append($popup);\n    } else {\n      element.after($popup);\n    }\n\n    this.init = function(_modelCtrl) {\n      modelCtrl = _modelCtrl;\n      ngModelOptions = extractOptions(modelCtrl);\n\n      scope.debounceUpdate = $parse(ngModelOptions.getOption('debounce'))(originalScope);\n\n      //plug into $parsers pipeline to open a typeahead on view changes initiated from DOM\n      //$parsers kick-in on all the changes coming from the view as well as manually triggered by $setViewValue\n      modelCtrl.$parsers.unshift(function(inputValue) {\n        hasFocus = true;\n\n        if (minLength === 0 || inputValue && inputValue.length >= minLength) {\n          if (waitTime > 0) {\n            cancelPreviousTimeout();\n            scheduleSearchWithTimeout(inputValue);\n          } else {\n            getMatchesAsync(inputValue);\n          }\n        } else {\n          isLoadingSetter(originalScope, false);\n          cancelPreviousTimeout();\n          resetMatches();\n        }\n\n        if (isEditable) {\n          return inputValue;\n        }\n\n        if (!inputValue) {\n          // Reset in case user had typed something previously.\n          modelCtrl.$setValidity('editable', true);\n          return null;\n        }\n\n        modelCtrl.$setValidity('editable', false);\n        return undefined;\n      });\n\n      modelCtrl.$formatters.push(function(modelValue) {\n        var candidateViewValue, emptyViewValue;\n        var locals = {};\n\n        // The validity may be set to false via $parsers (see above) if\n        // the model is restricted to selected values. If the model\n        // is set manually it is considered to be valid.\n        if (!isEditable) {\n          modelCtrl.$setValidity('editable', true);\n        }\n\n        if (inputFormatter) {\n          locals.$model = modelValue;\n          return inputFormatter(originalScope, locals);\n        }\n\n        //it might happen that we don't have enough info to properly render input value\n        //we need to check for this situation and simply return model value if we can't apply custom formatting\n        locals[parserResult.itemName] = modelValue;\n        candidateViewValue = parserResult.viewMapper(originalScope, locals);\n        locals[parserResult.itemName] = undefined;\n        emptyViewValue = parserResult.viewMapper(originalScope, locals);\n\n        return candidateViewValue !== emptyViewValue ? candidateViewValue : modelValue;\n      });\n    };\n\n    function extractOptions(ngModelCtrl) {\n      var ngModelOptions;\n\n      if (angular.version.minor < 6) { // in angular < 1.6 $options could be missing\n        // guarantee a value\n        ngModelOptions = ngModelCtrl.$options || {};\n\n        // mimic 1.6+ api\n        ngModelOptions.getOption = function (key) {\n          return ngModelOptions[key];\n        };\n      } else { // in angular >=1.6 $options is always present\n        ngModelOptions = ngModelCtrl.$options;\n      }\n\n      return ngModelOptions;\n    }\n  }])\n\n  .directive('uibTypeahead', function() {\n    return {\n      controller: 'UibTypeaheadController',\n      require: ['ngModel', 'uibTypeahead'],\n      link: function(originalScope, element, attrs, ctrls) {\n        ctrls[1].init(ctrls[0]);\n      }\n    };\n  })\n\n  .directive('uibTypeaheadPopup', ['$$debounce', function($$debounce) {\n    return {\n      scope: {\n        matches: '=',\n        query: '=',\n        active: '=',\n        position: '&',\n        moveInProgress: '=',\n        select: '&',\n        assignIsOpen: '&',\n        debounce: '&'\n      },\n      replace: true,\n      templateUrl: function(element, attrs) {\n        return attrs.popupTemplateUrl || 'uib/template/typeahead/typeahead-popup.html';\n      },\n      link: function(scope, element, attrs) {\n        scope.templateUrl = attrs.templateUrl;\n\n        scope.isOpen = function() {\n          var isDropdownOpen = scope.matches.length > 0;\n          scope.assignIsOpen({ isOpen: isDropdownOpen });\n          return isDropdownOpen;\n        };\n\n        scope.isActive = function(matchIdx) {\n          return scope.active === matchIdx;\n        };\n\n        scope.selectActive = function(matchIdx) {\n          scope.active = matchIdx;\n        };\n\n        scope.selectMatch = function(activeIdx, evt) {\n          var debounce = scope.debounce();\n          if (angular.isNumber(debounce) || angular.isObject(debounce)) {\n            $$debounce(function() {\n              scope.select({activeIdx: activeIdx, evt: evt});\n            }, angular.isNumber(debounce) ? debounce : debounce['default']);\n          } else {\n            scope.select({activeIdx: activeIdx, evt: evt});\n          }\n        };\n      }\n    };\n  }])\n\n  .directive('uibTypeaheadMatch', ['$templateRequest', '$compile', '$parse', function($templateRequest, $compile, $parse) {\n    return {\n      scope: {\n        index: '=',\n        match: '=',\n        query: '='\n      },\n      link: function(scope, element, attrs) {\n        var tplUrl = $parse(attrs.templateUrl)(scope.$parent) || 'uib/template/typeahead/typeahead-match.html';\n        $templateRequest(tplUrl).then(function(tplContent) {\n          var tplEl = angular.element(tplContent.trim());\n          element.replaceWith(tplEl);\n          $compile(tplEl)(scope);\n        });\n      }\n    };\n  }])\n\n  .filter('uibTypeaheadHighlight', ['$sce', '$injector', '$log', function($sce, $injector, $log) {\n    var isSanitizePresent;\n    isSanitizePresent = $injector.has('$sanitize');\n\n    function escapeRegexp(queryToEscape) {\n      // Regex: capture the whole query string and replace it with the string that will be used to match\n      // the results, for example if the capture is \"a\" the result will be \\a\n      return queryToEscape.replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n    }\n\n    function containsHtml(matchItem) {\n      return /<.*>/g.test(matchItem);\n    }\n\n    return function(matchItem, query) {\n      if (!isSanitizePresent && containsHtml(matchItem)) {\n        $log.warn('Unsafe use of typeahead please use ngSanitize'); // Warn the user about the danger\n      }\n      matchItem = query ? ('' + matchItem).replace(new RegExp(escapeRegexp(query), 'gi'), '<strong>$&</strong>') : matchItem; // Replaces the capture string with a the same string inside of a \"strong\" tag\n      if (!isSanitizePresent) {\n        matchItem = $sce.trustAsHtml(matchItem); // If $sanitize is not present we pack the string in a $sce object for the ng-bind-html directive\n      }\n      return matchItem;\n    };\n  }]);\n\nangular.module(\"uib/template/accordion/accordion-group.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/accordion/accordion-group.html\",\n    \"<div role=\\\"tab\\\" id=\\\"{{::headingId}}\\\" aria-selected=\\\"{{isOpen}}\\\" class=\\\"panel-heading\\\" ng-keypress=\\\"toggleOpen($event)\\\">\\n\" +\n    \"  <h4 class=\\\"panel-title\\\">\\n\" +\n    \"    <a role=\\\"button\\\" data-toggle=\\\"collapse\\\" href aria-expanded=\\\"{{isOpen}}\\\" aria-controls=\\\"{{::panelId}}\\\" tabindex=\\\"0\\\" class=\\\"accordion-toggle\\\" ng-click=\\\"toggleOpen()\\\" uib-accordion-transclude=\\\"heading\\\" ng-disabled=\\\"isDisabled\\\" uib-tabindex-toggle><span uib-accordion-header ng-class=\\\"{'text-muted': isDisabled}\\\">{{heading}}</span></a>\\n\" +\n    \"  </h4>\\n\" +\n    \"</div>\\n\" +\n    \"<div id=\\\"{{::panelId}}\\\" aria-labelledby=\\\"{{::headingId}}\\\" aria-hidden=\\\"{{!isOpen}}\\\" role=\\\"tabpanel\\\" class=\\\"panel-collapse collapse\\\" uib-collapse=\\\"!isOpen\\\">\\n\" +\n    \"  <div class=\\\"panel-body\\\" ng-transclude></div>\\n\" +\n    \"</div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/accordion/accordion.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/accordion/accordion.html\",\n    \"<div role=\\\"tablist\\\" class=\\\"panel-group\\\" ng-transclude></div>\");\n}]);\n\nangular.module(\"uib/template/alert/alert.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/alert/alert.html\",\n    \"<button ng-show=\\\"closeable\\\" type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"close({$event: $event})\\\">\\n\" +\n    \"  <span aria-hidden=\\\"true\\\">&times;</span>\\n\" +\n    \"  <span class=\\\"sr-only\\\">Close</span>\\n\" +\n    \"</button>\\n\" +\n    \"<div ng-transclude></div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/carousel/carousel.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/carousel/carousel.html\",\n    \"<div class=\\\"carousel-inner\\\" ng-transclude></div>\\n\" +\n    \"<a role=\\\"button\\\" href class=\\\"left carousel-control\\\" ng-click=\\\"prev()\\\" ng-class=\\\"{ disabled: isPrevDisabled() }\\\" ng-show=\\\"slides.length > 1\\\">\\n\" +\n    \"  <span aria-hidden=\\\"true\\\" class=\\\"glyphicon glyphicon-chevron-left\\\"></span>\\n\" +\n    \"  <span class=\\\"sr-only\\\">previous</span>\\n\" +\n    \"</a>\\n\" +\n    \"<a role=\\\"button\\\" href class=\\\"right carousel-control\\\" ng-click=\\\"next()\\\" ng-class=\\\"{ disabled: isNextDisabled() }\\\" ng-show=\\\"slides.length > 1\\\">\\n\" +\n    \"  <span aria-hidden=\\\"true\\\" class=\\\"glyphicon glyphicon-chevron-right\\\"></span>\\n\" +\n    \"  <span class=\\\"sr-only\\\">next</span>\\n\" +\n    \"</a>\\n\" +\n    \"<ol class=\\\"carousel-indicators\\\" ng-show=\\\"slides.length > 1\\\">\\n\" +\n    \"  <li ng-repeat=\\\"slide in slides | orderBy:indexOfSlide track by $index\\\" ng-class=\\\"{ active: isActive(slide) }\\\" ng-click=\\\"select(slide)\\\">\\n\" +\n    \"    <span class=\\\"sr-only\\\">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if=\\\"isActive(slide)\\\">, currently active</span></span>\\n\" +\n    \"  </li>\\n\" +\n    \"</ol>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/carousel/slide.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/carousel/slide.html\",\n    \"<div class=\\\"text-center\\\" ng-transclude></div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/datepicker/datepicker.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/datepicker/datepicker.html\",\n    \"<div ng-switch=\\\"datepickerMode\\\">\\n\" +\n    \"  <div uib-daypicker ng-switch-when=\\\"day\\\" tabindex=\\\"0\\\" class=\\\"uib-daypicker\\\"></div>\\n\" +\n    \"  <div uib-monthpicker ng-switch-when=\\\"month\\\" tabindex=\\\"0\\\" class=\\\"uib-monthpicker\\\"></div>\\n\" +\n    \"  <div uib-yearpicker ng-switch-when=\\\"year\\\" tabindex=\\\"0\\\" class=\\\"uib-yearpicker\\\"></div>\\n\" +\n    \"</div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/datepicker/day.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/datepicker/day.html\",\n    \"<table role=\\\"grid\\\" aria-labelledby=\\\"{{::uniqueId}}-title\\\" aria-activedescendant=\\\"{{activeDateId}}\\\">\\n\" +\n    \"  <thead>\\n\" +\n    \"    <tr>\\n\" +\n    \"      <th><button type=\\\"button\\\" class=\\\"btn btn-default btn-sm pull-left uib-left\\\" ng-click=\\\"move(-1)\\\" tabindex=\\\"-1\\\"><i aria-hidden=\\\"true\\\" class=\\\"glyphicon glyphicon-chevron-left\\\"></i><span class=\\\"sr-only\\\">previous</span></button></th>\\n\" +\n    \"      <th colspan=\\\"{{::5 + showWeeks}}\\\"><button id=\\\"{{::uniqueId}}-title\\\" role=\\\"heading\\\" aria-live=\\\"assertive\\\" aria-atomic=\\\"true\\\" type=\\\"button\\\" class=\\\"btn btn-default btn-sm uib-title\\\" ng-click=\\\"toggleMode()\\\" ng-disabled=\\\"datepickerMode === maxMode\\\" tabindex=\\\"-1\\\"><strong>{{title}}</strong></button></th>\\n\" +\n    \"      <th><button type=\\\"button\\\" class=\\\"btn btn-default btn-sm pull-right uib-right\\\" ng-click=\\\"move(1)\\\" tabindex=\\\"-1\\\"><i aria-hidden=\\\"true\\\" class=\\\"glyphicon glyphicon-chevron-right\\\"></i><span class=\\\"sr-only\\\">next</span></button></th>\\n\" +\n    \"    </tr>\\n\" +\n    \"    <tr>\\n\" +\n    \"      <th ng-if=\\\"showWeeks\\\" class=\\\"text-center\\\"></th>\\n\" +\n    \"      <th ng-repeat=\\\"label in ::labels track by $index\\\" class=\\\"text-center\\\"><small aria-label=\\\"{{::label.full}}\\\">{{::label.abbr}}</small></th>\\n\" +\n    \"    </tr>\\n\" +\n    \"  </thead>\\n\" +\n    \"  <tbody>\\n\" +\n    \"    <tr class=\\\"uib-weeks\\\" ng-repeat=\\\"row in rows track by $index\\\" role=\\\"row\\\">\\n\" +\n    \"      <td ng-if=\\\"showWeeks\\\" class=\\\"text-center h6\\\"><em>{{ weekNumbers[$index] }}</em></td>\\n\" +\n    \"      <td ng-repeat=\\\"dt in row\\\" class=\\\"uib-day text-center\\\" role=\\\"gridcell\\\"\\n\" +\n    \"        id=\\\"{{::dt.uid}}\\\"\\n\" +\n    \"        ng-class=\\\"::dt.customClass\\\">\\n\" +\n    \"        <button type=\\\"button\\\" class=\\\"btn btn-default btn-sm\\\"\\n\" +\n    \"          uib-is-class=\\\"\\n\" +\n    \"            'btn-info' for selectedDt,\\n\" +\n    \"            'active' for activeDt\\n\" +\n    \"            on dt\\\"\\n\" +\n    \"          ng-click=\\\"select(dt.date)\\\"\\n\" +\n    \"          ng-disabled=\\\"::dt.disabled\\\"\\n\" +\n    \"          tabindex=\\\"-1\\\"><span ng-class=\\\"::{'text-muted': dt.secondary, 'text-info': dt.current}\\\">{{::dt.label}}</span></button>\\n\" +\n    \"      </td>\\n\" +\n    \"    </tr>\\n\" +\n    \"  </tbody>\\n\" +\n    \"</table>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/datepicker/month.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/datepicker/month.html\",\n    \"<table role=\\\"grid\\\" aria-labelledby=\\\"{{::uniqueId}}-title\\\" aria-activedescendant=\\\"{{activeDateId}}\\\">\\n\" +\n    \"  <thead>\\n\" +\n    \"    <tr>\\n\" +\n    \"      <th><button type=\\\"button\\\" class=\\\"btn btn-default btn-sm pull-left uib-left\\\" ng-click=\\\"move(-1)\\\" tabindex=\\\"-1\\\"><i aria-hidden=\\\"true\\\" class=\\\"glyphicon glyphicon-chevron-left\\\"></i><span class=\\\"sr-only\\\">previous</span></button></th>\\n\" +\n    \"      <th colspan=\\\"{{::yearHeaderColspan}}\\\"><button id=\\\"{{::uniqueId}}-title\\\" role=\\\"heading\\\" aria-live=\\\"assertive\\\" aria-atomic=\\\"true\\\" type=\\\"button\\\" class=\\\"btn btn-default btn-sm uib-title\\\" ng-click=\\\"toggleMode()\\\" ng-disabled=\\\"datepickerMode === maxMode\\\" tabindex=\\\"-1\\\"><strong>{{title}}</strong></button></th>\\n\" +\n    \"      <th><button type=\\\"button\\\" class=\\\"btn btn-default btn-sm pull-right uib-right\\\" ng-click=\\\"move(1)\\\" tabindex=\\\"-1\\\"><i aria-hidden=\\\"true\\\" class=\\\"glyphicon glyphicon-chevron-right\\\"></i><span class=\\\"sr-only\\\">next</span></i></button></th>\\n\" +\n    \"    </tr>\\n\" +\n    \"  </thead>\\n\" +\n    \"  <tbody>\\n\" +\n    \"    <tr class=\\\"uib-months\\\" ng-repeat=\\\"row in rows track by $index\\\" role=\\\"row\\\">\\n\" +\n    \"      <td ng-repeat=\\\"dt in row\\\" class=\\\"uib-month text-center\\\" role=\\\"gridcell\\\"\\n\" +\n    \"        id=\\\"{{::dt.uid}}\\\"\\n\" +\n    \"        ng-class=\\\"::dt.customClass\\\">\\n\" +\n    \"        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n\" +\n    \"          uib-is-class=\\\"\\n\" +\n    \"            'btn-info' for selectedDt,\\n\" +\n    \"            'active' for activeDt\\n\" +\n    \"            on dt\\\"\\n\" +\n    \"          ng-click=\\\"select(dt.date)\\\"\\n\" +\n    \"          ng-disabled=\\\"::dt.disabled\\\"\\n\" +\n    \"          tabindex=\\\"-1\\\"><span ng-class=\\\"::{'text-info': dt.current}\\\">{{::dt.label}}</span></button>\\n\" +\n    \"      </td>\\n\" +\n    \"    </tr>\\n\" +\n    \"  </tbody>\\n\" +\n    \"</table>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/datepicker/year.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/datepicker/year.html\",\n    \"<table role=\\\"grid\\\" aria-labelledby=\\\"{{::uniqueId}}-title\\\" aria-activedescendant=\\\"{{activeDateId}}\\\">\\n\" +\n    \"  <thead>\\n\" +\n    \"    <tr>\\n\" +\n    \"      <th><button type=\\\"button\\\" class=\\\"btn btn-default btn-sm pull-left uib-left\\\" ng-click=\\\"move(-1)\\\" tabindex=\\\"-1\\\"><i aria-hidden=\\\"true\\\" class=\\\"glyphicon glyphicon-chevron-left\\\"></i><span class=\\\"sr-only\\\">previous</span></button></th>\\n\" +\n    \"      <th colspan=\\\"{{::columns - 2}}\\\"><button id=\\\"{{::uniqueId}}-title\\\" role=\\\"heading\\\" aria-live=\\\"assertive\\\" aria-atomic=\\\"true\\\" type=\\\"button\\\" class=\\\"btn btn-default btn-sm uib-title\\\" ng-click=\\\"toggleMode()\\\" ng-disabled=\\\"datepickerMode === maxMode\\\" tabindex=\\\"-1\\\"><strong>{{title}}</strong></button></th>\\n\" +\n    \"      <th><button type=\\\"button\\\" class=\\\"btn btn-default btn-sm pull-right uib-right\\\" ng-click=\\\"move(1)\\\" tabindex=\\\"-1\\\"><i aria-hidden=\\\"true\\\" class=\\\"glyphicon glyphicon-chevron-right\\\"></i><span class=\\\"sr-only\\\">next</span></button></th>\\n\" +\n    \"    </tr>\\n\" +\n    \"  </thead>\\n\" +\n    \"  <tbody>\\n\" +\n    \"    <tr class=\\\"uib-years\\\" ng-repeat=\\\"row in rows track by $index\\\" role=\\\"row\\\">\\n\" +\n    \"      <td ng-repeat=\\\"dt in row\\\" class=\\\"uib-year text-center\\\" role=\\\"gridcell\\\"\\n\" +\n    \"        id=\\\"{{::dt.uid}}\\\"\\n\" +\n    \"        ng-class=\\\"::dt.customClass\\\">\\n\" +\n    \"        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n\" +\n    \"          uib-is-class=\\\"\\n\" +\n    \"            'btn-info' for selectedDt,\\n\" +\n    \"            'active' for activeDt\\n\" +\n    \"            on dt\\\"\\n\" +\n    \"          ng-click=\\\"select(dt.date)\\\"\\n\" +\n    \"          ng-disabled=\\\"::dt.disabled\\\"\\n\" +\n    \"          tabindex=\\\"-1\\\"><span ng-class=\\\"::{'text-info': dt.current}\\\">{{::dt.label}}</span></button>\\n\" +\n    \"      </td>\\n\" +\n    \"    </tr>\\n\" +\n    \"  </tbody>\\n\" +\n    \"</table>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/datepickerPopup/popup.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/datepickerPopup/popup.html\",\n    \"<ul role=\\\"presentation\\\" class=\\\"uib-datepicker-popup dropdown-menu uib-position-measure\\\" dropdown-nested ng-if=\\\"isOpen\\\" ng-keydown=\\\"keydown($event)\\\" ng-click=\\\"$event.stopPropagation()\\\">\\n\" +\n    \"  <li ng-transclude></li>\\n\" +\n    \"  <li ng-if=\\\"showButtonBar\\\" class=\\\"uib-button-bar\\\">\\n\" +\n    \"    <span class=\\\"btn-group pull-left\\\">\\n\" +\n    \"      <button type=\\\"button\\\" class=\\\"btn btn-sm btn-info uib-datepicker-current\\\" ng-click=\\\"select('today', $event)\\\" ng-disabled=\\\"isDisabled('today')\\\">{{ getText('current') }}</button>\\n\" +\n    \"      <button type=\\\"button\\\" class=\\\"btn btn-sm btn-danger uib-clear\\\" ng-click=\\\"select(null, $event)\\\">{{ getText('clear') }}</button>\\n\" +\n    \"    </span>\\n\" +\n    \"    <button type=\\\"button\\\" class=\\\"btn btn-sm btn-success pull-right uib-close\\\" ng-click=\\\"close($event)\\\">{{ getText('close') }}</button>\\n\" +\n    \"  </li>\\n\" +\n    \"</ul>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/modal/window.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/modal/window.html\",\n    \"<div class=\\\"modal-dialog {{size ? 'modal-' + size : ''}}\\\"><div class=\\\"modal-content\\\" uib-modal-transclude></div></div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/pager/pager.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/pager/pager.html\",\n    \"<li ng-class=\\\"{disabled: noPrevious()||ngDisabled, previous: align}\\\"><a href ng-click=\\\"selectPage(page - 1, $event)\\\" ng-disabled=\\\"noPrevious()||ngDisabled\\\" uib-tabindex-toggle>{{::getText('previous')}}</a></li>\\n\" +\n    \"<li ng-class=\\\"{disabled: noNext()||ngDisabled, next: align}\\\"><a href ng-click=\\\"selectPage(page + 1, $event)\\\" ng-disabled=\\\"noNext()||ngDisabled\\\" uib-tabindex-toggle>{{::getText('next')}}</a></li>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/pagination/pagination.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/pagination/pagination.html\",\n    \"<li role=\\\"menuitem\\\" ng-if=\\\"::boundaryLinks\\\" ng-class=\\\"{disabled: noPrevious()||ngDisabled}\\\" class=\\\"pagination-first\\\"><a href ng-click=\\\"selectPage(1, $event)\\\" ng-disabled=\\\"noPrevious()||ngDisabled\\\" uib-tabindex-toggle>{{::getText('first')}}</a></li>\\n\" +\n    \"<li role=\\\"menuitem\\\" ng-if=\\\"::directionLinks\\\" ng-class=\\\"{disabled: noPrevious()||ngDisabled}\\\" class=\\\"pagination-prev\\\"><a href ng-click=\\\"selectPage(page - 1, $event)\\\" ng-disabled=\\\"noPrevious()||ngDisabled\\\" uib-tabindex-toggle>{{::getText('previous')}}</a></li>\\n\" +\n    \"<li role=\\\"menuitem\\\" ng-repeat=\\\"page in pages track by $index\\\" ng-class=\\\"{active: page.active,disabled: ngDisabled&&!page.active}\\\" class=\\\"pagination-page\\\"><a href ng-click=\\\"selectPage(page.number, $event)\\\" ng-disabled=\\\"ngDisabled&&!page.active\\\" uib-tabindex-toggle>{{page.text}}</a></li>\\n\" +\n    \"<li role=\\\"menuitem\\\" ng-if=\\\"::directionLinks\\\" ng-class=\\\"{disabled: noNext()||ngDisabled}\\\" class=\\\"pagination-next\\\"><a href ng-click=\\\"selectPage(page + 1, $event)\\\" ng-disabled=\\\"noNext()||ngDisabled\\\" uib-tabindex-toggle>{{::getText('next')}}</a></li>\\n\" +\n    \"<li role=\\\"menuitem\\\" ng-if=\\\"::boundaryLinks\\\" ng-class=\\\"{disabled: noNext()||ngDisabled}\\\" class=\\\"pagination-last\\\"><a href ng-click=\\\"selectPage(totalPages, $event)\\\" ng-disabled=\\\"noNext()||ngDisabled\\\" uib-tabindex-toggle>{{::getText('last')}}</a></li>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/tooltip/tooltip-html-popup.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/tooltip/tooltip-html-popup.html\",\n    \"<div class=\\\"tooltip-arrow\\\"></div>\\n\" +\n    \"<div class=\\\"tooltip-inner\\\" ng-bind-html=\\\"contentExp()\\\"></div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/tooltip/tooltip-popup.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/tooltip/tooltip-popup.html\",\n    \"<div class=\\\"tooltip-arrow\\\"></div>\\n\" +\n    \"<div class=\\\"tooltip-inner\\\" ng-bind=\\\"content\\\"></div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/tooltip/tooltip-template-popup.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/tooltip/tooltip-template-popup.html\",\n    \"<div class=\\\"tooltip-arrow\\\"></div>\\n\" +\n    \"<div class=\\\"tooltip-inner\\\"\\n\" +\n    \"  uib-tooltip-template-transclude=\\\"contentExp()\\\"\\n\" +\n    \"  tooltip-template-transclude-scope=\\\"originScope()\\\"></div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/popover/popover-html.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/popover/popover-html.html\",\n    \"<div class=\\\"arrow\\\"></div>\\n\" +\n    \"\\n\" +\n    \"<div class=\\\"popover-inner\\\">\\n\" +\n    \"    <h3 class=\\\"popover-title\\\" ng-bind=\\\"uibTitle\\\" ng-if=\\\"uibTitle\\\"></h3>\\n\" +\n    \"    <div class=\\\"popover-content\\\" ng-bind-html=\\\"contentExp()\\\"></div>\\n\" +\n    \"</div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/popover/popover-template.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/popover/popover-template.html\",\n    \"<div class=\\\"arrow\\\"></div>\\n\" +\n    \"\\n\" +\n    \"<div class=\\\"popover-inner\\\">\\n\" +\n    \"    <h3 class=\\\"popover-title\\\" ng-bind=\\\"uibTitle\\\" ng-if=\\\"uibTitle\\\"></h3>\\n\" +\n    \"    <div class=\\\"popover-content\\\"\\n\" +\n    \"      uib-tooltip-template-transclude=\\\"contentExp()\\\"\\n\" +\n    \"      tooltip-template-transclude-scope=\\\"originScope()\\\"></div>\\n\" +\n    \"</div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/popover/popover.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/popover/popover.html\",\n    \"<div class=\\\"arrow\\\"></div>\\n\" +\n    \"\\n\" +\n    \"<div class=\\\"popover-inner\\\">\\n\" +\n    \"    <h3 class=\\\"popover-title\\\" ng-bind=\\\"uibTitle\\\" ng-if=\\\"uibTitle\\\"></h3>\\n\" +\n    \"    <div class=\\\"popover-content\\\" ng-bind=\\\"content\\\"></div>\\n\" +\n    \"</div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/progressbar/bar.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/progressbar/bar.html\",\n    \"<div class=\\\"progress-bar\\\" ng-class=\\\"type && 'progress-bar-' + type\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"{{value}}\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"{{max}}\\\" ng-style=\\\"{width: (percent < 100 ? percent : 100) + '%'}\\\" aria-valuetext=\\\"{{percent | number:0}}%\\\" aria-labelledby=\\\"{{::title}}\\\" ng-transclude></div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/progressbar/progress.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/progressbar/progress.html\",\n    \"<div class=\\\"progress\\\" ng-transclude aria-labelledby=\\\"{{::title}}\\\"></div>\");\n}]);\n\nangular.module(\"uib/template/progressbar/progressbar.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/progressbar/progressbar.html\",\n    \"<div class=\\\"progress\\\">\\n\" +\n    \"  <div class=\\\"progress-bar\\\" ng-class=\\\"type && 'progress-bar-' + type\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"{{value}}\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"{{max}}\\\" ng-style=\\\"{width: (percent < 100 ? percent : 100) + '%'}\\\" aria-valuetext=\\\"{{percent | number:0}}%\\\" aria-labelledby=\\\"{{::title}}\\\" ng-transclude></div>\\n\" +\n    \"</div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/rating/rating.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/rating/rating.html\",\n    \"<span ng-mouseleave=\\\"reset()\\\" ng-keydown=\\\"onKeydown($event)\\\" tabindex=\\\"0\\\" role=\\\"slider\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"{{range.length}}\\\" aria-valuenow=\\\"{{value}}\\\" aria-valuetext=\\\"{{title}}\\\">\\n\" +\n    \"    <span ng-repeat-start=\\\"r in range track by $index\\\" class=\\\"sr-only\\\">({{ $index < value ? '*' : ' ' }})</span>\\n\" +\n    \"    <i ng-repeat-end ng-mouseenter=\\\"enter($index + 1)\\\" ng-click=\\\"rate($index + 1)\\\" class=\\\"glyphicon\\\" ng-class=\\\"$index < value && (r.stateOn || 'glyphicon-star') || (r.stateOff || 'glyphicon-star-empty')\\\" ng-attr-title=\\\"{{r.title}}\\\"></i>\\n\" +\n    \"</span>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/tabs/tab.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/tabs/tab.html\",\n    \"<li ng-class=\\\"[{active: active, disabled: disabled}, classes]\\\" class=\\\"uib-tab nav-item\\\">\\n\" +\n    \"  <a href ng-click=\\\"select($event)\\\" class=\\\"nav-link\\\" uib-tab-heading-transclude>{{heading}}</a>\\n\" +\n    \"</li>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/tabs/tabset.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/tabs/tabset.html\",\n    \"<div>\\n\" +\n    \"  <ul class=\\\"nav nav-{{tabset.type || 'tabs'}}\\\" ng-class=\\\"{'nav-stacked': vertical, 'nav-justified': justified}\\\" ng-transclude></ul>\\n\" +\n    \"  <div class=\\\"tab-content\\\">\\n\" +\n    \"    <div class=\\\"tab-pane\\\"\\n\" +\n    \"         ng-repeat=\\\"tab in tabset.tabs\\\"\\n\" +\n    \"         ng-class=\\\"{active: tabset.active === tab.index}\\\"\\n\" +\n    \"         uib-tab-content-transclude=\\\"tab\\\">\\n\" +\n    \"    </div>\\n\" +\n    \"  </div>\\n\" +\n    \"</div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/timepicker/timepicker.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/timepicker/timepicker.html\",\n    \"<table class=\\\"uib-timepicker\\\">\\n\" +\n    \"  <tbody>\\n\" +\n    \"    <tr class=\\\"text-center\\\" ng-show=\\\"::showSpinners\\\">\\n\" +\n    \"      <td class=\\\"uib-increment hours\\\"><a ng-click=\\\"incrementHours()\\\" ng-class=\\\"{disabled: noIncrementHours()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noIncrementHours()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\n\" +\n    \"      <td>&nbsp;</td>\\n\" +\n    \"      <td class=\\\"uib-increment minutes\\\"><a ng-click=\\\"incrementMinutes()\\\" ng-class=\\\"{disabled: noIncrementMinutes()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noIncrementMinutes()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\n\" +\n    \"      <td ng-show=\\\"showSeconds\\\">&nbsp;</td>\\n\" +\n    \"      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-increment seconds\\\"><a ng-click=\\\"incrementSeconds()\\\" ng-class=\\\"{disabled: noIncrementSeconds()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noIncrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-up\\\"></span></a></td>\\n\" +\n    \"      <td ng-show=\\\"showMeridian\\\"></td>\\n\" +\n    \"    </tr>\\n\" +\n    \"    <tr>\\n\" +\n    \"      <td class=\\\"form-group uib-time hours\\\" ng-class=\\\"{'has-error': invalidHours}\\\">\\n\" +\n    \"        <input type=\\\"text\\\" placeholder=\\\"HH\\\" ng-model=\\\"hours\\\" ng-change=\\\"updateHours()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"::readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementHours()\\\" ng-blur=\\\"blur()\\\">\\n\" +\n    \"      </td>\\n\" +\n    \"      <td class=\\\"uib-separator\\\">:</td>\\n\" +\n    \"      <td class=\\\"form-group uib-time minutes\\\" ng-class=\\\"{'has-error': invalidMinutes}\\\">\\n\" +\n    \"        <input type=\\\"text\\\" placeholder=\\\"MM\\\" ng-model=\\\"minutes\\\" ng-change=\\\"updateMinutes()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"::readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementMinutes()\\\" ng-blur=\\\"blur()\\\">\\n\" +\n    \"      </td>\\n\" +\n    \"      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-separator\\\">:</td>\\n\" +\n    \"      <td class=\\\"form-group uib-time seconds\\\" ng-class=\\\"{'has-error': invalidSeconds}\\\" ng-show=\\\"showSeconds\\\">\\n\" +\n    \"        <input type=\\\"text\\\" placeholder=\\\"SS\\\" ng-model=\\\"seconds\\\" ng-change=\\\"updateSeconds()\\\" class=\\\"form-control text-center\\\" ng-readonly=\\\"readonlyInput\\\" maxlength=\\\"2\\\" tabindex=\\\"{{::tabindex}}\\\" ng-disabled=\\\"noIncrementSeconds()\\\" ng-blur=\\\"blur()\\\">\\n\" +\n    \"      </td>\\n\" +\n    \"      <td ng-show=\\\"showMeridian\\\" class=\\\"uib-time am-pm\\\"><button type=\\\"button\\\" ng-class=\\\"{disabled: noToggleMeridian()}\\\" class=\\\"btn btn-default text-center\\\" ng-click=\\\"toggleMeridian()\\\" ng-disabled=\\\"noToggleMeridian()\\\" tabindex=\\\"{{::tabindex}}\\\">{{meridian}}</button></td>\\n\" +\n    \"    </tr>\\n\" +\n    \"    <tr class=\\\"text-center\\\" ng-show=\\\"::showSpinners\\\">\\n\" +\n    \"      <td class=\\\"uib-decrement hours\\\"><a ng-click=\\\"decrementHours()\\\" ng-class=\\\"{disabled: noDecrementHours()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noDecrementHours()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\n\" +\n    \"      <td>&nbsp;</td>\\n\" +\n    \"      <td class=\\\"uib-decrement minutes\\\"><a ng-click=\\\"decrementMinutes()\\\" ng-class=\\\"{disabled: noDecrementMinutes()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noDecrementMinutes()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\n\" +\n    \"      <td ng-show=\\\"showSeconds\\\">&nbsp;</td>\\n\" +\n    \"      <td ng-show=\\\"showSeconds\\\" class=\\\"uib-decrement seconds\\\"><a ng-click=\\\"decrementSeconds()\\\" ng-class=\\\"{disabled: noDecrementSeconds()}\\\" class=\\\"btn btn-link\\\" ng-disabled=\\\"noDecrementSeconds()\\\" tabindex=\\\"-1\\\"><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></td>\\n\" +\n    \"      <td ng-show=\\\"showMeridian\\\"></td>\\n\" +\n    \"    </tr>\\n\" +\n    \"  </tbody>\\n\" +\n    \"</table>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/typeahead/typeahead-match.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/typeahead/typeahead-match.html\",\n    \"<a href\\n\" +\n    \"   tabindex=\\\"-1\\\"\\n\" +\n    \"   ng-bind-html=\\\"match.label | uibTypeaheadHighlight:query\\\"\\n\" +\n    \"   ng-attr-title=\\\"{{match.label}}\\\"></a>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"uib/template/typeahead/typeahead-popup.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"uib/template/typeahead/typeahead-popup.html\",\n    \"<ul class=\\\"dropdown-menu\\\" ng-show=\\\"isOpen() && !moveInProgress\\\" ng-style=\\\"{top: position().top+'px', left: position().left+'px'}\\\" role=\\\"listbox\\\" aria-hidden=\\\"{{!isOpen()}}\\\">\\n\" +\n    \"    <li class=\\\"uib-typeahead-match\\\" ng-repeat=\\\"match in matches track by $index\\\" ng-class=\\\"{active: isActive($index) }\\\" ng-mouseenter=\\\"selectActive($index)\\\" ng-click=\\\"selectMatch($index, $event)\\\" role=\\\"option\\\" id=\\\"{{::match.id}}\\\">\\n\" +\n    \"        <div uib-typeahead-match index=\\\"$index\\\" match=\\\"match\\\" query=\\\"query\\\" template-url=\\\"templateUrl\\\"></div>\\n\" +\n    \"    </li>\\n\" +\n    \"</ul>\\n\" +\n    \"\");\n}]);\nangular.module('ui.bootstrap.carousel').run(function() {!angular.$$csp().noInlineStyle && !angular.$$uibCarouselCss && angular.element(document).find('head').prepend('<style type=\"text/css\">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'); angular.$$uibCarouselCss = true; });\nangular.module('ui.bootstrap.datepicker').run(function() {!angular.$$csp().noInlineStyle && !angular.$$uibDatepickerCss && angular.element(document).find('head').prepend('<style type=\"text/css\">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'); angular.$$uibDatepickerCss = true; });\nangular.module('ui.bootstrap.position').run(function() {!angular.$$csp().noInlineStyle && !angular.$$uibPositionCss && angular.element(document).find('head').prepend('<style type=\"text/css\">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'); angular.$$uibPositionCss = true; });\nangular.module('ui.bootstrap.datepickerPopup').run(function() {!angular.$$csp().noInlineStyle && !angular.$$uibDatepickerpopupCss && angular.element(document).find('head').prepend('<style type=\"text/css\">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'); angular.$$uibDatepickerpopupCss = true; });\nangular.module('ui.bootstrap.tooltip').run(function() {!angular.$$csp().noInlineStyle && !angular.$$uibTooltipCss && angular.element(document).find('head').prepend('<style type=\"text/css\">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'); angular.$$uibTooltipCss = true; });\nangular.module('ui.bootstrap.timepicker').run(function() {!angular.$$csp().noInlineStyle && !angular.$$uibTimepickerCss && angular.element(document).find('head').prepend('<style type=\"text/css\">.uib-time input{width:50px;}</style>'); angular.$$uibTimepickerCss = true; });\nangular.module('ui.bootstrap.typeahead').run(function() {!angular.$$csp().noInlineStyle && !angular.$$uibTypeaheadCss && angular.element(document).find('head').prepend('<style type=\"text/css\">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'); angular.$$uibTypeaheadCss = true; });","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Events = require(\"./events\");\n\nfunction noop() {}\n\n/**\n * Abstract class for classes\n *\n * @class\n * @memberof CamSDK\n *\n * @borrows CamSDK.Events.on                        as on\n * @borrows CamSDK.Events.once                      as once\n * @borrows CamSDK.Events.off                       as off\n * @borrows CamSDK.Events.trigger                   as trigger\n *\n * @borrows CamSDK.Events.on                        as prototype.on\n * @borrows CamSDK.Events.once                      as prototype.once\n * @borrows CamSDK.Events.off                       as prototype.off\n * @borrows CamSDK.Events.trigger                   as prototype.trigger\n */\nfunction BaseClass() {\n  this.initialize();\n}\n\n/**\n * Creates a new Resource Class, very much inspired from Backbone.Model.extend.\n * [Backbone helpers]{@link http://backbonejs.org/docs/backbone.html}\n *\n *\n * @param  {?Object.<String, *>} protoProps\n * @param  {Object.<String, *>} [staticProps]\n * @return {CamSDK.BaseClass}\n */\nBaseClass.extend = function(protoProps, staticProps) {\n  protoProps = protoProps || {};\n  staticProps = staticProps || {};\n\n  var parent = this;\n  var child, Surrogate, s, i;\n\n  if (protoProps && Object.hasOwnProperty.call(parent, \"constructor\")) {\n    child = protoProps.constructor;\n  } else {\n    child = function() {\n      return parent.apply(this, arguments);\n    };\n  }\n\n  for (s in parent) {\n    child[s] = parent[s];\n  }\n  for (s in staticProps) {\n    child[s] = staticProps[s];\n  }\n\n  Surrogate = function() {\n    this.constructor = child;\n  };\n  Surrogate.prototype = parent.prototype;\n  child.prototype = new Surrogate();\n\n  for (i in protoProps) {\n    child.prototype[i] = protoProps[i];\n  }\n\n  return child;\n};\n\n/**\n * Aimed to be overriden in order to initialize an instance.\n *\n * @memberof CamSDK.BaseClass.prototype\n * @method initialize\n */\nBaseClass.prototype.initialize = noop;\n\nEvents.attach(BaseClass);\n\nmodule.exports = BaseClass;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function(factory) {\n  /* global global: false */\n  factory(typeof window !== \"undefined\" ? window : global);\n})(function(root) {\n  root = root || {};\n  module.exports =\n    root.jQuery || (root.angular ? root.angular.element : false) || root.Zepto;\n});\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\");\n\n// Services\nvar isModuleAvailable = require(\"./services/is-module-available\");\nvar exposeScopeProperties = require(\"./services/expose-scope-properties\");\nvar loaders = require(\"./services/loaders\");\nvar integrateActivityInstanceFilter = require(\"./services/integrate-activity-instance-filter\");\nvar params = require(\"./services/params\");\nvar createListQueryFunction = require(\"./services/create-list-query-function\");\nvar createIsSearchQueryChangedFunction = require(\"./services/create-is-search-query-changed-function\");\nvar readFiles = require(\"./services/read-files\");\nvar upload = require(\"./services/upload\");\nvar getDeploymentUrl = require(\"./services/get-deployment-url\");\nvar isFileUploadSupported = require(\"./services/is-file-upload-supported\");\nvar get = require(\"./services/get\");\n\n// Components\nvar camToolbar = require(\"./components/cam-toolbar\");\nvar camPagination = require(\"./components/cam-pagination\");\nvar camSearchableArea = require(\"./components/cam-searchable-area\");\nvar camTabs = require(\"./components/cam-tabs\");\n\n// Directives\nvar camHoverArea = require(\"./directives/cam-hover-area\");\nvar camHoverTrigger = require(\"./directives/cam-hover-trigger\");\nvar camHoverableTitle = require(\"./directives/cam-hoverable-title\");\nvar camFile = require(\"./directives/cam-file\");\nvar camInlinePanelProperty = require(\"./directives/cam-inline-panel-property\");\nvar camSortableTableHeader = require(\"./directives/cam-sortable-table-header\");\nvar camSortableTableColumn = require(\"./directives/cam-sortable-table-column\");\n\n// Controllers\nvar HoverAreaController = require(\"./controllers/hover-area\");\nvar CamPaginationController = require(\"./controllers/cam-pagination\");\nvar CamTabsController = require(\"./controllers/cam-tabs\");\nvar CamPaginationSearchIntegrationController = require(\"./controllers/cam-pagination-search-integration\");\n\n// Values\nvar routeUtil = require(\"../util/routeUtil\");\nvar paginationUtils = require(\"../util/pagination-utils\");\nvar searchWidgetUtils = require(\"../util/search-widget-utils\");\n\n// Optional Modules\nvar externalTasksCommon = require(\"./external-tasks-common\");\n\nvar ngModule = angular.module(\"cam-common\", [externalTasksCommon.name]);\n\n// Services\nngModule.factory(\"isModuleAvailable\", isModuleAvailable);\nngModule.factory(\"exposeScopeProperties\", exposeScopeProperties);\nngModule.factory(\"Loaders\", loaders);\nngModule.factory(\n  \"integrateActivityInstanceFilter\",\n  integrateActivityInstanceFilter\n);\nngModule.factory(\"params\", params);\nngModule.factory(\"createListQueryFunction\", createListQueryFunction);\nngModule.factory(\n  \"createIsSearchQueryChangedFunction\",\n  createIsSearchQueryChangedFunction\n);\nngModule.factory(\"readFiles\", readFiles);\nngModule.factory(\"upload\", upload);\nngModule.factory(\"getDeploymentUrl\", getDeploymentUrl);\nngModule.factory(\"isFileUploadSupported\", isFileUploadSupported);\nngModule.factory(\"get\", get);\n\n// Components\nngModule.directive(\"camToolbar\", camToolbar);\nngModule.directive(\"camPagination\", camPagination);\nngModule.directive(\"camSearchableArea\", camSearchableArea);\nngModule.directive(\"camTabs\", camTabs);\n\n// Directives\nngModule.directive(\"camHoverArea\", camHoverArea);\nngModule.directive(\"camHoverTrigger\", camHoverTrigger);\nngModule.directive(\"camHoverableTitle\", camHoverableTitle);\nngModule.directive(\"camFile\", camFile);\nngModule.directive(\"camInlinePanelProperty\", camInlinePanelProperty);\nngModule.directive(\"camSortableTableHeader\", camSortableTableHeader);\nngModule.directive(\"camSortableTableColumn\", camSortableTableColumn);\n\n// Controllers\nngModule.controller(\"HoverAreaController\", HoverAreaController);\nngModule.controller(\"CamPaginationController\", CamPaginationController);\nngModule.controller(\"CamTabsController\", CamTabsController);\nngModule.controller(\n  \"CamPaginationSearchIntegrationController\",\n  CamPaginationSearchIntegrationController\n);\n\n// Values\nngModule.value(\"routeUtil\", routeUtil);\nngModule.value(\"paginationUtils\", paginationUtils);\nngModule.value(\"searchWidgetUtils\", searchWidgetUtils);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = new (require(\"events\"))();\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"96\" height=\"33\" viewBox=\"0 0 96 33\">\n    <path fill-rule=\"evenodd\" d=\"M96,26.9065044 L96,33 L0,33 L0,26.9065044 L96,26.9065044 Z M43.825801,0.295704855 L47.4277156,0.298848262 L47.4126802,18.0430696 C47.411114,19.6861287 48.1312464,20.2780324 49.2770681,20.2789754 C50.423203,20.2802327 51.1442751,19.6889578 51.145528,18.046213 L51.145528,18.046213 L51.1605634,0.30199167 L54.5660784,0.304820737 L54.551043,17.819259 C54.5479106,21.4992462 52.7126538,23.6009285 49.1762057,23.5977886 C45.6397576,23.5946417 43.8079464,21.4901303 43.8110748,17.8101431 L43.8110748,17.8101431 L43.825801,0.295704855 Z M5.3849235,2.25075829e-06 C8.92168482,0.00314791311 10.753496,2.10765927 10.7503677,5.78796084 L10.7503677,5.78796084 L10.7484842,8.02229494 L7.34296929,8.01946587 L7.34516195,5.55503434 C7.3464149,3.91228955 6.6265958,3.28706579 5.48046085,3.28612277 C4.3343259,3.28549409 3.61356709,3.9088318 3.61231414,5.55189094 L3.61231414,5.55189094 L3.60166407,17.9727516 C3.60041112,19.6158107 4.32023023,20.2077143 5.46636518,20.2089717 C6.61218689,20.2099147 7.33325894,19.6189541 7.33451189,17.9762093 L7.33451189,17.9762093 L7.33733102,14.690091 L10.7425327,14.6932345 L10.7400268,17.7489409 C10.7368944,21.4292425 8.90163764,23.5306105 5.36518956,23.5277843 C1.82874147,23.524638 -0.00306972464,21.4201266 5.86369834e-05,17.7398251 L5.86369834e-05,17.7398251 L0.0100862381,5.77884496 C0.0132186102,2.09854339 1.84878865,-0.00251022049 5.3849235,2.25075829e-06 Z M87.0802259,0.332482723 L92.3520081,0.337197834 L95.9996554,23.3419117 L92.3651641,23.3390826 L91.7462074,19.1649517 L87.3261171,19.161494 L86.7005824,23.3340532 L83.3931107,23.3312241 L87.0802259,0.332482723 Z M71.0028563,0.319217543 L76.7006412,0.323932654 C80.3022426,0.327076062 82.0685872,2.33288443 82.0657714,6.01350034 L82.0657714,6.01350034 L82.0557445,17.64568 C82.0526121,21.3259816 80.2828219,23.3286465 76.6812205,23.3255068 L76.6812205,23.3255068 L70.9834356,23.3204737 L71.0028563,0.319217543 Z M56.9887802,0.306958254 L61.5075402,0.310730343 L65.1959083,14.0823132 L65.2074981,0.314188091 L68.4166133,0.316702817 L68.3971926,23.3182733 L64.6969215,23.3154442 L60.2251471,6.65161207 L60.2110514,23.3116721 L56.9693595,23.3088431 L56.9887802,0.306958254 Z M26.2424495,0.280836537 L31.2523654,0.284922967 L33.8907624,16.618383 L36.3603246,0.289323737 L41.3702405,0.293724508 L41.3508198,23.295295 L37.9456181,23.2927803 L37.9594005,6.79680606 L35.4569485,23.2905799 L32.0514335,23.2877508 L29.3801466,7.01967366 L29.3666774,23.2852361 L26.2230288,23.282407 L26.2424495,0.280836537 Z M15.6661205,0.271689221 L20.9379027,0.276089991 L24.5858632,23.2811182 L20.9510586,23.2782891 L20.3327284,19.1041582 L15.9123249,19.1007005 L15.286477,23.2732597 L11.9793185,23.2704306 L15.6661205,0.271689221 Z M74.6019519,3.60816487 L74.5881694,20.0378132 L76.6182598,20.0397003 C77.7643947,20.0406422 78.4522636,19.4496816 78.4538298,17.8066225 L78.4538298,17.8066225 L78.4638551,5.84595671 C78.4651064,4.20289758 77.7781772,3.6106796 76.6320422,3.60973658 L76.6320422,3.60973658 L74.6019519,3.60816487 Z M89.53256,4.40916799 L87.7872023,16.0404046 L91.2581838,16.0432337 L89.53256,4.40916799 Z M18.1184546,4.34837448 L16.3730968,15.9792968 L19.8440783,15.9824402 L18.1184546,4.34837448 Z\"/>\n</svg>`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\"),\n  email = require(\"./email\"),\n  engineSelect = require(\"./engineSelect\"),\n  autoFill = require(\"./autoFill\"),\n  inPlaceTextField = require(\"./inPlaceTextField\"),\n  notificationsPanel = require(\"./notificationsPanel\"),\n  passwordRepeat = require(\"./passwordRepeat\"),\n  showIfAuthorized = require(\"./showIfAuthorized\"),\n  compileTemplate = require(\"./compileTemplate\"),\n  nl2br = require(\"./nl2br\"),\n  instantTypeahead = require(\"./instantTypeahead\"),\n  util = require(\"../util/index\");\n\nrequire(\"../../vendor/ui-bootstrap-tpls-2.5.0-camunda\");\n\nvar directivesModule = angular.module(\"camunda.common.directives\", [\n  \"ui.bootstrap\",\n  util.name\n]);\n\ndirectivesModule.directive(\"email\", email);\ndirectivesModule.directive(\"autoFill\", autoFill);\ndirectivesModule.directive(\"engineSelect\", engineSelect);\ndirectivesModule.directive(\"camInPlaceTextField\", inPlaceTextField);\ndirectivesModule.directive(\"notificationsPanel\", notificationsPanel);\ndirectivesModule.directive(\"passwordRepeat\", passwordRepeat);\ndirectivesModule.directive(\"showIfAuthorized\", showIfAuthorized);\ndirectivesModule.directive(\"compileTemplate\", compileTemplate);\ndirectivesModule.directive(\"nl2br\", nl2br);\ndirectivesModule.directive(\"instantTypeahead\", instantTypeahead);\n\ndirectivesModule.config([\n  \"$uibModalProvider\",\n  \"$uibTooltipProvider\",\n  function($modalProvider, $tooltipProvider) {\n    $modalProvider.options = {\n      animation: true,\n      backdrop: true, //can be also false or 'static'\n      keyboard: true\n    };\n\n    $tooltipProvider.options({\n      animation: true,\n      popupDelay: 100,\n      appendToBody: true\n    });\n  }\n]);\n\nmodule.exports = directivesModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\");\n\nvar SearchFactory = [\n  \"$location\",\n  \"$rootScope\",\n  function($location, $rootScope) {\n    var silent = false;\n\n    $rootScope.$on(\"$routeUpdate\", function(e, lastRoute) {\n      if (silent) {\n        silent = false;\n      } else {\n        $rootScope.$broadcast(\"$routeChanged\", lastRoute);\n      }\n    });\n\n    $rootScope.$on(\"$routeChangeSuccess\", function() {\n      silent = false;\n    });\n\n    var search = function() {\n      return $location.search.apply($location, arguments);\n    };\n\n    search.updateSilently = function(params, replaceFlag) {\n      var oldPath = $location.absUrl();\n\n      angular.forEach(params, function(value, key) {\n        $location.search(key, value);\n      });\n\n      var newPath = $location.absUrl();\n\n      if (newPath !== oldPath) {\n        silent = true;\n      }\n\n      if (replaceFlag) {\n        $location.replace();\n      }\n    };\n\n    return search;\n  }\n];\n\nvar searchModule = angular.module(\"camunda.common.search\", []);\n\nsearchModule.factory(\"search\", SearchFactory);\n\nmodule.exports = searchModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @namespace CamSDK */\n\nmodule.exports = {\n  Client: require(\"./../api-client\"),\n  Form: require(\"./forms\"),\n  utils: require(\"./../utils\")\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Events = require(\"./../events\");\n\n/**\n * For all API client related\n * @namespace CamSDK.client\n */\n\n/**\n * For the resources implementations\n * @namespace CamSDK.client.resource\n */\n\n/**\n * Entry point of the module\n *\n * @class CamundaClient\n * @memberof CamSDK.client\n *\n * @param  {Object} config                  used to provide necessary configuration\n * @param  {String} [config.engine=default] false to define absolute apiUri\n * @param  {String} config.apiUri\n * @param  {String} [config.headers]        Headers that should be used for all Http requests.\n */\nfunction CamundaClient(config) {\n  if (!config) {\n    throw new Error(\"Needs configuration\");\n  }\n\n  if (!config.apiUri) {\n    throw new Error(\"An apiUri is required\");\n  }\n\n  Events.attach(this);\n\n  // use 'default' engine\n  config.engine =\n    typeof config.engine !== \"undefined\" ? config.engine : \"default\";\n\n  // mock by default.. for now\n  config.mock = typeof config.mock !== \"undefined\" ? config.mock : true;\n\n  config.resources = config.resources || {};\n\n  this.HttpClient = config.HttpClient || CamundaClient.HttpClient;\n\n  this.baseUrl = config.apiUri;\n  if (config.engine) {\n    this.baseUrl += this.baseUrl.slice(-1) !== \"/\" ? \"/\" : \"\";\n    this.baseUrl += \"engine/\" + config.engine;\n  }\n\n  this.config = config;\n\n  this.initialize();\n}\n\n/**\n * [HttpClient description]\n * @memberof CamSDK.client.CamundaClient\n * @name HttpClient\n * @type {CamSDK.client.HttpClient}\n */\nCamundaClient.HttpClient = require(\"./http-client\");\n\n// provide an isolated scope\n(function(proto) {\n  /**\n   * configuration storage\n   * @memberof CamSDK.client.CamundaClient.prototype\n   * @name  config\n   * @type {Object}\n   */\n  proto.config = {};\n\n  var _resources = {};\n\n  /**\n   * @memberof CamSDK.client.CamundaClient.prototype\n   * @name initialize\n   */\n  proto.initialize = function() {\n    /* jshint sub: true */\n    _resources[\"authorization\"] = require(\"./resources/authorization\");\n    _resources[\"batch\"] = require(\"./resources/batch\");\n    _resources[\"deployment\"] = require(\"./resources/deployment\");\n    _resources[\"external-task\"] = require(\"./resources/external-task\");\n    _resources[\"filter\"] = require(\"./resources/filter\");\n    _resources[\"history\"] = require(\"./resources/history\");\n    _resources[\n      \"process-definition\"\n    ] = require(\"./resources/process-definition\");\n    _resources[\"process-instance\"] = require(\"./resources/process-instance\");\n    _resources[\"task\"] = require(\"./resources/task\");\n    _resources[\"task-report\"] = require(\"./resources/task-report\");\n    _resources[\"telemetry\"] = require(\"./resources/telemetry\");\n    _resources[\"variable\"] = require(\"./resources/variable\");\n    _resources[\"case-execution\"] = require(\"./resources/case-execution\");\n    _resources[\"case-instance\"] = require(\"./resources/case-instance\");\n    _resources[\"case-definition\"] = require(\"./resources/case-definition\");\n    _resources[\"user\"] = require(\"./resources/user\");\n    _resources[\"group\"] = require(\"./resources/group\");\n    _resources[\"tenant\"] = require(\"./resources/tenant\");\n    _resources[\"incident\"] = require(\"./resources/incident\");\n    _resources[\"job-definition\"] = require(\"./resources/job-definition\");\n    _resources[\"job\"] = require(\"./resources/job\");\n    _resources[\"metrics\"] = require(\"./resources/metrics\");\n    _resources[\n      \"decision-definition\"\n    ] = require(\"./resources/decision-definition\");\n    _resources[\"execution\"] = require(\"./resources/execution\");\n    _resources[\"migration\"] = require(\"./resources/migration\");\n    _resources[\"drd\"] = require(\"./resources/drd\");\n    _resources[\"modification\"] = require(\"./resources/modification\");\n    _resources[\"message\"] = require(\"./resources/message\");\n    _resources[\"password-policy\"] = require(\"./resources/password-policy\");\n\n    /* jshint sub: false */\n    var self = this;\n\n    function forwardError(err) {\n      self.trigger(\"error\", err);\n    }\n\n    // create global HttpClient instance\n    this.http = new this.HttpClient({\n      baseUrl: this.baseUrl,\n      headers: this.config.headers\n    });\n\n    // configure the client for each resources separately,\n    var name, conf, resConf, c;\n    for (name in _resources) {\n      conf = {\n        name: name,\n        // use the SDK config for some default values\n        mock: this.config.mock,\n        baseUrl: this.baseUrl,\n        headers: this.config.headers\n      };\n      resConf = this.config.resources[name] || {};\n\n      for (c in resConf) {\n        conf[c] = resConf[c];\n      }\n\n      // instanciate a HTTP client for the resource\n      _resources[name].http = new this.HttpClient(conf);\n\n      // forward request errors\n      _resources[name].http.on(\"error\", forwardError);\n    }\n  };\n\n  /**\n   * Allows to get a resource from SDK by its name\n   * @memberof CamSDK.client.CamundaClient.prototype\n   * @name resource\n   *\n   * @param  {String} name\n   * @return {CamSDK.client.AbstractClientResource}\n   */\n  proto.resource = function(name) {\n    return _resources[name];\n  };\n})(CamundaClient.prototype);\n\nmodule.exports = CamundaClient;\n\n/**\n * A [universally unique identifier]{@link en.wikipedia.org/wiki/Universally_unique_identifier}\n * @typedef {String} uuid\n */\n\n/**\n * This callback is displayed as part of the Requester class.\n * @callback requestCallback\n * @param {?Object} error\n * @param {CamSDK.AbstractClientResource|CamSDK.AbstractClientResource[]} [results]\n */\n\n/**\n * Function who does not perform anything\n * @callback noopCallback\n */\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbbreviateNumberFilter = function() {\n  return function(number, decimal) {\n    if (!number) {\n      return;\n    }\n\n    if (number < 950) {\n      return number;\n    }\n\n    if (!decimal) {\n      decimal = 1;\n    }\n\n    return abbreviateNumber(number, decimal);\n  };\n\n  function abbreviateNumber(number, decimal) {\n    // 2 decimal places => 100, 3 => 1000, etc\n    decimal = Math.pow(10, decimal);\n\n    // Enumerate number abbreviations according to https://en.wikipedia.org/wiki/Yotta-\n    var abbreviations = [\"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"];\n\n    // Go through the array backwards, so we do the largest first\n    for (var i = abbreviations.length - 1; i >= 0; i--) {\n      // Convert array index to \"1000\", \"1000000\", etc\n      var size = Math.pow(10, (i + 1) * 3);\n\n      // If the number is bigger or equal do the abbreviation\n      if (size <= number) {\n        // Here, we multiply by decimal, round, and then divide by decPlaces.\n        // This gives us nice rounding to a particular decimal place.\n        number = Math.round((number * decimal) / size) / decimal;\n\n        // Handle special case where we round up to the next abbreviation\n        if (number === 1000 && i < abbreviations.length - 1) {\n          number = 1;\n          i++;\n        }\n\n        // Add the letter for the abbreviation\n        number += abbreviations[i];\n\n        // We are done... stop\n        return number;\n      }\n    }\n    return number;\n  }\n};\nmodule.exports = AbbreviateNumberFilter;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-bpm-sdk-js/vendor/angular\"),\n  typeUtils = require(\"../../../../camunda-bpm-sdk-js/lib/forms/type-util\"),\n  templateDialog = require(\"./cam-widget-variable-dialog.html.js\"),\n  templateStringDialog = require(\"./cam-widget-string-dialog.html.js\");\n\nvar varUtils = {};\n\nfunction camundaFormattedDate(date) {\n  date = date || new Date();\n  return date.toISOString().slice(0, -5);\n}\nvarUtils.camundaFormattedDate = camundaFormattedDate;\n\nvarUtils.templateDialog = templateDialog;\nvarUtils.templateStringDialog = templateStringDialog;\n\nvarUtils.modalCtrl = [\n  \"$scope\",\n  \"variable\",\n  \"readonly\",\n  function($dialogScope, variable, readonly) {\n    $dialogScope.hovered = false;\n    $dialogScope.toggleHover = function(which) {\n      $dialogScope.hovered = which;\n    };\n\n    $dialogScope.variable = variable;\n    $dialogScope.readonly = readonly;\n    var original = angular.copy(variable);\n\n    $dialogScope.hasChanged = function() {\n      original.valueInfo = original.valueInfo || {};\n      variable.valueInfo = variable.valueInfo || {};\n\n      return (\n        original.value !== variable.value ||\n        original.valueInfo.serializationDataFormat !==\n          variable.valueInfo.serializationDataFormat ||\n        original.valueInfo.objectTypeName !== variable.valueInfo.objectTypeName\n      );\n    };\n  }\n];\n\nvarUtils.typeUtils = typeUtils;\n\nvarUtils.types = [\n  \"Boolean\",\n  \"Bytes\",\n  \"File\",\n  \"Date\",\n  \"Double\",\n  \"Integer\",\n  \"Long\",\n  \"Null\",\n  \"Object\",\n  \"Short\",\n  \"String\",\n  \"Json\",\n  \"Xml\"\n];\n\nvarUtils.defaultValues = {\n  Boolean: false,\n  Bytes: null,\n  File: null,\n  Date: camundaFormattedDate(),\n  Double: 0,\n  Integer: 0,\n  Long: 0,\n  Null: \"\",\n  Short: 0,\n  String: \"\",\n  Object: {},\n  Json: \"\",\n  Xml: \"\"\n};\n\nvarUtils.isPrimitive = function($scope) {\n  return function(type) {\n    if (!type && !$scope.variable) {\n      return true;\n    }\n    type = type || $scope.variable.type;\n    if (!type) {\n      return true;\n    }\n\n    return (\n      [\n        \"Boolean\",\n        \"Date\",\n        \"Double\",\n        \"Integer\",\n        \"Long\",\n        \"Short\",\n        \"String\"\n      ].indexOf(type) >= 0\n    );\n  };\n};\n\nvarUtils.isBinary = function($scope) {\n  return function(type) {\n    if (!type && !$scope.variable) {\n      return false;\n    }\n    type = type || $scope.variable.type;\n    if (!type) {\n      return false;\n    }\n\n    return [\"Bytes\", \"File\"].indexOf(type) >= 0;\n  };\n};\n\nvarUtils.useCheckbox = function($scope) {\n  return function(type) {\n    if (!type && !$scope.variable) {\n      return false;\n    }\n    type = type || $scope.variable.type;\n    return type === \"Boolean\";\n  };\n};\n\nvarUtils.validate = function($scope) {\n  return function() {\n    if (!$scope.variable.name || !$scope.variable.type) {\n      $scope.valid = false;\n    } else if (\n      $scope.variable.value === null ||\n      [\"String\", \"Object\", \"Null\"].indexOf($scope.variable.type) > -1\n    ) {\n      $scope.valid = true;\n    } else {\n      $scope.valid = typeUtils.isType(\n        $scope.variable.value,\n        $scope.variable.type\n      );\n    }\n\n    if ($scope.valid) {\n      // save the variable in the appropriate type\n      if (\n        $scope.variable.type &&\n        $scope.variable.value !== null &&\n        $scope.isPrimitive($scope.variable.type)\n      ) {\n        var newTyped;\n\n        if ($scope.variable.type !== \"Boolean\") {\n          newTyped = typeUtils.convertToType(\n            $scope.variable.value,\n            $scope.variable.type\n          );\n        } else {\n          newTyped = $scope.variable.value\n            ? $scope.variable.value !== \"false\"\n            : false;\n        }\n\n        // only change value if newType has different type, to avoid infinite recursion\n        if (typeof $scope.variable.value !== typeof newTyped) {\n          $scope.variable.value = newTyped;\n        }\n      }\n    }\n  };\n};\n\nmodule.exports = varUtils;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-bpm-sdk-js/vendor/angular\");\nvar moment = require(\"../../../../camunda-bpm-sdk-js/vendor/moment\");\nrequire(\"angular-translate\");\n\nvar filtersModule = angular.module(\"cam.commons.filter.date\", [\n  \"pascalprecht.translate\"\n]);\n\nfiltersModule.provider(\"camDateFormat\", function() {\n  var variants = {\n    normal: \"LLL\",\n    short: \"LL\",\n    long: \"LLLL\"\n  };\n\n  this.setDateFormat = function(newFormat, variant) {\n    variant = variant || \"normal\";\n    variants[variant] = newFormat;\n  };\n\n  this.$get = function() {\n    return function(variant) {\n      variant = variant || \"normal\";\n      return variants[variant];\n    };\n  };\n});\n\nfiltersModule.config([\n  \"$filterProvider\",\n  function($filterProvider) {\n    $filterProvider.register(\"camDate\", [\n      \"$translate\",\n      \"camDateFormat\",\n      function($translate, camDateFormat) {\n        return function(date, variant) {\n          if (!date) {\n            return \"\";\n          }\n\n          if (typeof date === \"number\") {\n            date = new Date(date);\n          }\n\n          return moment(date, moment.ISO_8601).format(camDateFormat(variant));\n        };\n      }\n    ]);\n  }\n]);\n\nmodule.exports = filtersModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$window\",\n  function($window) {\n    var storage = $window.localStorage;\n    var values = JSON.parse(storage.getItem(\"camunda\") || \"{}\");\n    return {\n      get: function(key, defaultValue) {\n        return typeof values[key] !== \"undefined\" ? values[key] : defaultValue;\n      },\n      set: function(key, value) {\n        values[key] = value;\n        storage.setItem(\"camunda\", JSON.stringify(values));\n      },\n      remove: function(key) {\n        delete values[key];\n        storage.setItem(\"camunda\", JSON.stringify(values));\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = require(\"../../camunda-bpm-sdk-js/vendor/moment\");\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nvar template = require(\"./instanceCount.html.js\");\n\nmodule.exports = function(\n  $scope,\n  control,\n  processData,\n  processDiagram,\n  Loaders,\n  $rootScope,\n  callbacks\n) {\n  // the getViewer() method only exists in the instance context, but not in the definition context.\n  var viewer = control.getViewer ? control.getViewer() : control;\n  var overlays = viewer.get(\"overlays\");\n  var elementRegistry = viewer.get(\"elementRegistry\");\n  var stopLoading = Loaders.startLoading();\n  var overlaysNodes = {};\n\n  callbacks.observe(function(sources) {\n    stopLoading();\n\n    elementRegistry.forEach(function(shape) {\n      var element = processDiagram.bpmnElements[shape.businessObject.id];\n      var data = callbacks.getData.apply(null, [element].concat(sources));\n      var nodes;\n\n      if (callbacks.isActive(data)) {\n        if (!overlaysNodes[element.id]) {\n          nodes = getOverlayNodes(element, data);\n\n          overlays.add(element.id, {\n            position: {\n              bottom: 0,\n              left: 0\n            },\n            show: {\n              minZoom: -Infinity,\n              maxZoom: +Infinity\n            },\n            html: nodes.html\n          });\n\n          overlaysNodes[element.id] = nodes;\n        }\n\n        element.isSelectable = true;\n      }\n\n      if (overlaysNodes[element.id]) {\n        callbacks.updateOverlayNodes(overlaysNodes[element.id], data);\n      }\n    });\n    callbacks.toggleIsLoading && callbacks.toggleIsLoading();\n    $rootScope.$broadcast(\n      \"cockpit.plugin.base.views:diagram-plugins:instance-plugin-loaded\"\n    );\n  });\n\n  function getOverlayNodes(element, data) {\n    var html = angular.element(template);\n    var clickListener = selectRunningInstances.bind(null, element, data);\n    var nodes = {\n      html: html,\n      instancesNode: html.find(\".instance-count\"),\n      incidentsNode: html.find(\".instance-incidents\")\n    };\n\n    html.on(\"click\", clickListener);\n\n    $scope.$on(\"$destroy\", function() {\n      html.off(\"click\", clickListener);\n    });\n\n    return nodes;\n  }\n\n  var currentFilter = processData.observe(\"filter\", function(filter) {\n    currentFilter = filter;\n  });\n\n  function selectRunningInstances(element, data, event) {\n    var newFilter = angular.copy(currentFilter);\n    var ctrl = event.ctrlKey;\n    var activityId = element.id;\n    var activityIds = angular.copy(newFilter.activityIds) || [];\n    var idx = activityIds.indexOf(activityId);\n    var selected = idx !== -1;\n    var multiInstance = data.multiInstance;\n\n    if (!activityId) {\n      activityIds = null;\n    } else {\n      if (ctrl) {\n        if (selected) {\n          activityIds.splice(idx, 1);\n          if (multiInstance) {\n            activityIds.splice(\n              activityIds.indexOf(activityId + \"#multiInstanceBody\"),\n              1\n            );\n          }\n        } else {\n          activityIds.push(activityId);\n          if (multiInstance) {\n            activityIds.push(activityId + \"#multiInstanceBody\");\n          }\n        }\n      } else {\n        activityIds = [activityId];\n        if (multiInstance) {\n          activityIds.push(activityId + \"#multiInstanceBody\");\n        }\n      }\n    }\n\n    newFilter.activityIds = activityIds;\n\n    $scope.$apply(function() {\n      processData.set(\"filter\", newFilter);\n    });\n  }\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/job-retry-dialog.html -->\n<div class=\"modal-header\">\n  <h3>{{ 'PLUGIN_JOB_RETRY_LEGEND_1' | translate }}</h3>\n</div>\n\n<div class=\"job-retry modal-body\">\n  <div notifications-panel></div>\n\n  <div ng-hide=\"status === 'finished' || status === 'failed'\">\n    <p>{{ 'PLUGIN_JOB_RETRY_LEGEND_2' | translate }}</p>\n    <p>{{ 'PLUGIN_JOB_RETRY_LEGEND_3' | translate }}</p>\n  </div>\n\n  <div ng-show=\"status === 'finished'\">\n    {{ 'PLUGIN_JOB_RETRY_LEGEND_4' | translate }}\n  </div>\n\n  <div ng-show=\"status === 'failed'\">\n    {{ 'PLUGIN_JOB_RETRY_LEGEND_5' | translate }}\n  </div>\n\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'performing'\"\n          ng-hide=\"status === 'finished' || status === 'failed'\">\n    {{ 'PLUGIN_JOB_RETRY_BTN_CLOSE' | translate }}\n  </button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"incrementRetry()\"\n          ng-hide=\"status === 'finished' || status === 'failed'\"\n          ng-disabled=\"status === 'performing'\">\n    {{ 'PLUGIN_JOB_RETRY_BTN_RETRY' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'finished' || status === 'failed'\">\n    {{ 'PLUGIN_JOB_RETRY_BTN_OK' | translate }}\n  </button>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/job-retry-dialog.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = require(\"./lib/index\");\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\"),\n  base = require(\"./base/app/plugin\"),\n  decisionList = require(\"./decisionList/app/plugin\"),\n  jobDefinition = require(\"./jobDefinition/app/plugin\"),\n  tasks = require(\"./tasks/app/plugin\"),\n  externalTasksTab = require(\"./external-tasks-process-instance-runtime-tab\");\n\nmodule.exports = angular.module(\"cockpit.plugin.cockpitPlugins\", [\n  base.name,\n  decisionList.name,\n  jobDefinition.name,\n  tasks.name,\n  externalTasksTab.name\n]);\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\");\n\nrequire(\"../../../camunda-commons-ui/lib/util/index\");\n\nvar processDefinitionResource = require(\"./processDefinitionResource\"),\n  incidentResource = require(\"./incidentResource\"),\n  processInstanceResource = require(\"./processInstanceResource\"),\n  localExecutionVariableResource = require(\"./localExecutionVariableResource\"),\n  jobResource = require(\"./jobResource\"),\n  taskResource = require(\"./taskResource\"),\n  jobDefinitionResource = require(\"./jobDefinitionResource\");\n\nvar resourcesModule = angular.module(\"cam.cockpit.resources\", [\"ngResource\"]);\n\nresourcesModule.factory(\"ProcessDefinitionResource\", processDefinitionResource);\nresourcesModule.factory(\"IncidentResource\", incidentResource);\nresourcesModule.factory(\"ProcessInstanceResource\", processInstanceResource);\nresourcesModule.factory(\n  \"LocalExecutionVariableResource\",\n  localExecutionVariableResource\n);\nresourcesModule.factory(\"JobResource\", jobResource);\nresourcesModule.factory(\"TaskResource\", taskResource);\nresourcesModule.factory(\"JobDefinitionResource\", jobDefinitionResource);\n\nmodule.exports = resourcesModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\"),\n  breadcrumbs = require(\"./../../../common/scripts/directives/breadcrumbs\"),\n  numeric = require(\"./numeric\"),\n  date = require(\"./../../../common/scripts/directives/date\"),\n  processDiagram = require(\"./processDiagram\"),\n  decisionTable = require(\"./decisionTable\"),\n  processDiagramPreview = require(\"./processDiagramPreview\"),\n  activityInstanceTree = require(\"./activityInstanceTree\"),\n  sidebarContainer = require(\"./sidebarContainer\"),\n  stateCircle = require(\"./stateCircle\"),\n  variable = require(\"./variable\"),\n  focus = require(\"./focus\"),\n  viewPills = require(\"./viewPills\"),\n  pieChart = require(\"./pie-chart\"),\n  selectActivity = require(\"./selectActivity\"),\n  selectActivityInstance = require(\"./selectActivityInstance\"),\n  processVariable = require(\"./processVariable\"),\n  dynamicName = require(\"./dynamicName\"),\n  quickFilter = require(\"./quickFilter\"),\n  diagramStatisticsLoader = require(\"./diagramStatisticsLoader\"),\n  timeToLive = require(\"./time-to-live.js\"),\n  changeVersion = require(\"./change-version.js\"),\n  camCommon = require(\"../../../common/scripts/module\"),\n  isSidebarCollapsed = require(\"./isSidebarCollapsed\"),\n  incidentsTab = require(\"./incidentsTab\"),\n  sortableTableHead = require(\"./sortableTableHead\");\n\nvar directivesModule = angular.module(\"cam.cockpit.directives\", [\n  camCommon.name\n]);\n\ndirectivesModule.directive(\"camBreadcrumbsPanel\", breadcrumbs);\ndirectivesModule.directive(\"numeric\", numeric);\ndirectivesModule.directive(\"date\", date);\ndirectivesModule.directive(\"processDiagram\", processDiagram);\ndirectivesModule.directive(\"decisionTable\", decisionTable);\ndirectivesModule.directive(\"processDiagramPreview\", processDiagramPreview);\ndirectivesModule.directive(\"activityInstanceTree\", activityInstanceTree);\ndirectivesModule.directive(\"ctnCollapsableParent\", sidebarContainer);\ndirectivesModule.directive(\"stateCircle\", stateCircle);\ndirectivesModule.directive(\"variable\", variable);\ndirectivesModule.directive(\"focus\", focus);\ndirectivesModule.directive(\"viewPills\", viewPills);\ndirectivesModule.directive(\"camSelectActivity\", selectActivity);\ndirectivesModule.directive(\"camPieChart\", pieChart);\ndirectivesModule.directive(\"camSelectActivityInstance\", selectActivityInstance);\ndirectivesModule.directive(\"processVariable\", processVariable);\ndirectivesModule.directive(\"camDynamicName\", dynamicName);\ndirectivesModule.directive(\"camQuickFilter\", quickFilter);\ndirectivesModule.directive(\"diagramStatisticsLoader\", diagramStatisticsLoader);\ndirectivesModule.directive(\"timeToLive\", timeToLive);\ndirectivesModule.directive(\"changeVersion\", changeVersion);\ndirectivesModule.directive(\"isSidebarCollapsed\", isSidebarCollapsed);\ndirectivesModule.directive(\"sortableTableHead\", sortableTableHead);\ndirectivesModule.directive(\"incidentsTab\", incidentsTab);\n\nmodule.exports = directivesModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\");\n\nrequire(\"angular-data-depend\");\nrequire(\"../../../camunda-commons-ui/lib/index\");\n\nvar routes = require(\"./config/routes\");\n\nvar ngDeps = [\"cam.commons\", \"dataDepend\", \"ngRoute\"];\n\nvar batchModule = angular.module(\"cam.cockpit.batch\", ngDeps);\n\nbatchModule.config(routes);\n\nmodule.exports = batchModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./decision-definition.html.js\");\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\"),\n  routeUtil = require(\"../../../common/scripts/util/routeUtil\"),\n  camCommons = require(\"../../../camunda-commons-ui/lib\");\n\nvar ngModule = angular.module(\"cam.cockpit.pages.decisionDefinition\", [\n  \"dataDepend\",\n  camCommons.name\n]);\n\nvar Controller = [\n  \"$scope\",\n  \"$rootScope\",\n  \"$q\",\n  \"dataDepend\",\n  \"page\",\n  \"camAPI\",\n  \"decisionDefinition\",\n  \"Views\",\n  \"search\",\n  \"isModuleAvailable\",\n  \"$translate\",\n  \"queryMaxResults\",\n  function(\n    $scope,\n    $rootScope,\n    $q,\n    dataDepend,\n    page,\n    camAPI,\n    decisionDefinition,\n    Views,\n    search,\n    isModuleAvailable,\n    $translate,\n    queryMaxResults\n  ) {\n    $scope.control = {};\n\n    var decisionData = ($scope.decisionData = dataDepend.create($scope));\n\n    // utilities ///////////////////////\n\n    var decisionDefinitionService = camAPI.resource(\"decision-definition\");\n\n    $scope.hasDrdPlugin = isModuleAvailable(\"cockpit.plugin.drd\");\n    $scope.decisionDefinition = decisionDefinition;\n\n    // end utilities ///////////////////////\n\n    // begin data definition //////////////////////\n\n    decisionData.provide(\"decisionDefinition\", decisionDefinition);\n\n    decisionData.provide(\"tableXml\", [\n      \"decisionDefinition\",\n      function(decisionDefinition) {\n        var deferred = $q.defer();\n\n        var decisionDefinitionId = decisionDefinition.id;\n\n        decisionDefinitionService.getXml(decisionDefinitionId, function(\n          err,\n          data\n        ) {\n          if (!err) {\n            deferred.resolve(data.dmnXml);\n          } else {\n            deferred.reject(err);\n          }\n        });\n\n        return deferred.promise;\n      }\n    ]);\n\n    decisionData.provide(\"allDefinitions\", [\n      \"decisionDefinition\",\n      function(decisionDefinition) {\n        var queryParams = {\n          key: decisionDefinition.key,\n          sortBy: \"version\",\n          sortOrder: \"desc\"\n        };\n\n        if (decisionDefinition.tenantId) {\n          queryParams.tenantIdIn = decisionDefinition.tenantId;\n        } else {\n          queryParams.withoutTenantId = true;\n        }\n\n        return queryMaxResults(\n          queryParams,\n          function(params) {\n            return decisionDefinitionService.list(params);\n          },\n          function(params) {\n            return decisionDefinitionService.count(params);\n          }\n        );\n      }\n    ]);\n\n    // end data definition /////////////////////////\n\n    // begin data usage ////////////////////////////\n\n    decisionData.observe([\"decisionDefinition\"], function(decisionDefinition) {\n      $scope.decisionDefinition = decisionDefinition;\n    });\n    decisionData.observe([\"allDefinitions\"], function(allDefinitions) {\n      $scope.allDefinitions = allDefinitions;\n    });\n\n    // BREADCRUMBS\n    $rootScope.showBreadcrumbs = true;\n\n    $scope.breadcrumbData = decisionData.observe(\n      [\"decisionDefinition\"],\n      function(definition) {\n        page.breadcrumbsClear();\n\n        page.breadcrumbsAdd([\n          {\n            label: $translate.instant(\"DECISION_DEFINITION_DECISIONS\"),\n            href: \"#/decisions\"\n          },\n          {\n            type: \"decisionDefinition\",\n            label: definition.name || definition.key || definition.id,\n            href: \"#/decision-definition/\" + definition.id\n          }\n        ]);\n\n        page.titleSet(\n          [\n            definition.name || definition.key || definition.id,\n            $translate.instant(\"DECISION_DEFINITION_DEFINITION_VIEW\")\n          ].join(\" | \")\n        );\n      }\n    );\n\n    decisionData.observe([\"tableXml\"], function(tableXml) {\n      $scope.tableXml = tableXml;\n    });\n\n    $scope.initializeTablePlugins = function() {\n      var tablePlugins = Views.getProviders({\n        component: \"cockpit.decisionDefinition.table\"\n      });\n\n      for (var i = 0; i < tablePlugins.length; i++) {\n        // only allows new style of plugins\n        if (typeof tablePlugins[i].render === \"function\") {\n          tablePlugins[i].render(\n            Object.values($scope.control.getViewer()._viewers)[0],\n            { decisionDefinitionId: decisionDefinition.id },\n            $scope\n          );\n        }\n      }\n    };\n\n    $scope.decisionDefinitionVars = {\n      read: [\"decisionDefinition\", \"decisionData\"]\n    };\n    $scope.decisionDefinitionTabs = Views.getProviders({\n      component: \"cockpit.decisionDefinition.tab\"\n    });\n    $scope.decisionDefinitionActions = Views.getProviders({\n      component: \"cockpit.decisionDefinition.action\"\n    });\n\n    // INITIALIZE PLUGINS\n\n    var decisionPlugins = Views.getProviders({\n      component: \"cockpit.decisionDefinition.tab\"\n    }).concat(\n      Views.getProviders({ component: \"cockpit.decisionDefinition.action\" })\n    );\n\n    var initData = {\n      decisionDefinition: decisionDefinition,\n      decisionData: decisionData\n    };\n\n    for (var i = 0; i < decisionPlugins.length; i++) {\n      if (typeof decisionPlugins[i].initialize === \"function\") {\n        decisionPlugins[i].initialize(initData);\n      }\n    }\n\n    $scope.selectTab = function(tabProvider) {\n      $scope.selectedTab = tabProvider;\n\n      search.updateSilently({\n        detailsTab: tabProvider.id\n      });\n    };\n\n    function setDefaultTab(tabs) {\n      var selectedTabId = search().detailsTab;\n\n      if (!tabs || !tabs.length) {\n        return;\n      }\n\n      if (selectedTabId) {\n        var provider = Views.getProvider({\n          component: \"cockpit.decisionDefinition.tab\",\n          id: selectedTabId\n        });\n        if (provider && tabs.indexOf(provider) !== -1) {\n          $scope.selectedTab = provider;\n          return;\n        }\n      }\n\n      search.updateSilently({\n        detailsTab: null\n      });\n\n      $scope.selectedTab = tabs[0];\n    }\n\n    setDefaultTab($scope.decisionDefinitionTabs);\n\n    $scope.getDeploymentUrl = function() {\n      var path = \"#/repository\";\n\n      var deploymentId = decisionDefinition.deploymentId;\n      var searches = {\n        deployment: deploymentId,\n        resourceName: decisionDefinition.resource,\n        deploymentsQuery: JSON.stringify([\n          {\n            type: \"id\",\n            operator: \"eq\",\n            value: deploymentId\n          }\n        ])\n      };\n\n      return routeUtil.redirectTo(path, searches, [\n        \"deployment\",\n        \"resourceName\",\n        \"deploymentsQuery\"\n      ]);\n    };\n  }\n];\n\nvar RouteConfig = [\n  \"$routeProvider\",\n  function($routeProvider) {\n    $routeProvider\n      .when(\"/decision-definition/:id\", {\n        redirectTo: function(params, currentPath, currentSearch) {\n          var redirectUrl = currentPath + \"/history\";\n\n          return routeUtil.redirectTo(redirectUrl, currentSearch, true);\n        }\n      })\n      .when(\"/decision-definition/:id/history\", {\n        template: template,\n\n        controller: Controller,\n        authentication: \"required\",\n        resolve: {\n          decisionDefinition: [\n            \"ResourceResolver\",\n            \"camAPI\",\n            \"$q\",\n            function(ResourceResolver, camAPI, $q) {\n              return ResourceResolver.getByRouteParam(\"id\", {\n                name: \"decision definition\",\n                resolve: function(id) {\n                  var deferred = $q.defer();\n\n                  var decisionDefinitionService = camAPI.resource(\n                    \"decision-definition\"\n                  );\n\n                  decisionDefinitionService.get(id, function(err, data) {\n                    if (!err) {\n                      deferred.resolve(data);\n                    } else {\n                      deferred.reject(err);\n                    }\n                  });\n\n                  return deferred.promise;\n                }\n              });\n            }\n          ]\n        },\n        reloadOnSearch: false\n      });\n  }\n];\n\nvar ViewConfig = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.decisionDefinition.view\", {\n      id: \"history\",\n      priority: 20,\n      label: \"History\",\n      keepSearchParams: []\n    });\n  }\n];\n\nngModule.config(RouteConfig).config(ViewConfig);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./decision-instance.html.js\");\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\"),\n  routeUtil = require(\"../../../common/scripts/util/routeUtil\");\n\nrequire(\"angular-data-depend\");\n\nvar camCommons = require(\"../../../camunda-commons-ui/lib\");\n\nvar ngModule = angular.module(\"cam.cockpit.pages.decisionInstance\", [\n  \"dataDepend\",\n  camCommons.name\n]);\n\nvar Controller = [\n  \"$scope\",\n  \"$rootScope\",\n  \"$q\",\n  \"dataDepend\",\n  \"page\",\n  \"camAPI\",\n  \"decisionInstance\",\n  \"Views\",\n  \"search\",\n  \"$translate\",\n  function(\n    $scope,\n    $rootScope,\n    $q,\n    dataDepend,\n    page,\n    camAPI,\n    decisionInstance,\n    Views,\n    search,\n    $translate\n  ) {\n    $scope.control = {};\n\n    $scope.decisionInstance = decisionInstance;\n\n    var decisionData = ($scope.decisionData = dataDepend.create($scope));\n\n    // utilities ///////////////////////\n\n    var decisionDefinitionService = camAPI.resource(\"decision-definition\");\n\n    $scope.hasCasePlugin = false;\n    try {\n      $scope.hasCasePlugin = !!angular.module(\"cockpit.plugin.case\");\n    } catch (e) {\n      // do nothing\n    }\n\n    var processInstancePlugins = Views.getProviders({\n      component: \"cockpit.processInstance.view\"\n    });\n\n    var hasHistoryPlugin =\n      processInstancePlugins.filter(function(plugin) {\n        return plugin.id === \"history\";\n      }).length > 0;\n\n    if (hasHistoryPlugin) {\n      // if we have no history plugin, then just go to the runtime view\n      $scope.processInstanceLink =\n        \"#/process-instance/\" +\n        $scope.decisionInstance.processInstanceId +\n        \"/history\" +\n        \"?activityInstanceIds=\" +\n        $scope.decisionInstance.activityInstanceId +\n        \"&activityIds=\" +\n        $scope.decisionInstance.activityId;\n    } else {\n      // if we have the history plugin, go to the history view and select the activity, that executed the decision\n      $scope.processInstanceLink =\n        \"#/process-instance/\" + $scope.decisionInstance.processInstanceId;\n    }\n\n    // end utilities ///////////////////////\n\n    // begin data definition //////////////////////\n\n    decisionData.provide(\"tableXml\", function() {\n      var deferred = $q.defer();\n\n      decisionDefinitionService.getXml(\n        decisionInstance.decisionDefinitionId,\n        function(err, data) {\n          if (!err) {\n            deferred.resolve(data.dmnXml);\n          } else {\n            deferred.reject(err);\n          }\n        }\n      );\n\n      return deferred.promise;\n    });\n\n    decisionData.provide(\"decisionDefinition\", function() {\n      var deferred = $q.defer();\n\n      decisionDefinitionService.get(\n        decisionInstance.decisionDefinitionId,\n        function(err, data) {\n          if (!err) {\n            deferred.resolve(data);\n          } else {\n            deferred.reject(err);\n          }\n        }\n      );\n\n      return deferred.promise;\n    });\n\n    // end data definition /////////////////////////\n\n    // begin data usage ////////////////////////////\n\n    // BREADCRUMBS\n    $rootScope.showBreadcrumbs = true;\n\n    page.breadcrumbsClear();\n\n    page.breadcrumbsAdd([\n      {\n        label: $translate.instant(\"DECISION_INSTANCE_DECISIONS\"),\n        href: \"#/decisions/\"\n      },\n      {\n        type: \"decisionDefinition\",\n        label:\n          decisionInstance.decisionDefinitionName ||\n          decisionInstance.decisionDefinitionKey ||\n          decisionInstance.decisionDefinitionId,\n        href: \"#/decision-definition/\" + decisionInstance.decisionDefinitionId\n      },\n      {\n        type: \"decisionInstance\",\n        label: decisionInstance.id,\n        href: \"#/decision-instance/\" + decisionInstance.id\n      }\n    ]);\n\n    page.titleSet(\n      [\n        decisionInstance.id,\n        $translate.instant(\"DECISION_INSTANCE_INSTANCE_VIEW\")\n      ].join(\" | \")\n    );\n\n    decisionData.observe([\"tableXml\"], function(tableXml) {\n      $scope.tableXml = tableXml;\n    });\n    decisionData.observe([\"decisionDefinition\"], function(decisionDefinition) {\n      $scope.decisionDefinition = decisionDefinition;\n    });\n\n    $scope.getDeploymentUrl = function() {\n      var path = \"#/repository\";\n\n      var deploymentId = $scope.decisionDefinition.deploymentId;\n      var searches = {\n        deployment: deploymentId,\n        resourceName: $scope.decisionDefinition.resource,\n        deploymentsQuery: JSON.stringify([\n          {\n            type: \"id\",\n            operator: \"eq\",\n            value: deploymentId\n          }\n        ])\n      };\n\n      return routeUtil.redirectTo(path, searches, [\n        \"deployment\",\n        \"resourceName\",\n        \"deploymentsQuery\"\n      ]);\n    };\n\n    $scope.getActivitySearch = function(decisionInstance) {\n      return JSON.stringify([\n        {\n          type: \"caseActivityIdIn\",\n          operator: \"eq\",\n          value: decisionInstance.activityId\n        }\n      ]);\n    };\n\n    $scope.initializeTablePlugins = function() {\n      var tablePlugins = Views.getProviders({\n        component: \"cockpit.decisionInstance.table\"\n      });\n\n      var initData = {\n        decisionInstance: decisionInstance,\n        tableControl: $scope.control\n      };\n\n      for (var i = 0; i < tablePlugins.length; i++) {\n        if (typeof tablePlugins[i].initialize === \"function\") {\n          tablePlugins[i].initialize(initData);\n        }\n\n        if (typeof tablePlugins[i].render === \"function\") {\n          tablePlugins[i].render(\n            $scope.control.getViewer(),\n            { decisionInstanceId: decisionInstance.id },\n            $scope\n          );\n        }\n      }\n    };\n\n    $scope.decisionInstanceVars = {\n      read: [\"decisionInstance\", \"decisionData\"]\n    };\n    $scope.decisionInstanceTabs = Views.getProviders({\n      component: \"cockpit.decisionInstance.tab\"\n    });\n    $scope.decisionInstanceActions = Views.getProviders({\n      component: \"cockpit.decisionInstance.action\"\n    });\n\n    // INITIALIZE PLUGINS\n\n    var decisionPlugins = Views.getProviders({\n      component: \"cockpit.decisionInstance.tab\"\n    }).concat(\n      Views.getProviders({ component: \"cockpit.decisionInstance.action\" })\n    );\n\n    var initData = {\n      decisionInstance: decisionInstance,\n      decisionData: decisionData\n    };\n\n    for (var i = 0; i < decisionPlugins.length; i++) {\n      if (typeof decisionPlugins[i].initialize === \"function\") {\n        decisionPlugins[i].initialize(initData);\n      }\n    }\n\n    $scope.selectTab = function(tabProvider) {\n      $scope.selectedTab = tabProvider;\n\n      search.updateSilently({\n        detailsTab: tabProvider.id\n      });\n    };\n\n    function setDefaultTab(tabs) {\n      var selectedTabId = search().detailsTab;\n\n      if (!tabs || !tabs.length) {\n        return;\n      }\n\n      if (selectedTabId) {\n        var provider = Views.getProvider({\n          component: \"cockpit.decisionInstance.tab\",\n          id: selectedTabId\n        });\n        if (provider && tabs.indexOf(provider) !== -1) {\n          $scope.selectedTab = provider;\n          return;\n        }\n      }\n\n      search.updateSilently({\n        detailsTab: null\n      });\n\n      $scope.selectedTab = tabs[0];\n    }\n\n    setDefaultTab($scope.decisionInstanceTabs);\n  }\n];\n\nvar RouteConfig = [\n  \"$routeProvider\",\n  function($routeProvider) {\n    $routeProvider.when(\"/decision-instance/:id\", {\n      redirectTo: function(params, currentPath, currentSearch) {\n        var redirectUrl = currentPath + \"/history\";\n\n        return routeUtil.redirectTo(redirectUrl, currentSearch, true);\n      }\n    });\n\n    $routeProvider.when(\"/decision-instance/:id/history\", {\n      template: template,\n\n      controller: Controller,\n      authentication: \"required\",\n      resolve: {\n        decisionInstance: [\n          \"ResourceResolver\",\n          \"camAPI\",\n          \"$q\",\n          function(ResourceResolver, camAPI, $q) {\n            return ResourceResolver.getByRouteParam(\"id\", {\n              name: \"decision instance\",\n              resolve: function(id) {\n                var deferred = $q.defer();\n\n                var historyService = camAPI.resource(\"history\");\n\n                historyService.decisionInstance(\n                  {\n                    decisionInstanceId: id,\n                    includeInputs: true,\n                    includeOutputs: true,\n                    disableBinaryFetching: true,\n                    disableCustomObjectDeserialization: true,\n                    maxResults: 1\n                  },\n                  function(err, data) {\n                    if (!err && data.length) {\n                      deferred.resolve(data[0]);\n                    } else {\n                      deferred.reject(\n                        err || {\n                          status: 404\n                        }\n                      );\n                    }\n                  }\n                );\n\n                return deferred.promise;\n              }\n            });\n          }\n        ]\n      },\n      reloadOnSearch: false\n    });\n  }\n];\n\nvar ViewConfig = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.decisionInstance.view\", {\n      id: \"history\",\n      priority: 20,\n      label: \"History\",\n      keepSearchParams: []\n    });\n  }\n];\n\nngModule.config(RouteConfig).config(ViewConfig);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./process-instance.html.js\");\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\");\nvar commonModule = require(\"../../../common/scripts/module\");\n\nvar routeUtil = require(\"../../../common/scripts/util/routeUtil\");\nvar camCommons = require(\"../../../camunda-commons-ui/lib\");\n\nvar ngModule = angular.module(\"cam.cockpit.pages.processInstance\", [\n  camCommons.name,\n  commonModule.name,\n  \"dataDepend\"\n]);\n\nvar Controller = [\n  \"$scope\",\n  \"$filter\",\n  \"$rootScope\",\n  \"$location\",\n  \"search\",\n  \"ProcessDefinitionResource\",\n  \"ProcessInstanceResource\",\n  \"IncidentResource\",\n  \"Views\",\n  \"Data\",\n  \"Transform\",\n  \"processInstance\",\n  \"dataDepend\",\n  \"page\",\n  \"breadcrumbTrails\",\n  \"integrateActivityInstanceFilter\",\n  \"isModuleAvailable\",\n  \"$translate\",\n  \"camAPI\",\n  function(\n    $scope,\n    $filter,\n    $rootScope,\n    $location,\n    search,\n    ProcessDefinitionResource,\n    ProcessInstanceResource,\n    IncidentResource,\n    Views,\n    Data,\n    Transform,\n    processInstance,\n    dataDepend,\n    page,\n    breadcrumbTrails,\n    integrateActivityInstanceFilter,\n    isModuleAvailable,\n    $translate,\n    camAPI\n  ) {\n    $scope.hasMigrationPlugin = isModuleAvailable(\"cockpit.plugin.migration\");\n    $scope.processInstance = processInstance;\n\n    var processData = ($scope.processData = dataDepend.create($scope));\n    var pageData = ($scope.pageData = dataDepend.create($scope));\n\n    $scope.diagramCollapsed = true;\n    $scope.onDiagramCollapseChange = function(collapsed) {\n      if (!$scope.$$phase) {\n        $scope.$apply(function() {\n          $scope.diagramCollapsed = collapsed;\n        });\n      } else {\n        $scope.diagramCollapsed = collapsed;\n      }\n    };\n\n    // utilities ///////////////////////\n\n    $scope.hovered = null;\n    $scope.hoverTitle = function(id) {\n      $scope.hovered = id || null;\n    };\n\n    // end utilities ///////////////////////\n\n    // /////// Begin definition of process data\n\n    // processInstance\n    processData.provide(\"processInstance\", processInstance);\n\n    // processDefinition\n    processData.provide(\"processDefinition\", [\n      \"processInstance\",\n      function(processInstance) {\n        return ProcessDefinitionResource.get({\n          id: processInstance.definitionId\n        }).$promise;\n      }\n    ]);\n\n    processData.provide(\"bpmn20Xml\", [\n      \"processDefinition\",\n      function(definition) {\n        return ProcessDefinitionResource.getBpmn20Xml({ id: definition.id })\n          .$promise;\n      }\n    ]);\n\n    // bpmnElements\n    processData.provide(\"parsedBpmn20\", [\n      \"bpmn20Xml\",\n      function(bpmn20Xml) {\n        return Transform.transformBpmn20Xml(bpmn20Xml.bpmn20Xml);\n      }\n    ]);\n\n    processData.provide(\"bpmnElements\", [\n      \"parsedBpmn20\",\n      function(parsedBpmn20) {\n        return parsedBpmn20.bpmnElements;\n      }\n    ]);\n\n    processData.provide(\"bpmnDefinition\", [\n      \"parsedBpmn20\",\n      function(parsedBpmn20) {\n        return parsedBpmn20.definitions;\n      }\n    ]);\n\n    // activityInstances\n    processData.provide(\"activityInstances\", [\n      \"processInstance\",\n      function(processInstance) {\n        return ProcessInstanceResource.activityInstances({\n          id: processInstance.id\n        }).$promise;\n      }\n    ]);\n\n    // activityInstanceTree, activityIdToInstancesMap, instanceIdToInstanceMap\n    processData.provide(\n      [\n        \"activityInstanceTree\",\n        \"activityIdToInstancesMap\",\n        \"instanceIdToInstanceMap\",\n        \"activityIdToIncidentIdMap\"\n      ],\n      [\n        \"activityInstances\",\n        \"processDefinition\",\n        \"bpmnElements\",\n        function(activityInstances, processDefinition, bpmnElements) {\n          var activityIdToInstancesMap = {},\n            instanceIdToInstanceMap = {},\n            model = bpmnElements[processDefinition.key],\n            activityIdToIncidentIdMap = {};\n\n          function getActivityName(bpmnElement) {\n            var name = bpmnElement.name;\n            if (!name) {\n              var shortenFilter = $filter(\"shorten\");\n              name =\n                bpmnElement.$type.substr(5) +\n                \" (\" +\n                shortenFilter(bpmnElement.id, 8) +\n                \")\";\n            }\n\n            return name;\n          }\n\n          function addIncidents(incidents) {\n            incidents.forEach(function(incident) {\n              var incidentIds =\n                activityIdToIncidentIdMap[incident.activityId] || [];\n              incidentIds.push(incident.id);\n              activityIdToIncidentIdMap[incident.activityId] = incidentIds;\n            });\n          }\n\n          function decorateActivityInstanceTree(instance) {\n            var children = instance.childActivityInstances;\n\n            if (children && children.length > 0) {\n              for (var i = 0, child; (child = children[i]); i++) {\n                var activityId = child.activityId,\n                  bpmnElement = bpmnElements[activityId],\n                  instances = activityIdToInstancesMap[activityId] || [];\n\n                if (bpmnElement) {\n                  child.name = getActivityName(bpmnElement);\n                } else {\n                  child.name = activityId;\n                }\n                child.isTransitionInstance = false;\n                activityIdToInstancesMap[activityId] = instances;\n                if (!instanceIdToInstanceMap[child.id]) {\n                  instanceIdToInstanceMap[child.id] = child;\n                }\n\n                addIncidents(child.incidents);\n\n                instances.push(child);\n\n                decorateActivityInstanceTree(child);\n              }\n            }\n\n            var transitions = instance.childTransitionInstances;\n            if (transitions && transitions.length > 0) {\n              for (var t = 0, transition; (transition = transitions[t]); t++) {\n                var targetActivityId = transition.targetActivityId,\n                  transitionBpmnElement = bpmnElements[targetActivityId],\n                  transitionInstances =\n                    activityIdToInstancesMap[targetActivityId] || [];\n\n                if (transitionBpmnElement) {\n                  transition.name = getActivityName(transitionBpmnElement);\n                } else {\n                  transition.name = targetActivityId;\n                }\n                transition.isTransitionInstance = true;\n                activityIdToInstancesMap[\n                  targetActivityId\n                ] = transitionInstances;\n                if (!instanceIdToInstanceMap[transition.id]) {\n                  instanceIdToInstanceMap[transition.id] = transition;\n                }\n\n                addIncidents(transition.incidents);\n\n                transitionInstances.push(transition);\n              }\n            }\n          }\n\n          activityInstances.name = getActivityName(model);\n\n          // add initially the root to the map\n          instanceIdToInstanceMap[activityInstances.id] = activityInstances;\n\n          decorateActivityInstanceTree(activityInstances);\n\n          return [\n            activityInstances,\n            activityIdToInstancesMap,\n            instanceIdToInstanceMap,\n            activityIdToIncidentIdMap\n          ];\n        }\n      ]\n    );\n\n    processData.provide(\"executionIdToInstanceMap\", [\n      \"instanceIdToInstanceMap\",\n      function(instanceIdToInstanceMap) {\n        var executionIdToInstanceMap = {};\n\n        for (var key in instanceIdToInstanceMap) {\n          var instance = instanceIdToInstanceMap[key],\n            executionIds = instance.executionIds,\n            executionId = instance.executionId;\n\n          if (executionIds) {\n            for (var i = 0, execId; (execId = executionIds[i]); i++) {\n              executionIdToInstanceMap[execId] = instance;\n            }\n          }\n\n          if (executionId) {\n            executionIdToInstanceMap[executionId] = instance;\n          }\n        }\n\n        return executionIdToInstanceMap;\n      }\n    ]);\n\n    // processDiagram\n    processData.provide(\"processDiagram\", [\n      \"bpmnDefinition\",\n      \"bpmnElements\",\n      function(bpmnDefinition, bpmnElements) {\n        var processDiagram = {};\n\n        processDiagram.bpmnDefinition = bpmnDefinition;\n        processDiagram.bpmnElements = bpmnElements;\n\n        return processDiagram;\n      }\n    ]);\n\n    processData.provide(\"latestDefinition\", [\n      \"processDefinition\",\n      function(definition) {\n        var queryParams = {\n          key: definition.key,\n          sortBy: \"version\",\n          sortOrder: \"desc\",\n          latestVersion: true,\n          maxResults: 1\n        };\n\n        if (definition.tenantId) {\n          queryParams.tenantIdIn = [definition.tenantId];\n        } else {\n          queryParams.withoutTenantId = true;\n        }\n        return camAPI.resource(\"process-definition\").list(queryParams);\n      }\n    ]);\n\n    // /////// End definition of process data\n    integrateActivityInstanceFilter($scope, angular.noop, {\n      shouldRemoveActivityIds: true\n    });\n\n    // /////// Begin usage of definied process data\n\n    $scope.processDefinition = processData.observe(\n      \"processDefinition\",\n      function(processDefinition) {\n        $scope.processDefinition = processDefinition;\n      }\n    );\n\n    $scope.latestProcessDefinition = processData.observe(\n      \"latestDefinition\",\n      function(processDefinition) {\n        $scope.latestProcessDefinition = processDefinition.items[0];\n      }\n    );\n\n    $scope.isLatestVersion = function() {\n      return (\n        $scope.processDefinition.version ===\n        $scope.latestProcessDefinition.version\n      );\n    };\n\n    $scope.getMigrationUrl = function() {\n      var path = \"#/migration\";\n\n      var searches = {\n        sourceKey: $scope.processDefinition.key,\n        targetKey: $scope.latestProcessDefinition.key,\n        sourceVersion: $scope.processDefinition.version,\n        targetVersion: $scope.latestProcessDefinition.version,\n        searchQuery: JSON.stringify([\n          {\n            type: \"processInstanceIds\",\n            operator: \"eq\",\n            value: $scope.processInstance.id\n          }\n        ])\n      };\n\n      return routeUtil.redirectTo(path, searches, [\n        \"sourceKey\",\n        \"targetKey\",\n        \"sourceVersion\",\n        \"targetVersion\",\n        \"searchQuery\"\n      ]);\n    };\n\n    $scope.getDeploymentUrl = function() {\n      var path = \"#/repository\";\n\n      var deploymentId = $scope.processDefinition.deploymentId;\n      var searches = {\n        deployment: deploymentId,\n        resourceName: $scope.processDefinition.resource,\n        deploymentsQuery: JSON.stringify([\n          {\n            type: \"id\",\n            operator: \"eq\",\n            value: deploymentId\n          }\n        ])\n      };\n\n      return routeUtil.redirectTo(path, searches, [\n        \"deployment\",\n        \"resourceName\",\n        \"deploymentsQuery\"\n      ]);\n    };\n\n    processData.provide(\"superProcessInstance\", [\n      \"processInstance\",\n      function(processInstance) {\n        return ProcessInstanceResource.query(\n          { maxResults: 1 },\n          { subProcessInstance: processInstance.id }\n        ).$promise;\n      }\n    ]);\n\n    function fetchSuperProcessInstance(processInstance, done) {\n      ProcessInstanceResource.query(\n        { maxResults: 1 },\n        {\n          subProcessInstance: processInstance.id\n        }\n      )\n        .$promise.then(function(response) {\n          var superInstance = response[0];\n\n          done(null, superInstance);\n        })\n        .catch(angular.noop);\n    }\n\n    $rootScope.showBreadcrumbs = true;\n\n    processData.observe(\n      [\"processDefinition\", \"processInstance\", \"superProcessInstance\"],\n      function(processDefinition, processInstance, superProcessInstance) {\n        var crumbs = [\n          {\n            label: $translate.instant(\"PROCESS_INSTANCE_PROCESSES\"),\n            href: \"#/processes/\"\n          }\n        ];\n\n        if (superProcessInstance.length) {\n          $scope.superProcessInstance = superProcessInstance[0];\n\n          crumbs.push(function(index) {\n            breadcrumbTrails(\n              processInstance,\n              fetchSuperProcessInstance,\n              [],\n              index,\n              \"runtime\"\n            );\n          });\n        }\n\n        crumbs.push({\n          label:\n            processDefinition.name ||\n            processDefinition.key ||\n            processDefinition.id,\n          href: \"#/process-definition/\" + processDefinition.id + \"/runtime\",\n          keepSearchParams: [\"viewbox\"]\n        });\n\n        var plugins = Views.getProviders({\n          component: \"cockpit.processInstance.view\"\n        });\n\n        crumbs.push({\n          type: \"processInstance\",\n          divider: \":\",\n          label:\n            processInstance.name || processInstance.key || processInstance.id,\n          href: \"#/process-instance/\" + processInstance.id + \"/runtime\",\n          processInstance: processInstance,\n\n          choices: plugins\n            .sort(function(a, b) {\n              return a.priority < b.priority\n                ? -1\n                : a.priority > b.priority\n                ? 1\n                : 0;\n            })\n            .map(function(plugin) {\n              return {\n                active: plugin.id === \"runtime\",\n                label: plugin.label,\n                href:\n                  \"#/process-instance/\" + processInstance.id + \"/\" + plugin.id\n              };\n            })\n        });\n\n        page.breadcrumbsClear().breadcrumbsAdd(crumbs);\n\n        page.titleSet(\n          [\n            $scope.processDefinition.name || $scope.processDefinition.id,\n            $translate.instant(\"PROCESS_INSTANCE_INSTANCE_VIEW\")\n          ].join(\" | \")\n        );\n      }\n    );\n\n    $scope.activityInstanceTree = processData.observe(\n      \"activityInstanceTree\",\n      function(activityInstanceTree) {\n        $scope.activityInstanceTree = activityInstanceTree;\n      }\n    );\n\n    $scope.processDiagram = processData.observe(\"processDiagram\", function(\n      processDiagram\n    ) {\n      $scope.processDiagram = processDiagram;\n    });\n\n    processData.observe(\n      [\"instanceIdToInstanceMap\", \"activityIdToInstancesMap\"],\n      function(instanceIdToInstanceMap, activityIdToInstancesMap) {\n        $scope.instanceIdToInstanceMap = instanceIdToInstanceMap;\n        $scope.activityIdToInstancesMap = activityIdToInstancesMap;\n      }\n    );\n\n    // /////// End of usage of definied process data\n\n    $scope.handleBpmnElementSelection = function(id, $event) {\n      if (!id) {\n        processData.set(\"filter\", {});\n        return;\n      }\n\n      var ctrlKey = $event.ctrlKey,\n        activityIds = angular.copy($scope.filter.activityIds) || [],\n        activityInstanceIds =\n          angular.copy($scope.filter.activityInstanceIds) || [],\n        idx = activityIds.indexOf(id),\n        instanceList = angular.copy($scope.activityIdToInstancesMap[id]) || [],\n        multiInstance =\n          $scope.activityIdToInstancesMap[id + \"#multiInstanceBody\"],\n        newFilter;\n\n      if (multiInstance) {\n        Array.prototype.push.apply(instanceList, multiInstance);\n        if (idx === -1) {\n          idx = activityIds.indexOf(id + \"#multiInstanceBody\");\n        }\n      }\n\n      if (!ctrlKey) {\n        activityIds = [id];\n        if (multiInstance) {\n          activityIds.push(id + \"#multiInstanceBody\");\n        }\n\n        activityInstanceIds = [];\n        angular.forEach(instanceList, function(instance) {\n          activityInstanceIds.push(instance.id);\n        });\n      } else if (ctrlKey) {\n        if (idx === -1) {\n          activityIds.push(id);\n          if (multiInstance) {\n            activityIds.push(id + \"#multiInstanceBody\");\n          }\n          angular.forEach(instanceList, function(instance) {\n            activityInstanceIds.push(instance.id);\n          });\n        } else if (idx !== -1) {\n          activityIds.splice(idx, 1);\n          if (multiInstance) {\n            activityIds.splice(\n              activityIds.indexOf(id + \"#multiInstanceBody\"),\n              1\n            );\n          }\n\n          angular.forEach(instanceList, function(instance) {\n            var instanceId = instance.id,\n              index = activityInstanceIds.indexOf(instanceId);\n\n            if (index !== -1) {\n              activityInstanceIds.splice(index, 1);\n            }\n          });\n        }\n      }\n\n      newFilter = {\n        activityIds: activityIds,\n        activityInstanceIds: activityInstanceIds\n      };\n\n      processData.set(\"filter\", newFilter);\n    };\n\n    $scope.handleActivityInstanceSelection = function(id, activityId, $event) {\n      if (!id) {\n        processData.set(\"filter\", {});\n        return;\n      }\n\n      var ctrlKey = $event.ctrlKey,\n        activityIds = angular.copy($scope.filter.activityIds) || [],\n        activityInstanceIds =\n          angular.copy($scope.filter.activityInstanceIds) || [],\n        idx = activityInstanceIds.indexOf(id),\n        instanceList = $scope.activityIdToInstancesMap[activityId],\n        newFilter;\n\n      if (!ctrlKey) {\n        activityIds = [activityId];\n        activityInstanceIds = [id];\n      } else if (ctrlKey) {\n        if (idx === -1) {\n          activityInstanceIds.push(id);\n\n          var index = activityIds.indexOf(activityId);\n          if (index === -1) {\n            activityIds.push(activityId);\n          }\n        } else {\n          activityInstanceIds.splice(idx, 1);\n\n          var foundAnotherActivityInstance = false;\n          if (instanceList) {\n            for (var i = 0, instance; (instance = instanceList[i]); i++) {\n              var instanceId = instance.id,\n                instanceIndex = activityInstanceIds.indexOf(instanceId);\n\n              if (instanceIndex !== -1) {\n                foundAnotherActivityInstance = true;\n              }\n            }\n          }\n\n          if (!foundAnotherActivityInstance) {\n            var otherIndex = activityIds.indexOf(activityId);\n            activityIds.splice(otherIndex, 1);\n          }\n        }\n      }\n\n      newFilter = {\n        activityIds: activityIds,\n        activityInstanceIds: activityInstanceIds,\n        scrollToBpmnElement: activityId\n      };\n\n      processData.set(\"filter\", newFilter);\n    };\n\n    $scope.orderChildrenBy = function() {\n      return function(elem) {\n        var id = elem.id,\n          idx = id.indexOf(\":\");\n\n        return idx !== -1 ? id.substr(idx + 1, id.length) : id;\n      };\n    };\n\n    $scope.$on(\"$routeChangeStart\", function() {\n      page.breadcrumbsClear();\n    });\n\n    $scope.processInstanceVars = {\n      read: [\"processInstance\", \"processData\", \"filter\", \"pageData\"]\n    };\n\n    $scope.processInstanceActions = Views.getProviders({\n      component: \"cockpit.processInstance.runtime.action\"\n    });\n\n    Data.instantiateProviders(\"cockpit.processInstance.data\", {\n      $scope: $scope,\n      processData: processData\n    });\n\n    // INITIALIZE PLUGINS\n    var instancePlugins = Views.getProviders({\n      component: \"cockpit.processInstance.runtime.tab\"\n    })\n      .concat(\n        Views.getProviders({\n          component: \"cockpit.processInstance.runtime.action\"\n        })\n      )\n      .concat(Views.getProviders({ component: \"cockpit.processInstance.view\" }))\n      .concat(\n        Views.getProviders({\n          component: \"cockpit.processInstance.diagram.overlay\"\n        })\n      );\n\n    var initData = {\n      processInstance: processInstance,\n      processData: processData,\n      filter: $scope.filter,\n      pageData: pageData\n    };\n\n    $scope.initData = initData;\n\n    for (var i = 0; i < instancePlugins.length; i++) {\n      if (typeof instancePlugins[i].initialize === \"function\") {\n        instancePlugins[i].initialize(initData);\n      }\n    }\n  }\n];\n\nngModule.controller(\"ProcessInstanceFilterController\", [\n  \"$scope\",\n  \"$translate\",\n  function($scope, $translate) {\n    var processData = $scope.processData.newChild($scope),\n      filterData;\n\n    processData.provide(\"filterData\", [\n      \"filter\",\n      function(filter) {\n        if (!filterData || filterData.filter !== filter) {\n          var activityIds = filter.activityIds || [],\n            activityInstanceIds = filter.activityInstanceIds || [];\n\n          return {\n            filter: filter,\n            activityCount: activityIds.length || 0,\n            activityInstanceCount: activityInstanceIds.length || 0\n          };\n        } else {\n          return filterData;\n        }\n      }\n    ]);\n\n    processData.observe([\"filterData\"], function(_filterData) {\n      $scope.filterData = filterData = _filterData;\n    });\n\n    $scope.clearSelection = function() {\n      // update cached filter\n      filterData = {\n        activityCount: 0,\n        activityInstanceCount: 0,\n        filter: {}\n      };\n\n      processData.set(\"filter\", filterData.filter);\n    };\n\n    $scope.getDataWhen = function() {\n      return {\n        null: $translate.instant(\"PAGES_PROCESS_INSTANCES_NOTHING\"),\n        \"0\": $translate.instant(\"PAGES_PROCESS_INSTANCES_NOTHING\"),\n        one: $translate.instant(\"PAGES_PROCESS_INSTANCES_ONE_SELECT\"),\n        other: $translate.instant(\"PAGES_PROCESS_INSTANCES_OTHER_SELECT\")\n      };\n    };\n\n    $scope.sidebarTab = \"info\";\n  }\n]);\n\nvar RouteConfig = [\n  \"$routeProvider\",\n  function($routeProvider) {\n    $routeProvider.when(\"/process-instance/:id\", {\n      redirectTo: routeUtil.redirectToRuntime,\n      reloadOnSearch: false\n    });\n\n    $routeProvider.when(\"/process-instance/:id/runtime\", {\n      template: template,\n      controller: Controller,\n      authentication: \"required\",\n      resolve: {\n        processInstance: [\n          \"ResourceResolver\",\n          \"ProcessInstanceResource\",\n          \"Uri\",\n          \"Views\",\n          \"Notifications\",\n          \"$route\",\n          \"$http\",\n          \"$location\",\n          \"$translate\",\n          function(\n            ResourceResolver,\n            ProcessInstanceResource,\n            Uri,\n            Views,\n            Notifications,\n            $route,\n            $http,\n            $location,\n            $translate\n          ) {\n            return ResourceResolver.getByRouteParam(\"id\", {\n              name: $translate.instant(\n                \"PROCESS_INSTANCE_RUNNING_PROCESS_INSTANCE\"\n              ),\n\n              resolve: function(id) {\n                return ProcessInstanceResource.get({ id: id });\n              },\n\n              redirectTo: function() {\n                var id = $route.current.params[\"id\"];\n\n                $http\n                  .get(\n                    Uri.appUri(\n                      \"engine://engine/:engine/history/process-instance/\"\n                    ) + id\n                  )\n                  .then(function(result) {\n                    var path;\n                    var search;\n\n                    var status = $translate.instant(\n                      \"PROCESS_INSTANCE_STATUS_UNABLE_DISPLAY_RUNNING_INSTANCE\"\n                    );\n                    var message = $translate.instant(\n                      \"PROCESS_INSTANCE_MESSAGE_2\",\n                      { id: id }\n                    );\n\n                    var historyProvider = Views.getProvider({\n                      id: \"history\",\n                      component: \"cockpit.processInstance.view\"\n                    });\n\n                    if (historyProvider) {\n                      // keep search params\n                      search = $location.search();\n                      path = \"/process-instance/\" + id + \"/history\";\n\n                      message =\n                        message +\n                        $translate.instant(\"PROCESS_INSTANCE_MESSAGE_3\");\n                    } else {\n                      path =\n                        \"/process-definition/\" +\n                        result.data.processDefinitionId;\n\n                      message =\n                        message +\n                        $translate.instant(\"PROCESS_INSTANCE_MESSAGE_4\");\n                    }\n\n                    $location.path(path);\n                    $location.search(search || {});\n                    $location.replace();\n\n                    Notifications.addMessage({\n                      status: status,\n                      message: message,\n                      http: true,\n                      exclusive: [\"http\"],\n                      duration: 5000\n                    });\n                  })\n                  .catch(function() {\n                    $location.path(\"/dashboard\");\n                    $location.search({});\n                    $location.replace();\n\n                    Notifications.addError({\n                      status: $translate.instant(\n                        \"PROCESS_INSTANCE_STATUS_FAILED_RUNNING_PROCESS\"\n                      ),\n                      message: $translate.instant(\n                        \"PROCESS_INSTANCE_MESSAGE_5\",\n                        { id: id }\n                      ),\n                      http: true,\n                      exclusive: [\"http\"]\n                    });\n                  });\n              }\n            });\n          }\n        ]\n      },\n      reloadOnSearch: false\n    });\n  }\n];\n\nvar ViewConfig = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.processInstance.view\", {\n      id: \"runtime\",\n      priority: 20,\n      label: \"BREAD_CRUMBS_RUNTIME\",\n      keepSearchParams: [\"viewbox\"]\n    });\n  }\n];\n\nngModule.config(RouteConfig).config(ViewConfig);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\");\n\nrequire(\"angular-data-depend\");\nrequire(\"../../../camunda-commons-ui/lib/index\");\n\nvar routes = require(\"./config/routes\"),\n  camCockpitRepositoryViewCtrl = require(\"./controllers/cam-cockpit-repository-view-ctrl\"),\n  deploymentsModule = require(\"./deployments/main\"),\n  resourcesModule = require(\"./resources/main\"),\n  resourceDetailsModule = require(\"./resource/main\");\n\nvar ngDeps = [\n  \"cam.commons\",\n  \"dataDepend\",\n  \"ngRoute\",\n  deploymentsModule.name,\n  resourcesModule.name,\n  resourceDetailsModule.name\n];\n\nvar deploymentModule = angular.module(\"cam.cockpit.repository\", ngDeps);\n\ndeploymentModule.config(routes);\n\ndeploymentModule.controller(\n  \"camCockpitRepositoryViewCtrl\",\n  camCockpitRepositoryViewCtrl\n);\n\nmodule.exports = deploymentModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// We use require here because imports have to be\n// grouped at the start of the file...\n\nconst $ = require(\"jquery\");\n\nwindow.jQuery = $;\nwindow.$ = $;\n\n// ...but Bootstrap need jQuery on the window\nrequire(\"bootstrap\");\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nvar modalTemplate = require(\"./modal.html\");\nvar camundaLogo = require(\"../auth/page/logo.svg\");\n\nvar previousUrl = \"\";\n\n// As long as we don't have a global Modal service, this is how we find out if we just logged in.\nwindow.addEventListener(\"hashchange\", event => {\n  previousUrl = event.oldURL;\n});\n\nvar modalController = [\n  \"$scope\",\n  \"$sce\",\n  \"Notifications\",\n  \"telemetryResource\",\n  \"$translate\",\n  function(scope, $sce, Notifications, telemetryResource, $translate) {\n    scope.loadingState = \"INITIAL\";\n    scope.logo = $sce.trustAsHtml(camundaLogo);\n    scope.enableUsage = false;\n\n    scope.page = 1;\n    scope.close = function() {\n      scope.$dismiss();\n    };\n    scope.next = function() {\n      scope.page++;\n    };\n    scope.save = function() {\n      scope.loadingState = \"LOADING\";\n      telemetryResource.configure(!!scope.enableUsage, function(err) {\n        scope.loadingState = \"DONE\";\n        if (!err) {\n          scope.page++;\n        } else {\n          Notifications.addError({\n            status: $translate.instant(\"TELEMETRY_ERROR_STATUS\"),\n            message: $translate.instant(\"TELEMETRY_ERROR_MESSAGE\")\n          });\n        }\n      });\n    };\n  }\n];\n\nmodule.exports = angular\n  .module(\"cam.commons.analytics\", [])\n\n  // Open Modal for Telemetry\n  .run([\n    \"camAPI\",\n    \"$uibModal\",\n    function(camAPI, $modal) {\n      var telemetryResource = camAPI.resource(\"telemetry\");\n\n      // Only if we logged in just now\n      if (previousUrl.includes(\"login\")) {\n        telemetryResource\n          .get()\n          .then(res => {\n            if (res.enableTelemetry === null) {\n              $modal.open({\n                template: modalTemplate,\n                controller: modalController,\n                size: \"lg\",\n                resolve: {\n                  telemetryResource: function() {\n                    return telemetryResource;\n                  }\n                },\n                appendTo: angular.element(\".angular-app\")\n              });\n            }\n          })\n          .catch(() => {});\n      }\n    }\n  ]);\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/ui/cockpit/src/legacy/camunda-commons-ui/lib/analytics/modal.html.js -->\n<div class=\"analytics-body\">\n    <div class=\"camunda-logo navigation-element\" ng-class=\"{white: page === 1 || page === 5}\" ng-bind-html=\"logo\"></div>\n    <span class=\"glyphicon glyphicon-remove-sign modal-close\" ng-class=\"{white: page === 1 || page === 5}\"\n        ng-click=\"close()\"></span>\n\n    <div class=\"splash\" ng-show=\"page === 1\">\n        <div class=\"title\">\n            {{'TELEMETRY_CAMUNDA_NEEDS_YOU' | translate}}\n        </div>\n\n        <button class=\"btn btn-default begin\" ng-click=\"next()\">\n            {{'TELEMETRY_BEGIN' | translate}}\n        </button>\n    </div>\n\n    <div class=\"content\" ng-show=\"page === 2\">\n        <h3>{{'TELEMETRY_INTRODUCTION_HEADER' | translate}}</h3>\n        <p>{{'TELEMETRY_INTRODUCTION_EXPLANATION_1' | translate}}</p>\n        <p>{{'TELEMETRY_INTRODUCTION_EXPLANATION_2' | translate}}</p>\n        <p>{{'TELEMETRY_INTRODUCTION_EXPLANATION_3' | translate}}</p>\n        <ul class=\"checkmark\">\n            <li>{{'TELEMETRY_INTRODUCTION_COMMUNITY' | translate}}</li>\n            <li>{{'TELEMETRY_INTRODUCTION_IMPROVE' | translate}}</li>\n        </ul>\n\n        <button class=\"btn btn-default next\" ng-click=\"next()\">\n            {{'TELEMETRY_NEXT' | translate}}\n        </button>\n    </div>\n    <div class=\"content\" ng-show=\"page === 3\">\n        <h3>{{'TELEMETRY_DETAILS_HEADER' | translate}}</h3>\n        <ul class=\"triangle collection-details\">\n            <li>\n                <b>{{'TELEMETRY_DETAILS_META_DATA' | translate}}</b>\n                <p>{{'TELEMETRY_DETAILS_META_DATA_WHAT' | translate}}</p>\n            </li>\n            <li>\n                <b>{{'TELEMETRY_DETAILS_USAGE_STATISTICS' | translate}}</b>\n                <p>{{'TELEMETRY_DETAILS_USAGE_STATISTICS_WHAT' | translate}}</p>\n            </li>\n        </ul>\n        <i>{{'TELEMETRY_DETAILS_META_DATA_WHY' | translate}}</i>\n        <button class=\"btn btn-default next\" ng-click=\"next()\">\n            {{'TELEMETRY_NEXT' | translate}}\n        </button>\n    </div>\n\n    <div class=\"content\" ng-show=\"page === 4\">\n        <h3>{{'TELEMETRY_PREFERENCES_HEADER' | translate}}</h3>\n        <p>{{'TELEMETRY_PREFERENCES_DETAILS' | translate}}</p>\n        <form class=\"form-inline\">\n            <div class=\"row\">\n                <div class=\"col-xs-1 col-sm-1 text-right form-control-static\">\n                    <input type=\"checkbox\" ng-model=\"enableUsage\" class=\"form-control usage-statistics\"\n                        id=\"usage-statistics\">\n                </div>\n                <div class=\"col-xs-10 col-sm-10 form-control-static \">\n                    <label for=\"usage-statistics\">{{'TELEMETRY_PREFERENCES_META' | translate}}</label>\n                    <p class=\"details\">{{'TELEMETRY_PREFERENCES_META_DETAILS' | translate}}</p>\n                </div>\n            </div>\n        </form>\n        <p class=\"disclaimer\">\n            {{'TELEMETRY_PREFERENCES_DISCLAIMER' | translate}}\n        </p>\n        <button class=\"btn btn-default next\" ng-click=\"save()\" ng-disabled=\"loadingState === 'LOADING'\">\n            {{'TELEMETRY_SAVE' | translate}}\n        </button>\n    </div>\n\n    <div class=\"splash\" ng-show=\"page === 5\">\n        <div class=\"title\">\n            {{'TELEMETRY_THANKS' | translate}}\n        </div>\n\n        <button class=\"btn btn-default begin\" ng-click=\"close()\">\n            {{'TELEMETRY_FINISH' | translate}}\n        </button>\n    </div>\n\n    <div class=\"footer\" ng-show=\"page > 1 && page < 5\">\n        <span>{{'TELEMETRY_FOOTER_LEARN_MORE' | translate}}&nbsp;</span>\n        <a href=\"https://camunda.com/legal/privacy/\" target=\"_blank\">\n            {{'TELEMETRY_FOOTER_PRIVACY_POLICY' | translate}}\n        </a>\n    </div>\n</div>\n<!-- / CE - camunda-bpm-webapp/ui/cockpit/src/legacy/camunda-commons-ui/lib/analytics/modal.html.js -->`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\");\n\nrequire(\"angular-route\");\nrequire(\"angular-resource\");\nrequire(\"angular-translate\");\n\nvar commonsUtil = require(\"../util/index\"),\n  loginPage = require(\"./page/login\"),\n  ifLoggedInDirective = require(\"./directives/camIfLoggedIn\"),\n  ifLoggedOutDirective = require(\"./directives/camIfLoggedOut\"),\n  authenticationService = require(\"./service/authenticationService\");\n\n/**\n * @module cam.commons.auth\n */\n\n/**\n * @memberof cam.commons\n */\n\nvar ngModule = angular.module(\"cam.commons.auth\", [\n  angular.module(\"ngRoute\").name,\n  commonsUtil.name,\n  \"pascalprecht.translate\"\n]);\n\nngModule\n  .config(loginPage)\n\n  // redirect after login support\n  .run([\n    \"$rootScope\",\n    \"$location\",\n    function($rootScope, $location) {\n      var preLoginUrl;\n\n      $rootScope.$on(\"authentication.login.required\", function(event) {\n        $rootScope.$evalAsync(function() {\n          var url = $location.url();\n\n          // skip if login is already in progress\n          // or default got prevented\n          if (url === \"/login\" || event.defaultPrevented) {\n            return;\n          }\n\n          preLoginUrl = url;\n          $location.url(\"/login\");\n        });\n      });\n\n      $rootScope.$on(\"authentication.login.success\", function(event) {\n        $rootScope.$evalAsync(function() {\n          // skip if default got prevented\n          if (!event.defaultPrevented) {\n            $location.url(preLoginUrl || \"/\").replace();\n            preLoginUrl = null;\n          }\n        });\n      });\n    }\n  ])\n\n  // post logout redirect + reload support\n  .run([\n    \"$cacheFactory\",\n    \"$rootScope\",\n    \"$location\",\n    \"$timeout\",\n    \"Notifications\",\n    \"$translate\",\n    function(\n      $cacheFactory,\n      $rootScope,\n      $location,\n      $timeout,\n      Notifications,\n      $translate\n    ) {\n      $rootScope.$on(\"authentication.logout.success\", function(event) {\n        $rootScope.$evalAsync(function() {\n          // skip if default got prevented\n          if (!event.defaultPrevented) {\n            // clear http cache\n            $cacheFactory.get(\"$http\").removeAll();\n            $location.url(\"/login\");\n          }\n        });\n\n        // logout is successful - wait for authentication required messages from redirection to dashboard\n        // then make an exclusive alert saying that the logout was successful.\n        $timeout(function() {\n          var getDayContext = function() {\n            var now = new Date();\n            if (now.getDay() >= 5) {\n              return \"AUTH_DAY_CONTEXT_WEEKEND\";\n            } else {\n              var hour = now.getHours();\n              switch (true) {\n                case hour >= 4 && hour < 7:\n                  return \"AUTH_DAY_CONTEXT_MORNING\";\n                case hour >= 7 && hour < 12:\n                  return \"AUTH_DAY_CONTEXT_DAY\";\n                case hour >= 12 && hour < 17:\n                  return \"AUTH_DAY_CONTEXT_AFTERNOON\";\n                case hour >= 17 && hour < 22:\n                  return \"AUTH_DAY_CONTEXT_EVENING\";\n                case hour >= 22 || hour < 4:\n                  return \"AUTH_DAY_CONTEXT_NIGHT\";\n                default:\n                  return \"AUTH_DAY_CONTEXT_DAY\";\n              }\n            }\n          };\n\n          Notifications.addMessage({\n            status: $translate.instant(\"AUTH_LOGOUT_SUCCESSFUL\"),\n            message: $translate.instant(\"AUTH_LOGOUT_THANKS\", {\n              dayContext: $translate.instant(getDayContext())\n            }),\n            exclusive: true\n          });\n        });\n      });\n    }\n  ])\n\n  // notification integration\n  .run([\n    \"$rootScope\",\n    \"Notifications\",\n    \"$translate\",\n    \"shouldDisplayAuthenticationError\",\n    function(\n      $rootScope,\n      Notifications,\n      $translate,\n      shouldDisplayAuthenticationError\n    ) {\n      $rootScope.$on(\"authentication.login.required\", function() {\n        if (shouldDisplayAuthenticationError()) {\n          Notifications.addError({\n            status: $translate.instant(\"AUTH_FAILED_TO_DISPLAY_RESOURCE\"),\n            message: $translate.instant(\"AUTH_AUTHENTICATION_FAILED\"),\n            http: true,\n            exclusive: [\"http\"]\n          });\n        }\n      });\n    }\n  ])\n\n  // ensure AuthenticationService is bootstraped\n  .run([\"AuthenticationService\", function() {}])\n\n  .directive(\"camIfLoggedIn\", ifLoggedInDirective)\n  .directive(\"camIfLoggedOut\", ifLoggedOutDirective)\n\n  .service(\"AuthenticationService\", authenticationService);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar UriFilter = [\n  \"Uri\",\n  function(Uri) {\n    return function(input) {\n      return Uri.appUri(input);\n    };\n  }\n];\n\nmodule.exports = UriFilter;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\");\n\nmodule.exports = function() {\n  var TEMPLATES_PATTERN = /[\\w]+:\\/\\/|:[\\w]+/g;\n\n  var replacements = {};\n\n  /**\n   * Specifies a pattern and its replacement on the UriProvider\n   *\n   * @description\n   * Used to register a new replacement for app uris.\n   * Typically the registration of these replacements takes place in one distinct place (i.e. the app main file).\n   *\n   * Two kinds of patterns are supported, <code>:foo</code> (as path parameter) and <code>foo://</code> (as path prefix).\n   *\n   * In addition to a plain replacement string, a function may be specified that provides the replacement.\n   *\n   *  <pre>\n   *    module.config(function(UriProvider, $routeParams) {\n   *      UriProvider.register(':foo', 'bar');\n   *      UriProvider.register('asdf://', function() {\n   *        return $routeParams.bar;\n   *      });\n   *    });\n   *  </pre>\n   *\n   * @param {string} pattern\n   * @param {string|Function} replacement string or function\n   */\n  this.replace = function(pattern, replacement) {\n    replacements[pattern] = replacement;\n  };\n\n  this.$get = [\n    \"$injector\",\n    function($injector) {\n      return {\n        /**\n         * @function\n         *\n         * Transforms a app uri using the configured replacement rules.\n         *\n         * @param {string} str the uri to transform\n         * @returns {string} the replaced string\n         */\n        appUri: function appUri(str) {\n          var replaced = str.replace(TEMPLATES_PATTERN, function(template) {\n            var replacement = replacements[template];\n            if (replacement === undefined) {\n              return template;\n            }\n\n            // allow replace support for functions\n            if (\n              angular.isFunction(replacement) ||\n              angular.isArray(replacement)\n            ) {\n              replacement = $injector.invoke(replacement);\n            }\n\n            return replacement;\n          });\n\n          return replaced;\n        }\n      };\n    }\n  ];\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./login.html.js\");\nvar logo = require(\"./logo.svg.js\");\n\nvar $ = require(\"jquery\");\n\nvar Controller = [\n  \"$scope\",\n  \"$rootScope\",\n  \"AuthenticationService\",\n  \"Notifications\",\n  \"$location\",\n  \"$translate\",\n  \"widgetLocalConf\",\n  \"$sce\",\n  \"configuration\",\n  \"$http\",\n  function(\n    $scope,\n    $rootScope,\n    AuthenticationService,\n    Notifications,\n    $location,\n    $translate,\n    localConf,\n    $sce,\n    configuration,\n    $http\n  ) {\n    $scope.logo = $sce.trustAsHtml(logo);\n    $scope.status = \"INIT\";\n    $scope.appName = configuration.getAppName();\n\n    if ($rootScope.authentication) {\n      return $location.path(\"/\");\n    }\n\n    $rootScope.showBreadcrumbs = false;\n\n    $scope.showFirstLogin = false;\n    var showFirstLogin =\n      !configuration.getDisableWelcomeMessage() &&\n      localConf.get(\"firstVisit\", true);\n\n    if (showFirstLogin) {\n      $http({\n        method: \"GET\",\n        url: \"/camunda-welcome\"\n      })\n        .then(function(res) {\n          if (res.status !== 200) {\n            $scope.dismissInfoBox();\n            return;\n          }\n          localConf.set(\"firstVisit\", true);\n          $scope.showFirstLogin = true;\n        })\n        .catch($scope.dismissInfoBox);\n    }\n\n    $translate(\"FIRST_LOGIN_INFO\").then(function(string) {\n      $scope.FirstLoginMessage = $sce.trustAsHtml(string);\n    });\n\n    $scope.dismissInfoBox = function() {\n      $scope.showFirstLogin = false;\n      localConf.set(\"firstVisit\", false);\n    };\n\n    // ensure focus on username input\n    var autofocusField = $('form[name=\"signinForm\"] [autofocus]')[0];\n    if (autofocusField) {\n      autofocusField.focus();\n    }\n\n    $scope.login = function() {\n      $scope.status = \"LOADING\";\n      return AuthenticationService.login($scope.username, $scope.password)\n        .then(function() {\n          $scope.status = \"DONE\";\n          Notifications.clearAll();\n          $scope.dismissInfoBox();\n        })\n        .catch(function(error) {\n          $scope.status = \"ERROR\";\n          delete $scope.username;\n          delete $scope.password;\n\n          Notifications.addError({\n            status: $translate.instant(\"PAGE_LOGIN_FAILED\"),\n            message:\n              (error.data && error.data.message) ||\n              $translate.instant(\"PAGE_LOGIN_ERROR_MSG\"),\n            scope: $scope,\n            exclusive: true\n          });\n        });\n    };\n  }\n];\n\nmodule.exports = [\n  \"$routeProvider\",\n  function($routeProvider) {\n    $routeProvider.when(\"/login\", {\n      template: template,\n      controller: Controller\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-commons-ui/lib/auth/page/login.html -->\n<div class=\"form-signin-container\">\n  <form class=\"form-signin\"\n        ng-submit=\"login()\"\n        name=\"signinForm\"\n        request-aware>\n\n      <div class=\"login-header\">\n        <div class=\"login-logo\" ng-bind-html=\"logo\"></div>\n  \n        <div class=\"app-name\">\n          {{ appName }}\n        </div>\n      </div>\n\n    <div notifications-panel\n         ng-if=\"signinForm.$dirty\"\n         class=\"notifications-panel\"></div>\n\n    <input autofocus\n           tabindex=\"1\"\n           type=\"text\"\n           class=\"form-control\"\n           placeholder=\"{{ 'PAGE_LOGIN_USERNAME' | translate }}\"\n           auto-fill\n           required\n           ng-model=\"username\"></input>\n    <input tabindex=\"2\"\n           type=\"password\"\n           class=\"form-control\"\n           placeholder=\"{{ 'PAGE_LOGIN_PASSWORD' | translate }}\"\n           auto-fill\n           required\n           ng-model=\"password\"></input>\n    <button tabindex=\"3\"\n            class=\"btn btn-lg btn-primary\"\n            type=\"submit\"\n            ng-disabled=\"status === 'LOADING'\">{{ 'PAGE_LOGIN_SIGN_IN_ACTION' | translate }}</button>\n\n    <div ng-if=\"showFirstLogin\"\n         class=\"alert-info alert\"\n         style=\"margin-top: 75px; margin-bottom: 0px\">\n      <div>\n        <button type=\"button\" class=\"close\" ng-click=\"dismissInfoBox()\"></button>\n        <strong class=\"status\">{{ 'FIRST_LOGIN_HEADING' | translate }}</strong>\n        <span class=\"message\" ng-bind-html=\"FirstLoginMessage\" style=\"display: block\"></span>\n      </div>\n    </div>\n  </form>\n</div>\n<!-- / CE - camunda-commons-ui/lib/auth/page/login.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$animate\",\n  \"$rootScope\",\n  function($animate, $rootScope) {\n    return {\n      transclude: \"element\",\n      priority: 1000,\n      terminal: true,\n      restrict: \"A\",\n      compile: function(element, attr, transclude) {\n        return function($scope, $element) {\n          var childElement, childScope;\n\n          function redraw(show) {\n            if (childElement) {\n              $animate.leave(childElement);\n              childElement = undefined;\n            }\n            if (childScope) {\n              childScope.$destroy();\n              childScope = undefined;\n            }\n            if (show) {\n              childScope = $scope.$new();\n              transclude(childScope, function(clone) {\n                childElement = clone;\n                $animate.enter(clone, $element.parent(), $element);\n              });\n            }\n          }\n\n          $scope.$on(\"authentication.changed\", function(e, authentication) {\n            redraw(authentication);\n          });\n\n          redraw($rootScope.authentication);\n        };\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$animate\",\n  \"$rootScope\",\n  function($animate, $rootScope) {\n    return {\n      transclude: \"element\",\n      priority: 1000,\n      terminal: true,\n      restrict: \"A\",\n      compile: function(element, attr, transclude) {\n        return function($scope, $element) {\n          var childElement, childScope;\n\n          function redraw(show) {\n            if (childElement) {\n              $animate.leave(childElement);\n              childElement = undefined;\n            }\n            if (childScope) {\n              childScope.$destroy();\n              childScope = undefined;\n            }\n            if (show) {\n              childScope = $scope.$new();\n              transclude(childScope, function(clone) {\n                childElement = clone;\n                $animate.enter(clone, $element.parent(), $element);\n              });\n            }\n          }\n\n          // listening to the local $scope prevents memory leaks because when the $scope\n          // is droped/deleted, the listeners are too\n          // and as the authentication service \"broadcasts\" events from the $rootScope\n          // the event will also be triggered on the local $scope\n          $scope.$on(\"authentication.changed\", function(e, authentication) {\n            redraw(!authentication);\n          });\n\n          redraw(!$rootScope.authentication);\n        };\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire(\"../../../../camunda-bpm-sdk-js/vendor/angular\");\nvar $ = require(\"jquery\");\nvar Authentication = require(\"../util/authentication\");\n\n/**\n * An authentication provider\n * @name AuthenticationService\n * @memberof cam.common.auth.service\n * @type angular.service\n */\nmodule.exports = [\n  \"$rootScope\",\n  \"$q\",\n  \"$http\",\n  \"Uri\",\n  \"$route\",\n  \"$cacheFactory\",\n  \"$location\",\n  function($rootScope, $q, $http, Uri, $route, $cacheFactory, $location) {\n    function emit(event, a, b) {\n      $rootScope.$broadcast(event, a, b);\n    }\n\n    function parse(response) {\n      if (response.status !== 200) {\n        return $q.reject(response);\n      }\n\n      var data = response.data;\n\n      return new Authentication({\n        name: data.userId,\n        authorizedApps: data.authorizedApps\n      });\n    }\n\n    function update(authentication) {\n      $rootScope.authentication = authentication;\n      emit(\"authentication.changed\", authentication);\n    }\n\n    /**\n     * Force an update of the current application authentication\n     *\n     * @method AuthenticationService#update\n     *\n     * @param {Authentication} authentication\n     */\n    this.updateAuthentication = update;\n\n    //////// login logic ///////////////\n\n    /**\n     * Login into the application with the given credentials\n     *\n     * @method AuthenticationService#login\n     *\n     * @param  {String} username\n     * @param  {String} password\n     *\n     * @return {Promise<Authentication, Response>} the promise with the new authentication or failure response\n     */\n    this.login = function(username, password) {\n      var form = $.param({\n        username: username,\n        password: password\n      });\n\n      function success(authentication) {\n        // When the next subsequent request after the location change is\n        // a modifying request (POST), no valid CSRF token is available\n        $http.get(Uri.appUri(\"engine://engine/\")).then(function() {\n          update(authentication);\n          emit(\"authentication.login.success\", authentication);\n        });\n\n        return authentication;\n      }\n\n      function error(response) {\n        emit(\"authentication.login.failure\", response);\n        return $q.reject(response);\n      }\n\n      function performRequest() {\n        return $http({\n          method: \"POST\",\n          url: Uri.appUri(\"admin://auth/user/:engine/login/:appName\"),\n          data: form,\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          }\n        });\n      }\n\n      // We have to perform a GET request before login to make sure we have an up to date CSRF-Cookie\n      return $http\n        .get(Uri.appUri(\"engine://engine/\"))\n        .then(performRequest)\n        .then(parse)\n        .then(success, error);\n    };\n\n    //////// logout logic ///////////////\n\n    /**\n     * Logout from the application.\n     *\n     * @method AuthenticationService#logout\n     *\n     * @return {Promise<Void, Response>} a promise that resolves to the failed response on error\n     */\n    this.logout = function(engine) {\n      function success(response) {\n        update(null);\n        if (!response.defaultPrevented) {\n          // clear http cache\n          $cacheFactory.get(\"$http\").removeAll();\n          $location.path(\"/login\");\n        }\n      }\n\n      function error(response) {\n        emit(\"authentication.logout.failure\", response);\n        return $q.reject(response);\n      }\n\n      return $http\n        .post(\n          Uri.appUri(\"admin://auth/user/\" + (engine || \":engine\") + \"/logout\")\n        )\n        .then(success, error);\n    };\n\n    //////// get current auth ///////////////\n\n    /**\n     * A promise that returns the current authentication, either fetched from server\n     * or from local application context. Will be reset when the authentication changed only.\n     */\n    var authenticationPromise;\n\n    $rootScope.$on(\"authentication.changed\", function(e, authentication) {\n      authenticationPromise = $q[authentication ? \"when\" : \"reject\"](\n        authentication\n      );\n\n      if (!authentication) {\n        $route.reload();\n      }\n    });\n\n    /**\n     * Resolves the current authentication, either fetched from server or locally.\n     *\n     * @method AuthenticationService#getAuthentication\n     *\n     * @return {Promise<Authentication, Response>} a promise resolving to the current users authentication\n     */\n    this.getAuthentication = function() {\n      function success(authentication) {\n        update(authentication);\n        return authentication;\n      }\n\n      if (!authenticationPromise) {\n        // if already authenticated, return stored credentials\n        if ($rootScope.authentication) {\n          authenticationPromise = $q.when($rootScope.authentication);\n        } else {\n          authenticationPromise = $http\n            .get(Uri.appUri(\"admin://auth/user/:engine\"))\n            .then(parse)\n            .then(success);\n        }\n      }\n\n      return authenticationPromise;\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-bpm-sdk-js/vendor/angular\");\n/**\n * @memberOf camunda.common.auth\n */\n\n/**\n * Authentication placeholde\n *\n * @class Authentication\n * @constructor\n *\n * @param {Object}        data data to instantiate the authentication with\n * @param {String}        data.name the user name\n * @param {Array<String>} data.authorizedApps list of applications the user is authorized for\n */\nfunction Authentication(data) {\n  angular.extend(this, data);\n}\n\n/**\n * Name of the authenticated user\n * @member Authentication#name\n */\n\n/**\n * @method Authentication#canAccess\n *\n * @param  {String} app name of the app\n * @return {Boolean} true if can access\n */\nAuthentication.prototype.canAccess = function(app) {\n  return this.authorizedApps && this.authorizedApps.indexOf(app) !== -1;\n};\n\nmodule.exports = Authentication;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\");\nrequire(\"angular-route\");\n\nvar $ = require(\"jquery\");\n\nvar pagesModule = angular.module(\"camunda.common.pages\", [\"ngRoute\"]);\n\nfunction setHeadTitle(url) {\n  var pageTitle = \"camunda Login\";\n\n  if (url.indexOf(\"/cockpit/\") !== -1) {\n    pageTitle = \"camunda Cockpit\";\n  } else if (url.indexOf(\"/tasklist/\") !== -1) {\n    pageTitle = \"camunda Tasklist\";\n  } else if (url.indexOf(\"/admin/\") !== -1) {\n    pageTitle = \"camunda Admin\";\n  }\n\n  $(\"head title\").text(pageTitle);\n}\n\nvar ResponseErrorHandlerInitializer = [\n  \"$rootScope\",\n  \"$location\",\n  \"Notifications\",\n  \"AuthenticationService\",\n  \"shouldDisplayAuthenticationError\",\n  \"$translate\",\n  function(\n    $rootScope,\n    $location,\n    Notifications,\n    AuthenticationService,\n    shouldDisplayAuthenticationError,\n    $translate\n  ) {\n    function addError(error) {\n      error.http = true;\n      error.exclusive = [\"http\"];\n\n      Notifications.addError(error);\n    }\n\n    /**\n     * A handler function that handles HTTP error responses,\n     * i.e. 4XX and 5XX responses by redirecting / notifying the user.\n     */\n    function handleHttpError(event, error) {\n      var status = error.status,\n        data = error.data;\n\n      switch (status) {\n        case 500:\n          if (data && data.message) {\n            addError({\n              status: $translate.instant(\"PAGES_STATUS_SERVER_ERROR\"),\n              message: data.message,\n              exceptionType: data.exceptionType\n            });\n          } else {\n            addError({\n              status: $translate.instant(\"PAGES_STATUS_SERVER_ERROR\"),\n              message: $translate.instant(\"PAGES_MSG_SERVER_ERROR\")\n            });\n          }\n          break;\n\n        case 0:\n          addError({\n            status: $translate.instant(\"PAGES_STATUS_REQUEST_TIMEOUT\"),\n            message: $translate.instant(\"PAGES_MSG_REQUEST_TIMEOUT\")\n          });\n          break;\n\n        case 401:\n          if ($location.absUrl().indexOf(\"/setup/#\") !== -1) {\n            $location.path(\"/setup\");\n          } else {\n            setHeadTitle($location.absUrl());\n\n            AuthenticationService.updateAuthentication(null);\n            $rootScope.$broadcast(\"authentication.login.required\");\n          }\n          break;\n\n        case 403:\n          if (data.type === \"AuthorizationException\") {\n            var message;\n            if (data.resourceId) {\n              message = $translate.instant(\n                \"PAGES_MSG_ACCESS_DENIED_RESOURCE_ID\",\n                {\n                  permissionName: data.permissionName.toLowerCase(),\n                  resourceName: data.resourceName.toLowerCase(),\n                  resourceId: data.resourceId\n                }\n              );\n            } else {\n              var missingAuths = data.missingAuthorizations.map(function(\n                missingAuth\n              ) {\n                return (\n                  \"'\" +\n                  missingAuth.permissionName +\n                  \"'\" +\n                  \" \" +\n                  missingAuth.resourceName +\n                  \"s\"\n                );\n              });\n\n              message = $translate.instant(\"PAGES_MSG_ACCESS_DENIED\", {\n                missingAuths: missingAuths.join()\n              });\n            }\n\n            addError({\n              status: $translate.instant(\"PAGES_STATUS_ACCESS_DENIED\"),\n              message: message\n            });\n          } else {\n            addError({\n              status: $translate.instant(\"PAGES_STATUS_ACCESS_DENIED\"),\n              message: $translate.instant(\"PAGES_MSG_ACTION_DENIED\")\n            });\n          }\n          break;\n\n        case 404:\n          if (shouldDisplayAuthenticationError()) {\n            addError({\n              status: $translate.instant(\"PAGES_STATUS_NOT_FOUND\"),\n              message: $translate.instant(\"PAGES_MSG_NOT_FOUND\")\n            });\n          }\n          break;\n        default:\n          addError({\n            status: $translate.instant(\"PAGES_STATUS_COMMUNICATION_ERROR\"),\n            message: $translate.instant(\"PAGES_MSG_COMMUNICATION_ERROR\", {\n              status: status\n            })\n          });\n      }\n    }\n\n    // triggered by httpStatusInterceptor\n    $rootScope.$on(\"httpError\", handleHttpError);\n  }\n];\n\nvar ProcessEngineSelectionController = [\n  \"$scope\",\n  \"$http\",\n  \"$location\",\n  \"$window\",\n  \"Uri\",\n  \"Notifications\",\n  \"$translate\",\n  function($scope, $http, $location, $window, Uri, Notifications, $translate) {\n    var current = Uri.appUri(\":engine\");\n    var enginesByName = {};\n\n    $http\n      .get(Uri.appUri(\"engine://engine/\"))\n      .then(function(response) {\n        $scope.engines = response.data;\n\n        angular.forEach($scope.engines, function(engine) {\n          enginesByName[engine.name] = engine;\n        });\n\n        $scope.currentEngine = enginesByName[current];\n\n        if (!$scope.currentEngine) {\n          Notifications.addError({\n            status: $translate.instant(\"PAGES_STATUS_NOT_FOUND\"),\n            message: $translate.instant(\"PAGES_MSG_ENGINE_NOT_EXISTS\"),\n            scope: $scope\n          });\n          $location.path(\"/\");\n        }\n      })\n      .catch(angular.noop);\n\n    $scope.$watch(\"currentEngine\", function(engine) {\n      if (engine && current !== engine.name) {\n        $window.location.href = Uri.appUri(\"app://../\" + engine.name + \"/\");\n      }\n    });\n  }\n];\n\nvar NavigationController = [\n  \"$scope\",\n  \"$location\",\n  function($scope, $location) {\n    $scope.activeClass = function(link) {\n      var path = $location.absUrl();\n      return path.indexOf(link) !== -1 ? \"active\" : \"\";\n    };\n  }\n];\n\nvar AuthenticationController = [\n  \"$scope\",\n  \"$window\",\n  \"$cacheFactory\",\n  \"$location\",\n  \"Notifications\",\n  \"AuthenticationService\",\n  function(\n    $scope,\n    $window,\n    $cacheFactory,\n    $location,\n    Notifications,\n    AuthenticationService\n  ) {\n    $scope.logout = function() {\n      AuthenticationService.logout();\n    };\n  }\n];\n\nmodule.exports = pagesModule\n  .run(ResponseErrorHandlerInitializer)\n  .controller(\n    \"ProcessEngineSelectionController\",\n    ProcessEngineSelectionController\n  )\n  .controller(\"AuthenticationController\", AuthenticationController)\n  .controller(\"NavigationController\", NavigationController);\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\"),\n  view = require(\"./view\"),\n  service = require(\"./service\");\n\nvar pluginModule = angular.module(\"cockpit.plugin\", []);\n\n// this module is a bit different, so we handle it differently...\nview(pluginModule);\nservice(pluginModule);\n\nmodule.exports = pluginModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\");\n// module is passed by the \"loader\" (main.js)\nmodule.exports = function(module) {\n  module.directive(\"view\", [\n    \"$q\",\n    \"$http\",\n    \"$templateCache\",\n    \"$anchorScroll\",\n    \"$compile\",\n    \"$controller\",\n    function($q, $http, $templateCache, $anchorScroll, $compile, $controller) {\n      return {\n        restrict: \"ECA\",\n        terminal: true,\n        link: function(scope, element, attrs) {\n          var lastScope;\n\n          scope.$watch(attrs.provider, update);\n\n          function destroyLastScope() {\n            if (lastScope) {\n              lastScope.$destroy();\n              lastScope = null;\n            }\n          }\n\n          function clearContent() {\n            element.html(\"\");\n            destroyLastScope();\n          }\n\n          function getTemplate(viewProvider) {\n            var template = viewProvider.template;\n            if (template) {\n              return template;\n            }\n\n            var url = viewProvider.url;\n            return $http\n              .get(url, { cache: $templateCache })\n              .then(function(response) {\n                return response.data;\n              })\n              .catch(angular.noop);\n          }\n\n          function update() {\n            var viewProvider = scope.$eval(attrs.provider);\n            var viewVars = scope.$eval(attrs.vars) || {};\n\n            if (!viewProvider) {\n              clearContent();\n              return;\n            }\n\n            $q.when(getTemplate(viewProvider)).then(\n              function(template) {\n                element.html(template);\n                destroyLastScope();\n\n                var link = $compile(element.contents()),\n                  locals = {},\n                  controller;\n\n                lastScope = scope.$new(true);\n\n                if (viewVars) {\n                  if (viewVars.read) {\n                    angular.forEach(viewVars.read, function(e) {\n                      // fill read vars initially\n                      lastScope[e] = scope[e];\n\n                      scope.$watch(e, function(newValue) {\n                        lastScope[e] = newValue;\n                      });\n                    });\n                  }\n\n                  if (viewVars.write) {\n                    angular.forEach(viewVars.write, function(e) {\n                      lastScope.$watch(e, function(newValue) {\n                        scope[e] = newValue;\n                      });\n                    });\n                  }\n                }\n\n                if (viewProvider.controller) {\n                  locals.$scope = lastScope;\n                  controller = $controller(viewProvider.controller, locals);\n                  element\n                    .children()\n                    .data(\"$ngControllerController\", controller);\n                }\n\n                link(lastScope);\n                lastScope.$emit(\"$pluginContentLoaded\");\n\n                // $anchorScroll might listen on event...\n                $anchorScroll();\n              },\n              function(error) {\n                clearContent();\n\n                throw error;\n              }\n            );\n          }\n        }\n      };\n    }\n  ]);\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\");\nvar $ = require(\"jquery\");\n// module is passed by the \"loader\" (main.js)\nmodule.exports = function(module) {\n  // the following lines are gathering the IDs of plugins who should be excluded\n  // to exclude a plugin, its key and (optionaly) its id\n  module._camPlugins = {};\n  var excludeExp;\n  var expParts = [];\n  var attr = $(\"base\").attr(\"cam-exclude-plugins\") || \"\";\n  if (attr) {\n    angular.forEach(attr.split(\",\"), function(plugin) {\n      plugin = plugin.split(\":\");\n      var feature = \"*\";\n      if (plugin.length >= 2 && !!trim(plugin[1])) {\n        feature = trim(plugin.pop());\n      }\n      plugin = trim(plugin.shift());\n      if (plugin) {\n        expParts.push(plugin + \":\" + feature);\n      }\n    });\n    excludeExp = new RegExp(\"(\" + expParts.join(\"|\") + \")\", \"i\");\n  }\n\n  function trim(str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/^\\s+|\\s+$/g, \"\");\n  }\n\n  var PluginsProvider = [\n    function() {\n      var pluginMap = {};\n\n      function addPlugin(plugins, definition) {\n        var priority =\n          typeof definition.priority !== \"undefined\"\n            ? definition.priority\n            : -Infinity;\n\n        // check from right to left (*-) where plugin\n        // should be added\n        for (var i = 0, p; (p = plugins[i]); i++) {\n          if (typeof p.priority === \"undefined\" || p.priority < priority) {\n            plugins.splice(i, 0, definition);\n            return;\n          }\n        }\n\n        // not yet added; add to front\n        plugins.push(definition);\n      }\n\n      function internalRegisterPlugin(key, definition, map) {\n        // make sure map is initialized\n        var pluginsByKey = (map[key] = map[key] || []);\n        addPlugin(pluginsByKey, definition);\n      }\n\n      this.registerPlugin = function(type, key, definition) {\n        module._camPlugins[key + \":\" + definition.id] = false;\n\n        // test if the plugin is excluded\n        if (excludeExp && excludeExp.test(key + \":\" + definition.id)) {\n          return;\n        }\n\n        module._camPlugins[key + \":\" + definition.id] = true;\n\n        var pluginTypeMap = (pluginMap[type] = pluginMap[type] || {});\n        internalRegisterPlugin(key, definition, pluginTypeMap);\n      };\n\n      this.$get = [\n        \"$filter\",\n        function($filter) {\n          var service = {\n            getAllProviders: function(type) {\n              return pluginMap[type] || {};\n            },\n\n            getProviders: function(type, options) {\n              if (!type) {\n                throw new Error(\"No type given\");\n              }\n\n              var component = options.component;\n              if (!component) {\n                throw new Error(\"No component given\");\n              }\n\n              var providers = (pluginMap[type] || {})[component];\n\n              // filter by id and other filter criterias\n              if (options.id) {\n                providers = $filter(\"filter\")(providers, { id: options.id });\n              }\n\n              return providers || [];\n            },\n\n            getProvider: function(type, options) {\n              var providers = this.getProviders(type, options);\n              return (providers || [])[0];\n            }\n          };\n\n          return service;\n        }\n      ];\n    }\n  ];\n\n  module.provider(\"Plugins\", PluginsProvider);\n\n  var ViewsProvider = [\n    \"PluginsProvider\",\n    function(PluginsProvider) {\n      /**\n       * Registers the given viewProvider for the specified view\n       *\n       * View provider is an object like the following:\n       *\n       * <pre>\n       *   {\n       *     id: String, // id if the view\n       *     label: String, // label of the view\n       *     url: String, // url to the provided view; may be prefixed with plugin://\n       *     controller: Function || String, // controller reference or name\n       *     priority: number// priority of the view (default 0)\n       *   }\n       * </pre>\n       *\n       * @param {string} key\n       * @param {Object} viewProvider\n       */\n      this.registerDefaultView = function(key, viewProvider) {\n        // test if the plugin is excluded\n        if (excludeExp && excludeExp.test(key + \":\" + viewProvider.id)) {\n          return;\n        }\n        PluginsProvider.registerPlugin(\"view\", key, viewProvider);\n      };\n\n      this.registerView = function(key, viewProvider) {\n        PluginsProvider.registerPlugin(\"view\", key, viewProvider);\n      };\n\n      this.$get = [\n        \"Uri\",\n        \"Plugins\",\n        function(Uri, Plugins) {\n          var initialized = false;\n\n          /**\n           * Initializes the view map to replace prefixes in templates\n           *\n           * @param map the plugin map\n           * @param app the application to resolve plugin references against\n           */\n          function initializeViews(map) {\n            angular.forEach(map, function(viewProviders) {\n              angular.forEach(viewProviders, function(viewProvider) {\n                if (viewProvider.url) {\n                  viewProvider.url = Uri.appUri(viewProvider.url);\n                }\n              });\n            });\n          }\n\n          function ensureInitialized() {\n            if (!initialized) {\n              initializeViews(Plugins.getAllProviders(\"view\"));\n\n              initialized = true;\n            }\n          }\n\n          var service = {\n            getProviders: function(options) {\n              ensureInitialized();\n\n              return Plugins.getProviders(\"view\", options);\n            },\n\n            getProvider: function(options) {\n              var viewProviders = this.getProviders(options);\n              return (viewProviders || [])[0];\n            }\n          };\n\n          return service;\n        }\n      ];\n    }\n  ];\n\n  module.provider(\"Views\", ViewsProvider);\n\n  var DataProvider = [\n    \"PluginsProvider\",\n    function(PluginsProvider) {\n      /**\n       * Registers the given dataProvider for the specified data\n       *\n       * Data provider is an object like the following:\n       *\n       * <pre>\n       *   {\n       *     id: String, // id if the view\n       *     controller: Function || Array // controller reference\n       *   }\n       * </pre>\n       *\n       * @param {string} key\n       * @param {Object} dataProvider\n       */\n      this.registerData = function(key, dataProvider) {\n        PluginsProvider.registerPlugin(\"data\", key, dataProvider);\n      };\n\n      this.$get = [\n        \"Plugins\",\n        \"$injector\",\n        function(Plugins, $injector) {\n          var service = {\n            getProviders: function(options) {\n              return Plugins.getProviders(\"data\", options);\n            },\n\n            getProvider: function(options) {\n              var dataProviders = this.getProviders(options);\n              return (dataProviders || [])[0];\n            },\n\n            instantiateProviders: function(key, locals) {\n              var dataProviders = this.getProviders({ component: key });\n\n              angular.forEach(dataProviders, function(dataProvider) {\n                $injector.instantiate(dataProvider.controller, locals);\n              });\n            }\n          };\n\n          return service;\n        }\n      ];\n    }\n  ];\n\n  module.provider(\"Data\", DataProvider);\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function() {\n  return {\n    restrict: \"A\",\n    require: \"ngModel\",\n    link: function(scope, element, attrs, model) {\n      var EMAIL_REGEX = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n      model.$parsers.unshift(function(viewValue) {\n        if (EMAIL_REGEX.test(viewValue) || !viewValue) {\n          model.$setValidity(\"email\", true);\n          return viewValue;\n        } else {\n          model.$setValidity(\"email\", false);\n          return null;\n        }\n      });\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\");\nvar template = require(\"./engineSelect.html.js\");\n\nvar $ = require(\"jquery\");\n\nvar ProcessEngineSelectionController = [\n  \"$scope\",\n  \"$http\",\n  \"$location\",\n  \"$window\",\n  \"Uri\",\n  \"Notifications\",\n  \"$translate\",\n  function($scope, $http, $location, $window, Uri, Notifications, $translate) {\n    var current = Uri.appUri(\":engine\");\n    var enginesByName = {};\n\n    $http\n      .get(Uri.appUri(\"engine://engine/\"))\n      .then(function(response) {\n        $scope.engines = response.data;\n\n        angular.forEach($scope.engines, function(engine) {\n          enginesByName[engine.name] = engine;\n        });\n\n        $scope.currentEngine = enginesByName[current];\n\n        if (!$scope.currentEngine) {\n          Notifications.addError({\n            status: $translate.instant(\n              \"DIRECTIVE_ENGINE_SELECT_STATUS_NOT_FOUND\"\n            ),\n            message: $translate.instant(\n              \"DIRECTIVE_ENGINE_SELECT_MESSAGE_NOT_FOUND\"\n            ),\n            scope: $scope\n          });\n          $location.path(\"/dashboard\");\n        }\n      })\n      .catch(angular.noop);\n  }\n];\n\nmodule.exports = function() {\n  return {\n    template: template,\n    replace: true,\n    controller: ProcessEngineSelectionController,\n    link: function(scope, element, attrs) {\n      var divider;\n\n      scope.$watch(attrs.ngShow, function(newValue) {\n        if (newValue && !divider) {\n          divider = $('<li class=\"divider-vertical\"></li>').insertAfter(\n            element\n          );\n        }\n\n        if (!newValue && divider) {\n          divider.remove();\n          divider = null;\n        }\n      });\n\n      scope.$on(\"$destroy\", function() {\n        if (divider) {\n          divider.remove();\n        }\n      });\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<li class=\"dropdown engine-select\"\n    ng-show=\"engines.length > 1 && currentEngine\"\n    uib-dropdown>\n<!-- # CE - camunda-commons-ui/lib/directives/engineSelect.html -->\n  <a href\n     class=\"dropdown-toggle\"\n     uib-dropdown-toggle>\n    <span class=\"glyphicon glyphicon-info-sign glyphicon glyphicon-info-sign \"\n          uib-tooltip=\"{{ 'DIRECTIVE_ENGINE_SELECT_TOOLTIP' | translate }}\"\n          tooltip-placement=\"bottom\"></span>\n    {{ currentEngine.name }}\n  </a>\n  <ul uib-dropdown-menu class=\"dropdown-menu dropdown-menu-right\">\n    <li ng-repeat=\"(id, engine) in engines\"\n        ng-class=\"{ active: currentEngine.name === engine.name }\">\n      <a ng-href=\"{{ 'app://../' + engine.name + '/' | uri }}\">\n        {{ engine.name }}\n      </a>\n    </li>\n  </ul>\n<!-- / CE - camunda-commons-ui/lib/directives/engineSelect.html -->\n</li>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * This directive ensures that form fields\n * filled by browsers are properly recognized by angular.\n *\n * @example\n *\n * <input ng-model=\"password\" auto-fill />\n */\nmodule.exports = [\n  \"$interval\",\n  function($interval) {\n    return {\n      restrict: \"A\",\n\n      require: \"ngModel\",\n\n      link: function(scope, element, attrs, model) {\n        // console.info('start watching for auto-filled field', attrs.name);\n\n        var interval = $interval(function() {\n          var value = element.val();\n          if (value !== model.$viewValue) {\n            model.$setViewValue(value);\n            model.$setPristine();\n          }\n\n          if (\n            typeof document.contains === \"function\" &&\n            !document.contains(element[0])\n          ) {\n            // console.info('stop watching for auto-filled field', attrs.name);\n            $interval.cancel(interval);\n          } else if (typeof document.contains !== \"function\") {\n            $interval.cancel(interval);\n          }\n        }, 500);\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\");\nvar template = require(\"./inPlaceTextField.html.js\");\n\n/**\n * @name inPlaceTextField\n * @memberof cam.common.directives.inPlaceTextField\n * @type angular.directive\n * @description Provides a widget for in place editing of a simple text variable.\n *\n * @example\n * <div cam-in-place-text-field context=\"someObject\" property=\"keyOfTheObject\" />\n */\nmodule.exports = [\n  \"$translate\",\n  function($translate) {\n    /**\n     * Callback used when initialization of the directive completes.\n     * @param {angular.Scope} scope - the directive scope\n     */\n    function initialized(scope) {\n      scope.value = scope.context[scope.property] || scope.defaultValue || null;\n\n      scope.enter = function() {\n        scope.editing = true;\n        scope.value = scope.context[scope.property];\n      };\n\n      scope.submit = function() {\n        var editForm = this;\n\n        // it seems that, because this method\n        // is called from the <form ng-submit=\"...\">\n        // \"this\" is having the \"uncommited `value`\"\n        if (scope.context[scope.property] === editForm.value) {\n          scope.leave();\n          return;\n        }\n\n        // the value has change, so we do update the scope.context property\n        scope.context[scope.property] = editForm.value;\n\n        if (angular.isFunction(scope.$parent[scope.submitCallback])) {\n          scope.$parent[scope.submitCallback](editForm);\n        }\n        scope.leave();\n      };\n\n      scope.leave = function() {\n        scope.editing = false;\n      };\n    }\n\n    return {\n      restrict: \"E\",\n\n      scope: {\n        // from context to form value\n        unserializeCallback: \"@unserialize\",\n        // from form to context value\n        serializeCallback: \"@serialize\",\n\n        initializeCallback: \"@initialize\",\n        enterCallback: \"@enter\",\n        validateCallback: \"@validate\",\n        submitCallback: \"@submit\",\n        successCallback: \"@success\",\n        errorCallback: \"@error\",\n        leaveCallback: \"@leave\",\n        context: \"=\",\n        property: \"@\",\n        defaultValue: \"@default\"\n      },\n\n      template: template,\n\n      link: function(scope, element, attrs) {\n        // if the attribute 'required' is present, then\n        // then input field is required.\n        scope.isRequired =\n          attrs.required !== null && attrs.required !== undefined;\n\n        if (!scope.property) {\n          throw new Error(\n            $translate.instant(\"DIRECTIVE_INPLACE_TEXTFIELD_ERROR_MSG\")\n          );\n        }\n\n        var initialize = scope.initializeCallback\n          ? scope.$parent[scope.initializeCallback]\n          : function(scope, cb) {\n              cb();\n            };\n\n        initialize(scope, function() {\n          initialized(scope);\n        });\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-commons-ui/lib/directives/inPlaceTextField.html -->\n<div in-place-text-field-root>\n  <div ng-if=\"!editing\">\n    {{ context[property] }}\n    <span class=\"edit-toggle\"\n          ng-click=\"enter()\">\n      <span class=\"glyphicon glyphicon-pencil\"></span>\n    </span>\n  </div>\n\n  <form ng-if=\"editing\"\n        ng-submit=\"submit()\"\n        class=\"inline-edit\"\n        name=\"inPlaceTextFieldForm\"\n        novalidate\n        request-aware>\n\n    <fieldset>\n      <!-- {{ value }} -->\n      <input name=\"value\"\n             ng-model=\"value\"\n             type=\"text\"\n             class=\"in-place-edit form-control\"\n             placeholder=\"{{ placeholder }}\"\n             autofocus\n             ng-required=\"isRequired\">\n    </fieldset>\n\n    <div class=\"inline-edit-footer\">\n\n      <p class=\"error\" ng-show=\"error\">\n        {{ error.message }}\n      </p>\n\n      <div class=\"btn-group\">\n        <button type=\"submit\"\n                class=\"btn btn-sm btn-primary\"\n                ng-disabled=\"inPlaceTextFieldForm.$invalid\">\n          <span class=\"glyphicon glyphicon-ok \"></span>\n        </button>\n        <button type=\"button\"\n                class=\"btn btn-sm btn-default\"\n                ng-click=\"leave()\">\n          <span class=\"glyphicon glyphicon-ban-circle\"></span>\n        </button>\n      </div>\n    </div>\n\n  </form>\n</div>\n<!-- / CE - camunda-commons-ui/lib/directives/inPlaceTextField.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire(\"angular-sanitize\");\n\n/**\n   * @name notificationsPanel\n   * @memberof cam.common.directives\n   * @type angular.directive\n   * @description Provides a widget for user notifications\n   * @example\n      TODO\n   */\nvar notificationsTemplate =\n  '<div class=\"notifications\">' +\n  '  <div uib-alert ng-repeat=\"notification in notifications\" class=\"alert\" ng-class=\"notificationClass(notification)\">' +\n  '    <button type=\"button\" class=\"close\" ng-click=\"removeNotification(notification)\">&times;</button>' +\n  '    <strong class=\"status\" ng-bind-html=\"trustHTML(notification.status)\" compile-template></strong> ' +\n  '    <strong ng-if=\"notification.message\">:</strong>' +\n  '    <span class=\"message\" ng-bind-html=\"trustHTML(notification.message)\" compile-template></span>' +\n  \"  </div>\" +\n  \"</div>\";\n\nmodule.exports = [\n  \"Notifications\",\n  \"$filter\",\n  \"$sce\",\n  function(Notifications, $filter, $sce) {\n    return {\n      restrict: \"EA\",\n      scope: {\n        filter: \"=notificationsFilter\"\n      },\n      template: notificationsTemplate,\n      link: function(scope) {\n        var filter = scope.filter;\n\n        function matchesFilter(notification) {\n          if (!filter) {\n            return true;\n          }\n\n          return !!$filter(\"filter\")([notification], filter).length;\n        }\n\n        var notifications = (scope.notifications = []);\n\n        var consumer = {\n          add: function(notification) {\n            if (matchesFilter(notification)) {\n              notifications.push(notification);\n              return true;\n            } else {\n              return false;\n            }\n          },\n          remove: function(notification) {\n            var idx = notifications.indexOf(notification);\n            if (idx !== -1) {\n              notifications.splice(idx, 1);\n            }\n          }\n        };\n\n        Notifications.registerConsumer(consumer);\n\n        scope.removeNotification = function(notification) {\n          notifications.splice(notifications.indexOf(notification), 1);\n        };\n\n        scope.notificationClass = function(notification) {\n          var classes = [\"danger\", \"error\", \"success\", \"warning\", \"info\"];\n\n          var type = \"info\";\n\n          if (classes.indexOf(notification.type) > -1) {\n            type = notification.type;\n          }\n\n          return \"alert-\" + type;\n        };\n\n        scope.trustHTML = function(msg) {\n          return $sce.trustAsHtml(msg);\n        };\n\n        scope.$on(\"$destroy\", function() {\n          Notifications.unregisterConsumer(consumer);\n        });\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n    this directive is placed on the Password (repeat) input field.\n    it is configured with the name of the property which holds the password we must repeat.\n  **/\nmodule.exports = function() {\n  return {\n    restrict: \"A\",\n    require: \"ngModel\",\n    link: function(scope, element, attrs, model) {\n      // this is the name of the scope property\n      // holding the value of the password we are trying to match.\n      var repeatedPasswordName = attrs.passwordRepeat;\n\n      // check match if we are changed\n      model.$parsers.unshift(function(viewValue) {\n        var repeatedPasswordValue = scope.$eval(repeatedPasswordName);\n        var isValid = viewValue === repeatedPasswordValue;\n        model.$setValidity(\"passwordRepeat\", isValid);\n        return viewValue;\n      });\n\n      // check match if password to repeat is changed\n      scope.$watch(repeatedPasswordName, function(newValue) {\n        var isValid = newValue === model.$viewValue;\n        model.$setValidity(\"passwordRepeat\", isValid);\n        if (!isValid) {\n          // make sure '$pristine' value is cleared even if the user\n          // hasn't typed anything into the field yet.\n          // if we do not clear '$pristine', the 'invalid' CSS rule does not match\n          // and model will ne invalid but without visual feedback.\n          model.$setViewValue(model.$viewValue);\n        }\n      });\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar builtInResources = {\n  application: 0,\n  user: 1,\n  group: 2,\n  \"group membership\": 3,\n  authorization: 4\n};\n\nvar mapParameters = function(permissionName, resource, resourceId) {\n  var request = {};\n\n  request.permissionName = permissionName;\n  request.resourceName = resource;\n  request.resourceType = builtInResources[resource];\n\n  if (resourceId) {\n    request.resourceId = resourceId;\n  }\n\n  return request;\n};\n\nmodule.exports = [\n  \"$animate\",\n  \"AuthorizationResource\",\n  function($animate, AuthorizationResource) {\n    return {\n      transclude: \"element\",\n      priority: 1000,\n      terminal: true,\n      restrict: \"A\",\n      compile: function(element, attr, transclude) {\n        return function($scope, $element) {\n          var childElement, childScope;\n\n          var permission = attr.authPermission;\n          var resourceName = attr.authResourceName;\n          var resourceId = $scope.$eval(attr.authResourceId);\n          var invertCheck = attr.authInverse === \"true\";\n\n          AuthorizationResource.check(\n            mapParameters(permission, resourceName, resourceId)\n          )\n            .$promise.then(function(response) {\n              if (childElement) {\n                $animate.leave(childElement);\n                childElement = undefined;\n              }\n\n              if (childScope) {\n                childScope.$destroy();\n                childScope = undefined;\n              }\n\n              if (\n                (!!response.authorized && !invertCheck) ||\n                (!response.authorized && invertCheck)\n              ) {\n                childScope = $scope.$new();\n                transclude(childScope, function(clone) {\n                  childElement = clone;\n                  $animate.enter(clone, $element.parent(), $element);\n                });\n              }\n            })\n            .catch(function() {});\n        };\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$compile\",\n  \"$parse\",\n  function($compile, $parse) {\n    return {\n      restrict: \"A\",\n      link: function(scope, element, attr) {\n        var parsed = $parse(attr.ngBindHtml);\n        function getStringValue() {\n          return (parsed(scope) || \"\").toString();\n        }\n\n        //Recompile if the template changes\n        scope.$watch(getStringValue, function() {\n          $compile(element.contents())(scope);\n        });\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Defines a directive who replaces plain text new lines with `<br />` HTML tags.\n *\n * Usage:\n *\n * Assuming the content of `scopeVarName` would be something like\n *\n * ```\n * First line of text yada.\n * Second line of the text and bamm.\n * ```\n *\n * and\n *\n * ```\n * <div nl2br=\"scopeVarName\"></div>\n * ```\n *\n * will produce something like\n *\n * ```\n * <div nl2br=\"scopeVarName\">First line of text yada.<br/>Second line of the text and bamm.</div>\n * ```\n */\n\n// AngularJS DI\nmodule.exports = [\n  function() {\n    return {\n      scope: {\n        original: \"=nl2br\"\n      },\n\n      link: function(scope, element) {\n        // set the content as text (will eliminate malicious html characters)\n        element.text(scope.original || \"\");\n\n        // replace the line breaks\n        var replaced = element.html().replace(/\\n/g, \"<br/>\");\n\n        // set the replaced content as html\n        element.html(replaced);\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar secretEmptyKey = \"[$empty$]\";\n/**\n    this directive is used in combination with typeahead and opens the typeahead field on focus\n  **/\nmodule.exports = [\n  function() {\n    return {\n      restrict: \"A\",\n      require: \"ngModel\",\n      link: function(scope, element, attrs, model) {\n        // this parser run before typeahead's parser\n        model.$parsers.unshift(function(inputValue) {\n          var value = inputValue ? inputValue : secretEmptyKey; // replace empty string with secretEmptyKey to bypass typeahead-min-length check\n          model.$viewValue = value; // this $viewValue must match the inputValue pass to typehead directive\n          return value;\n        });\n\n        // this parser run after typeahead's parser\n        model.$parsers.push(function(inputValue) {\n          return inputValue === secretEmptyKey ? \"\" : inputValue; // set the secretEmptyKey back to empty string\n        });\n\n        scope.instantTypeahead = function(element, viewValue) {\n          return (\n            viewValue === secretEmptyKey ||\n            (\"\" + element)\n              .toLowerCase()\n              .indexOf((\"\" + viewValue).toLowerCase()) > -1\n          );\n        };\n\n        element.bind(\"click\", function() {\n          model.$setViewValue(model.$viewValue === \" \" ? \"\" : \" \");\n          element.triggerHandler(\"input\");\n        });\n\n        element.bind(\"input\", function() {\n          // update the view value to trigger re-evaluation of the model parsers\n          model.$setViewValue(model.$viewValue);\n        });\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\");\nvar authorizationResource = require(\"./authorizationResource\");\n\nvar resourcesModule = angular.module(\"camunda.common.resources\", []);\n\nresourcesModule.factory(\"AuthorizationResource\", authorizationResource);\n\nmodule.exports = resourcesModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$resource\",\n  \"Uri\",\n  function($resource, Uri) {\n    return $resource(\n      Uri.appUri(\"engine://engine/:engine/authorization/:action\"),\n      { action: \"@action\" },\n      {\n        check: { method: \"GET\", params: { action: \"check\" }, cache: true },\n        count: { method: \"GET\", params: { action: \"count\" } },\n        create: { method: \"POST\", params: { action: \"create\" } }\n      }\n    );\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @namespace cam.common.services\n */\n\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\"),\n  util = require(\"./../util/index\"),\n  escape = require(\"./escape\"),\n  debounce = require(\"./debounce\"),\n  RequestLogger = require(\"./RequestLogger\"),\n  ResourceResolver = require(\"./ResourceResolver\"),\n  HttpClient = require(\"./HttpClient\"),\n  unescape = require(\"./unescape\"),\n  fixDate = require(\"./fixDate\"),\n  unfixDate = require(\"./unfixDate\"),\n  shouldDisplayAuthenticationError = require(\"./shouldDisplayAuthenticationError\");\n\nvar ngModule = angular.module(\"camunda.common.services\", [\n  // `ResourceResolver` relies on cam.commons.util for Notifications\n  util.name\n]);\n\nngModule.filter(\"escape\", escape);\n\nngModule.factory(\"debounce\", debounce);\nngModule.factory(\"RequestLogger\", RequestLogger);\nngModule.factory(\"ResourceResolver\", ResourceResolver);\nngModule.factory(\"camAPIHttpClient\", HttpClient);\nngModule.factory(\"unescape\", unescape);\nngModule.factory(\"fixDate\", fixDate);\nngModule.factory(\"unfixDate\", unfixDate);\nngModule.factory(\n  \"shouldDisplayAuthenticationError\",\n  shouldDisplayAuthenticationError\n);\n\n/**\n * Register http status interceptor per default\n */\nngModule.config([\n  \"$httpProvider\",\n  function($httpProvider) {\n    $httpProvider.interceptors.push([\n      \"$rootScope\",\n      \"$q\",\n      \"RequestLogger\",\n      function($rootScope, $q, RequestLogger) {\n        RequestLogger.logStarted();\n\n        return {\n          response: function(response) {\n            RequestLogger.logFinished();\n\n            return response;\n          },\n          responseError: function(response) {\n            RequestLogger.logFinished();\n\n            var httpError = {\n              status: parseInt(response.status),\n              response: response,\n              data: response.data\n            };\n\n            $rootScope.$broadcast(\"httpError\", httpError);\n\n            return $q.reject(response);\n          }\n        };\n      }\n    ]);\n  }\n]);\n\nngModule.config([\n  \"$httpProvider\",\n  \"$windowProvider\",\n  function($httpProvider, $windowProvider) {\n    var window = $windowProvider.$get();\n    var uri = window.location.href;\n\n    var match = uri.match(/\\/app\\/([\\w-]+)\\/([\\w-]+)\\//);\n    if (match) {\n      $httpProvider.defaults.headers.get = { \"X-Authorized-Engine\": match[2] };\n    } else {\n      throw new Error(\"no process engine selected\");\n    }\n  }\n]);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function() {\n  return function(str) {\n    // see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent\n\n    // we double escape the / character => / is escaped as '%2F',\n    // we additionally escape '%' as '%25'\n    return (\n      encodeURIComponent(str)\n        .replace(/%2F/g, \"%252F\")\n        // !!!! could not found what \"escape\" is refering to, so I commented that !!!!\n        // BTW, that RegExp looks... odd.\n        // .replace(/[!'()]/g, escape)\n        .replace(/\\*/g, \"%2A\")\n        .replace(/%5C/g, \"%255C\")\n    );\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$timeout\",\n  function($timeout) {\n    /**\n     * Debounce a function call, making it callable an arbitrary number of times before it is actually executed once.\n     *\n     * @memberof cam.common.services\n     * @name debounce\n     * @type angular.factory\n     *\n     * @param fn {function} the function to debounce\n     * @param wait {number} the timeout after which the function is actually called\n     *\n     * @return {function} the function that can be called an arbitrary number of times\n     *                    that will only be called when the wait interval elapsed\n     */\n    return function debounce(fn, wait) {\n      var timer;\n\n      var debounced = function() {\n        var context = this,\n          args = arguments;\n\n        debounced.$loading = true;\n\n        if (timer) {\n          $timeout.cancel(timer);\n        }\n\n        timer = $timeout(function() {\n          timer = null;\n          debounced.$loading = false;\n          fn.apply(context, args);\n        }, wait);\n      };\n\n      return debounced;\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A request logger that broadcasts the events\n * requestStarted and requestFinished requests on the\n * page have been made.\n */\nmodule.exports = [\n  \"$rootScope\",\n  function($rootScope) {\n    var activeCount = 0;\n\n    return {\n      logStarted: function() {\n        if (!activeCount) {\n          $rootScope.$broadcast(\"requestStarted\");\n        }\n\n        activeCount++;\n      },\n\n      logFinished: function() {\n        activeCount--;\n\n        if (!activeCount) {\n          $rootScope.$broadcast(\"requestFinished\");\n        }\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// depends on 'cam.commons.util Notifications'\n\nmodule.exports = [\n  \"$route\",\n  \"$q\",\n  \"$location\",\n  \"Notifications\",\n  \"$translate\",\n  function($route, $q, $location, Notifications, $translate) {\n    function getByRouteParam(paramName, options) {\n      var deferred = $q.defer();\n\n      var id = $route.current.params[paramName],\n        resolve = options.resolve,\n        resourceName = options.name || \"entity\";\n\n      function succeed(result) {\n        deferred.resolve(result);\n      }\n\n      function fail(errorResponse) {\n        var message, replace, redirectTo;\n        var preventRedirection = false;\n\n        if (errorResponse.status === 404) {\n          message = $translate.instant(\n            \"SERVICES_RESOURCE_RESOLVER_ID_NOT_FOUND\",\n            { resourceName: resourceName, id: id }\n          );\n          replace = true;\n\n          redirectTo = options.redirectTo || \"/dashboard\";\n\n          if (typeof redirectTo == \"function\") {\n            // the redirection should be executed\n            // inside the custom implementation of\n            // redirectTo()\n            preventRedirection = true;\n            redirectTo(errorResponse);\n          }\n        } else if (errorResponse.status === 401) {\n          message = $translate.instant(\n            \"SERVICES_RESOURCE_RESOLVER_AUTH_FAILED\"\n          );\n          redirectTo = \"/login\";\n        } else {\n          message = $translate.instant(\n            \"SERVICES_RESOURCE_RESOLVER_RECEIVED_STATUS\",\n            { status: errorResponse.status }\n          );\n          redirectTo = \"/dashboard\";\n        }\n\n        if (!preventRedirection) {\n          $location.path(redirectTo);\n\n          if (replace) {\n            $location.replace();\n          }\n\n          Notifications.addError({\n            status: $translate.instant(\n              \"SERVICES_RESOURCE_RESOLVER_DISPLAY_FAILED\",\n              { resourceName: resourceName }\n            ),\n            message: message,\n            http: true,\n            exclusive: [\"http\"]\n          });\n        }\n\n        deferred.reject(message);\n      }\n\n      // resolve\n      var promise = resolve(id);\n      if (promise.$promise && promise.$promise.then) {\n        promise = promise.$promise.then(function(response) {\n          succeed(response);\n        }, fail);\n      } else if (promise.then) {\n        promise = promise.then(succeed, fail);\n      } else {\n        throw new Error(\n          $translate.instant(\"SERVICES_RESOURCE_RESOLVER_NO_PROMISE\")\n        );\n      }\n\n      return deferred.promise;\n    }\n\n    return {\n      getByRouteParam: getByRouteParam\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\");\nvar CamSDK = require(\"../../../camunda-bpm-sdk-js/lib/angularjs/index\");\n\nmodule.exports = [\n  \"$rootScope\",\n  \"$timeout\",\n  \"$q\",\n  \"$cookies\",\n  \"configuration\",\n  function($rootScope, $timeout, $q, $cookies, configuration) {\n    function setHeaders(options) {\n      var headers = (options.headers = options.headers || {});\n      var token = $cookies.get(configuration.getCsrfCookieName());\n\n      if (token) {\n        headers[\"X-XSRF-TOKEN\"] = token;\n      }\n    }\n\n    function AngularClient(config) {\n      this._wrapped = new CamSDK.Client.HttpClient(config);\n    }\n\n    angular.forEach(\n      [\"post\", \"get\", \"load\", \"put\", \"del\", \"options\", \"head\"],\n      function(name) {\n        AngularClient.prototype[name] = function(path, options) {\n          var myTimeout = $timeout(function() {}, 100000);\n\n          setHeaders(options);\n\n          var original = angular.isFunction(options.done)\n            ? options.done\n            : angular.noop;\n\n          options.done = function(err, result) {\n            function applyResponse() {\n              // in case the session expired\n              if (err && err.status === 401) {\n                // broadcast that the authentication changed\n                $rootScope.$broadcast(\"authentication.changed\", null);\n                // set authentication to null\n                $rootScope.authentication = null;\n                // broadcast event that a login is required\n                // proceeds a redirect to /login\n                $rootScope.$broadcast(\"authentication.login.required\");\n                return;\n              }\n\n              original(err, result);\n            }\n\n            var phase = $rootScope.$$phase;\n\n            if (phase !== \"$apply\" && phase !== \"$digest\") {\n              $rootScope.$apply(applyResponse);\n            } else {\n              applyResponse();\n            }\n            $timeout.cancel(myTimeout);\n          };\n\n          return $q.when(this._wrapped[name](path, options));\n        };\n      }\n    );\n\n    angular.forEach([\"on\", \"once\", \"off\", \"trigger\"], function(name) {\n      AngularClient.prototype[name] = function() {\n        this._wrapped[name].apply(this, arguments);\n      };\n    });\n\n    return AngularClient;\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar request = require(\"superagent\");\nvar Q = require(\"q\");\nvar Events = require(\"./../events\");\nvar utils = require(\"./../utils\");\n\n/**\n * No-Op callback\n */\nfunction noop() {}\n\n/**\n * HttpClient\n *\n * A HTTP request abstraction layer to be used in node.js / browsers environments.\n *\n * @class\n * @memberof CamSDK.client\n */\nvar HttpClient = function(config) {\n  config = config || {};\n\n  config.headers = config.headers || {};\n  if (!config.headers.Accept) {\n    config.headers.Accept = \"application/hal+json, application/json; q=0.5\";\n  }\n\n  if (!config.baseUrl) {\n    throw new Error(\"HttpClient needs a `baseUrl` configuration property.\");\n  }\n\n  Events.attach(this);\n\n  this.config = config;\n};\n\nfunction end(self, done, deferred) {\n  done = done || noop;\n  return function(err, response) {\n    // TODO: investigate the possible problems related to response without content\n    if (err || (!response.ok && !response.noContent)) {\n      err =\n        err ||\n        response.error ||\n        new Error(\n          \"The \" +\n            response.req.method +\n            \" request on \" +\n            response.req.url +\n            \" failed\"\n        );\n      if (response && response.body) {\n        if (response.body.message) {\n          err.message = response.body.message;\n        }\n      }\n      self.trigger(\"error\", err);\n      if (deferred) {\n        deferred.reject(err);\n      }\n      return done(err);\n    }\n\n    // superagent puts the parsed data into a property named \"body\"\n    // and the \"raw\" content in property named \"text\"\n    // and.. it does not parse the response if it does not have\n    // the \"application/json\" type.\n    if (response.type === \"application/hal+json\") {\n      if (!response.body || Object.keys(response.body).length === 0) {\n        response.body = JSON.parse(response.text);\n      }\n\n      // and process embedded resources\n      response.body = utils.solveHALEmbedded(response.body);\n    }\n\n    if (deferred) {\n      deferred.resolve(\n        response.body ? response.body : response.text ? response.text : \"\"\n      );\n    }\n    done(\n      null,\n      response.body ? response.body : response.text ? response.text : \"\"\n    );\n  };\n}\n\n/**\n * Performs a POST HTTP request\n */\nHttpClient.prototype.post = function(path, options) {\n  options = options || {};\n  var done = options.done || noop;\n  var self = this;\n  var deferred = Q.defer();\n  var url = this.config.baseUrl + (path ? \"/\" + path : \"\");\n  var req = request.post(url);\n\n  var headers = options.headers || this.config.headers;\n  headers.Accept = headers.Accept || this.config.headers.Accept;\n\n  var isFieldOrAttach = false;\n  // Buffer object is only available in node.js environement\n  if (typeof Buffer !== \"undefined\") {\n    Object.keys(options.fields || {}).forEach(function(field) {\n      req.field(field, options.fields[field]);\n      isFieldOrAttach = true;\n    });\n    (options.attachments || []).forEach(function(file, idx) {\n      req.attach(\"data_\" + idx, new Buffer(file.content), file.name);\n      isFieldOrAttach = true;\n    });\n  } else if (!!options.fields || !!options.attachments) {\n    var err = new Error(\n      \"Multipart request is only supported in node.js environement.\"\n    );\n    done(err);\n    return deferred.reject(err);\n  }\n\n  if (!isFieldOrAttach) {\n    req.send(options.data || {});\n  }\n\n  req.set(headers).query(options.query || {});\n\n  req.end(end(self, done, deferred));\n  return deferred.promise;\n};\n\n/**\n * Performs a GET HTTP request\n */\nHttpClient.prototype.get = function(path, options) {\n  var url = this.config.baseUrl + (path ? \"/\" + path : \"\");\n  return this.load(url, options);\n};\n\n/**\n * Loads a resource using http GET\n */\nHttpClient.prototype.load = function(url, options) {\n  options = options || {};\n  var done = options.done || noop;\n  var self = this;\n  var deferred = Q.defer();\n\n  var headers = options.headers || this.config.headers;\n  var accept = options.accept || headers.Accept || this.config.headers.Accept;\n\n  var req = request\n    .get(url)\n    .set(headers)\n    .set(\"Accept\", accept)\n    .query(options.data || {});\n\n  req.end(end(self, done, deferred));\n  return deferred.promise;\n};\n\n/**\n * Performs a PUT HTTP request\n */\nHttpClient.prototype.put = function(path, options) {\n  options = options || {};\n  var done = options.done || noop;\n  var self = this;\n  var deferred = Q.defer();\n  var url = this.config.baseUrl + (path ? \"/\" + path : \"\");\n\n  var headers = options.headers || this.config.headers;\n  headers.Accept = headers.Accept || this.config.headers.Accept;\n\n  var req = request\n    .put(url)\n    .set(headers)\n    .send(options.data || {});\n\n  req.end(end(self, done, deferred));\n  return deferred.promise;\n};\n\n/**\n * Performs a DELETE HTTP request\n */\nHttpClient.prototype.del = function(path, options) {\n  options = options || {};\n  var done = options.done || noop;\n  var self = this;\n  var deferred = Q.defer();\n  var url = this.config.baseUrl + (path ? \"/\" + path : \"\");\n\n  var headers = options.headers || this.config.headers;\n  headers.Accept = headers.Accept || this.config.headers.Accept;\n\n  var req = request\n    .del(url)\n    .set(headers)\n    .send(options.data || {});\n\n  req.end(end(self, done, deferred));\n  return deferred.promise;\n};\n\n/**\n * Performs a OPTIONS HTTP request\n */\nHttpClient.prototype.options = function(path, options) {\n  options = options || {};\n  var done = options.done || noop;\n  var self = this;\n  var deferred = Q.defer();\n  var url = this.config.baseUrl + (path ? \"/\" + path : \"\");\n\n  var headers = options.headers || this.config.headers;\n  headers.Accept = headers.Accept || this.config.headers.Accept;\n\n  var req = request(\"OPTIONS\", url).set(headers);\n\n  req.end(end(self, done, deferred));\n  return deferred.promise;\n};\n\nmodule.exports = HttpClient;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * Authorization Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Authorization = AbstractClientResource.extend();\n\n/**\n * API path for the process definition resource\n * @type {String}\n */\nAuthorization.path = \"authorization\";\n\n/**\n * Fetch a list of authorizations\n *\n * @param {Object} params\n * @param {Object} [params.id]            Authorization by the id of the authorization.\n * @param {Object} [params.type]          Authorization by the type of the authorization.\n * @param {Object} [params.userIdIn]      Authorization by a comma-separated list of userIds\n * @param {Object} [params.groupIdIn]     Authorization by a comma-separated list of groupIds\n * @param {Object} [params.resourceType]  Authorization by resource type\n * @param {Object} [params.resourceId]    Authorization by resource id.\n * @param {Object} [params.sortBy]        Sort the results lexicographically by a given criterion.\n *                                        Valid values are resourceType and resourceId.\n *                                        Must be used with the sortOrder parameter.\n * @param {Object} [params.sortOrder]     Sort the results in a given order.\n *                                        Values may be \"asc\" or \"desc\".\n *                                        Must be used in conjunction with the sortBy parameter.\n * @param {Object} [params.firstResult]   Pagination of results.\n *                                        Specifies the index of the first result to return.\n * @param {Object} [params.maxResults]    Pagination of results.\n *                                        Specifies the maximum number of results to return.\n * @param {Function} done\n */\nAuthorization.list = function(params, done) {\n  return this.http.get(this.path, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Retrieve a single authorization\n *\n * @param  {uuid}     authorizationId     of the authorization to be requested\n * @param  {Function} done\n */\nAuthorization.get = function(authorizationId, done) {\n  return this.http.get(this.path + \"/\" + authorizationId, {\n    done: done\n  });\n};\n\n/**\n * Creates an authorization\n *\n * @param  {Object}   authorization       is an object representation of an authorization\n * @param  {Function} done\n */\nAuthorization.create = function(authorization, done) {\n  return this.http.post(this.path + \"/create\", {\n    data: authorization,\n    done: done\n  });\n};\n\n/**\n * Update an authorization\n *\n * @param  {Object}   authorization       is an object representation of an authorization\n * @param  {Function} done\n */\nAuthorization.update = function(authorization, done) {\n  return this.http.put(this.path + \"/\" + authorization.id, {\n    data: authorization,\n    done: done\n  });\n};\n\n/**\n * Save an authorization\n *\n * @see Authorization.create\n * @see Authorization.update\n *\n * @param  {Object}   authorization   is an object representation of an authorization,\n *                                    if it has an id property, the authorization will be updated,\n *                                    otherwise created\n * @param  {Function} done\n */\nAuthorization.save = function(authorization, done) {\n  return Authorization[authorization.id ? \"update\" : \"create\"](\n    authorization,\n    done\n  );\n};\n\n/**\n * Delete an authorization\n *\n * @param  {uuid}     id   of the authorization to delete\n * @param  {Function} done\n */\nAuthorization.delete = function(id, done) {\n  return this.http.del(this.path + \"/\" + id, {\n    done: done\n  });\n};\n\nAuthorization.check = function(authorization, done) {\n  return this.http.get(this.path + \"/check\", {\n    data: authorization,\n    done: done\n  });\n};\n\nmodule.exports = Authorization;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * Batch Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Batch = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nBatch.path = \"batch\";\n\n/**\n * Retrieves a single batch according to the Batch interface in the engine.\n */\nBatch.get = function(id, done) {\n  return this.http.get(this.path + \"/\" + id, {\n    done: done\n  });\n};\n\nBatch.suspended = function(params, done) {\n  return this.http.put(this.path + \"/\" + params.id + \"/suspended\", {\n    data: {\n      suspended: !!params.suspended\n    },\n    done: done\n  });\n};\n\nBatch.statistics = function(params, done) {\n  return this.http.get(this.path + \"/statistics/\", {\n    data: params,\n    done: done\n  });\n};\n\nBatch.statisticsCount = function(params, done) {\n  return this.http.get(this.path + \"/statistics/count\", {\n    data: params,\n    done: done\n  });\n};\n\nBatch.delete = function(params, done) {\n  var path = this.path + \"/\" + params.id;\n\n  if (params.cascade) {\n    path += \"?cascade=true\";\n  }\n\n  return this.http.del(path, {\n    done: done\n  });\n};\n\nmodule.exports = Batch;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * Deployment Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Deployment = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nDeployment.path = \"deployment\";\n\n/**\n * Create a deployment\n * @param  {Object} options\n *\n * @param  {Array} options.files\n *\n * @param  {String} options.deploymentName\n * @param  {String} [options.deploymentSource]\n * @param  {String} [options.enableDuplicateFiltering]\n * @param  {String} [options.deployChangedOnly]\n * @param\t {String} [options.tenantId]\n * @param  {Function} done\n */\nDeployment.create = function(options, done) {\n  var fields = {\n    \"deployment-name\": options.deploymentName\n  };\n\n  var files = Array.isArray(options.files) ? options.files : [options.files];\n\n  if (options.deploymentSource) {\n    fields[\"deployment-source\"] = options.deploymentSource;\n  }\n\n  if (options.enableDuplicateFiltering) {\n    fields[\"enable-duplicate-filtering\"] = \"true\";\n  }\n\n  if (options.deployChangedOnly) {\n    fields[\"deploy-changed-only\"] = \"true\";\n  }\n\n  if (options.tenantId) {\n    fields[\"tenant-id\"] = options.tenantId;\n  }\n\n  return this.http.post(this.path + \"/create\", {\n    data: {},\n    fields: fields,\n    attachments: files,\n    done: done\n  });\n};\n\n/**\n * Deletes a deployment\n *\n * @param  {String}  id\n *\n * @param  {Object}  options\n *\n * @param  {Boolean} [options.cascade]\n * @param  {Boolean} [options.skipCustomListeners]\n *\n * @param  {Function} done\n */\nDeployment.delete = function(id, options, done) {\n  var path = this.path + \"/\" + id;\n\n  if (options) {\n    var queryParams = [];\n    for (var key in options) {\n      var value = options[key];\n      queryParams.push(key + \"=\" + value);\n    }\n\n    if (queryParams.length) {\n      path += \"?\" + queryParams.join(\"&\");\n    }\n  }\n\n  return this.http.del(path, {\n    done: done\n  });\n};\n\n/**\n * Lists the deployments\n * @param  {Object}   params                An object containing listing options.\n * @param  {uuid}     [params.id]           Filter by deployment id.\n * @param  {String}   [params.name]         Filter by the deployment name. Exact match.\n * @param  {String}   [params.nameLike]     Filter by the deployment name that the parameter is a\n *                                          substring of. The parameter can include the wildcard %\n *                                          to express like-strategy such as: starts with (%name),\n *                                          ends with (name%) or contains (%name%).\n * @param  {String}   [params.after]        Restricts to all deployments after the given date.\n *                                          The date must have the format yyyy-MM-dd'T'HH:mm:ss,\n *                                          e.g., 2013-01-23T14:42:45\n * @param  {String}   [params.before]       Restricts to all deployments before the given date.\n *                                          The date must have the format yyyy-MM-dd'T'HH:mm:ss,\n *                                          e.g., 2013-01-23T14:42:45\n * @param  {String}   [params.sortBy]       Sort the results lexicographically by a given criterion.\n *                                          Valid values are id, name and deploymentTime. Must be\n *                                          used in conjunction with the sortOrder parameter.\n * @param  {String}   [params.sortOrder]    Sort the results in a given order. Values may be asc for\n *                                          ascending order or desc for descending order. Must be\n *                                          used in conjunction with the sortBy parameter.\n * @param  {Integer}  [params.firstResult]  Pagination of results. Specifies the index of the first\n *                                          result to return.\n * @param  {Integer}  [params.maxResults]   Pagination of results. Specifies the maximum number of\n *                                          results to return. Will return less results if there are\n *                                          no more results left.\n * @param  {Function} done\n */\nDeployment.list = function() {\n  return AbstractClientResource.list.apply(this, arguments);\n};\n\n/**\n * Returns information about a deployment resources for the given deployment.\n */\nDeployment.get = function(id, done) {\n  return this.http.get(this.path + \"/\" + id, {\n    done: done\n  });\n};\n\n/**\n * Returns a list of deployment resources for the given deployment.\n */\nDeployment.getResources = function(id, done) {\n  return this.http.get(this.path + \"/\" + id + \"/resources\", {\n    done: done\n  });\n};\n\n/**\n * Returns a deployment resource for the given deployment and resource id.\n */\nDeployment.getResource = function(deploymentId, resourceId, done) {\n  return this.http.get(\n    this.path + \"/\" + deploymentId + \"/resources/\" + resourceId,\n    {\n      done: done\n    }\n  );\n};\n\n/**\n * Returns the binary content of a single deployment resource for the given deployment.\n */\nDeployment.getResourceData = function(deploymentId, resourceId, done) {\n  return this.http.get(\n    this.path + \"/\" + deploymentId + \"/resources/\" + resourceId + \"/data\",\n    {\n      accept: \"*/*\",\n      done: done\n    }\n  );\n};\n\n/**\n * Redeploy a deployment\n\n * @param  {Object} options\n * @param  {String} options.id\n * @param  {Array} [options.resourceIds]\n * @param  {Array} [options.resourceNames]\n * @param  {Function} done\n */\nDeployment.redeploy = function(options, done) {\n  var id = options.id;\n  delete options.id;\n\n  return this.http.post(this.path + \"/\" + id + \"/redeploy\", {\n    data: options,\n    done: done || function() {}\n  });\n};\n\nmodule.exports = Deployment;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * ExternalTask Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar ExternalTask = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nExternalTask.path = \"external-task\";\n\n/**\n * Retrieves a single external task corresponding to the ExternalTask interface in the engine.\n *\n * @param {Object} [params]\n * @param {String} [params.id]      The id of the external task to be retrieved.\n */\nExternalTask.get = function(params, done) {\n  return this.http.get(this.path + \"/\" + params.id, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for external tasks that fulfill given parameters in the form of a json object. This method is slightly more\n * powerful than the GET query because it allows to specify a hierarchical result sorting.\n *\n * @param {Object} [params]\n * @param {String} [params.externalTaskId]    Filter by an external task's id.\n * @param {String} [params.topicName]         Filter by an external task topic.\n * @param {String} [params.workerId]          Filter by the id of the worker that the task was most recently locked by.\n * @param {String} [params.locked]            Only include external tasks that are currently locked (i.e. they have a lock time and it has not expired). Value may only be true, as false matches any external task.\n * @param {String} [params.notLocked]         Only include external tasks that are currently not locked (i.e. they have no lock or it has expired). Value may only be true, as false matches any external task.\n * @param {String} [params.withRetriesLeft]\t  Only include external tasks that have a positive (> 0) number of retries (or null). Value may only be true, as false matches any external task.\n * @param {String} [params.noRetriesLeft]\t    Only include external tasks that have 0 retries. Value may only be true, as false matches any external task.\n * @param {String} [params.lockExpirationAfter]\tRestrict to external tasks that have a lock that expires after a given date. The date must have the format yyyy-MM-dd'T'HH:mm:ss, e.g., 2013-01-23T14:42:45.\n * @param {String} [params.lockExpirationBefore]\tRestrict to external tasks that have a lock that expires before a given date. The date must have the format yyyy-MM-dd'T'HH:mm:ss, e.g., 2013-01-23T14:42:45.\n * @param {String} [params.activityId]\t      Filter by the id of the activity that an external task is created for.\n * @param {String} [params.executionId]\t      Filter by the id of the execution that an external task belongs to.\n * @param {String} [params.processInstanceId]\tFilter by the id of the process instance that an external task belongs to.\n * @param {String} [params.processDefinitionId]\tFilter by the id of the process definition that an external task belongs to.\n * @param {String} [params.active]\t          Only include active tasks. Value may only be true, as false matches any external task.\n * @param {String} [params.suspended]\t        Only include suspended tasks. Value may only be true, as false matches any external task.\n * @param {String} [params.sorting]           A JSON array of criteria to sort the result by. Each element of the array is a JSON object that specifies one ordering. The position in the array identifies the rank of an ordering, i.e. whether it is primary, secondary, etc. The ordering objects have the following properties:\n *                                            - sortBy\tMandatory. Sort the results lexicographically by a given criterion. Valid values are id, lockExpirationTime, processInstanceId, processDefinitionId, and processDefinitionKey.\n *                                            - sortOrder\tMandatory. Sort the results in a given order. Values may be asc for ascending order or desc for descending order.\n * @param {String} [params.firstResult]\t      Pagination of results. Specifies the index of the first result to return.\n * @param {String} [params.maxResults]\t      Pagination of results. Specifies the maximum number of results to return. Will return less results if there are no more results left.\n */\nExternalTask.list = function(params, done) {\n  var path = this.path + \"/\";\n\n  // those parameters have to be passed in the query and not body\n  path += \"?firstResult=\" + (params.firstResult || 0);\n  path += \"&maxResults=\" + (params.maxResults || 15);\n\n  return this.http.post(path, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for the number of external tasks that fulfill given parameters. Takes the same parameters as the get external tasks method.\n *\n * @param {Object} [params]\n * @param {String} [params.externalTaskId]    Filter by an external task's id.\n * @param {String} [params.topicName]         Filter by an external task topic.\n * @param {String} [params.workerId]          Filter by the id of the worker that the task was most recently locked by.\n * @param {String} [params.locked]            Only include external tasks that are currently locked (i.e. they have a lock time and it has not expired). Value may only be true, as false matches any external task.\n * @param {String} [params.notLocked]         Only include external tasks that are currently not locked (i.e. they have no lock or it has expired). Value may only be true, as false matches any external task.\n * @param {String} [params.withRetriesLeft]\t  Only include external tasks that have a positive (> 0) number of retries (or null). Value may only be true, as false matches any external task.\n * @param {String} [params.noRetriesLeft]\t    Only include external tasks that have 0 retries. Value may only be true, as false matches any external task.\n * @param {String} [params.lockExpirationAfter]\tRestrict to external tasks that have a lock that expires after a given date. The date must have the format yyyy-MM-dd'T'HH:mm:ss, e.g., 2013-01-23T14:42:45.\n * @param {String} [params.lockExpirationBefore]\tRestrict to external tasks that have a lock that expires before a given date. The date must have the format yyyy-MM-dd'T'HH:mm:ss, e.g., 2013-01-23T14:42:45.\n * @param {String} [params.activityId]\t      Filter by the id of the activity that an external task is created for.\n * @param {String} [params.executionId]\t      Filter by the id of the execution that an external task belongs to.\n * @param {String} [params.processInstanceId]\tFilter by the id of the process instance that an external task belongs to.\n * @param {String} [params.processDefinitionId]\tFilter by the id of the process definition that an external task belongs to.\n * @param {String} [params.active]\t          Only include active tasks. Value may only be true, as false matches any external task.\n * @param {String} [params.suspended]\t        Only include suspended tasks. Value may only be true, as false matches any external task.\n */\nExternalTask.count = function(params, done) {\n  return this.http.post(this.path + \"/count\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for the number of external tasks that fulfill given parameters. Takes the same parameters as the get external tasks method.\n *\n * @param {Object} [params]\n * @param {String} [params.workerId]         Mandatory. The id of the worker on which behalf tasks are fetched. The returned tasks are locked for that worker and can only be completed when providing the same worker id.\n * @param {String} [params.maxTasks]         Mandatory. The maximum number of tasks to return.\n * @param {String} [params.topics]           A JSON array of topic objects for which external tasks should be fetched. The returned tasks may be arbitrarily distributed among these topics.\n *\n * Each topic object has the following properties:\n *  Name\t         Description\n *  topicName\t   Mandatory. The topic's name.\n *  lockDuration\t Mandatory. The duration to lock the external tasks for in milliseconds.\n *  variables\t   A JSON array of String values that represent variable names. For each result task belonging to this topic, the given variables are returned as well if they are accessible from the external task's execution.\n */\nExternalTask.fetchAndLock = function(params, done) {\n  return this.http.post(this.path + \"/fetchAndLock\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Complete an external task and update process variables.\n *\n * @param {Object} [params]\n * @param {String} [params.id]            The id of the task to complete.\n * @param {String} [params.workerId]      The id of the worker that completes the task. Must match the id of the worker who has most recently locked the task.\n * @param {String} [params.variables]     A JSON object containing variable key-value pairs.\n *\n * Each key is a variable name and each value a JSON variable value object with the following properties:\n *  Name\t        Description\n *  value\t        The variable's value. For variables of type Object, the serialized value has to be submitted as a String value.\n *                For variables of type File the value has to be submitted as Base64 encoded string.\n *  type\t        The value type of the variable.\n *  valueInfo\t    A JSON object containing additional, value-type-dependent properties.\n *                For serialized variables of type Object, the following properties can be provided:\n *                - objectTypeName: A string representation of the object's type name.\n *                - serializationDataFormat: The serialization format used to store the variable.\n *                For serialized variables of type File, the following properties can be provided:\n *                - filename: The name of the file. This is not the variable name but the name that will be used when downloading the file again.\n *                - mimetype: The mime type of the file that is being uploaded.\n *                - encoding: The encoding of the file that is being uploaded.\n */\nExternalTask.complete = function(params, done) {\n  return this.http.post(this.path + \"/\" + params.id + \"/complete\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Report a failure to execute an external task. A number of retries and a timeout until\n * the task can be retried can be specified. If retries are set to 0, an incident for this\n * task is created.\n *\n * @param {Object} [params]\n * @param {String} [params.id]                 The id of the external task to report a failure for.\n * @param {String} [params.workerId]           The id of the worker that reports the failure. Must match the id of the worker who has most recently locked the task.\n * @param {String} [params.errorMessage]       An message indicating the reason of the failure.\n * @param {String} [params.retries]            A number of how often the task should be retried. Must be >= 0. If this is 0, an incident is created and the task cannot be fetched anymore unless the retries are increased again. The incident's message is set to the errorMessage parameter.\n * @param {String} [params.retryTimeout]       A timeout in milliseconds before the external task becomes available again for fetching. Must be >= 0.\n */\nExternalTask.failure = function(params, done) {\n  return this.http.post(this.path + \"/\" + params.id + \"/failure\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Unlock an external task. Clears the tasks lock expiration time and worker id.\n *\n * @param {Object} [params]\n * @param {String} [params.id]          The id of the external task to unlock.\n */\nExternalTask.unlock = function(params, done) {\n  return this.http.post(this.path + \"/\" + params.id + \"/unlock\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Set the number of retries left to execute an external task. If retries are set to 0, an incident is created.\n *\n * @param {Object} [params]\n * @param {String} [params.id]           The id of the external task to unlock.\n * @param {String} [params.retries]      The number of retries to set for the external task. Must be >= 0. If this is 0, an incident is created and the task cannot be fetched anymore unless the retries are increased again.\n */\nExternalTask.retries = function(params, done) {\n  return this.http.put(this.path + \"/\" + params.id + \"/retries\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Set the number of retries left to execute an external task asynchronously. If retries are set to 0, an incident is created.\n *\n * @see https://docs.camunda.org/manual/latest/reference/rest/external-task/post-retries-async/\n *\n * @param   {Object}            params\n * @param   {requestCallback}   done\n */\nExternalTask.retriesAsync = function(params, done) {\n  return this.http.post(this.path + \"/retries-async\", {\n    data: params,\n    done: done\n  });\n};\n\nmodule.exports = ExternalTask;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * Filter Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Filter = AbstractClientResource.extend();\n\n/**\n * API path for the filter resource\n * @type {String}\n */\nFilter.path = \"filter\";\n\n/**\n * Retrieve a single filter\n *\n * @param  {uuid}     filterId   of the filter to be requested\n * @param  {Function} done\n */\nFilter.get = function(filterId, done) {\n  return this.http.get(this.path + \"/\" + filterId, {\n    done: done\n  });\n};\n\n/**\n * Retrieve some filters\n *\n * @param  {Object}   data\n * @param  {Integer}  [data.firstResult]\n * @param  {Integer}  [data.maxResults]\n * @param  {String}   [data.sortBy]\n * @param  {String}   [data.sortOrder]\n * @param  {Bool}     [data.itemCount]\n * @param  {Function} done\n */\nFilter.list = function(data, done) {\n  return this.http.get(this.path, {\n    data: data,\n    done: done\n  });\n};\n\n/**\n * Get the tasks result of filter\n *\n * @param  {(Object.<String, *>|uuid)}  data  uuid of a filter or parameters\n * @param  {uuid}     [data.id]               uuid of the filter to be requested\n * @param  {Integer}  [data.firstResult]\n * @param  {Integer}  [data.maxResults]\n * @param  {String}   [data.sortBy]\n * @param  {String}   [data.sortOrder]\n * @param  {Function} done\n */\nFilter.getTasks = function(data, done) {\n  var path = this.path + \"/\";\n\n  if (typeof data === \"string\") {\n    path = path + data + \"/list\";\n    data = {};\n  } else {\n    path = path + data.id + \"/list\";\n    delete data.id;\n  }\n\n  // those parameters have to be passed in the query and not body\n  path += \"?firstResult=\" + (data.firstResult || 0);\n  path += \"&maxResults=\" + (data.maxResults || 15);\n\n  return this.http.post(path, {\n    data: data,\n    done: done\n  });\n};\n\n/**\n * Creates a filter\n *\n * @param  {Object}   filter   is an object representation of a filter\n * @param  {Function} done\n */\nFilter.create = function(filter, done) {\n  return this.http.post(this.path + \"/create\", {\n    data: filter,\n    done: done\n  });\n};\n\n/**\n * Update a filter\n *\n * @param  {Object}   filter   is an object representation of a filter\n * @param  {Function} done\n */\nFilter.update = function(filter, done) {\n  return this.http.put(this.path + \"/\" + filter.id, {\n    data: filter,\n    done: done\n  });\n};\n\n/**\n * Save a filter\n *\n * @see Filter.create\n * @see Filter.update\n *\n * @param  {Object}   filter   is an object representation of a filter, if it has\n *                             an id property, the filter will be updated, otherwise created\n * @param  {Function} done\n */\nFilter.save = function(filter, done) {\n  return Filter[filter.id ? \"update\" : \"create\"](filter, done);\n};\n\n/**\n * Delete a filter\n *\n * @param  {uuid}     id   of the filter to delete\n * @param  {Function} done\n */\nFilter.delete = function(id, done) {\n  return this.http.del(this.path + \"/\" + id, {\n    done: done\n  });\n};\n\n/**\n * Performs an authorizations lookup on the resource or entity\n *\n * @param  {uuid}     [id]   of the filter to get authorizations for\n * @param  {Function} done\n */\nFilter.authorizations = function(id, done) {\n  if (typeof id === \"function\") {\n    return this.http.options(this.path, {\n      done: id,\n      headers: {\n        Accept: \"application/json\"\n      }\n    });\n  }\n\n  return this.http.options(this.path + \"/\" + id, {\n    done: done,\n    headers: {\n      Accept: \"application/json\"\n    }\n  });\n};\n\nmodule.exports = Filter;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"../abstract-client-resource\");\nvar helpers = require(\"../helpers\");\n\n/**\n * History Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar History = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nHistory.path = \"history\";\n\n/**\n * Queries for the number of user operation log entries that fulfill the given parameters\n *\n * @param {Object}   [params]\n * @param {String}   [params.processDefinitionId]   Filter by process definition id.\n * @param {String}   [params.processDefinitionKey]  Filter by process definition key.\n * @param {String}   [params.processInstanceId]     Filter by process instance id.\n * @param {String}   [params.executionId]           Filter by execution id.\n * @param {String}   [params.caseDefinitionId]      Filter by case definition id.\n * @param {String}   [params.caseInstanceId]        Filter by case instance id.\n * @param {String}   [params.caseExecutionId]       Filter by case execution id.\n * @param {String}   [params.taskId]                Only include operations on this task.\n * @param {String}   [params.userId]                Only include operations of this user.\n * @param {String}   [params.operationId]           Filter by the id of the operation. This allows fetching of multiple entries which are part of a composite operation.\n * @param {String}   [params.operationType]         Filter by the type of the operation like Claim or Delegate.\n * @param {String}   [params.entityType]            Filter by the type of the entity that was affected by this operation, possible values are Task, Attachment or IdentityLink.\n * @param {String}   [params.property]              Only include operations that changed this property, e.g. owner or assignee\n * @param {String}   [params.afterTimestamp]        Restrict to entries that were created after the given timestamp. The timestamp must have the format yyyy-MM-dd'T'HH:mm:ss, e.g. 2014-02-25T14:58:37\n * @param {String}   [params.beforeTimestamp]       Restrict to entries that were created before the given timestamp. The timestamp must have the format yyyy-MM-dd'T'HH:mm:ss, e.g. 2014-02-25T14:58:37\n * @param {String}   [params.sortBy]                Sort the results by a given criterion. At the moment the query only supports sorting based on the timestamp.\n * @param {String}   [params.sortOrder]             Sort the results in a given order. Values may be asc for ascending order or desc for descending order. Must be used in conjunction with the sortBy parameter.\n * @param {Number}   [params.firstResult]           Pagination of results. Specifies the index of the first result to return.\n * @param {Number}   [params.maxResults]            Pagination of results. Specifies the maximum number of results to return. Will return less results if there are no more results left.\n * @param {Function} done\n */\nHistory.userOperationCount = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.get(this.path + \"/user-operation/count\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Queries for user operation log entries that fulfill the given parameters\n * This method takes the same parameters as `History.userOperationCount`.\n */\nHistory.userOperation = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.get(this.path + \"/user-operation\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n *  Set an annotation for auditing reasons.\n *\n * @param {Object}   [params]\n * @param {String}   [params.id]            Operation ID to set the Annotation\n * @param {String}   [params.annotation]    An arbitrary text annotation set by a user for auditing reasons.\n * @param {Function} done\n */\n\nHistory.setUserOperationAnnotation = function(params, done) {\n  return this.http.put(\n    this.path + \"/user-operation/\" + params.id + \"/set-annotation\",\n    {\n      data: params,\n      done: done\n    }\n  );\n};\n\n/**\n *  Clear the annotation which was previously set for auditing reasons.\n *\n * @param {String}   [id]                   The operation id of the operation log to be updated.\n * @param {Function} done\n */\n\nHistory.clearUserOperationAnnotation = function(id, done) {\n  return this.http.put(\n    this.path + \"/user-operation/\" + id + \"/clear-annotation\",\n    {\n      done: done\n    }\n  );\n};\n\n/**\n * Query for historic process instances that fulfill the given parameters.\n *\n * @param  {Object}   [params]\n * @param  {uuid}     [params.processInstanceId]                Filter by process instance id.\n * @param  {uuid[]}   [params.processInstanceIds]               Filter by process instance ids.\n *                                                              Must be a json array process instance ids.\n * @param  {String}   [params.processInstanceBusinessKey]       Filter by process instance business key.\n * @param  {String}   [params.processInstanceBusinessKeyLike]   Filter by process instance business key that the parameter is a substring of.\n * @param  {uuid}     [params.superProcessInstanceId]           Restrict query to all process instances that are sub process instances of the given process instance.\n *                                                              Takes a process instance id.\n * @param  {uuid}     [params.subProcessInstanceId]             Restrict query to one process instance that has a sub process instance with the given id.\n * @param  {uuid}     [params.superCaseInstanceId]              Restrict query to all process instances that are sub process instances of the given case instance.\n *                                                              Takes a case instance id.\n * @param  {uuid}     [params.subCaseInstanceId]                Restrict query to one process instance that has a sub case instance with the given id.\n * @param  {uuid}     [params.caseInstanceId]                   Restrict query to all process instances that are sub process instances of the given case instance.\n *                                                              Takes a case instance id.\n * @param  {uuid}     [params.processDefinitionId]              Filter by the process definition the instances run on.\n * @param  {String}   [params.processDefinitionKey]             Filter by the key of the process definition the instances run on.\n * @param  {String[]} [params.processDefinitionKeyNotIn]        Exclude instances that belong to a set of process definitions.\n *                                                              Must be a json array of process definition keys.\n * @param  {String}   [params.processDefinitionName]            Filter by the name of the process definition the instances run on.\n * @param  {String}   [params.processDefinitionNameLike]        Filter by process definition names that the parameter is a substring of.\n * @param  {Boolean}  [params.finished]                         Only include finished process instances.\n *                                                              Values may be `true` or `false`.\n * @param  {Boolean}  [params.unfinished]                       Only include unfinished process instances.\n *                                                              Values may be `true` or `false`.\n * @param  {String}   [params.startedBy]                        Only include process instances that were started by the given user.\n * @param  {String}   [params.startedBefore]                    Restrict to instances that were started before the given date.\n *                                                              The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n * @param  {String}   [params.startedAfter]                     Restrict to instances that were started after the given date.\n *                                                              The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n * @param  {String}   [params.finishedBefore]                   Restrict to instances that were finished before the given date.\n *                                                              The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n * @param  {String}   [params.finishedAfter]                    Restrict to instances that were finished after the given date.\n *                                                              The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n * @param  {Object[]} [params.variables]                        A JSON array to only include process instances that have/had variables with certain values. The array consists of objects with the three properties name, operator and value. name (String) is the variable name, operator (String) is the comparison operator to be used and value the variable value.\n *                                                              `value` may be String, Number or Boolean.\n *                                                              Valid operator values are:\n *                                                              - `eq` - equal to\n *                                                              - `neq` - not equal to\n *                                                              - `gt` - greater than\n *                                                              - `gteq` - greater than or equal to\n *                                                              - `lt` - lower than\n *                                                              - `lteq` - lower than or equal to\n *                                                              - `like`\n * @param  {String}   [params.sortBy]                           Sort the results by a given criterion.\n *                                                              Valid values are instanceId, definitionId, businessKey, startTime, endTime, duration. Must be used in conjunction with the sortOrder parameter.\n * @param  {String}   [params.sortOrder]                        Sort the results in a given order.\n *                                                              Values may be asc for ascending order or desc for descending order. Must be used in conjunction with the sortBy parameter.\n * @param  {Number}   [params.firstResult]                      Pagination of results. Specifies the index of the first result to return.\n * @param  {Number}   [params.maxResults]                       Pagination of results. Specifies the maximum number of results to return. Will return less results if there are no more results left.\n\n * @param  {Function} done\n */\nHistory.processInstance = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  var body = {};\n  var query = {};\n  var queryParams = [\"firstResult\", \"maxResults\"];\n\n  for (var p in params) {\n    if (queryParams.indexOf(p) > -1) {\n      query[p] = params[p];\n    } else {\n      body[p] = params[p];\n    }\n  }\n\n  return this.http.post(this.path + \"/process-instance\", {\n    data: body,\n    query: query,\n    done: done\n  });\n};\n\n/**\n * Query for the number of historic process instances that fulfill the given parameters.\n * This method takes the same message body as `History.processInstance`.\n */\nHistory.processInstanceCount = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.post(this.path + \"/process-instance/count\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Delete finished process instances asynchronously. With creation of a batch operation.\n *\n * @param params - either list of process instance ID's or an object corresponding to a processInstances\n *                  POST request based query\n * @param done - a callback function\n * @returns {*}\n */\nHistory.deleteProcessInstancesAsync = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.post(this.path + \"/process-instance/delete\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Set removal time to historic process instances asynchronously. With creation of a batch operation.\n *\n * @param params - either list of process instance ID's or an object corresponding to a processInstances\n *                  POST request based query\n * @param done - a callback function\n * @returns {*}\n */\nHistory.setRemovalTimeToHistoricProcessInstancesAsync = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.post(this.path + \"/process-instance/set-removal-time\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Set removal time to historic decision instances asynchronously. With creation of a batch operation.\n *\n * @param params - either list of decision instance ID's or an object corresponding to a decisionInstances\n *                  POST request based query\n * @param done - a callback function\n * @returns {*}\n */\nHistory.setRemovalTimeToHistoricDecisionInstancesAsync = function(\n  params,\n  done\n) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.post(this.path + \"/decision-instance/set-removal-time\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Set removal time to historic batches asynchronously. With creation of a batch operation.\n *\n * @param params - either list of batch ID's or an object corresponding to a batches\n *                  POST request based query\n * @param done - a callback function\n * @returns {*}\n */\nHistory.setRemovalTimeToHistoricBatchesAsync = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.post(this.path + \"/batch/set-removal-time\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for historic decision instances that fulfill the given parameters.\n *\n * @param  {Object}   [params]\n * @param  {uuid}     [params.decisionInstanceId]                 Filter by decision instance id.\n * @param  {String}   [params.decisionInstanceIdIn]               Filter by decision instance ids. Must be a comma-separated list of decision instance ids.\n * @param  {uuid}     [params.decisionDefinitionId]               Filter by the decision definition the instances belongs to.\n * @param  {String}   [params.decisionDefinitionKey]              Filter by the key of the decision definition the instances belongs to.\n * @param  {String}   [params.decisionDefinitionName]             Filter by the name of the decision definition the instances belongs to.\n * @param  {uuid}     [params.processDefinitionId]                Filter by the process definition the instances belongs to.\n * @param  {String}   [params.processDefinitionKey]               Filter by the key of the process definition the instances belongs to.\n * @param  {uuid}     [params.processInstanceId]                  Filter by the process instance the instances belongs to.\n * @param  {uuid}     [params.activityIdIn]                       Filter by the activity ids the instances belongs to. Must be a comma-separated list of acitvity ids.\n * @param  {String}   [params.activityInstanceIdIn]               Filter by the activity instance ids the instances belongs to. Must be a comma-separated list of acitvity instance ids.\n * @param  {String}   [params.evaluatedBefore]                    Restrict to instances that were evaluated before the given date. The date must have the format yyyy-MM-dd'T'HH:mm:ss, e.g., 2013-01-23T14:42:45.\n * @param  {String}   [params.evaluatedAfter]                     Restrict to instances that were evaluated after the given date. The date must have the format yyyy-MM-dd'T'HH:mm:ss, e.g., 2013-01-23T14:42:45.\n * @param  {Boolean}  [params.includeInputs]                      Include input values in the result. Value may only be true, as false is the default behavior.\n * @param  {Boolean}  [params.includeOutputs]                     Include output values in the result. Value may only be true, as false is the default behavior.\n * @param  {Boolean}  [params.disableBinaryFetching]              Disables fetching of byte array input and output values. Value may only be true, as false is the default behavior.\n * @param  {Boolean}  [params.disableCustomObjectDeserialization] Disables deserialization of input and output values that are custom objects. Value may only be true, as false is the default behavior.\n * @param  {String}   [params.sortBy]                             Sort the results by a given criterion.\n *                                                                Valid values are evaluationTime. Must be used in conjunction with the sortOrder parameter.\n * @param  {String}   [params.sortOrder]                          Sort the results in a given order.\n *                                                                Values may be asc for ascending order or desc for descending order. Must be used in conjunction with the sortBy parameter.\n * @param  {Number}   [params.firstResult]                        Pagination of results. Specifies the index of the first result to return.\n * @param  {Number}   [params.maxResults]                         Pagination of results. Specifies the maximum number of results to return. Will return less results if there are no more results left.\n * @param  {Function} done\n */\nHistory.decisionInstance = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.get(this.path + \"/decision-instance\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for the number of historic decision instances that fulfill the given parameters.\n * This method takes the same parameters as `History.decisionInstance`.\n */\nHistory.decisionInstanceCount = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.get(this.path + \"/decision-instance/count\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Delete historic decision instances asynchronously. With creation of a batch operation.\n *\n * @param params - either list of decision instance ID's or an object corresponding to a decisionInstances\n *                  POST request based query\n * @param done - a callback function\n * @returns {*}\n */\nHistory.deleteDecisionInstancesAsync = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.post(this.path + \"/decision-instance/delete\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for historic batches that fulfill given parameters. Parameters may be the properties of batches, such as the id or type.\n * The size of the result set can be retrieved by using the GET query count.\n */\nHistory.batch = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.get(this.path + \"/batch\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Retrieves a single historic batch according to the HistoricBatch interface in the engine.\n */\nHistory.singleBatch = function(id, done) {\n  return this.http.get(this.path + \"/batch/\" + id, {\n    done: done\n  });\n};\n\n/**\n * Request the number of historic batches that fulfill the query criteria.\n * Takes the same filtering parameters as the GET query.\n */\nHistory.batchCount = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.get(this.path + \"/batch/count\", {\n    data: params,\n    done: done\n  });\n};\n\nHistory.batchDelete = function(id, done) {\n  var path = this.path + \"/batch/\" + id;\n\n  return this.http.del(path, {\n    done: done\n  });\n};\n\n/**\n * Query for process instance durations report.\n * @param  {Object}   [params]\n * @param  {Object}   [params.reportType]           Must be 'duration'.\n * @param  {Object}   [params.periodUnit]           Can be one of `month` or `quarter`, defaults to `month`\n * @param  {Object}   [params.processDefinitionIn]  Comma separated list of process definition IDs\n * @param  {Object}   [params.startedAfter]         Date after which the process instance were started\n * @param  {Object}   [params.startedBefore]        Date before which the process instance were started\n * @param  {Function} done\n */\nHistory.report = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  params.reportType = params.reportType || \"duration\";\n  params.periodUnit = params.periodUnit || \"month\";\n\n  return this.http.get(this.path + \"/process-instance/report\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for process instance durations report.\n * @param  {Object}   [params]\n * @param  {Object}   [params.reportType]           Must be 'duration'.\n * @param  {Object}   [params.periodUnit]           Can be one of `month` or `quarter`, defaults to `month`\n * @param  {Object}   [params.processDefinitionIn]  Comma separated list of process definition IDs\n * @param  {Object}   [params.startedAfter]         Date after which the process instance were started\n * @param  {Object}   [params.startedBefore]        Date before which the process instance were started\n * @param  {Function} done\n */\nHistory.reportAsCsv = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  params.reportType = params.reportType || \"duration\";\n  params.periodUnit = params.periodUnit || \"month\";\n\n  return this.http.get(this.path + \"/process-instance/report\", {\n    data: params,\n    accept: \"text/csv\",\n    done: done\n  });\n};\n\n/**\n * Query for historic task instances that fulfill the given parameters.\n *\n * @param  {Object}   [params]\n * @param  {uuid}     [params.taskId]                           Filter by taskId.\n * @param  {uuid}     [params.taskParentTaskId]                 Filter by parent task id.\n * @param  {uuid}     [params.processInstanceId]                Filter by process instance id.\n * @param  {uuid}     [params.executionId]                      Filter by the id of the execution that executed the task.\n * @param  {uuid}     [params.processDefinitionId]              Filter by process definition id.\n * @param  {String}   [params.processDefinitionKey]             Restrict to tasks that belong to a process definition with the given key.\n * @param  {String}   [params.processDefinitionName]            Restrict to tasks that belong to a process definition with the given name.\n * @param  {uuid}     [params.caseInstanceId]                   Filter by case instance id.\n\n * @param  {uuid}     [params.caseExecutionId]                  Filter by the id of the case execution that executed the task.\n * @param  {uuid}     [params.caseDefinitionId]                 Filter by case definition id.\n * @param  {String}   [params.caseDefinitionKey]                Restrict to tasks that belong to a case definition with the given key.\n * @param  {String}   [params.caseDefinitionName]               Restrict to tasks that belong to a case definition with the given name.\n * @param  {uuid[]}   [params.activityInstanceIdIn]             Only include tasks which belong to one of the passed activity instance ids.\n *                                                              Must be a json array of activity instance ids.\n * @param  {String}   [params.taskName]                         Restrict to tasks that have the given name.\n * @param  {String}   [params.taskNameLike]                     Restrict to tasks that have a name with the given parameter value as substring.\n * @param  {String}   [params.taskDescription]                  Restrict to tasks that have the given description.\n * @param  {String}   [params.taskDescriptionLike]              Restrict to tasks that have a description that has the parameter value as a substring.\n * @param  {String}   [params.taskDefinitionKey]                Restrict to tasks that have the given key.\n * @param  {String}   [params.taskDeleteReason]                 Restrict to tasks that have the given delete reason.\n * @param  {String}   [params.taskDeleteReasonLike]             Restrict to tasks that have a delete reason that has the parameter value as a substring.\n * @param  {String}   [params.taskAssignee]                     Restrict to tasks that the given user is assigned to.\n * @param  {String}   [params.taskAssigneeLike]                 Restrict to tasks that are assigned to users with the parameter value as a substring.\n * @param  {String}   [params.taskOwner]                        Restrict to tasks that the given user owns.\n * @param  {String}   [params.taskOwnerLike]                    Restrict to tasks that are owned by users with the parameter value as a substring.\n * @param  {String}   [params.taskPriority]                     Restrict to tasks that have the given priority.\n * @param  {String}   [params.assigned]                         If set to true, restricts the query to all tasks that are assigned.\n *                                                              Values may be `true` or `false`.\n * @param  {String}   [params.unassigned]                       If set to true, restricts the query to all tasks that are unassigned.\n *                                                              Values may be `true` or `false`.\n * @param  {String}   [params.finished]                         Only include finished tasks. Value may only be true, as false is the default behavior.\n * @param  {String}   [params.unfinished]                       Only include unfinished tasks. Value may only be true, as false is the default behavior.\n * @param  {String}   [params.processFinished]                  Only include tasks of finished processes. Value may only be true, as false is the default behavior.\n * @param  {String}   [params.processUnfinished]                Only include tasks of unfinished processes. Value may only be true, as false is the default behavior.\n * @param  {Date}     [params.taskDueDate]                      Restrict to tasks that are due on the given date.\n *                                                              The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n * @param  {Date}     [params.taskDueDateBefore]                RestRestrict to tasks that are due before the given date.\n *                                                              The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n * @param  {Date}     [params.taskDueDateAfter]                 Restrict to tasks that are due after the given date.\n *                                                              The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n * @param  {Date}     [params.taskFollowUpDate]                 ReRestrict to tasks that have a followUp date on the given date.\n *                                                              The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n * @param  {Date}     [params.taskFollowUpDateBefore]           Restrict to tasks that have a followUp date before the given date.\n *                                                              The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n * @param  {Date}     [params.taskFollowUpDateAfter]            Restrict to tasks that have a followUp date after the given date.\n *                                                              The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n * @param  {uuid[]}   [params.tenantIdIn]                       Filter by a comma-separated list of tenant ids. A task instance must have one of the given tenant ids.\n *                                                              Must be a json array of tenant ids.\n * @param  {Object[]} [params.taskVariables]                    A JSON array to only include process instances that have/had variables with certain values. The array consists of objects with the three properties name, operator and value. name (String) is the variable name, operator (String) is the comparison operator to be used and value the variable value.\n *                                                              `value` may be String, Number or Boolean.\n *                                                              Valid operator values are:\n *                                                              - `eq` - equal to\n *                                                              - `neq` - not equal to\n *                                                              - `gt` - greater than\n *                                                              - `gteq` - greater than or equal to\n *                                                              - `lt` - lower than\n *                                                              - `lteq` - lower than or equal to\n *                                                              - `like`\n * @param  {Object[]} [params.processVariables]                 A JSON array to only include process instances that have/had variables with certain values. The array consists of objects with the three properties name, operator and value. name (String) is the variable name, operator (String) is the comparison operator to be used and value the variable value.\n *                                                              `value` may be String, Number or Boolean.\n *                                                              Valid operator values are:\n *                                                              - `eq` - equal to\n *                                                              - `neq` - not equal to\n *                                                              - `gt` - greater than\n *                                                              - `gteq` - greater than or equal to\n *                                                              - `lt` - lower than\n *                                                              - `lteq` - lower than or equal to\n *                                                              - `like`\n * @param  {String}   [params.taskInvolvedUser]                 Restrict on the historic identity links of any type of user.\n * @param  {String}   [params.taskInvolvedGroup]                Restrict on the historic identity links of any type of group.\n * @param  {String}   [params.taskHadCandidateUser]             Restrict on the historic identity links of type candidate user.\n * @param  {String}   [params.taskHadCandidateGroup]            Restrict on the historic identity links of type candidate group.\n * @param  {String}   [params.withCandidateGroups]              Only include tasks which have a candidate group. Value may only be true, as false is the default behavior.\n * @param  {String}   [params.withoutCandidateGroups]           Only include tasks which have no candidate group. Value may only be true, as false is the default behavior.\n * @param  {String}   [params.sortBy]                           Sort the results by a given criterion.\n *                                                              Valid values are taskId, activityInstanceID, processDefinitionId, processInstanceId, executionId,\n *                                                              duration, endTime, startTime, taskName, taskDescription, assignee, owner, dueDate, followUpDate,\n *                                                              deleteReason, taskDefinitionKey, priority, caseDefinitionId, caseInstanceId, caseExecutionId and\n *                                                              tenantId. Must be used in conjunction with the sortOrder parameter.\n * @param  {String}   [params.sortOrder]                        Sort the results in a given order.\n *                                                              Values may be asc for ascending order or desc for descending order. Must be used in conjunction with the sortBy parameter.\n * @param  {Number}   [params.firstResult]                      Pagination of results. Specifies the index of the first result to return.\n * @param  {Number}   [params.maxResults]                       Pagination of results. Specifies the maximum number of results to return. Will return less results if there are no more results left.\n\n * @param  {Function} done\n */\nHistory.task = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  var body = {};\n  var query = {};\n  var queryParams = [\"firstResult\", \"maxResults\"];\n\n  for (var p in params) {\n    if (queryParams.indexOf(p) > -1) {\n      query[p] = params[p];\n    } else {\n      body[p] = params[p];\n    }\n  }\n\n  return this.http.post(this.path + \"/task\", {\n    data: body,\n    query: query,\n    done: done\n  });\n};\n\n/**\n * Query for the number of historic task instances that fulfill the given parameters.\n * This method takes the same parameters as `History.task`.\n */\nHistory.taskCount = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.post(this.path + \"/task/count\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for a historic task instance duration report.\n *\n * @param  {Object}   [params]\n * @param  {Date}     [params.completedBefore]    Restrict to tasks which are completed before a given date.\n *                                                The date must have the format `yyyy-MM-dd'T'HH:mm:ss`,\n *                                                e.g., 2013-01-23T14:42:45.\n * @param  {Date}     [params.completedAfter]     Restrict to tasks which are completed after a given date.\n *                                                The date must have the format `yyyy-MM-dd'T'HH:mm:ss`,\n *                                                e.g., 2013-01-23T14:42:45.\n * @param  {String}   [params.periodUnit]         Can be one of `month` or `quarter`, defaults to `month`\n * @param  {Function}  done\n */\nHistory.taskDurationReport = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  params.reportType = params.reportType || \"duration\";\n  params.periodUnit = params.periodUnit || \"month\";\n\n  return this.http.get(this.path + \"/task/report\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for a completed task instance report\n *\n * @param  {Object}   [params]\n * @param  {Date}     [params.completedBefore]    Restrict to tasks which are completed before a given date.\n *                                                The date must have the format `yyyy-MM-dd'T'HH:mm:ss`,\n *                                                e.g., 2013-01-23T14:42:45.\n * @param  {Date}     [params.completedAfter]     Restrict to tasks which are completed after a given date.\n *                                                The date must have the format `yyyy-MM-dd'T'HH:mm:ss`,\n *                                                e.g., 2013-01-23T14:42:45.\n * @param  {String}   [params.groupBy]            Groups the task report by `taskDefinitionKey` (Default) or\n *                                                `processDefinitionKey`. Valid values are `taskDefinition` or\n *                                                `processDefinition`.\n * @param done\n * @returns {*}\n */\nHistory.taskReport = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  params.reportType = params.reportType || \"count\";\n\n  return this.http.get(this.path + \"/task/report\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for historic case instances that fulfill the given parameters.\n *\n * @param  {Object}   [params]\n * @param  {uuid}     [params.caseInstanceId]                Filter by case instance id.\n * @param  {uuid[]}   [params.caseInstanceIds]               Filter by case instance ids.\n *                                                           Must be a json array case instance ids.\n *\n * @param  {uuid}     [params.caseDefinitionId]              Filter by the case definition the instances run on.\n * @param  {String}   [params.caseDefinitionKey]             Filter by the key of the case definition the instances run on.\n * @param  {String[]} [params.caseDefinitionKeyNotIn]        Exclude instances that belong to a set of case definitions.\n *\n * @param  {String}   [params.caseDefinitionName]            Filter by the name of the case definition the instances run on.\n * @param  {String}   [params.caseDefinitionNameLike]        Filter by case definition names that the parameter is a substring of.\n *\n * @param  {String}   [params.caseInstanceBusinessKey]       Filter by case instance business key.\n * @param  {String}   [params.caseInstanceBusinessKeyLike]   Filter by case instance business key that the parameter is a substring of.\n *\n *\n * @param  {String}   [params.createdBefore]                 Restrict to instances that were created before the given date.\n *                                                           The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n * @param  {String}   [params.createdAfter]                  Restrict to instances that were created after the given date.\n *                                                           The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n *\n * @param  {String}   [params.closedBefore]                  Restrict to instances that were closed before the given date.\n *                                                           The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n * @param  {String}   [params.closedAfter]                   Restrict to instances that were closed after the given date.\n *                                                           The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n *\n * @param  {String}   [params.createdBy]                     Only include case instances that were created by the given user.\n *\n *\n * @param  {uuid}     [params.superCaseInstanceId]           Restrict query to all case instances that are sub case instances of the given case instance.\n *                                                           Takes a case instance id.\n * @param  {uuid}     [params.subCaseInstanceId]             Restrict query to one case instance that has a sub case instance with the given id.\n *\n * @param  {uuid}     [params.superProcessInstanceId]        Restrict query to all process instances that are sub case instances of the given process instance.\n *                                                           Takes a process instance id.\n * @param  {uuid}     [params.subProcessInstanceId]          Restrict query to one case instance that has a sub process instance with the given id.\n *\n * @param  {uuid}     [params.tenantIdIn]                    Filter by a comma-separated list of tenant ids. A case instance must have one of the given tenant ids.\n *\n * @param  {Boolean}  [params.active]                        Only include active case instances.\n *                                                           Values may be `true` or `false`.\n * @param  {Boolean}  [params.completed]                     Only include completed case instances.\n *                                                           Values may be `true` or `false`.\n * @param  {Boolean}  [params.terminated]                    Only include terminated case instances.\n *                                                           Values may be `true` or `false`.\n * @param  {Boolean}  [params.closed]                        Only include closed case instances.\n *                                                           Values may be `true` or `false`.\n * @param  {Boolean}  [params.notClosed]                     Only include not closed case instances.\n *                                                           Values may be `true` or `false`.\n *\n * @param  {Object[]} [params.variables]                     A JSON array to only include case instances that have/had variables with certain values. The array consists of objects with the three properties name, operator and value. name (String) is the variable name, operator (String) is the comparison operator to be used and value the variable value.\n *                                                           `value` may be String, Number or Boolean.\n *                                                           Valid operator values are:\n *                                                           - `eq` - equal to\n *                                                           - `neq` - not equal to\n *                                                           - `gt` - greater than\n *                                                           - `gteq` - greater than or equal to\n *                                                           - `lt` - lower than\n *                                                           - `lteq` - lower than or equal to\n *                                                           - `like`\n *\n * @param  {String}   [params.sortBy]                        Sort the results by a given criterion.\n *                                                           Valid values are instanceId, definitionId, businessKey, startTime, endTime, duration. Must be used in conjunction with the sortOrder parameter.\n * @param  {String}   [params.sortOrder]                     Sort the results in a given order.\n *                                                           Values may be asc for ascending order or desc for descending order. Must be used in conjunction with the sortBy parameter.\n * @param  {Number}   [params.firstResult]                   Pagination of results. Specifies the index of the first result to return.\n * @param  {Number}   [params.maxResults]                    Pagination of results. Specifies the maximum number of results to return. Will return less results if there are no more results left.\n\n * @param  {Function} done\n */\nHistory.caseInstance = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  var body = {};\n  var query = {};\n  var queryParams = [\"firstResult\", \"maxResults\"];\n\n  for (var p in params) {\n    if (queryParams.indexOf(p) > -1) {\n      query[p] = params[p];\n    } else {\n      body[p] = params[p];\n    }\n  }\n\n  return this.http.post(this.path + \"/case-instance\", {\n    data: body,\n    query: query,\n    done: done\n  });\n};\n\n/**\n * Query for the number of historic case instances that fulfill the given parameters.\n * This method takes the same parameters as `History.caseInstance`.\n */\nHistory.caseInstanceCount = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.post(this.path + \"/case-instance/count\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for historic case activty instances that fulfill the given parameters.\n *\n * @param  {Object}   [params]\n * @param  {uuid}     [params.caseActivityInstanceId]        Filter by case activity instance id.\n * @param  {String}   [params.caseExecutionId]               Filter by the id of the case execution that executed the case activity instance.\n * @param  {uuid}     [params.caseInstanceId]                Filter by case instance id.\n *\n * @param  {uuid}     [params.caseDefinitionId]              Filter by the case definition the instances run on.\n *\n * @param  {String}   [params.caseActivityId]                Filter by the case activity id.\n * @param  {String}   [params.caseActivityName]              Filter by the case activity name.\n * @param  {String}   [params.caseActivityType]              Filter by the case activity type.\n *\n * @param  {String}   [params.createdBefore]                 Restrict to instances that were created before the given date.\n *                                                           The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n * @param  {String}   [params.createdAfter]                  Restrict to instances that were created after the given date.\n *                                                           The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n *\n * @param  {String}   [params.endedBefore]                   Restrict to instances that were ended before the given date.\n *                                                           The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n * @param  {String}   [params.endedAfter]                    Restrict to instances that were ended after the given date.\n *                                                           The date must have the format `yyyy-MM-dd'T'HH:mm:ss`, e.g., 2013-01-23T14:42:45.\n *\n * @param  {Boolean}  [params.required]                      Only include required case activity instances.\n *                                                           Values may be `true` or `false`.\n *\n * @param  {Boolean}  [params.finished]                      Only include finished case activity instances.\n *                                                           Values may be `true` or `false`.\n * @param  {Boolean}  [params.unfinished]                    Only include unfinished case activity instances.\n *                                                           Values may be `true` or `false`.\n * @param  {Boolean}  [params.available]                     Only include available case activity instances.\n *                                                           Values may be `true` or `false`.\n * @param  {Boolean}  [params.enabled]                       Only include enabled case activity instances.\n *                                                           Values may be `true` or `false`.\n * @param  {Boolean}  [params.disabled]                      Only include disabled case activity instances.\n *                                                           Values may be `true` or `false`.\n * @param  {Boolean}  [params.active]                        Only include active case activity instances.\n *                                                           Values may be `true` or `false`.\n *\n * @param  {Boolean}  [params.completed]                     Only include completed case activity instances.\n *                                                           Values may be `true` or `false`.\n *\n * @param  {Boolean}  [params.terminated]                    Only include terminated case activity instances.\n *                                                           Values may be `true` or `false`.\n *\n * @param  {uuid[]}   [params.tenantIdIn]                    Filter by a comma-separated list of tenant ids. A case activity instance must have one of the given tenant ids.\n *\n * @param  {String}   [params.sortBy]                        Sort the results by a given criterion.\n *                                                           Valid values are caseActivityInstanceId, caseInstanceId, caseExecutionId, caseActivityId, caseActivityName, createTime, endTime, duration,\n *                                                           caseDefinitionId and tenantId. Must be used in conjunction with the sortOrder parameter.\n * @param  {String}   [params.sortOrder]                     Sort the results in a given order.\n *                                                           Values may be asc for ascending order or desc for descending order. Must be used in conjunction with the sortBy parameter.\n * @param  {Number}   [params.firstResult]                   Pagination of results. Specifies the index of the first result to return.\n * @param  {Number}   [params.maxResults]                    Pagination of results. Specifies the maximum number of results to return. Will return less results if there are no more results left.\n\n * @param  {Function} done\n */\nHistory.caseActivityInstance = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.get(this.path + \"/case-activity-instance\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for the number of historic case activity instances that fulfill the given parameters.\n * This method takes the same parameters as `History.caseActivityInstance`.\n */\nHistory.caseActivityInstanceCount = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.get(this.path + \"/case-activity-instance/count\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Queries for historic activity instances that fulfill the given parameters.\n * @param {Object}  [params]\n * @param {String}  params.activityInstanceId\t    Filter by activity instance id.\n * @param {String}  params.processInstanceId      Filter by process instance id.\n * @param {String}  params.processDefinitionId    Filter by process definition id.\n * @param {String}  params.executionId            Filter by the id of the execution that executed the activity instance.\n * @param {String}  params.activityId             Filter by the activity id (according to BPMN 2.0 XML).\n * @param {String}  params.activityName           Filter by the activity name (according to BPMN 2.0 XML).\n * @param {String}  params.activityType           Filter by activity type.\n * @param {String}  params.taskAssignee           Only include activity instances that are user tasks and assigned to a given user.\n * @param {Boolean} params.finished               Only include finished activity instances. Value may only be true, as false behaves the same as when the property is not set.\n * @param {Boolean} params.unfinished             Only include unfinished activity instances. Value may only be true, as false behaves the same as when the property is not set.\n * @param {Boolean} params.canceled               Only include canceled activity instances. Value may only be true, as false behaves the same as when the property is not set.\n * @param {Boolean} params.completeScope          Only include activity instances which completed a scope. Value may only be true, as false behaves the same as when the property is not set.\n * @param {String}  params.startedBefore          Restrict to instances that were started before the given date. By default*, the date must have the format yyyy-MM-dd'T'HH:mm:ss.SSSZ, e.g., 2013-01-23T14:42:45.000+0200.\n * @param {String}  params.startedAfter           Restrict to instances that were started after the given date. By default*, the date must have the format yyyy-MM-dd'T'HH:mm:ss.SSSZ, e.g., 2013-01-23T14:42:45.000+0200.\n * @param {String}  params.finishedBefore         Restrict to instances that were finished before the given date. By default*, the date must have the format yyyy-MM-dd'T'HH:mm:ss.SSSZ, e.g., 2013-01-23T14:42:45.000+0200.\n * @param {String}  params.finishedAfter          Restrict to instances that were finished after the given date. By default*, the date must have the format yyyy-MM-dd'T'HH:mm:ss.SSSZ, e.g., 2013-01-23T14:42:45.000+0200.\n * @param {String}  params.tenantIdIn             Filter by a comma-separated list of tenant ids. An activity instance must have one of the given tenant ids.\n * @param {String}  params.sortBy                 Sort the results by a given criterion. Valid values are activityInstanceId, instanceId, executionId, activityId, activityName, activityType, startTime, endTime, duration, definitionId, occurrence and tenantId. Must be used in conjunction with the sortOrder parameter.\n * @param {String}  params.sortOrder              Sort the results in a given order. Values may be asc for ascending order or desc for descending order. Must be used in conjunction with the sortBy parameter.\n * @param {Number}  params.firstResult            Pagination of results. Specifies the index of the first result to return.\n * @param {Number}  params.maxResults             Pagination of results. Specifies the maximum number of results to return. Will return less results if there are no more results left.\n */\nHistory.activityInstance = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.get(this.path + \"/activity-instance\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Queries for historic activity instances that fulfill the given parameters.\n * @param {Object}  [params]\n * @param {String}  params.incidentId           Restricts to incidents that have the given id.\n * @param {String}  params.incidentType         Restricts to incidents that belong to the given incident type. See the User Guide for a list of incident types.\n * @param {String}  params.incidentMessage      Restricts to incidents that have the given incident message.\n * @param {String}  params.processDefinitionId  Restricts to incidents that belong to a process definition with the given id.\n * @param {String}  params.processInstanceId    Restricts to incidents that belong to a process instance with the given id.\n * @param {String}  params.executionId          Restricts to incidents that belong to an execution with the given id.\n * @param {String}  params.activityId           Restricts to incidents that belong to an activity with the given id.\n * @param {String}  params.causeIncidentId      Restricts to incidents that have the given incident id as cause incident.\n * @param {String}  params.rootCauseIncidentId  Restricts to incidents that have the given incident id as root cause incident.\n * @param {String}  params.configuration        Restricts to incidents that have the given parameter set as configuration.\n * @param {String}  params.tenantIdIn           Restricts to incidents that have one of the given comma-separated tenant ids.\n * @param {String}  params.jobDefinitionIdIn    Restricts to incidents that have one of the given comma-separated job definition ids.\n * @param {String}  params.open             \t  Restricts to incidents that are open.\n * @param {String}  params.deleted              Restricts to incidents that are deleted.\n * @param {String}  params.resolved             Restricts to incidents that are resolved.\n * @param {String}  params.sortBy               Sort the results lexicographically by a given criterion. Valid values are incidentId, incidentMessage, createTime, endTime, incidentType, executionId, activityId, processInstanceId, processDefinitionId, causeIncidentId, rootCauseIncidentId, configuration, tenantId and incidentState. Must be used in conjunction with the sortOrder parameter.\n * @param {String}  params.sortOrder            Sort the results in a given order. Values may be asc for ascending order or desc for descending order. Must be used in conjunction with the sortBy parameter.\n */\nHistory.incident = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.get(this.path + \"/incident\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for historic variable instances that fulfill the given parameters.\n *\n * @param  {Object}   [params]\n * @param  {uuid}     [params.variableName]                 Filter by variable name.\n * @param  {String}   [params.variableNameLike]             Restrict to variables with a name like the parameter.\n * @param  {uuid[]}   [params.variableValue]                Filter by variable value.\n *\n * @param  {uuid}     [params.processInstanceId]            Filter by the process instance the variable belongs to.\n * @param  {String[]} [params.executionIdIn]                Filter by the execution ids.\n * @param  {String}   [params.caseInstanceId]               Filter by the case instance id.\n * @param  {String[]} [params.caseExecutionIdIn]            Filter by the case execution ids.\n * @param  {String[]} [params.taskIdIn]                     Filter by the task ids.\n * @param  {String[]} [params.activityInstanceIdIn]         Filter by the activity instance ids.\n *\n * @param  {uuid[]}   [params.tenantIdIn]                    Filter by a comma-separated list of tenant ids. A case activity instance must have one of the given tenant ids.\n *\n * @param  {String}   [params.sortBy]                        Sort the results by a given criterion.\n *                                                           Valid values are instanceId, variableName and tenantId. Must be used in conjunction with the sortOrder parameter.\n * @param  {String}   [params.sortOrder]                     Sort the results in a given order.\n *                                                           Values may be asc for ascending order or desc for descending order. Must be used in conjunction with the sortBy parameter.\n * @param  {Number}   [params.firstResult]                   Pagination of results. Specifies the index of the first result to return.\n * @param  {Number}   [params.maxResults]                    Pagination of results. Specifies the maximum number of results to return. Will return less results if there are no more results left.\n\n * @param  {Function} done\n */\nHistory.variableInstance = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  var body = {};\n  var query = {};\n  var queryParams = [\"firstResult\", \"maxResults\", \"deserializeValues\"];\n\n  for (var p in params) {\n    if (queryParams.indexOf(p) > -1) {\n      query[p] = params[p];\n    } else {\n      body[p] = params[p];\n    }\n  }\n\n  return this.http.post(this.path + \"/variable-instance\", {\n    data: body,\n    query: query,\n    done: done\n  });\n};\n\n/**\n * Query for the number of historic variable instances that fulfill the given parameters.\n * This method takes the same parameters as `History.variableInstance`.\n */\nHistory.variableInstanceCount = function(params, done) {\n  if (typeof params === \"function\") {\n    done = arguments[0];\n    params = {};\n  }\n\n  return this.http.post(this.path + \"/variable-instance/count\", {\n    data: params,\n    done: done\n  });\n};\n\nHistory.caseActivityStatistics = function(params, done) {\n  var id = params.id || params;\n\n  return this.http.get(this.path + \"/case-definition/\" + id + \"/statistics\", {\n    done: done\n  });\n};\n\nHistory.drdStatistics = function(id, params, done) {\n  var url =\n    this.path + \"/decision-requirements-definition/\" + id + \"/statistics\";\n\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.get(url, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for the history cleanup configuration\n */\nHistory.cleanupConfiguration = function(params, done) {\n  var url = this.path + \"/cleanup/configuration\";\n\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.get(url, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Delete the history of a single variable\n */\n\nHistory.deleteVariable = function(id, done) {\n  var url = this.path + \"/variable-instance/\" + id;\n\n  return this.http.del(url, {\n    done: done\n  });\n};\n\n/**\n * Delete the history of a single variable\n */\n\nHistory.deleteAllVariables = function(id, done) {\n  var url = this.path + \"/process-instance/\" + id + \"/variable-instances\";\n\n  return this.http.del(url, {\n    done: done\n  });\n};\n\n/**\n * Query for the history cleanup job\n */\nHistory.cleanupJobs = function(params, done) {\n  var url = this.path + \"/cleanup/jobs\";\n\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.get(url, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query to start a history cleanup job\n * @param  {Object}      [params]\n * @param  {Boolean}     [params.executeAtOnce]        Execute job in nearest future\n */\nHistory.cleanup = function(params, done) {\n  var url = this.path + \"/cleanup\";\n\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.post(url, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for the count of the finished historic process instances, cleanable process instances and basic process definition data - id, key, name and version\n * @param  {Object}      [params]\n * @param  {uuid[]}      [params.processDefinitionIdIn]        Array of processDefinition ids\n * @param  {uuid[]}      [params.processDefinitionKeyIn]       Array of processDefinition keys\n * @param  {Number}      [params.firstResult]                  Pagination of results. Specifies the index of the first result to return.\n * @param  {Number}      [params.maxResults]                   Pagination of results. Specifies the maximum number of results to return. Will return less results if there are no more results left.\n */\nHistory.cleanableProcessCount = function(params, done) {\n  var url =\n    this.path + \"/process-definition/cleanable-process-instance-report/count\";\n\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.get(url, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for the report results about a process definition and finished process instances relevant to history cleanup\n * This method takes the same parameterers as 'History.cleanableProcessInstanceCount'\n */\nHistory.cleanableProcess = function(params, done) {\n  var url = this.path + \"/process-definition/cleanable-process-instance-report\";\n\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.get(url, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for the count of the finished historic case instances, cleanable case instances and basic case definition data - id, key, name and version.\n * @param  {uuid[]}      [params.caseDefinitionIdIn]           Array of caseDefinition ids\n * @param  {uuid[]}      [params.caseDefinitionKeyIn]          Array of caseDefinition keys\n * @param  {Number}      [params.firstResult]                  Pagination of results. Specifies the index of the first result to return.\n * @param  {Number}      [params.maxResults]                   Pagination of results. Specifies the maximum number of results to return. Will return less results if there are no more results left.\n */\nHistory.cleanableCaseCount = function(params, done) {\n  var url = this.path + \"/case-definition/cleanable-case-instance-report/count\";\n\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.get(url, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for the report results about a case definition and finished case instances relevant to history cleanup\n * This method takes the same parameterers as 'History.cleanableCaseInstanceCount '\n */\nHistory.cleanableCase = function(params, done) {\n  var url = this.path + \"/case-definition/cleanable-case-instance-report\";\n\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.get(url, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for the count of the finished historic decision instances, cleanable decision instances and basic decision definition data - id, key, name and version\n * @param  {Object}      [params]\n * @param  {uuid[]}      [params.decisionDefinitionIdIn]           Array of decisionDefinition ids\n * @param  {uuid[]}      [params.decisionDefinitionKeyIn]          Array of decisionDefinition keys\n * @param  {Number}      [params.firstResult]                      Pagination of results. Specifies the index of the first result to return.\n * @param  {Number}      [params.maxResults]                       Pagination of results. Specifies the maximum number of results to return. Will return less results if there are no more results left.\n */\nHistory.cleanableDecisionCount = function(params, done) {\n  var url =\n    this.path + \"/decision-definition/cleanable-decision-instance-report/count\";\n\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.get(url, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for the report results about a decision definition and finished decision instances relevant to history cleanup\n * This method takes the same parameterers as 'History.cleanableDecisionInstanceCount '\n */\nHistory.cleanableDecision = function(params, done) {\n  var url =\n    this.path + \"/decision-definition/cleanable-decision-instance-report\";\n\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.get(url, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for the count of report results about historic batch operations relevant to history cleanup\n * @param  {Object}      [params]\n * @param  {Number}      [params.firstResult]                      Pagination of results. Specifies the index of the first result to return.\n * @param  {Number}      [params.maxResults]                       Pagination of results. Specifies the maximum number of results to return. Will return less results if there are no more results left.\n */\nHistory.cleanableBatchCount = function(params, done) {\n  var url = this.path + \"/batch/cleanable-batch-report/count\";\n\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.get(url, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for the report about historic batch operations relevant to history cleanup\n * This method takes the same parameterers as 'History.cleanableBatchCount'\n */\nHistory.cleanableBatch = function(params, done) {\n  var url = this.path + \"/batch/cleanable-batch-report\";\n\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.get(url, {\n    data: params,\n    done: done\n  });\n};\n\nHistory.jobLogList = function(params, done) {\n  var url = this.path + \"/job-log\";\n\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.get(url, {\n    data: params,\n    done: done\n  });\n};\n\nHistory.jobLogCount = function(params, done) {\n  var url = this.path + \"/job-log/count\";\n\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.get(url, {\n    data: params,\n    done: done\n  });\n};\n\nHistory.externalTaskLogList = helpers.createSimpleGetQueryFunction(\n  \"/external-task-log\"\n);\nHistory.externalTaskLogCount = helpers.createSimpleGetQueryFunction(\n  \"/external-task-log/count\"\n);\n\nmodule.exports = History;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexports.createSimpleGetQueryFunction = function(urlSuffix) {\n  return function(params, done) {\n    var url = this.path + urlSuffix;\n\n    if (typeof params === \"function\") {\n      done = params;\n      params = {};\n    }\n\n    return this.http.get(url, {\n      data: params,\n      done: done\n    });\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Q = require(\"q\");\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * No-Op callback\n */\nfunction noop() {}\n\n/**\n * Process Definition Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar ProcessDefinition = AbstractClientResource.extend(\n  /** @lends  CamSDK.client.resource.ProcessDefinition.prototype */\n  {\n    /**\n     * Suspends the process definition instance\n     *\n     * @param  {Object.<String, *>} [params]\n     * @param  {requestCallback}    [done]\n     */\n    suspend: function(params, done) {\n      // allows to pass only a callback\n      if (typeof params === \"function\") {\n        done = params;\n        params = {};\n      }\n      params = params || {};\n      done = done || noop;\n\n      return this.http.post(this.path, {\n        done: done\n      });\n    },\n\n    /**\n     * Retrieves the statistics of a process definition.\n     *\n     * @param  {Function} [done]\n     */\n    stats: function(done) {\n      return this.http.post(this.path, {\n        done: done || noop\n      });\n    },\n\n    /**\n     * Retrieves the BPMN 2.0 XML document of a process definition.\n     *\n     * @param  {Function} [done]\n     */\n    // xml: function(id, done) {\n    //   return this.http.post(this.path + +'/xml', {\n    //     done: done || noop\n    //   });\n    // },\n\n    /**\n     * Starts a process instance from a process definition.\n     *\n     * @param  {Object} [varname]\n     * @param  {Function} [done]\n     */\n    start: function(done) {\n      return this.http.post(this.path, {\n        data: {},\n        done: done\n      });\n    }\n  },\n  /** @lends  CamSDK.client.resource.ProcessDefinition */\n  {\n    /**\n     * API path for the process instance resource\n     */\n    path: \"process-definition\",\n\n    /**\n     * Retrieve a single process definition\n     *\n     * @param  {uuid}     id    of the process definition to be requested\n     * @param  {Function} done\n     */\n    get: function(id, done) {\n      // var pointer = '';\n      // if (data.key) {\n      //   pointer = 'key/'+ data.key;\n      // }\n      // else if (data.id) {\n      //   pointer = data.id;\n      // }\n\n      return this.http.get(this.path + \"/\" + id, {\n        done: done\n      });\n    },\n\n    /**\n     * Retrieve a single process definition\n     *\n     * @param  {String}   key    of the process definition to be requested\n     * @param  {Function} done\n     */\n    getByKey: function(key, done) {\n      return this.http.get(this.path + \"/key/\" + key, {\n        done: done\n      });\n    },\n\n    /**\n     * Get a list of process definitions\n     * @param  {Object} params                        Query parameters as follow\n     * @param  {String} [params.name]                 Filter by name.\n     * @param  {String} [params.nameLike]             Filter by names that the parameter is a substring of.\n     * @param  {String} [params.deploymentId]         Filter by the deployment the id belongs to.\n     * @param  {String} [params.key]                  Filter by key, i.e. the id in the BPMN 2.0 XML. Exact match.\n     * @param  {String} [params.keyLike]              Filter by keys that the parameter is a substring of.\n     * @param  {String} [params.category]             Filter by category. Exact match.\n     * @param  {String} [params.categoryLike]         Filter by categories that the parameter is a substring of.\n     * @param  {String} [params.ver]                  Filter by version.\n     * @param  {String} [params.latest]               Only include those process definitions that are latest versions.\n     *                                                Values may be \"true\" or \"false\".\n     * @param  {String} [params.resourceName]         Filter by the name of the process definition resource. Exact match.\n     * @param  {String} [params.resourceNameLike]     Filter by names of those process definition resources that the parameter is a substring of.\n     * @param  {String} [params.startableBy]          Filter by a user name who is allowed to start the process.\n     * @param  {String} [params.active]               Only include active process definitions.\n     *                                                Values may be \"true\" or \"false\".\n     * @param  {String} [params.suspended]            Only include suspended process definitions.\n     *                                                Values may be \"true\" or \"false\".\n     * @param  {String} [params.incidentId]           Filter by the incident id.\n     * @param  {String} [params.incidentType]         Filter by the incident type.\n     * @param  {String} [params.incidentMessage]      Filter by the incident message. Exact match.\n     * @param  {String} [params.incidentMessageLike]  Filter by the incident message that the parameter is a substring of.\n     *\n     * @param  {String} [params.sortBy]               Sort the results lexicographically by a given criterion.\n     *                                                Valid values are category, \"key\", \"id\", \"name\", \"version\" and \"deploymentId\".\n     *                                                Must be used in conjunction with the \"sortOrder\" parameter.\n     *\n     * @param  {String} [params.sortOrder]            Sort the results in a given order.\n     *                                                Values may be asc for ascending \"order\" or \"desc\" for descending order.\n     *                                                Must be used in conjunction with the sortBy parameter.\n     *\n     * @param  {Integer} [params.firstResult]         Pagination of results. Specifies the index of the first result to return.\n     * @param  {Integer} [params.maxResults]          Pagination of results. Specifies the maximum number of results to return.\n     *                                                Will return less results, if there are no more results left.\n\n     * @param  {requestCallback} [done]\n     *\n     * @example\n     * CamSDK.resource('process-definition').list({\n     *   nameLike: 'Process'\n     * }, function(err, results) {\n     *   //\n     * });\n     */\n    list: function() {\n      return AbstractClientResource.list.apply(this, arguments);\n    },\n\n    /**\n     * Get a count of process definitions\n     * Same parameters as list\n     */\n    count: function() {\n      return AbstractClientResource.count.apply(this, arguments);\n    },\n\n    /**\n     * Fetch the variables of a process definition\n     * @param  {Object.<String, *>} data\n     * @param  {String}             [data.id]     of the process\n     * @param  {String}             [data.key]    of the process\n     * @param  {Array}              [data.names]  of variables to be fetched\n     * @param  {Function}           [done]\n     */\n    formVariables: function(data, done) {\n      var pointer = \"\";\n      done = done || noop;\n      if (data.key) {\n        pointer = \"key/\" + data.key;\n      } else if (data.id) {\n        pointer = data.id;\n      } else {\n        var err = new Error(\n          \"Process definition task variables needs either a key or an id.\"\n        );\n        done(err);\n        return Q.reject(err);\n      }\n\n      var queryData = {\n        deserializeValues: data.deserializeValues\n      };\n\n      if (data.names) {\n        queryData.variableNames = (data.names || []).join(\",\");\n      }\n\n      return this.http.get(this.path + \"/\" + pointer + \"/form-variables\", {\n        data: queryData,\n        done: done\n      });\n    },\n\n    /**\n     * Submit a form to start a process definition\n     *\n     * @param  {Object.<String, *>} data\n     * @param  {String}             [data.key]            start the process-definition with this key\n     * @param  {String}             [data.tenantId]       and the this tenant-id\n     * @param  {String}             [data.id]             or: start the process-definition with this id\n     * @param  {String}             [data.businessKey]    of the process to be set\n     * @param  {Array}              [data.variables]      variables to be set\n     * @param  {Function}           [done]\n     */\n    submitForm: function(data, done) {\n      var pointer = \"\";\n      done = done || noop;\n      if (data.key) {\n        pointer = \"key/\" + data.key;\n        if (data.tenantId) {\n          pointer += \"/tenant-id/\" + data.tenantId;\n        }\n      } else if (data.id) {\n        pointer = data.id;\n      } else {\n        return done(\n          new Error(\n            \"Process definition task variables needs either a key or an id.\"\n          )\n        );\n      }\n\n      return this.http.post(this.path + \"/\" + pointer + \"/submit-form\", {\n        data: {\n          businessKey: data.businessKey,\n          variables: data.variables\n        },\n        done: done\n      });\n    },\n\n    /**\n     * Delete multiple process definitions by key or a single process definition by id\n     *\n     * @param  {Object.<String, *>} data\n     * @param  {String}             [data.key]                        delete the process-definition with this key\n     * @param  {String}             [data.tenantId]                   and the this tenant-id\n     * @param  {String}             [data.id]                         or: delete the process-definition with this id\n     * @param  {Boolean}            [data.cascade]                    All instances, including historic instances,\n     *                                                                will also be deleted\n     * @param  {Boolean}            [data.skipCustomListeners]        Skip execution listener invocation for\n     *                                                                activities that are started or ended\n     *                                                                as part of this request.\n     * @param  {Function}           [done]\n     */\n    delete: function(data, done) {\n      done = done || noop;\n\n      var pointer = \"\";\n      if (data.key) {\n        pointer = \"key/\" + data.key;\n        if (data.tenantId) {\n          pointer += \"/tenant-id/\" + data.tenantId;\n        }\n        pointer += \"/delete\";\n      } else if (data.id) {\n        pointer = data.id;\n      } else {\n        return done(\n          new Error(\"Process definition deletion needs either a key or an id.\")\n        );\n      }\n\n      var queryParams = \"?\";\n      var param = \"cascade\";\n      if (typeof data[param] === \"boolean\") {\n        queryParams += param + \"=\" + data[param];\n      }\n\n      param = \"skipCustomListeners\";\n      if (typeof data[param] === \"boolean\") {\n        if (queryParams.length > 1) {\n          queryParams += \"&\";\n        }\n\n        queryParams += param + \"=\" + data[param];\n      }\n\n      param = \"skipIoMappings\";\n      if (typeof data[param] === \"boolean\") {\n        if (queryParams.length > 1) {\n          queryParams += \"&\";\n        }\n\n        queryParams += param + \"=\" + data[param];\n      }\n\n      return this.http.del(this.path + \"/\" + pointer + queryParams, {\n        done: done\n      });\n    },\n\n    /**\n     * Retrieves the form of a process definition.\n     * @param  {Function} [done]\n     */\n    startForm: function(data, done) {\n      var path =\n        this.path +\n        \"/\" +\n        (data.key ? \"key/\" + data.key : data.id) +\n        \"/startForm\";\n      return this.http.get(path, {\n        done: done || noop\n      });\n    },\n\n    /**\n     * Retrieves the form of a process definition.\n     * @param  {Function} [done]\n     */\n    xml: function(data, done) {\n      var path =\n        this.path + \"/\" + (data.id ? data.id : \"key/\" + data.key) + \"/xml\";\n      return this.http.get(path, {\n        done: done || noop\n      });\n    },\n\n    /**\n     * Retrieves runtime statistics of a given process definition grouped by activities\n     * @param  {Function} [done]\n     */\n    statistics: function(data, done) {\n      var path = this.path;\n\n      if (data.id) {\n        path += \"/\" + data.id;\n      } else if (data.key) {\n        path += \"/key/\" + data.key;\n      }\n\n      path += \"/statistics\";\n\n      return this.http.get(path, {\n        data: data,\n        done: done || noop\n      });\n    },\n\n    /**\n     * Submits the form of a process definition.\n     *\n     * @param  {Object} [data]\n     * @param  {Function} [done]\n     */\n    submit: function(data, done) {\n      var path = this.path;\n      if (data.key) {\n        path += \"/key/\" + data.key;\n      } else {\n        path += \"/\" + data.id;\n      }\n      path += \"/submit-form\";\n\n      return this.http.post(path, {\n        data: data,\n        done: done\n      });\n    },\n\n    /**\n     * Suspends one or more process definitions\n     *\n     * @param  {String|String[]}    ids\n     * @param  {Object.<String, *>} [params]\n     * @param  {requestCallback}    [done]\n     */\n    suspend: function(ids, params, done) {\n      // allows to pass only a callback\n      if (typeof params === \"function\") {\n        done = params;\n        params = {};\n      }\n      params = params || {};\n      done = done || noop;\n      // allows to pass a single ID\n      ids = Array.isArray(ids) ? ids : [ids];\n\n      return this.http.post(this.path, {\n        done: done\n      });\n    },\n\n    /**\n     * Instantiates a given process definition.\n     *\n     * @param {Object} [params]\n     * @param {String} [params.id]              The id of the process definition to be instantiated. Must be omitted if key is provided.\n     * @param {String} [params.key]             The key of the process definition (the latest version thereof) to be instantiated. Must be omitted if id is provided.\n     * @param {String} [params.tenantId]\t\t\t\tThe id of the tenant the process definition belongs to. Must be omitted if id is provided.\n     * @param {String} [params.variables]       A JSON object containing the variables the process is to be initialized with. Each key corresponds to a variable name and each value to a variable value.\n     * @param {String} [params.businessKey]     The business key the process instance is to be initialized with. The business key uniquely identifies the process instance in the context of the given process definition.\n     * @param {String} [params.caseInstanceId]  The case instance id the process instance is to be initialized with.\n     */\n    start: function(params, done) {\n      var url = this.path + \"/\";\n\n      if (params.id) {\n        url = url + params.id;\n      } else {\n        url = url + \"key/\" + params.key;\n\n        if (params.tenantId) {\n          url = url + \"/tenant-id/\" + params.tenantId;\n        }\n      }\n\n      return this.http.post(url + \"/start\", {\n        data: params,\n        done: done\n      });\n    },\n\n    /**\n     * Instantiates a given process definition.\n\n     * @param {String} [id]                        The id of the process definition to activate or suspend.\n     * @param {Object} [params]\n     * @param {Number} [params.historyTimeToLive]  New value for historyTimeToLive field of process definition. Can be null.\n     */\n    updateHistoryTimeToLive: function(id, params, done) {\n      var url = this.path + \"/\" + id + \"/history-time-to-live\";\n\n      return this.http.put(url, {\n        data: params,\n        done: done\n      });\n    },\n\n    restart: function(id, params, done) {\n      var url = this.path + \"/\" + id + \"/restart\";\n\n      return this.http.post(url, {\n        data: params,\n        done: done\n      });\n    },\n\n    restartAsync: function(id, params, done) {\n      var url = this.path + \"/\" + id + \"/restart-async\";\n\n      return this.http.post(url, {\n        data: params,\n        done: done\n      });\n    }\n  }\n);\n\nmodule.exports = ProcessDefinition;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\nvar utils = require(\"../../utils\");\n\n/**\n * Process Instance Resource\n *\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar ProcessInstance = AbstractClientResource.extend(\n  /** @lends  CamSDK.client.resource.ProcessInstance.prototype */\n  {},\n\n  /** @lends  CamSDK.client.resource.ProcessInstance */\n  {\n    /**\n     * API path for the process instance resource\n     */\n    path: \"process-instance\",\n\n    /**\n     * Retrieve a single process instance\n     *\n     * @param  {uuid}     id    of the process instance to be requested\n     * @param  {Function} done\n     */\n    get: function(id, done) {\n      return this.http.get(this.path + \"/\" + id, {\n        done: done\n      });\n    },\n\n    /**\n     * Creates a process instance from a process definition\n     *\n     * @param  {Object}   params\n     * @param  {String}   [params.id]\n     * @param  {String}   [params.key]\n     * @param  {Object.<String, *>} [params.variables]\n     * @param  {requestCallback} [done]\n     */\n    create: function(params, done) {\n      return this.http.post(params, done);\n    },\n\n    list: function(params, done) {\n      var path = this.path;\n\n      // those parameters have to be passed in the query and not body\n      path += \"?firstResult=\" + (params.firstResult || 0);\n      path += \"&maxResults=\" + (params.maxResults || 15);\n\n      return this.http.post(path, {\n        data: params,\n        done: done\n      });\n    },\n\n    count: function(params, done) {\n      var path = this.path + \"/count\";\n\n      return this.http.post(path, {\n        data: params,\n        done: done\n      });\n    },\n\n    getActivityInstances: function(id, done) {\n      return this.http.get(this.path + \"/\" + id + \"/activity-instances\", {\n        done: done\n      });\n    },\n\n    /**\n     * Post process instance modifications\n     * @see http://docs.camunda.org/api-references/rest/#process-instance-modify-process-instance-execution-state-method\n     *\n     * @param  {Object}           params\n     * @param  {UUID}             params.id                     process instance UUID\n     *\n     * @param  {Array}            params.instructions           Array of instructions\n     *\n     * @param  {Boolean}          [params.skipCustomListeners]  Skip execution listener invocation for\n     *                                                          activities that are started or ended\n     *                                                          as part of this request.\n     *\n     * @param  {Boolean}          [params.skipIoMappings]       Skip execution of input/output\n     *                                                          variable mappings for activities that\n     *                                                          are started or ended as part of\n     *                                                          this request.\n     *\n     * @param  {String}          [params.annotation]            Add Annotation to the user operation log\n     *\n     * @param  {requestCallback}  done\n     */\n    modify: function(params, done) {\n      return this.http.post(this.path + \"/\" + params.id + \"/modification\", {\n        data: params,\n        done: done\n      });\n    },\n\n    modifyAsync: function(params, done) {\n      return this.http.post(\n        this.path + \"/\" + params.id + \"/modification-async\",\n        {\n          data: params,\n          done: done\n        }\n      );\n    },\n\n    /**\n     * Delete multiple process instances asynchronously (batch).\n     *\n     * @see https://docs.camunda.org/manual/latest/reference/rest/process-instance/post-delete/\n     *\n     * @param   {Object}            payload\n     * @param   {requestCallback}   done\n     *\n     */\n    deleteAsync: function(payload, done) {\n      return this.http.post(this.path + \"/delete\", {\n        data: payload,\n        done: done\n      });\n    },\n\n    /**\n     * Delete a set of process instances asynchronously (batch) based on a historic process instance query.\n     *\n     * @see https://docs.camunda.org/manual/latest/reference/rest/process-instance/post-delete-historic-query-based/\n     *\n     * @param   {Object}            payload\n     * @param   {requestCallback}   done\n     *\n     */\n    deleteAsyncHistoricQueryBased: function(payload, done) {\n      return this.http.post(this.path + \"/delete-historic-query-based\", {\n        data: payload,\n        done: done\n      });\n    },\n\n    /**\n     * Set retries of jobs belonging to process instances asynchronously (batch).\n     *\n     * @see https://docs.camunda.org/manual/latest/reference/rest/process-instance/post-set-job-retries\n     *\n     * @param   {Object}            payload\n     * @param   {requestCallback}   done\n     *\n     */\n    setJobsRetriesAsync: function(payload, done) {\n      return this.http.post(this.path + \"/job-retries\", {\n        data: payload,\n        done: done\n      });\n    },\n\n    /**\n     * Create a batch to set retries of jobs asynchronously based on a historic process instance query.\n     *\n     * @see https://docs.camunda.org/manual/latest/reference/rest/process-instance/post-set-job-retries-historic-query-based\n     *\n     * @param   {Object}            payload\n     * @param   {requestCallback}   done\n     *\n     */\n    setJobsRetriesAsyncHistoricQueryBased: function(payload, done) {\n      return this.http.post(this.path + \"/job-retries-historic-query-based\", {\n        data: payload,\n        done: done\n      });\n    },\n\n    /**\n     * Activates or suspends process instances asynchronously with a list of process instance ids, a process instance query, and/or a historical process instance query\n     *\n     * @see https://docs.camunda.org/manual/latest/reference/rest/process-instance/post-activate-suspend-in-batch/\n     *\n     * @param   {Object}            payload\n     * @param   {requestCallback}   done\n     */\n    suspendAsync: function(payload, done) {\n      return this.http.post(this.path + \"/suspended-async\", {\n        data: payload,\n        done: done\n      });\n    },\n\n    setVariablesAsync: function(payload, done) {\n      return this.http.post(this.path + \"/variables-async\", {\n        data: payload,\n        done: done\n      });\n    },\n\n    /**\n     * Sets a variable of a given process instance by id.\n     *\n     * @see http://docs.camunda.org/manual/develop/reference/rest/process-instance/variables/put-variable/\n     *\n     * @param   {uuid}              id\n     * @param   {Object}            params\n     * @param   {requestCallback}   done\n     */\n    setVariable: function(id, params, done) {\n      var url =\n        this.path + \"/\" + id + \"/variables/\" + utils.escapeUrl(params.name);\n      return this.http.put(url, {\n        data: params,\n        done: done\n      });\n    }\n  }\n);\n\nmodule.exports = ProcessInstance;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Q = require(\"q\");\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\nvar utils = require(\"../../utils\");\n\n/**\n * No-Op callback\n */\nfunction noop() {}\n\n/**\n * Task Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Task = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nTask.path = \"task\";\n\n/**\n * Fetch a list of tasks\n * @param {Object} [params]\n * @param {String} [params.processInstanceId]               Restrict to tasks that belong to process instances with the given id.\n * @param {String} [params.processInstanceBusinessKey]      Restrict to tasks that belong to process instances with the given business key.\n * @param {String} [params.processInstanceBusinessKeyLike]  Restrict to tasks that have a process instance business key that has the parameter value as a substring.\n * @param {String} [params.processDefinitionId]             Restrict to tasks that belong to a process definition with the given id.\n * @param {String} [params.processDefinitionKey]            Restrict to tasks that belong to a process definition with the given key.\n * @param {String} [params.processDefinitionName]           Restrict to tasks that belong to a process definition with the given name.\n * @param {String} [params.processDefinitionNameLike]       Restrict to tasks that have a process definition name that has the parameter value as a substring.\n * @param {String} [params.executionId]                     Restrict to tasks that belong to an execution with the given id.\n * @param {String} [params.activityInstanceIdIn]            Only include tasks which belongs to one of the passed and comma-separated activity instance ids.\n * @param {String} [params.assignee]                        Restrict to tasks that the given user is assigned to.\n * @param {String} [params.assigneeLike]                    Restrict to tasks that have an assignee that has the parameter value as a substring.\n * @param {String} [params.owner]                           Restrict to tasks that the given user owns.\n * @param {String} [params.candidateGroup]                  Only include tasks that are offered to the given group.\n * @param {String} [params.candidateUser]                   Only include tasks that are offered to the given user.\n * @param {String} [params.involvedUser]                    Only include tasks that the given user is involved in.\n *                                                          A user is involved in a task if there exists an identity link between task and user (e.g. the user is the assignee).\n * @param {String} [params.unassigned]                      If set to true, restricts the query to all tasks that are unassigned.\n * @param {String} [params.taskDefinitionKey]               Restrict to tasks that have the given key.\n * @param {String} [params.taskDefinitionKeyLike]           Restrict to tasks that have a key that has the parameter value as a substring.\n * @param {String} [params.name]                            Restrict to tasks that have the given name.\n * @param {String} [params.nameLike]                        Restrict to tasks that have a name with the given parameter value as substring.\n * @param {String} [params.description]                     Restrict to tasks that have the given description.\n * @param {String} [params.descriptionLike]                 Restrict to tasks that have a description that has the parameter value as a substring.\n * @param {String} [params.priority]                        Restrict to tasks that have the given priority.\n * @param {String} [params.maxPriority]                     Restrict to tasks that have a lower or equal priority.\n * @param {String} [params.minPriority]                     Restrict to tasks that have a higher or equal priority.\n * @param {String} [params.due]                             Restrict to tasks that are due on the given date.\n *                                                          The date must have the format yyyy-MM-dd'T'HH:mm:ss, so for example 2013-01-23T14:42:45 is valid.\n * @param {String} [params.dueAfter]                        Restrict to tasks that are due after the given date.\n *                                                          The date must have the format yyyy-MM-dd'T'HH:mm:ss, so for example 2013-01-23T14:42:45 is valid.\n * @param {String} [params.dueBefore]                       Restrict to tasks that are due before the given date.\n *                                                          The date must have the format yyyy-MM-dd'T'HH:mm:ss, so for example 2013-01-23T14:42:45 is valid.\n * @param {String} [params.followUp]                        Restrict to tasks that have a followUp date on the given date.\n *                                                          The date must have the format yyyy-MM-dd'T'HH:mm:ss, so for example 2013-01-23T14:42:45 is valid.\n * @param {String} [params.followUpAfter]                   Restrict to tasks that have a followUp date after the given date.\n *                                                          The date must have the format yyyy-MM-dd'T'HH:mm:ss, so for example 2013-01-23T14:42:45 is valid.\n * @param {String} [params.followUpBefore]                  Restrict to tasks that have a followUp date before the given date.\n *                                                          The date must have the format yyyy-MM-dd'T'HH:mm:ss, so for example 2013-01-23T14:42:45 is valid.\n * @param {String} [params.created]                         Restrict to tasks that were created on the given date.\n *                                                          The date must have the format yyyy-MM-dd'T'HH:mm:ss, so for example 2013-01-23T14:42:45 is valid.\n * @param {String} [params.createdAfter]                    Restrict to tasks that were created after the given date.\n *                                                          The date must have the format yyyy-MM-dd'T'HH:mm:ss, so for example 2013-01-23T14:42:45 is valid.\n * @param {String} [params.createdBefore]                   Restrict to tasks that were created before the given date.\n *                                                          The date must have the format yyyy-MM-dd'T'HH:mm:ss, so for example 2013-01-23T14:42:45 is valid.\n * @param {String} [params.delegationState]                 Restrict to tasks that are in the given delegation state.\n *                                                          Valid values are \"PENDING\" and \"RESOLVED\".\n * @param {String} [params.candidateGroups]                 Restrict to tasks that are offered to any of the given candidate groups. Takes a comma-separated list of group names, so for example developers,support,sales.\n * @param {String} [params.active]                          Only include active tasks. Values may be true or false. suspended Only include suspended tasks.\n *                                                          Values may be \"true\" or \"false\".\n * @param {String} [params.taskVariables]                   Only include tasks that have variables with certain values. Variable tasking expressions are comma-separated and are structured as follows:\n *                                                          A valid parameter value has the form key_operator_value. key is the variable name, op is the comparison operator to be used and value the variable value. Note: Values are always treated as String objects on server side. Valid operator values are: eq - equals; neq - not equals; gt - greater than; gteq - greater than or equals; lt - lower than; lteq - lower than or equals; like. key and value may not contain underscore or comma characters.\n * @param {String} [params.processVariables]                Only include tasks that belong to process instances that have variables with certain values.\n *                                                          Variable tasking expressions are comma-separated and are structured as follows:\n *                                                          A valid parameter value has the form key_operator_value. \"key\" is the variable name, \"op\" is the comparison operator to be used and value the variable value.\n *                                                          Note: Values are always treated as String objects on server side.\n *                                                          Valid operator values are: \"eq\" - equals; \"neq\" - not equals; \"gt\" - greater than; \"gteq\" - greater than or equals; \"lt\" - lower than; \"lteq\" - lower than or equals; like.\n *                                                          \"key\" and \"value\" may not contain underscore or comma characters.\n *\n * @param {String} [params.sortBy]                          Sort the results lexicographically by a given criterion.\n *                                                          Valid values are \"instanceId\", \"dueDate\", \"executionId\", \"assignee\", \"created\", \"description\", \"id\", \"name\" and \"priority\".\n *                                                          Must be used in conjunction with the sortOrder parameter.\n * @param {String} [params.sortOrder]                       Sort the results in a given order. Values may be \"asc\" for ascending order or \"desc\" for descending order.\n *                                                          Must be used in conjunction with the sortBy parameter.\n *\n * @param {String} [params.firstResult]                     Pagination of results. Specifies the index of the first result to return.\n * @param {String} [params.maxResults]                      Pagination of results. Specifies the maximum number of results to return.\n *                                                          Will return less results, if there are no more results left.\n * @param {Function} done\n */\nTask.list = function(params, done) {\n  done = done || noop;\n  var deferred = Q.defer();\n\n  this.http.get(this.path, {\n    data: params,\n    done: function(err, data) {\n      if (err) {\n        done(err);\n        return deferred.reject(err);\n      }\n\n      if (data._embedded) {\n        // to ease the use of task data, we compile them here\n        var tasks = data._embedded.task || data._embedded.tasks;\n        var procDefs = data._embedded.processDefinition;\n\n        for (var t in tasks) {\n          var task = tasks[t];\n          task._embedded = task._embedded || {};\n          for (var p in procDefs) {\n            if (procDefs[p].id === task.processDefinitionId) {\n              task._embedded.processDefinition = [procDefs[p]];\n              break;\n            }\n          }\n        }\n      }\n\n      done(null, data);\n      deferred.resolve(data);\n    }\n  });\n\n  return deferred.promise;\n};\n\n/**\n * Retrieve a single task\n * @param  {uuid}     taskId   of the task to be requested\n * @param  {Function} done\n */\nTask.get = function(taskId, done) {\n  return this.http.get(this.path + \"/\" + taskId, {\n    done: done\n  });\n};\n\n/**\n * Retrieve the comments for a single task\n * @param  {uuid}     taskId   of the task for which the comments are requested\n * @param  {Function} done\n */\nTask.comments = function(taskId, done) {\n  return this.http.get(this.path + \"/\" + taskId + \"/comment\", {\n    done: done\n  });\n};\n\n/**\n * Retrieve the identity links for a single task\n * @param  {uuid}     taskId   of the task for which the identity links are requested\n * @param  {Function} done\n */\nTask.identityLinks = function(taskId, done) {\n  return this.http.get(this.path + \"/\" + taskId + \"/identity-links\", {\n    done: done\n  });\n};\n\n/**\n * Add an identity link to a task\n * @param  {uuid}     taskId          of the task for which the identity link is created\n * @param  {Object} [params]\n * @param  {String} [params.userId]   The id of the user to link to the task. If you set this parameter, you have to omit groupId\n * @param  {String} [params.groupId]  The id of the group to link to the task. If you set this parameter, you have to omit userId\n * @param  {String} [params.type]     Sets the type of the link. Must be provided\n * @param  {Function} done\n */\nTask.identityLinksAdd = function(taskId, params, done) {\n  if (arguments.length === 2) {\n    done = arguments[1];\n    params = arguments[0];\n    taskId = params.id;\n  }\n  return this.http.post(this.path + \"/\" + taskId + \"/identity-links\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Removes an identity link from a task.\n * @param  {uuid}     taskId          The id of the task to remove a link from\n * @param  {Object} [params]\n * @param  {String} [params.userId]   The id of the user being part of the link. If you set this parameter, you have to omit groupId.\n * @param  {String} [params.groupId]  The id of the group being part of the link. If you set this parameter, you have to omit userId.\n * @param  {String} [params.type]     Specifies the type of the link. Must be provided.\n * @param  {Function} done\n */\nTask.identityLinksDelete = function(taskId, params, done) {\n  if (arguments.length === 2) {\n    done = arguments[1];\n    params = arguments[0];\n    taskId = params.id;\n  }\n\n  return this.http.post(this.path + \"/\" + taskId + \"/identity-links/delete\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Create a comment for a task.\n *\n * @param  {String}   taskId  The id of the task to add the comment to.\n * @param  {String}   message The message of the task comment to create.\n * @param  {Function} done\n */\nTask.createComment = function(taskId, message, done) {\n  return this.http.post(this.path + \"/\" + taskId + \"/comment/create\", {\n    data: {\n      message: message\n    },\n    done: done\n  });\n};\n\n/**\n * Creates a task\n *\n * @param  {Object}   task   is an object representation of a task\n * @param  {Function} done\n */\nTask.create = function(task, done) {\n  return this.http.post(this.path + \"/create\", {\n    data: task,\n    done: done\n  });\n};\n\n/**\n * Update a task\n *\n * @param  {Object}   task   is an object representation of a task\n * @param  {Function} done\n */\nTask.update = function(task, done) {\n  return this.http.put(this.path + \"/\" + task.id, {\n    data: task,\n    done: done\n  });\n};\n\n// /**\n//  * Save a task\n//  *\n//  * @see Task.create\n//  * @see Task.update\n//  *\n//  * @param  {Object}   task   is an object representation of a task, if it has\n//  *                             an id property, the task will be updated, otherwise created\n//  * @param  {Function} done\n//  */\n// Task.save = function(task, done) {\n//   return Task[task.id ? 'update' : 'create'](task, done);\n// };\n\n/**\n * Change the assignee of a task to a specific user.\n *\n * Note: The difference with claim a task is that\n * this method does not check if the task already has a user assigned to it\n *\n * Note: The response of this call is empty.\n *\n * @param  {String}   taskId\n * @param  {String}   userId\n * @param  {Function} done\n */\nTask.assignee = function(taskId, userId, done) {\n  var data = {\n    userId: userId\n  };\n\n  if (arguments.length === 2) {\n    taskId = arguments[0].taskId;\n    data.userId = arguments[0].userId;\n    done = arguments[1];\n  }\n\n  return this.http.post(this.path + \"/\" + taskId + \"/assignee\", {\n    data: data,\n    done: done\n  });\n};\n\n/**\n * Delegate a task to another user.\n *\n * Note: The response of this call is empty.\n *\n * @param  {String}   taskId\n * @param  {String}   userId\n * @param  {Function} done\n */\nTask.delegate = function(taskId, userId, done) {\n  var data = {\n    userId: userId\n  };\n\n  if (arguments.length === 2) {\n    taskId = arguments[0].taskId;\n    data.userId = arguments[0].userId;\n    done = arguments[1];\n  }\n\n  return this.http.post(this.path + \"/\" + taskId + \"/delegate\", {\n    data: data,\n    done: done\n  });\n};\n\n/**\n * Claim a task for a specific user.\n *\n * Note: The difference with set a assignee is that\n * here a check is performed to see if the task already has a user assigned to it.\n *\n * Note: The response of this call is empty.\n *\n * @param  {String}   taskId\n * @param  {String}   userId\n * @param  {Function} done\n */\nTask.claim = function(taskId, userId, done) {\n  var data = {\n    userId: userId\n  };\n\n  if (arguments.length === 2) {\n    taskId = arguments[0].taskId;\n    data.userId = arguments[0].userId;\n    done = arguments[1];\n  }\n\n  return this.http.post(this.path + \"/\" + taskId + \"/claim\", {\n    data: data,\n    done: done\n  });\n};\n\n/**\n * Resets a task's assignee. If successful, the task is not assigned to a user.\n *\n * Note: The response of this call is empty.\n *\n * @param  {String}   taskId\n * @param  {Function} done\n */\nTask.unclaim = function(taskId, done) {\n  if (typeof taskId !== \"string\") {\n    taskId = taskId.taskId;\n  }\n\n  return this.http.post(this.path + \"/\" + taskId + \"/unclaim\", {\n    done: done\n  });\n};\n\n/**\n * Complete a task and update process variables using a form submit.\n * There are two difference between this method and the complete method:\n *\n * If the task is in state PENDING - ie. has been delegated before,\n * it is not completed but resolved. Otherwise it will be completed.\n *\n * If the task has Form Field Metadata defined,\n * the process engine will perform backend validation for any form fields which have validators defined.\n * See the Generated Task Forms section of the User Guide for more information.\n *\n * @param  {Object}   data\n * @param  {Function} done\n */\nTask.submitForm = function(data, done) {\n  done = done || noop;\n  if (!data.id) {\n    var err = new Error(\"Task submitForm needs a task id.\");\n    done(err);\n    return Q.reject(err);\n  }\n\n  return this.http.post(this.path + \"/\" + data.id + \"/submit-form\", {\n    data: {\n      variables: data.variables\n    },\n    done: done\n  });\n};\n\n/**\n * Complete a task and update process variables.\n *\n * @param  {object}             [params]\n * @param  {uuid}               [params.id]           Id of the task. This value is mandatory.\n * @param  {Object.<String, *>} [params.variables]    Process variables which need to be updated.\n * @param  {Function} done\n */\nTask.complete = function(params, done) {\n  done = done || noop;\n\n  if (!params.id) {\n    var err = new Error(\"Task complete needs a task id.\");\n    done(err);\n    return Q.reject(err);\n  }\n\n  return this.http.post(this.path + \"/\" + params.id + \"/complete\", {\n    data: {\n      variables: params.variables\n    },\n    done: done\n  });\n};\n\n/**\n * Reports an escalation in the context of a running task by id.\n *\n * @param  {Object}             [data]\n * @param  {uuid}               [data.id]             Id of the task. This value is mandatory.\n * @param  {String}             [data.escalationCode] An escalation code that indicates the predefined escalation. This value is mandatory.\n * @param  {Object.<String, *>} [data.variables]      Process variables which need to be updated.\n * @param  {Function}           done\n */\nTask.bpmnEscalation = function(data, done) {\n  done = done || noop;\n  if (!data.id || !data.escalationCode) {\n    var err = new Error(\n      \"Task bpmnEscalation needs a task id and escalation code.\"\n    );\n    done(err);\n    return Q.reject(err);\n  }\n\n  return this.http.post(this.path + \"/\" + data.id + \"/bpmnEscalation\", {\n    data: {\n      escalationCode: data.escalationCode,\n      variables: data.variables\n    },\n    done: done\n  });\n};\n\n/**\n * Reports an error in the context of a running task by id.\n *\n * @param  {Object}             [data]\n * @param  {uuid}               [data.id]           Id of the task. This value is mandatory.\n * @param  {String}             [data.errorCode]    An error code that indicates the predefined error. This value is mandatory.\n * @param  {String}             [data.errorMessage] An error message that describes the error.\n * @param  {Object.<String, *>} [data.variables]    Process variables which need to be updated.\n * @param  {Function}           done\n */\nTask.bpmnError = function(data, done) {\n  done = done || noop;\n  if (!data.id || !data.errorCode) {\n    var err = new Error(\"Task bpmnError needs a task id and error code.\");\n    done(err);\n    return Q.reject(err);\n  }\n\n  return this.http.post(this.path + \"/\" + data.id + \"/bpmnError\", {\n    data: {\n      variables: data.variables,\n      errorCode: data.errorCode,\n      errorMessage: data.errorMessage\n    },\n    done: done\n  });\n};\n\nTask.formVariables = function(data, done) {\n  done = done || noop;\n  var pointer = \"\";\n  if (data.key) {\n    pointer = \"key/\" + data.key;\n  } else if (data.id) {\n    pointer = data.id;\n  } else {\n    var err = new Error(\"Task variables needs either a key or an id.\");\n    done(err);\n    return Q.reject(err);\n  }\n\n  var queryData = {\n    deserializeValues: data.deserializeValues\n  };\n\n  if (data.names) {\n    queryData.variableNames = data.names.join(\",\");\n  }\n\n  return this.http.get(this.path + \"/\" + pointer + \"/form-variables\", {\n    data: queryData,\n    done: done\n  });\n};\n\n/**\n * Retrieve the form for a single task\n * @param  {uuid}     taskId   of the task for which the form is requested\n * @param  {Function} done\n */\nTask.form = function(taskId, done) {\n  return this.http.get(this.path + \"/\" + taskId + \"/form\", {\n    done: done\n  });\n};\n\n/**\n * Sets a variable in the context of a given task.\n * @param {Object} [params]\n * @param {String} [params.id]         The id of the task to set the variable for.\n * @param {String} [params.varId]      The name of the variable to set.\n * @param {String} [params.value]      The variable's value. For variables of type Object, the serialized value has to be submitted as a String value.\n * @param {String} [params.type]       The value type of the variable.\n * @param {String} [params.valueInfo]  A JSON object containing additional, value-type-dependent properties.\n * @param {Function} done\n */\nTask.localVariable = function(params, done) {\n  return this.http.put(\n    this.path + \"/\" + params.id + \"/localVariables/\" + params.varId,\n    {\n      data: params,\n      done: done\n    }\n  );\n};\n\n/**\n * Retrieve the local variables for a single task\n * @param  {uuid}     taskId   of the task for which the variables are requested\n * @param  {Function} done\n */\nTask.localVariables = function(taskId, done) {\n  return this.http.get(this.path + \"/\" + taskId + \"/localVariables\", {\n    done: done\n  });\n};\n\n/**\n * Updates or deletes the variables in the context of a task.\n * Updates precede deletions.\n * So, if a variable is updated AND deleted, the deletion overrides the update.\n */\nTask.modifyVariables = function(data, done) {\n  return this.http.post(this.path + \"/\" + data.id + \"/localVariables\", {\n    data: data,\n    done: done\n  });\n};\n\n/**\n * Removes a local variable from a task.\n */\nTask.deleteVariable = function(data, done) {\n  return this.http.del(\n    this.path +\n      \"/\" +\n      data.id +\n      \"/localVariables/\" +\n      utils.escapeUrl(data.varId),\n    {\n      done: done\n    }\n  );\n};\n\nmodule.exports = Task;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * Task Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar TaskReport = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nTaskReport.path = \"task/report\";\n\n/**\n * Fetch the count of tasks grouped by candidate group.\n *\n * @param {Function} done\n */\nTaskReport.countByCandidateGroup = function(done) {\n  return this.http.get(this.path + \"/candidate-group-count\", {\n    done: done\n  });\n};\n\n/**\n * Query for process instance durations report.\n * @param  {Object}   [params]\n * @param  {Object}   [params.reportType]           Must be 'duration'.\n * @param  {Object}   [params.periodUnit]           Can be one of `month` or `quarter`, defaults to `month`\n * @param  {Object}   [params.processDefinitionIn]  Comma separated list of process definition IDs\n * @param  {Object}   [params.startedAfter]         Date after which the process instance were started\n * @param  {Object}   [params.startedBefore]        Date before which the process instance were started\n * @param  {Function} done\n */\nTaskReport.countByCandidateGroupAsCsv = function(done) {\n  return this.http.get(this.path + \"/candidate-group-count\", {\n    accept: \"text/csv\",\n    done: done\n  });\n};\n\nmodule.exports = TaskReport;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * Telemetry Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Telemetry = AbstractClientResource.extend();\n\n/**\n * API path for the process definition resource\n * @type {String}\n */\nTelemetry.path = \"telemetry\";\n\n/**\n * Fetches the telemetry configuration.\n *\n * @param  {Function} done\n */\nTelemetry.get = function(done) {\n  return this.http.get(this.path + \"/configuration\", {\n    done: done\n  });\n};\n\n/**\n * Configures whether Camunda receives data collection of the process engine setup and usage.\n *\n * @param  {Object}   payload                  is an object representation of an authorization\n * @param  {Boolean}  payload.enableTelemetry  Specifies if the data collection should be sent or not.\n * @param  {Function} done\n */\nTelemetry.configure = function(payload, done) {\n  if (typeof payload === \"boolean\") {\n    payload = { enableTelemetry: payload };\n  }\n\n  return this.http.post(this.path + \"/configuration\", {\n    data: payload,\n    done: done\n  });\n};\n\nmodule.exports = Telemetry;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * Variable Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Variable = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nVariable.path = \"variable-instance\";\n\n/**\n * Get variable instances\n *\n * @param  {Object}           params\n *\n * @param  {String}           [params.variableName]         Filter by variable instance name.\n *\n * @param  {String}           [params.variableNameLike]     Filter by the variable instance name.\n *                                                          The parameter can include the wildcard %\n *                                                          to express like-strategy such as:\n *                                                          - starts with (%name)\n *                                                          - ends with (name%)\n *                                                          - contains (%name%).\n *\n * @param  {String[]}         [params.processInstanceIdIn]  Only include variable instances which\n *                                                          belong to one of the passed and\n *                                                          comma-separated process instance ids.\n *\n * @param  {String[]}         [params.executionIdIn]        Only include variable instances which\n *                                                          belong to one of the passed and\n *                                                          comma-separated execution ids.\n *\n * @param  {String[]}         [params.caseInstanceIdIn]     Only include variable instances which\n *                                                          belong to one of the passed\n *                                                          case instance ids.\n *\n * @param  {String[]}         [params.caseExecutionIdIn]    Only include variable instances which\n *                                                          belong to one of the passed\n *                                                          case execution ids.\n *\n * @param  {String[]}         [params.taskIdIn]             Only include variable instances which\n *                                                          belong to one of the passed and\n *                                                          comma-separated task ids.\n *\n * @param  {String[]}         [params.activityInstanceIdIn] Only include variable instances which\n *                                                          belong to one of the passed and\n *                                                          comma-separated activity instance ids.\n *\n * @param  {String}           [params.variableValues]       Only include variable instances that\n *                                                          have the certain values. Value filtering\n *                                                          expressions are comma-separated and are\n *                                                          structured as follows:\n *                                                          A valid parameter value has the form\n *                                                          key_operator_value.\n *                                                          key is the variable name,\n *                                                          operator is the comparison operator to\n *                                                          be used and value the variable value.\n *                                                          *Note*: Values are always treated as\n *                                                          String objects on server side.\n *                                                          Valid operator values are:\n *                                                          - eq - equal to\n *                                                          - neq - not equal to\n *                                                          - gt - greater than\n *                                                          - gteq - greater than or equal to\n *                                                          - lt - lower than\n *                                                          - lteq - lower than or equal to\n *                                                          key and value may not contain underscore\n *                                                          or comma characters.\n *\n * @param  {String}           [params.sortBy]               Sort the results lexicographically by a\n *                                                          given criterion. Valid values are\n *                                                          variableName, variableType and\n *                                                          activityInstanceId.\n *                                                          Must be used in conjunction with the\n *                                                          sortOrder parameter.\n *\n * @param  {String}           [params.sortOrder]            Sort the results in a given order.\n *                                                          Values may be asc for ascending order or\n *                                                          desc for descending order.\n *                                                          Must be used in conjunction with the\n *                                                          sortBy parameter.\n *\n * @param  {String}           [params.firstResult]          Pagination of results. Specifies the\n *                                                          index of the first result to return.\n *\n * @param  {String}           [params.maxResults]           Pagination of results. Specifies the\n *                                                          maximum number of results to return.\n *                                                          Will return less results if there are no\n *                                                          more results left.\n *\n * @param  {String}           [params.deserializeValues]    Determines whether serializable variable\n *                                                          values (typically variables that store\n *                                                          custom Java objects) should be\n *                                                          deserialized on server side\n *                                                          (default true).\n *                                                          If set to true, a serializable variable\n *                                                          will be deserialized on server side and\n *                                                          transformed to JSON using\n *                                                          Jackson's POJO/bean property\n *                                                          introspection feature.\n *                                                          Note that this requires the Java classes\n *                                                          of the variable value to be on the\n *                                                          REST API's classpath.\n *                                                          If set to false, a serializable variable\n *                                                          will be returned in its serialized\n *                                                          format.\n *                                                          For example, a variable that is\n *                                                          serialized as XML will be returned as a\n *                                                          JSON string containing XML.\n *                                                          Note:While true is the default value for\n *                                                          reasons of backward compatibility, we\n *                                                          recommend setting this parameter to\n *                                                          false when developing web applications\n *                                                          that are independent of the Java process\n *                                                          applications deployed to the engine.\n *\n * @param  {RequestCallback}  done\n */\nVariable.instances = function(params, done) {\n  var body = {};\n  var query = {};\n  var queryParams = [\"firstResult\", \"maxResults\", \"deserializeValues\"];\n\n  for (var p in params) {\n    if (queryParams.indexOf(p) > -1) {\n      query[p] = params[p];\n    } else {\n      body[p] = params[p];\n    }\n  }\n\n  return this.http.post(this.path, {\n    data: body,\n    query: query,\n    done: done\n  });\n};\n\n/**\n * Get a count of variables\n * Same parameters as instances\n */\n\nVariable.count = function(params, done) {\n  var path = this.path + \"/count\";\n\n  return this.http.post(path, {\n    data: params,\n    done: done\n  });\n};\n\nmodule.exports = Variable;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\nvar utils = require(\"../../utils\");\n\n/**\n * No-Op callback\n */\nfunction noop() {}\n\n/**\n * CaseExecution Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar CaseExecution = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nCaseExecution.path = \"case-execution\";\n\nCaseExecution.list = function(params, done) {\n  done = done || noop;\n  return this.http.get(this.path, {\n    data: params,\n    done: done\n  });\n};\n\nCaseExecution.disable = function(executionId, params, done) {\n  return this.http.post(this.path + \"/\" + executionId + \"/disable\", {\n    data: params,\n    done: done\n  });\n};\n\nCaseExecution.reenable = function(executionId, params, done) {\n  return this.http.post(this.path + \"/\" + executionId + \"/reenable\", {\n    data: params,\n    done: done\n  });\n};\n\nCaseExecution.manualStart = function(executionId, params, done) {\n  return this.http.post(this.path + \"/\" + executionId + \"/manual-start\", {\n    data: params,\n    done: done\n  });\n};\n\nCaseExecution.complete = function(executionId, params, done) {\n  return this.http.post(this.path + \"/\" + executionId + \"/complete\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Deletes a variable in the context of a given case execution. Deletion does not propagate upwards in the case execution hierarchy.\n */\nCaseExecution.deleteVariable = function(data, done) {\n  return this.http.del(\n    this.path +\n      \"/\" +\n      data.id +\n      \"/localVariables/\" +\n      utils.escapeUrl(data.varId),\n    {\n      done: done\n    }\n  );\n};\n\n/**\n * Updates or deletes the variables in the context of an execution.\n * The updates do not propagate upwards in the execution hierarchy.\n * Deletion precede updates.\n * So, if a variable is updated AND deleted, the updates overrides the deletion.\n */\nCaseExecution.modifyVariables = function(data, done) {\n  return this.http.post(this.path + \"/\" + data.id + \"/localVariables\", {\n    data: data,\n    done: done\n  });\n};\n\nmodule.exports = CaseExecution;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\nvar utils = require(\"../../utils\");\n\n/**\n * CaseInstance Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar CaseInstance = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nCaseInstance.path = \"case-instance\";\n\nCaseInstance.get = function(instanceId, done) {\n  return this.http.get(this.path + \"/\" + instanceId, {\n    done: done\n  });\n};\n\nCaseInstance.list = function(params, done) {\n  return this.http.get(this.path, {\n    data: params,\n    done: done\n  });\n};\n\nCaseInstance.close = function(instanceId, params, done) {\n  return this.http.post(this.path + \"/\" + instanceId + \"/close\", {\n    data: params,\n    done: done\n  });\n};\n\nCaseInstance.terminate = function(instanceId, params, done) {\n  return this.http.post(this.path + \"/\" + instanceId + \"/terminate\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Sets a variable of a given case instance by id.\n *\n * @see http://docs.camunda.org/manual/develop/reference/rest/case-instance/variables/put-variable/\n *\n * @param   {uuid}              id\n * @param   {Object}            params\n * @param   {requestCallback}   done\n */\nCaseInstance.setVariable = function(id, params, done) {\n  var url = this.path + \"/\" + id + \"/variables/\" + utils.escapeUrl(params.name);\n  return this.http.put(url, {\n    data: params,\n    done: done\n  });\n};\n\nmodule.exports = CaseInstance;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * No-Op callback\n */\nfunction noop() {}\n\n/**\n * CaseDefinition Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar CaseDefinition = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nCaseDefinition.path = \"case-definition\";\n\n/**\n * Retrieve a single case definition\n *\n * @param  {uuid}     id    of the case definition to be requested\n * @param  {Function} done\n */\nCaseDefinition.get = function(id, done) {\n  return this.http.get(this.path + \"/\" + id, {\n    done: done\n  });\n};\n\n/**\n * Retrieve a single cace definition\n *\n * @param  {String}   key    of the case definition to be requested\n * @param  {Function} done\n */\nCaseDefinition.getByKey = function(key, done) {\n  return this.http.get(this.path + \"/key/\" + key, {\n    done: done\n  });\n};\n\nCaseDefinition.list = function(params, done) {\n  return this.http.get(this.path, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Instantiates a given case definition.\n *\n * @param {Object} [params]\n * @param {String} [params.id]              The id of the case definition to be instantiated. Must be omitted if key is provided.\n * @param {String} [params.key]             The key of the case definition (the latest version thereof) to be instantiated. Must be omitted if id is provided.\n * @param {String} [params.variables]       A JSON object containing the variables the case is to be initialized with. Each key corresponds to a variable name and each value to a variable value.\n * @param {String} [params.businessKey]     The business key the case instance is to be initialized with. The business key identifies the case instance in the context of the given case definition.\n */\nCaseDefinition.create = function(params, done) {\n  var url = this.path + \"/\";\n\n  if (params.id) {\n    url = url + params.id;\n  } else {\n    url = url + \"key/\" + params.key;\n\n    if (params.tenantId) {\n      url = url + \"/tenant-id/\" + params.tenantId;\n    }\n  }\n\n  return this.http.post(url + \"/create\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Retrieves the CMMN XML of this case definition.\n * @param  {uuid}     id   The id of the case definition.\n * @param  {Function} done\n */\nCaseDefinition.xml = function(data, done) {\n  var path = this.path + \"/\" + (data.id ? data.id : \"key/\" + data.key) + \"/xml\";\n  return this.http.get(path, {\n    done: done || noop\n  });\n};\n\n/**\n * Instantiates a given process definition.\n *\n * @param {String} [id]                        The id of the process definition to activate or suspend.\n * @param {Object} [params]\n * @param {Number} [params.historyTimeToLive]  New value for historyTimeToLive field of process definition. Can be null.\n */\nCaseDefinition.updateHistoryTimeToLive = function(id, params, done) {\n  var url = this.path + \"/\" + id + \"/history-time-to-live\";\n\n  return this.http.put(url, {\n    data: params,\n    done: done\n  });\n};\n\nmodule.exports = CaseDefinition;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Q = require(\"q\");\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\nvar utils = require(\"../../utils\");\n\n/**\n * No-Op callback\n */\nfunction noop() {}\n\n/**\n * User Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar User = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nUser.path = \"user\";\n\n/**\n * Check resource access\n * @param  {Object}   options\n * @param  {String}   options.id\n * @param  {Function} done\n */\nUser.options = function(options, done) {\n  var id;\n\n  if (typeof options === \"function\") {\n    done = options;\n    id = \"\";\n  } else {\n    id = typeof options === \"string\" ? options : options.id;\n    if (id === undefined) {\n      id = \"\";\n    }\n  }\n\n  return this.http.options(this.path + \"/\" + utils.escapeUrl(id), {\n    done: done || noop,\n    headers: {\n      Accept: \"application/json\"\n    }\n  });\n};\n\n/**\n * Creates a user\n * @param  {Object}   options\n * @param  {String}   options.id\n * @param  {String}   options.password\n * @param  {String}   options.firstName\n * @param  {String}   options.lastName\n * @param  {String}   [options.email]\n * @param  {Function} done\n */\nUser.create = function(options, done) {\n  options = options || {};\n  done = done || noop;\n\n  var required = [\"id\", \"firstName\", \"lastName\", \"password\"];\n  for (var r in required) {\n    var name = required[r];\n    if (!options[name]) {\n      var err = new Error(\"Missing \" + name + \" option to create user\");\n      done(err);\n      return Q.reject(err);\n    }\n  }\n\n  var data = {\n    profile: {\n      id: options.id,\n      firstName: options.firstName,\n      lastName: options.lastName\n    },\n    credentials: {\n      password: options.password\n    }\n  };\n\n  if (options.email) {\n    data.profile.email = options.email;\n  }\n\n  return this.http.post(this.path + \"/create\", {\n    data: data,\n    done: done\n  });\n};\n\n/**\n * List users\n * @param {Object} [options]\n * @param {String} [options.id]            Filter by the id of the user.\n * @param {String} [options.firstName]     Filter by the firstname of the user.\n * @param {String} [options.firstNameLike] Filter by the firstname that the parameter is a substring of.\n * @param {String} [options.lastName]      Filter by the lastname of the user.\n * @param {String} [options.lastNameLike]  Filter by the lastname that the parameter is a substring of.\n * @param {String} [options.email]         Filter by the email of the user.\n * @param {String} [options.emailLike]     Filter by the email that the parameter is a substring of.\n * @param {String} [options.memberOfGroup] Filter for users which are members of a group.\n * @param {String} [options.sortBy]        Sort the results lexicographically by a given criterion. Valid values are userId, firstName, lastName and email. Must be used in conjunction with the sortOrder parameter.\n * @param {String} [options.sortOrder]     Sort the results in a given order. Values may be asc for ascending order or desc for descending order. Must be used in conjunction with the sortBy parameter.\n * @param {String} [options.firstResult]   Pagination of results. Specifies the index of the first result to return.\n * @param {String} [options.maxResults]    Pagination of results. Specifies the maximum number of results to return. Will return less results if there are no more results left.\n * @param  {Function} done\n */\nUser.list = function(options, done) {\n  if (typeof options === \"function\") {\n    done = options;\n    options = {};\n  } else {\n    options = options || {};\n  }\n  return this.http.get(this.path, {\n    data: options,\n    done: done || noop\n  });\n};\n\n/**\n * Count the amount of users\n * @param {String} [options.id]            id of the user.\n * @param {String} [options.firstName]     firstname of the user.\n * @param {String} [options.firstNameLike] firstname that the parameter is a substring of.\n * @param {String} [options.lastName]      lastname of the user.\n * @param {String} [options.lastNameLike]  lastname that the parameter is a substring of.\n * @param {String} [options.email]         email of the user.\n * @param {String} [options.emailLike]     email that the parameter is a substring of.\n * @param {String} [options.memberOfGroup] users which are members of a group.\n * @param  {Function} done\n */\nUser.count = function(options, done) {\n  if (typeof options === \"function\") {\n    done = options;\n    options = {};\n  } else {\n    options = options || {};\n  }\n\n  return this.http.get(this.path + \"/count\", {\n    data: options,\n    done: done || noop\n  });\n};\n\n/**\n * Get the profile of a user\n * @param  {Object|uuid}  options\n * @param  {uuid}         options.id\n * @param  {Function} done\n */\nUser.profile = function(options, done) {\n  var id = typeof options === \"string\" ? options : options.id;\n\n  return this.http.get(this.path + \"/\" + utils.escapeUrl(id) + \"/profile\", {\n    done: done || noop\n  });\n};\n\n/**\n * Updates the profile of a user\n * @param  {Object}   options\n * @param  {uuid}     options.id id of the user to be updated\n * @param  {String}   [options.firstName]\n * @param  {String}   [options.lastName]\n * @param  {String}   [options.email]\n * @param  {Function} done\n */\nUser.updateProfile = function(options, done) {\n  options = options || {};\n  done = done || noop;\n\n  if (!options.id) {\n    var err = new Error(\"Missing id option to update user profile\");\n    done(err);\n    return Q.reject(err);\n  }\n\n  return this.http.put(\n    this.path + \"/\" + utils.escapeUrl(options.id) + \"/profile\",\n    {\n      data: options,\n      done: done\n    }\n  );\n};\n\n/**\n * Update the credentials of a user\n * @param {Object} options\n * @param {uuid} options.id                           The user's (who will be updated) id\n * @param {String} options.password                     The user's new password.\n * @param {String} [options.authenticatedUserPassword]  The password of the authenticated user who changes the password of the user (ie. the user with passed id as path parameter).\n * @param  {Function} done\n */\nUser.updateCredentials = function(options, done) {\n  options = options || {};\n  done = done || noop;\n  var err;\n\n  if (!options.id) {\n    err = new Error(\"Missing id option to update user credentials\");\n    done(err);\n    return Q.reject(err);\n  }\n\n  if (!options.password) {\n    err = new Error(\"Missing password option to update user credentials\");\n    done(err);\n    return Q.reject(err);\n  }\n\n  var data = {\n    password: options.password\n  };\n\n  if (options.authenticatedUserPassword) {\n    data.authenticatedUserPassword = options.authenticatedUserPassword;\n  }\n\n  return this.http.put(\n    this.path + \"/\" + utils.escapeUrl(options.id) + \"/credentials\",\n    {\n      data: data,\n      done: done\n    }\n  );\n};\n\n/**\n * Delete a user\n * @param  {Object|uuid} options You can either pass an object (with at least a id property) or the id of the user to be deleted\n * @param  {uuid} options.id\n * @param  {Function} done\n */\nUser.delete = function(options, done) {\n  var id = typeof options === \"string\" ? options : options.id;\n\n  return this.http.del(this.path + \"/\" + utils.escapeUrl(id), {\n    done: done || noop\n  });\n};\n\n/**\n * Unlock a user\n * @param  {Object|uuid} options You can either pass an object (with at least a id property) or the id of the user to be unlocked\n * @param  {uuid} options.id\n * @param  {Function} done\n */\nUser.unlock = function(options, done) {\n  var id = typeof options === \"string\" ? options : options.id;\n\n  return this.http.post(this.path + \"/\" + utils.escapeUrl(id) + \"/unlock\", {\n    done: done || noop\n  });\n};\n\nmodule.exports = User;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\nvar utils = require(\"../../utils\");\n\n/**\n * No-Op callback\n */\nfunction noop() {}\n\n/**\n * Group Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Group = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nGroup.path = \"group\";\n\n/**\n * Check resource access\n * @param  {Object}   options\n * @param  {String}   options.id\n * @param  {Function} done\n */\nGroup.options = function(options, done) {\n  var id;\n\n  if (typeof options === \"function\") {\n    done = options;\n    id = \"\";\n  } else {\n    id = typeof options === \"string\" ? options : options.id;\n    if (id === undefined) {\n      id = \"\";\n    }\n  }\n\n  return this.http.options(this.path + \"/\" + utils.escapeUrl(id), {\n    done: done || noop,\n    headers: {\n      Accept: \"application/json\"\n    }\n  });\n};\n\n/**\n * Creates a group\n *\n * @param  {Object}   group       is an object representation of a group\n * @param  {String}   group.id\n * @param  {String}   group.name\n * @param  {String}   group.type\n * @param  {Function} done\n */\nGroup.create = function(options, done) {\n  return this.http.post(this.path + \"/create\", {\n    data: options,\n    done: done || noop\n  });\n};\n\n/**\n * Query for groups using a list of parameters and retrieves the count\n *\n * @param {String} [options.id]        Filter by the id of the group.\n * @param {String} [options.name]      Filter by the name of the group.\n * @param {String} [options.nameLike]  Filter by the name that the parameter is a substring of.\n * @param {String} [options.type]      Filter by the type of the group.\n * @param {String} [options.member]    Only retrieve groups where the given user id is a member of.\n * @param  {Function} done\n */\nGroup.count = function(options, done) {\n  if (typeof options === \"function\") {\n    done = options;\n    options = {};\n  } else {\n    options = options || {};\n  }\n\n  return this.http.get(this.path + \"/count\", {\n    data: options,\n    done: done || noop\n  });\n};\n\n/**\n * Retrieves a single group\n *\n * @param  {String} [options.id]    The id of the group, can be a property (id) of an object\n * @param  {Function} done\n */\nGroup.get = function(options, done) {\n  var id = typeof options === \"string\" ? options : options.id;\n\n  return this.http.get(this.path + \"/\" + utils.escapeUrl(id), {\n    data: options,\n    done: done || noop\n  });\n};\n\n/**\n * Query for a list of groups using a list of parameters.\n * The size of the result set can be retrieved by using the get groups count method\n *\n * @param {String} [options.id]           Filter by the id of the group.\n * @param {String} [options.idIn]         Filter by multiple ids.\n * @param {String} [options.name]         Filter by the name of the group.\n * @param {String} [options.nameLike]     Filter by the name that the parameter is a substring of.\n * @param {String} [options.type]         Filter by the type of the group.\n * @param {String} [options.member]       Only retrieve groups where the given user id is a member of.\n * @param {String} [options.sortBy]       Sort the results lexicographically by a given criterion.\n *                                        Valid values are id, name and type.\n *                                        Must be used in conjunction with the sortOrder parameter.\n * @param {String} [options.sortOrder]    Sort the results in a given order.\n *                                        Values may be asc for ascending order or desc for descending order.\n *                                        Must be used in conjunction with the sortBy parameter.\n * @param {String} [options.firstResult]  Pagination of results.\n *                                        Specifies the index of the first result to return.\n * @param {String} [options.maxResults]   Pagination of results.\n *                                        Specifies the maximum number of results to return.\n *                                        Will return less results if there are no more results left.\n *\n * @param  {Function} done\n */\nGroup.list = function(options, done) {\n  if (typeof options === \"function\") {\n    done = options;\n    options = {};\n  } else {\n    options = options || {};\n  }\n\n  var query = {};\n\n  if (options.maxResults) {\n    query.maxResults = options.maxResults;\n    query.firstResult = options.firstResult;\n  }\n\n  return this.http.post(this.path, {\n    data: options,\n    query: query,\n    done: done || noop\n  });\n};\n\n/**\n * Add a memeber to a Group\n *\n * @param {String} [options.id]       The id of the group\n * @param {String} [options.userId]   The id of user to add to the group\n * @param  {Function} done\n */\nGroup.createMember = function(options, done) {\n  return this.http.put(\n    this.path +\n      \"/\" +\n      utils.escapeUrl(options.id) +\n      \"/members/\" +\n      utils.escapeUrl(options.userId),\n    {\n      data: options,\n      done: done || noop\n    }\n  );\n};\n\n/**\n * Removes a memeber of a Group\n *\n * @param {String} [options.id]       The id of the group\n * @param {String} [options.userId]   The id of user to add to the group\n * @param  {Function} done\n */\nGroup.deleteMember = function(options, done) {\n  return this.http.del(\n    this.path +\n      \"/\" +\n      utils.escapeUrl(options.id) +\n      \"/members/\" +\n      utils.escapeUrl(options.userId),\n    {\n      data: options,\n      done: done || noop\n    }\n  );\n};\n\n/**\n * Update a group\n *\n * @param  {Object}   group   is an object representation of a group\n * @param  {Function} done\n */\nGroup.update = function(options, done) {\n  return this.http.put(this.path + \"/\" + utils.escapeUrl(options.id), {\n    data: options,\n    done: done || noop\n  });\n};\n\n/**\n * Delete a group\n *\n * @param  {Object}   group   is an object representation of a group\n * @param  {Function} done\n */\nGroup.delete = function(options, done) {\n  return this.http.del(this.path + \"/\" + utils.escapeUrl(options.id), {\n    data: options,\n    done: done || noop\n  });\n};\n\nmodule.exports = Group;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\nvar utils = require(\"../../utils\");\n\n/**\n * No-Op callback\n */\nfunction noop() {}\n\n/**\n * Group Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Tenant = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nTenant.path = \"tenant\";\n\n/**\n * Creates a tenant\n *\n * @param  {Object}   tenant       is an object representation of a group\n * @param  {String}   tenant.id\n * @param  {String}   tenant.name\n * @param  {Function} done\n */\nTenant.create = function(options, done) {\n  return this.http.post(this.path + \"/create\", {\n    data: options,\n    done: done || noop\n  });\n};\n\n/**\n * Query for tenants using a list of parameters and retrieves the count\n *\n * @param {String} [options.id]           Filter by the id of the tenant.\n * @param {String} [options.name]         Filter by the name of the tenant.\n * @param {String} [options.nameLike]     Filter by the name that the parameter is a substring of.\n * @param {String} [options.userMember]   Only retrieve tenants where the given user id is a member of.\n * @param {String} [options.groupMember]  Only retrieve tenants where the given group id is a member of.\n * @param  {Function} done\n */\nTenant.count = function(options, done) {\n  if (typeof options === \"function\") {\n    done = options;\n    options = {};\n  } else {\n    options = options || {};\n  }\n\n  return this.http.get(this.path + \"/count\", {\n    data: options,\n    done: done || noop\n  });\n};\n\n/**\n * Retrieves a single tenant\n *\n * @param  {String} [options.id]    The id of the tenant, can be a property (id) of an object\n * @param  {Function} done\n */\nTenant.get = function(options, done) {\n  var id;\n\n  if (typeof options === \"string\") {\n    id = options;\n    options = {};\n  } else {\n    id = options.id;\n    delete options.id;\n  }\n\n  return this.http.get(this.path + \"/\" + utils.escapeUrl(id), {\n    data: options,\n    done: done || noop\n  });\n};\n\n/**\n * Query for a list of tenants using a list of parameters.\n * The size of the result set can be retrieved by using the get tenants count method\n *\n * @param {String} [options.id]           Filter by the id of the tenant.\n * @param {String} [options.name]         Filter by the name of the tenant.\n * @param {String} [options.nameLike]     Filter by the name that the parameter is a substring of.\n * @param {String} [options.userMember]   Only retrieve tenants where the given user id is a member of.\n * @param {String} [options.grouprMember] Only retrieve tenants where the given group id is a member of.\n * @param {String} [options.sortBy]       Sort the results lexicographically by a given criterion.\n *                                        Valid values are id and name.\n *                                        Must be used in conjunction with the sortOrder parameter.\n * @param {String} [options.sortOrder]    Sort the results in a given order.\n *                                        Values may be asc for ascending order or desc for descending order.\n *                                        Must be used in conjunction with the sortBy parameter.\n * @param {String} [options.firstResult]  Pagination of results.\n *                                        Specifies the index of the first result to return.\n * @param {String} [options.maxResults]   Pagination of results.\n *                                        Specifies the maximum number of results to return.\n *                                        Will return less results if there are no more results left.\n *\n * @param  {Function} done\n */\nTenant.list = function(options, done) {\n  if (typeof options === \"function\") {\n    done = options;\n    options = {};\n  } else {\n    options = options || {};\n  }\n\n  return this.http.get(this.path, {\n    data: options,\n    done: done || noop\n  });\n};\n\n/**\n * Add a user member to a tenant\n *\n * @param {String} [options.id]       The id of the tenant\n * @param {String} [options.userId]   The id of user to add to the tenant\n * @param  {Function} done\n */\nTenant.createUserMember = function(options, done) {\n  return this.http.put(\n    this.path +\n      \"/\" +\n      utils.escapeUrl(options.id) +\n      \"/user-members/\" +\n      utils.escapeUrl(options.userId),\n    {\n      data: options,\n      done: done || noop\n    }\n  );\n};\n\n/**\n * Add a group member to a tenant\n *\n * @param {String} [options.id]       The id of the tenant\n * @param {String} [options.groupId]   The id of group to add to the tenant\n * @param  {Function} done\n */\nTenant.createGroupMember = function(options, done) {\n  return this.http.put(\n    this.path +\n      \"/\" +\n      utils.escapeUrl(options.id) +\n      \"/group-members/\" +\n      utils.escapeUrl(options.groupId),\n    {\n      data: options,\n      done: done || noop\n    }\n  );\n};\n\n/**\n * Removes a user member of a tenant\n *\n * @param {String} [options.id]       The id of the tenant\n * @param {String} [options.userId]   The id of user to add to the tenant\n * @param  {Function} done\n */\nTenant.deleteUserMember = function(options, done) {\n  return this.http.del(\n    this.path +\n      \"/\" +\n      utils.escapeUrl(options.id) +\n      \"/user-members/\" +\n      utils.escapeUrl(options.userId),\n    {\n      data: options,\n      done: done || noop\n    }\n  );\n};\n\n/**\n * Removes a group member of a Tenant\n *\n * @param {String} [options.id]       The id of the tenant\n * @param {String} [options.groupId]   The id of group to add to the tenant\n * @param  {Function} done\n */\nTenant.deleteGroupMember = function(options, done) {\n  return this.http.del(\n    this.path +\n      \"/\" +\n      utils.escapeUrl(options.id) +\n      \"/group-members/\" +\n      utils.escapeUrl(options.groupId),\n    {\n      data: options,\n      done: done || noop\n    }\n  );\n};\n\n/**\n * Update a tenant\n *\n * @param  {Object}   tenant   is an object representation of a tenant\n * @param  {Function} done\n */\nTenant.update = function(options, done) {\n  return this.http.put(this.path + \"/\" + utils.escapeUrl(options.id), {\n    data: options,\n    done: done || noop\n  });\n};\n\n/**\n * Delete a tenant\n *\n * @param  {Object}   tenant   is an object representation of a tenant\n * @param  {Function} done\n */\nTenant.delete = function(options, done) {\n  return this.http.del(this.path + \"/\" + utils.escapeUrl(options.id), {\n    data: options,\n    done: done || noop\n  });\n};\n\nTenant.options = function(options, done) {\n  var id;\n\n  if (typeof options === \"function\") {\n    done = options;\n    id = \"\";\n  } else {\n    id = typeof options === \"string\" ? options : options.id;\n    if (id === undefined) {\n      id = \"\";\n    }\n  }\n\n  return this.http.options(this.path + \"/\" + utils.escapeUrl(id), {\n    done: done || noop,\n    headers: {\n      Accept: \"application/json\"\n    }\n  });\n};\nmodule.exports = Tenant;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * Incident Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Incident = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nIncident.path = \"incident\";\n\n/**\n * Query for incidents that fulfill given parameters. The size of the result set can be retrieved by using the get incidents count method.\n *\n * @param  {Object}           params\n *\n * @param  {String}           [params.incidentId]           Restricts to incidents that have the given id.\n *\n * @param  {String}           [params.incidentType]         Restricts to incidents that belong to the given incident type.\n *\n * @param  {String}           [params.incidentMessage]      Restricts to incidents that have the given incident message.\n *\n * @param  {String}           [params.processDefinitionId]  Restricts to incidents that belong to a process definition with the given id.\n *\n * @param  {String}           [params.processInstanceId]    Restricts to incidents that belong to a process instance with the given id.\n *\n * @param  {String}           [params.executionId]          Restricts to incidents that belong to an execution with the given id.\n *\n * @param  {String}           [params.activityId]           Restricts to incidents that belong to an activity with the given id.\n *\n * @param  {String}           [params.causeIncidentId]      Restricts to incidents that have the given incident id as cause incident.\n *\n * @param  {String}           [params.rootCauseIncidentId]  Restricts to incidents that have the given incident id as root cause incident.\n *\n * @param  {String}           [params.configuration]        Restricts to incidents that have the given parameter set as configuration.\n *\n * @param  {String}           [params.sortBy]               Sort the results lexicographically by a given criterion. Valid values are\n *                                                          incidentId, incidentTimestamp, incidentType, executionId, activityId,\n *                                                          processInstanceId, processDefinitionId, causeIncidentId, rootCauseIncidentId\n *                                                          and configuration. Must be used in conjunction with the sortOrder parameter.\n *\n * @param  {String}           [params.sortOrder]            Sort the results in a given order. Values may be asc for ascending order or\n *                                                          desc for descending order. Must be used in conjunction with the sortBy parameter.\n *\n * @param  {String}           [params.firstResult]          Pagination of results. Specifies the\n *                                                          index of the first result to return.\n *\n * @param  {String}           [params.maxResults]           Pagination of results. Specifies the\n *                                                          maximum number of results to return.\n *                                                          Will return less results if there are no\n *                                                          more results left.\n *\n * @param  {RequestCallback}  done\n */\nIncident.get = function(params, done) {\n  return this.http.get(this.path, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Query for the number of incidents that fulfill given parameters. Takes the same parameters as the get incidents method.\n *\n * @param  {Object}           params\n *\n * @param  {String}           [params.incidentId]           Restricts to incidents that have the given id.\n *\n * @param  {String}           [params.incidentType]         Restricts to incidents that belong to the given incident type.\n *\n * @param  {String}           [params.incidentMessage]      Restricts to incidents that have the given incident message.\n *\n * @param  {String}           [params.processDefinitionId]  Restricts to incidents that belong to a process definition with the given id.\n *\n * @param  {String}           [params.processInstanceId]    Restricts to incidents that belong to a process instance with the given id.\n *\n * @param  {String}           [params.executionId]          Restricts to incidents that belong to an execution with the given id.\n *\n * @param  {String}           [params.activityId]           Restricts to incidents that belong to an activity with the given id.\n *\n * @param  {String}           [params.causeIncidentId]      Restricts to incidents that have the given incident id as cause incident.\n *\n * @param  {String}           [params.rootCauseIncidentId]  Restricts to incidents that have the given incident id as root cause incident.\n *\n * @param  {String}           [params.configuration]        Restricts to incidents that have the given parameter set as configuration.\n *\n * @param  {RequestCallback}  done\n */\nIncident.count = function(params, done) {\n  return this.http.get(this.path + \"/count\", {\n    data: params,\n    done: done\n  });\n};\n\nmodule.exports = Incident;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\nvar JobDefinition = AbstractClientResource.extend();\n\nJobDefinition.path = \"job-definition\";\n\nJobDefinition.setRetries = function(params, done) {\n  return this.http.put(this.path + \"/\" + params.id + \"/retries\", {\n    data: params,\n    done: done\n  });\n};\n\nJobDefinition.list = function(params, done) {\n  return this.http.get(this.path, {\n    data: params,\n    done: done\n  });\n};\n\nJobDefinition.get = function(id, done) {\n  return this.http.get(this.path + \"/\" + id, {\n    done: done\n  });\n};\n\nmodule.exports = JobDefinition;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * Job Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Job = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nJob.path = \"job\";\n\nJob.get = function(id, done) {\n  return this.http.get(this.path + \"/\" + id, {\n    done: done\n  });\n};\n\n/**\n * Query for jobs that fulfill given parameters.\n * @param  {Object}   params\n * @param  {String}   [params.jobId]                Filter by job id.\n * @param  {String}   [params.processInstanceId]    Only select jobs which exist for the given process instance.\n * @param  {String}   [params.executionId]          Only select jobs which exist for the given execution.\n * @param  {String}   [params.processDefinitionId]  Filter by the id of the process definition the jobs run on.\n * @param  {String}   [params.processDefinitionKey] Filter by the key of the process definition the jobs run on.\n * @param  {String}   [params.activityId]           Only select jobs which exist for an activity with the given id.\n * @param  {Bool}     [params.withRetriesLeft]      Only select jobs which have retries left.\n * @param  {Bool}     [params.executable]           Only select jobs which are executable, ie. retries > 0 and due date is null or due date is in the past.\n * @param  {Bool}     [params.timers]               Only select jobs that are timers. Cannot be used together with messages.\n * @param  {Bool}     [params.messages]             Only select jobs that are messages. Cannot be used together with timers.\n * @param  {String}   [params.dueDates]             Only select jobs where the due date is lower or higher than the given date. Due date expressions are comma-separated and are structured as follows:\n *                                                  A valid condition value has the form operator_value. operator is the comparison operator to be used and value the date value as string.\n *                                                  Valid operator values are: gt - greater than; lt - lower than.\n *                                                  value may not contain underscore or comma characters.\n * @param  {Bool}     [params.withException]        Only select jobs that failed due to an exception.\n * @param  {String}   [params.exceptionMessage]     Only select jobs that failed due to an exception with the given message.\n * @param  {Bool}     [params.noRetriesLeft]        Only select jobs which have no retries left.\n * @param  {Bool}     [params.active]               Only include active jobs.\n * @param  {Bool}     [params.suspended]            Only include suspended jobs.\n * @param  {Array}    [params.sorting]              A JSON array of criteria to sort the result by. Each element of the array is a JSON object that specifies one ordering. The position in the array identifies the rank of an ordering, i.e. whether it is primary, secondary, etc.\n * @param  {String}   params.sorting.sortBy         Sort the results lexicographically by a given criterion. Valid values are jobId, executionId, processInstanceId, jobRetries and jobDueDate.\n * @param  {String}   params.sorting.sortOrder      Sort the results in a given order. Values may be asc for ascending order or desc for descending order.\n * @param  {String}   [params.firstResult]          Pagination of results. Specifies the index of the first result to return.\n * @param  {String}   [params.maxResults]           Pagination of results. Specifies the maximum number of results to return. Will return less results if there are no more results left.\n * @param  {Function} done\n */\nJob.list = function(params, done) {\n  var path = this.path;\n\n  // those parameters have to be passed in the query and not body\n  path += \"?firstResult=\" + (params.firstResult || 0);\n  if (params.maxResults) {\n    path += \"&maxResults=\" + params.maxResults;\n  }\n\n  return this.http.post(path, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Sets the retries of the job to the given number of retries.\n * @param  {Object}   params\n * @param  {String}   params.id      The id of the job.\n * @param  {String}   params.retries The number of retries to set that a job has left.\n * @param  {Function} done\n */\nJob.setRetries = function(params, done) {\n  return this.http.put(this.path + \"/\" + params.id + \"/retries\", {\n    data: params,\n    done: done\n  });\n};\n\nJob.delete = function(id, done) {\n  return this.http.del(this.path + \"/\" + id, {\n    done: done\n  });\n};\n\nJob.stacktrace = function(id, done) {\n  var url = this.path + \"/\" + id + \"/stacktrace\";\n  return this.http.get(url, {\n    accept: \"text/plain\",\n    done: done\n  });\n};\n\n/**\n * Recalculates the duedate for a given job.\n * @param {Object}    params\n * @param {String}    params.id                   The id of the job.Job\n * @param {Bool}      params.creationDateBased    Base recalculation on Job creation date. Default: true\n * @param {Function}  done\n */\nJob.recalculateDuedate = function(params, done) {\n  var url = this.path + \"/\" + params.id + \"/duedate/recalculate\";\n\n  if (!params.creationDateBased) {\n    url += \"?creationDateBased=\" + params.creationDateBased;\n  }\n  return this.http.post(url, {\n    done: done\n  });\n};\n\n/**\n * Sets the duedate of the job to the given date.\n * @param  {Object}   params\n * @param  {String}   params.id      The id of the job.\n * @param  {String}   params.duedate The duedate of the job.\n * @param  {Function} done\n */\n\nJob.setDuedate = function(params, done) {\n  var url = this.path + \"/\" + params.id + \"/duedate\";\n  return this.http.put(url, {\n    data: params,\n    done: done\n  });\n};\n\nJob.suspended = function(params, done) {\n  return this.http.put(this.path + \"/\" + params.id + \"/suspended\", {\n    data: {\n      suspended: !!params.suspended\n    },\n    done: done\n  });\n};\n\nmodule.exports = Job;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * Job Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Metrics = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nMetrics.path = \"metrics\";\n\n/**\n * Query for jobs that fulfill given parameters.\n * @param  {Object}   params\n * @param  {String}   [params.name]\n * @param  {String}   [params.startDate]\n * @param  {String}   [params.endDate]\n * @param  {Function} done\n */\nMetrics.sum = function(params, done) {\n  var path = this.path + \"/\" + params.name + \"/sum\";\n  delete params.name;\n\n  return this.http.get(path, { data: params, done: done });\n};\n\n/**\n * Retrieves a list of metrics, aggregated for a given interval.\n * @param  {Object}   params\n * @param  {String}   params.name          The name of the metric. Supported names: activity-instance-end, job-acquisition-attempt, job-acquired-success, job-acquired-failure, job-execution-rejected, job-successful, job-failed, job-locked-exclusive, executed-decision-elements\n * @param  {String}   [params.reporter]    The name of the reporter (host), on which the metrics was logged.\n * @param  {String}   [params.startDate]   The start date (inclusive).\n * @param  {String}   [params.endDate]     The end date (exclusive).\n * @param  {Integer}  [params.firstResult] The index of the first result, used for paging.\n * @param  {Integer}  [params.maxResults]  The maximum result size of the list which should be returned. The maxResults can't be set larger than 200. Default: 200\n * @param  {Integer}  [params.interval]    The interval for which the metrics should be aggregated. Time unit is seconds. Default: The interval is set to 15 minutes (900 seconds).\n * @param  {Function} done\n */\nMetrics.byInterval = function(params, done) {\n  return this.http.get(this.path, { data: params, done: done });\n};\n\nmodule.exports = Metrics;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * DecisionDefinition Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar DecisionDefinition = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nDecisionDefinition.path = \"decision-definition\";\n\n/**\n * Fetch a list of decision definitions\n * @param  {Object} params                        Query parameters as follow\n * @param  {String} [params.decisionDefinitionId] Filter by decision definition id.\n * @param  {String} [params.decisionDefinitionIdIn] Filter by decision definition ids.\n * @param  {String} [params.name]                 Filter by name.\n * @param  {String} [params.nameLike]             Filter by names that the parameter is a substring of.\n * @param  {String} [params.deploymentId]         Filter by the deployment the id belongs to.\n * @param  {String} [params.key]                  Filter by key, i.e. the id in the DMN 1.0 XML. Exact match.\n * @param  {String} [params.keyLike]              Filter by keys that the parameter is a substring of.\n * @param  {String} [params.category]             Filter by category. Exact match.\n * @param  {String} [params.categoryLike]         Filter by categories that the parameter is a substring of.\n * @param  {String} [params.version]              Filter by version.\n * @param  {String} [params.latestVersion]        Only include those decision definitions that are latest versions.\n *                                                Values may be \"true\" or \"false\".\n * @param  {String} [params.resourceName]         Filter by the name of the decision definition resource. Exact match.\n * @param  {String} [params.resourceNameLike]     Filter by names of those decision definition resources that the parameter is a substring of.\n *\n * @param  {String} [params.sortBy]               Sort the results lexicographically by a given criterion.\n *                                                Valid values are category, \"key\", \"id\", \"name\", \"version\" and \"deploymentId\".\n *                                                Must be used in conjunction with the \"sortOrder\" parameter.\n *\n * @param  {String} [params.sortOrder]            Sort the results in a given order.\n *                                                Values may be asc for ascending \"order\" or \"desc\" for descending order.\n *                                                Must be used in conjunction with the sortBy parameter.\n *\n * @param  {Integer} [params.firstResult]         Pagination of results. Specifies the index of the first result to return.\n * @param  {Integer} [params.maxResults]          Pagination of results. Specifies the maximum number of results to return.\n *                                                Will return less results, if there are no more results left.\n * @param {Function} done\n */\nDecisionDefinition.list = function(params, done) {\n  return this.http.get(this.path, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Retrieves a single decision definition according to the DecisionDefinition interface in the engine.\n * @param  {uuid}     id   The id of the decision definition to be retrieved.\n * @param  {Function} done\n */\nDecisionDefinition.get = function(id, done) {\n  return this.http.get(this.path + \"/\" + id, {\n    done: done\n  });\n};\n\n/**\n * Retrieves the DMN 1.0 XML of this decision definition.\n * @param  {uuid}     id   The id of the decision definition.\n * @param  {Function} done\n */\nDecisionDefinition.getXml = function(id, done) {\n  return this.http.get(this.path + \"/\" + id + \"/xml\", {\n    done: done\n  });\n};\n\n/**\n * Evaluates a given decision.\n *\n * @param {Object} [params]\n * @param {String} [params.id]              The id of the decision definition to be evaluated. Must be omitted if key is provided.\n * @param {String} [params.key]             The key of the decision definition (the latest version thereof) to be evaluated. Must be omitted if id is provided.\n * @param {String} [params.variables]       A JSON object containing the input variables of the decision. Each key corresponds to a variable name and each value to a variable value.\n */\nDecisionDefinition.evaluate = function(params, done) {\n  return this.http.post(\n    this.path +\n      \"/\" +\n      (params.id ? params.id : \"key/\" + params.key) +\n      \"/evaluate\",\n    {\n      data: params,\n      done: done\n    }\n  );\n};\n\n/**\n * Instantiates a given process definition.\n *\n * @param {String} [id]                        The id of the process definition to activate or suspend.\n * @param {Object} [params]\n * @param {Number} [params.historyTimeToLive]  New value for historyTimeToLive field of process definition. Can be null.\n */\nDecisionDefinition.updateHistoryTimeToLive = function(id, params, done) {\n  var url = this.path + \"/\" + id + \"/history-time-to-live\";\n\n  return this.http.put(url, {\n    data: params,\n    done: done\n  });\n};\n\nmodule.exports = DecisionDefinition;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\nvar utils = require(\"../../utils\");\n\n/**\n * Execution Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Execution = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nExecution.path = \"execution\";\n\n/**\n * Deletes a variable in the context of a given execution. Deletion does not propagate upwards in the execution hierarchy.\n */\nExecution.deleteVariable = function(data, done) {\n  return this.http.del(\n    this.path +\n      \"/\" +\n      data.id +\n      \"/localVariables/\" +\n      utils.escapeUrl(data.varId),\n    {\n      done: done\n    }\n  );\n};\n\n/**\n * Updates or deletes the variables in the context of an execution.\n * The updates do not propagate upwards in the execution hierarchy.\n * Updates precede deletions.\n * So, if a variable is updated AND deleted, the deletion overrides the update.\n */\nExecution.modifyVariables = function(data, done) {\n  return this.http.post(this.path + \"/\" + data.id + \"/localVariables\", {\n    data: data,\n    done: done\n  });\n};\n\nmodule.exports = Execution;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * Migration Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Migration = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nMigration.path = \"migration\";\n\n/**\n * Generate a migration plan for a given source and target process definition\n * @param  {Object}   params\n * @param  {String}   [params.sourceProcessDefinitionId]\n * @param  {String}   [params.targetProcessDefinitionId]\n * @param  {Function} done\n */\nMigration.generate = function(params, done) {\n  var path = this.path + \"/generate\";\n\n  return this.http.post(path, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Execute a migration plan\n * @param  {Object}   params\n * @param  {String}   [params.migrationPlan]\n * @param  {String}   [params.processInstanceIds]\n * @param  {Function} done\n */\nMigration.execute = function(params, done) {\n  var path = this.path + \"/execute\";\n\n  return this.http.post(path, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Execute a migration plan asynchronously\n * @param  {Object}   params\n * @param  {String}   [params.migrationPlan]\n * @param  {String}   [params.processInstanceIds]\n * @param  {Function} done\n */\nMigration.executeAsync = function(params, done) {\n  var path = this.path + \"/executeAsync\";\n\n  return this.http.post(path, {\n    data: params,\n    done: done\n  });\n};\n\nMigration.validate = function(params, done) {\n  var path = this.path + \"/validate\";\n\n  return this.http.post(path, {\n    data: params,\n    done: done\n  });\n};\n\nmodule.exports = Migration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"../abstract-client-resource\");\nvar utils = require(\"../../utils\");\n\n/**\n * DRD (Decision Requirements Definition) Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar DRD = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nDRD.path = \"decision-requirements-definition\";\n\n/**\n * Fetch a  count of DRD's\n * @param  {Object} params                          Query parameters as follow\n * @param  {String} [params.decisionDefinitionId]   Filter by decision definition id.\n * @param  {String} [params.decisionDefinitionIdIn] Filter by decision definition ids.\n * @param  {String} [params.name]                   Filter by name.\n * @param  {String} [params.nameLike]               Filter by names that the parameter is a substring of.\n * @param  {String} [params.deploymentId]           Filter by the deployment the id belongs to.\n * @param  {String} [params.key]                    Filter by key, i.e. the id in the DMN 1.0 XML. Exact match.\n * @param  {String} [params.keyLike]                Filter by keys that the parameter is a substring of.\n * @param  {String} [params.category]               Filter by category. Exact match.\n * @param  {String} [params.categoryLike]           Filter by categories that the parameter is a substring of.\n * @param  {String} [params.version]                Filter by version.\n * @param  {String} [params.latestVersion]          Only include those decision definitions that are latest versions.\n *                                                  Values may be \"true\" or \"false\".\n * @param  {String} [params.resourceName]           Filter by the name of the decision definition resource. Exact match.\n * @param  {String} [params.resourceNameLike]       Filter by names of those decision definition resources that the parameter is a substring of.\n *\n * @param  {String} [params.tenantIdInIdLn]         Filter by a comma-separated list of tenant ids. A decision requirements definition\n *                                                  must have one of the given tenant ids.\n *\n * @param  {Boolean} [params.withoutTenantId]       Only include decision requirements definitions which belongs to no tenant.\n *                                                  Value may only be true, as false is the default behavior.\n *\n * @param  {String} [params.includeDecisionRequirementsDefinitionsWithoutTenantId] Include decision requirements definitions which belongs to no tenant.\n *                                                  Can be used in combination with tenantIdIn. Value may only be true, as false is the default behavior.\n * @param {Function} done\n */\nDRD.count = function(params, done) {\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.get(this.path + \"/count\", {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Fetch a list of decision definitions\n * @param  {Object} params                        Query parameters as follow\n * @param  {String} [params.decisionDefinitionId] Filter by decision definition id.\n * @param  {String} [params.decisionDefinitionIdIn] Filter by decision definition ids.\n * @param  {String} [params.name]                 Filter by name.\n * @param  {String} [params.nameLike]             Filter by names that the parameter is a substring of.\n * @param  {String} [params.deploymentId]         Filter by the deployment the id belongs to.\n * @param  {String} [params.key]                  Filter by key, i.e. the id in the DMN 1.0 XML. Exact match.\n * @param  {String} [params.keyLike]              Filter by keys that the parameter is a substring of.\n * @param  {String} [params.category]             Filter by category. Exact match.\n * @param  {String} [params.categoryLike]         Filter by categories that the parameter is a substring of.\n * @param  {String} [params.version]              Filter by version.\n * @param  {String} [params.latestVersion]        Only include those decision definitions that are latest versions.\n *                                                Values may be \"true\" or \"false\".\n * @param  {String} [params.resourceName]         Filter by the name of the decision definition resource. Exact match.\n * @param  {String} [params.resourceNameLike]     Filter by names of those decision definition resources that the parameter is a substring of.\n *\n * @param  {String} [params.tenantIdInIdLn]       Filter by a comma-separated list of tenant ids. A decision requirements definition\n *                                                must have one of the given tenant ids.\n *\n * @param  {Boolean} [params.withoutTenantId]     Only include decision requirements definitions which belongs to no tenant.\n *                                                Value may only be true, as false is the default behavior.\n *\n * @param  {String} [params.includeDecisionRequirementsDefinitionsWithoutTenantId] Include decision requirements definitions which belongs to no tenant.\n *                                                  Can be used in combination with tenantIdIn. Value may only be true, as false is the default behavior.\n *\n * @param  {String} [params.sortBy]               Sort the results lexicographically by a given criterion.\n *                                                Valid values are category, \"key\", \"id\", \"name\", \"version\" and \"deploymentId\".\n *                                                Must be used in conjunction with the \"sortOrder\" parameter.\n *\n * @param  {String} [params.sortOrder]            Sort the results in a given order.\n *                                                Values may be asc for ascending \"order\" or \"desc\" for descending order.\n *                                                Must be used in conjunction with the sortBy parameter.\n *\n * @param  {Integer} [params.firstResult]         Pagination of results. Specifies the index of the first result to return.\n * @param  {Integer} [params.maxResults]          Pagination of results. Specifies the maximum number of results to return.\n *                                                Will return less results, if there are no more results left.\n * @param {Function} done\n */\nDRD.list = function(params, done) {\n  if (typeof params === \"function\") {\n    done = params;\n    params = {};\n  }\n\n  return this.http.get(this.path, {\n    data: params,\n    done: done\n  });\n};\n\nfunction createIdUrl(path, id) {\n  return path + \"/\" + utils.escapeUrl(id);\n}\n\n/**\n * Retrieves a single decision requirements definition.\n * @param  {uuid}     id   The id of the decision definition to be retrieved.\n * @param  {Function} done\n */\nDRD.get = function(id, done) {\n  return this.http.get(createIdUrl(this.path, id), {\n    done: done\n  });\n};\n\nfunction createKeyTenantUrl(path, key, tenantId) {\n  var url = path + \"/key/\" + utils.escapeUrl(key);\n\n  if (typeof tenantId !== \"function\") {\n    url += \"/tenant-id/\" + utils.escapeUrl(tenantId);\n  }\n\n  return url;\n}\n\n/**\n * Retrieves a single decision requirements definition.\n * @param  {string}     key   The key of the decision requirements definition (the latest version thereof) to be retrieved.\n * @param  {uuid}     [tenantId]   The id of the tenant to which the decision requirements definition belongs to.\n * @param  {Function} done\n */\nDRD.getByKey = function(key, tenantId, done) {\n  var url = createKeyTenantUrl(this.path, key, tenantId);\n\n  if (typeof tenantId === \"function\") {\n    done = tenantId;\n  }\n\n  return this.http.get(url, {\n    done: done\n  });\n};\n\n/**\n * Retrieves the DMN XML of this decision requirements definition.\n * @param  {uuid}     id   The id of the decision definition to be retrieved.\n * @param  {Function} done\n */\nDRD.getXML = function(id, done) {\n  return this.http.get(createIdUrl(this.path, id) + \"/xml\", {\n    done: done\n  });\n};\n\n/**\n * Retrieves the DMN XML of this decision requirements definition.\n * @param  {string}     key   The key of the decision requirements definition (the latest version thereof) to be retrieved.\n * @param  {uuid}     [tenantId]   The id of the tenant to which the decision requirements definition belongs to.\n * @param  {Function} done\n */\nDRD.getXMLByKey = function(key, tenantId, done) {\n  var url = createKeyTenantUrl(this.path, key, tenantId) + \"/xml\";\n\n  if (typeof tenantId === \"function\") {\n    done = tenantId;\n  }\n\n  return this.http.get(url, {\n    done: done\n  });\n};\n\nmodule.exports = DRD;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * Modification Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Modification = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nModification.path = \"modification\";\n\n/**\n * Execute a modification\n * @param  {Object}   params\n * @param  {String}   [params.processDefinitionId]\n * @param  {String}   [params.skipCustomListeners]\n * @param  {String}   [params.skipIoMappings]\n * @param  {String}   [params.processInstanceIds]\n * @param  {String}   [params.processInstanceQuery]\n * @param  {String}   [params.instructions]\n * @param  {String}   [params.annotation]\n * @param  {Function} done\n */\nModification.execute = function(params, done) {\n  var path = this.path + \"/execute\";\n\n  return this.http.post(path, {\n    data: params,\n    done: done\n  });\n};\n\n/**\n * Execute a modification asynchronously\n * @param  {Object}   params\n * @param  {String}   [params.processDefinitionId]\n * @param  {String}   [params.skipCustomListeners]\n * @param  {String}   [params.skipIoMappings]\n * @param  {String}   [params.processInstanceIds]\n * @param  {String}   [params.processInstanceQuery]\n * @param  {String}   [params.instructions]\n * @param  {String}   [params.annotation]\n * @param  {Function} done\n */\nModification.executeAsync = function(params, done) {\n  var path = this.path + \"/executeAsync\";\n\n  return this.http.post(path, {\n    data: params,\n    done: done\n  });\n};\n\nmodule.exports = Modification;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * Message Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar Message = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nMessage.path = \"message\";\n\n/**\n * correlates a message\n *\n * @param {Object} [params]\n * @param {String} [params.messageName]     The message name of the message to be corrolated\n * @param {String} [params.businessKey]     The business key the workflow instance is to be initialized with. The business key identifies the workflow instance in the context of the given workflow definition.\n * @param {String} [params.correlationKeys]       A JSON object containing the keys the recieve task is to be corrolated with. Each key corresponds to a variable name and each value to a variable value.\n * @param {String} [params.processVariables]       A JSON object containing the variables the recieve task is to be corrolated with. Each key corresponds to a variable name and each value to a variable value.\n */\nMessage.correlate = function(params, done) {\n  var url = this.path + \"/\";\n\n  return this.http.post(url, {\n    data: params,\n    done: done\n  });\n};\n\nmodule.exports = Message;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar AbstractClientResource = require(\"./../abstract-client-resource\");\n\n/**\n * Password Policy Resource\n * @class\n * @memberof CamSDK.client.resource\n * @augments CamSDK.client.AbstractClientResource\n */\nvar PasswordPolicy = AbstractClientResource.extend();\n\n/**\n * Path used by the resource to perform HTTP queries\n * @type {String}\n */\nPasswordPolicy.path = \"identity/password-policy\";\n\n/**\n * Fetch the active password policy.\n *\n * @param {Function} done\n */\nPasswordPolicy.get = function(done) {\n  return this.http.get(this.path, {\n    done: done\n  });\n};\n\n/**\n * Validate a password against the password policy\n *\n * @param {Object}   [params]\n * @param {String}   [params.password]  Password to be validated\n * @param {Function} done\n */\nPasswordPolicy.validate = function(params, done) {\n  if (typeof params === \"string\") {\n    params = { password: params };\n  }\n  return this.http.post(this.path, {\n    data: params,\n    done: done\n  });\n};\n\nmodule.exports = PasswordPolicy;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\"),\n  CamundaFormAngular = require(\"./camunda-form-angular\"),\n  isType = require(\"./../../forms/type-util\").isType;\n\n// define embedded forms angular module\nvar ngModule = angular.module(\"cam.embedded.forms\", []);\n\n/**\n * Exposes 'cam-variable-name' as angular directive making sure\n * that updates to a HTML Control made through the camunda form\n * infrastructure are propagated over ngModel bindings.\n */\nngModule.directive(\"camVariableName\", [\n  \"$rootScope\",\n  function($rootScope) {\n    return {\n      require: \"ngModel\",\n      link: function(scope, elm, attrs, ctrl) {\n        elm.on(\"camFormVariableApplied\", function(evt, value) {\n          var phase = $rootScope.$$phase;\n          // only apply if not already in digest / apply\n          if (phase !== \"$apply\" && phase !== \"$digest\") {\n            scope.$apply(function() {\n              ctrl.$setViewValue(value);\n            });\n          } else {\n            ctrl.$setViewValue(value);\n          }\n        });\n      }\n    };\n  }\n]);\n\nngModule.directive(\"camVariableType\", [\n  function() {\n    return {\n      require: \"ngModel\",\n      link: function($scope, $element, $attrs, ctrl) {\n        var validate = function(viewValue) {\n          var type = $attrs.camVariableType;\n\n          ctrl.$setValidity(\"camVariableType\", true);\n\n          if (viewValue || viewValue === false || type === \"Bytes\") {\n            if (ctrl.$pristine) {\n              ctrl.$pristine = false;\n              ctrl.$dirty = true;\n              $element.addClass(\"ng-dirty\");\n              $element.removeClass(\"ng-pristine\");\n            }\n\n            if (\n              [\"Boolean\", \"String\", \"Bytes\"].indexOf(type) === -1 &&\n              !isType(viewValue, type)\n            ) {\n              ctrl.$setValidity(\"camVariableType\", false);\n            }\n\n            if (\n              $attrs.type === \"file\" &&\n              type === \"Bytes\" &&\n              $element[0].files &&\n              $element[0].files[0] &&\n              $element[0].files[0].size > ($attrs.camMaxFilesize || 5000000)\n            ) {\n              ctrl.$setValidity(\"camVariableType\", false);\n            }\n          }\n\n          return viewValue;\n        };\n\n        ctrl.$parsers.unshift(validate);\n        ctrl.$formatters.push(validate);\n\n        $attrs.$observe(\"camVariableType\", function() {\n          return validate(ctrl.$viewValue);\n        });\n\n        $element.bind(\"change\", function() {\n          validate(ctrl.$viewValue);\n          $scope.$apply();\n        });\n      }\n    };\n  }\n]);\n\nmodule.exports = CamundaFormAngular;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// exposify: CamSDK.Form\nvar CamundaForm = require(\"./../../forms/camunda-form\");\n\nvar angular = require(\"angular\");\nvar $ = CamundaForm.$;\nvar constants = require(\"./../../forms/constants\");\n\nvar CamundaFormAngular = CamundaForm.extend({\n  renderForm: function() {\n    var self = this;\n\n    this.formElement = angular.element(this.formElement);\n\n    // first add the form to the DOM:\n    CamundaForm.prototype.renderForm.apply(this, arguments);\n\n    // next perform auto-scope binding for all fields which do not have custom bindings\n    function autoBind(key, el) {\n      var element = $(el);\n      if (!element.attr(\"ng-model\")) {\n        var camVarName = element.attr(constants.DIRECTIVE_CAM_VARIABLE_NAME);\n        if (camVarName) {\n          element.attr(\"ng-model\", camVarName);\n        }\n      }\n    }\n\n    for (var i = 0; i < this.formFieldHandlers.length; i++) {\n      var handler = this.formFieldHandlers[i];\n      var selector = handler.selector;\n      $(selector, self.formElement).each(autoBind);\n    }\n\n    this.formElement = angular.element(this.formElement);\n    // finally compile the form with angular and linked to the current scope\n    var injector = self.formElement.injector();\n    if (!injector) {\n      return;\n    }\n\n    var scope = self.formElement.scope();\n    injector.invoke([\n      \"$compile\",\n      function($compile) {\n        $compile(self.formElement)(scope);\n      }\n    ]);\n    scope.camForm = this;\n  },\n\n  executeFormScript: function(script) {\n    // overrides executeFormScript to make sure the following variables / functions are available to script implementations:\n\n    // * $scope\n    // * inject\n\n    this.formElement = angular.element(this.formElement);\n\n    var moment = require(\"moment\");\n    var injector = this.formElement.injector();\n    var scope = this.formElement.scope();\n\n    /*eslint-disable */\n      (function(camForm, $scope, moment) {\n        // hook to create the service with injection\n        var inject = function(extensions) {\n          // if result is an array or function we expect\n          // an injectable service\n          if (angular.isFunction(extensions) || angular.isArray(extensions)) {\n            injector.instantiate(extensions, { $scope: scope });\n          } else {\n            throw new Error('Must call inject(array|fn)');\n          }\n        };\n\n      /* jshint evil: true */\n        eval(script);\n      /* jshint evil: false */\n\n      })(this, scope, moment);\n      /*eslint-enable */\n  },\n\n  fireEvent: function() {\n    // overrides fireEvent to make sure event listener is invoked in an apply phase\n    this.formElement = angular.element(this.formElement);\n\n    var self = this;\n    var args = arguments;\n    var scope = this.formElement.scope();\n\n    var doFireEvent = function() {\n      CamundaForm.prototype.fireEvent.apply(self, args);\n    };\n\n    var injector = self.formElement.injector();\n    if (!injector) {\n      return;\n    }\n\n    injector.invoke([\n      \"$rootScope\",\n      function($rootScope) {\n        var phase = $rootScope.$$phase;\n        // only apply if not already in digest / apply\n        if (phase !== \"$apply\" && phase !== \"$digest\") {\n          scope.$apply(function() {\n            doFireEvent();\n          });\n        } else {\n          doFireEvent();\n        }\n      }\n    ]);\n  }\n});\n\nmodule.exports = CamundaFormAngular;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* global CamSDK, require, localStorage: false */\n\n/**\n * For all API client related\n * @namespace CamSDK.form\n */\n\nvar moment = require(\"moment\");\n\nvar $ = require(\"./dom-lib\");\n\nvar VariableManager = require(\"./variable-manager\");\n\nvar InputFieldHandler = require(\"./controls/input-field-handler\");\n\nvar ChoicesFieldHandler = require(\"./controls/choices-field-handler\");\n\nvar FileDownloadHandler = require(\"./controls/file-download-handler\");\n\nvar ErrorButtonHandler = require(\"./controls/error-button-handler\");\n\nvar EscalationButtonHandler = require(\"./controls/escalation-button-handler\");\n\nvar BaseClass = require(\"./../base-class\");\n\nvar constants = require(\"./constants\");\n\nvar Events = require(\"./../events\");\n\nfunction extend(dest, add) {\n  for (var key in add) {\n    dest[key] = add[key];\n  }\n  return dest;\n}\n\n/**\n * A class to help handling embedded forms\n *\n * @class\n * @memberof CamSDk.form\n *\n * @param {Object.<String,*>} options\n * @param {Cam}               options.client\n * @param {String}            [options.taskId]\n * @param {String}            [options.processDefinitionId]\n * @param {String}            [options.processDefinitionKey]\n * @param {Element}           [options.formContainer]\n * @param {Element}           [options.formElement]\n * @param {Object}            [options.urlParams]\n * @param {String}            [options.formUrl]\n */\nfunction CamundaForm(options) {\n  if (!options) {\n    throw new Error(\"CamundaForm need to be initialized with options.\");\n  }\n\n  var done = (options.done =\n    options.done ||\n    function(err) {\n      if (err) throw err;\n    });\n\n  if (options.client) {\n    this.client = options.client;\n  } else {\n    this.client = new CamSDK.Client(options.clientConfig || {});\n  }\n\n  if (\n    !options.taskId &&\n    !options.processDefinitionId &&\n    !options.processDefinitionKey\n  ) {\n    return done(\n      new Error(\n        \"Cannot initialize Taskform: either 'taskId' or 'processDefinitionId' or 'processDefinitionKey' must be provided\"\n      )\n    );\n  }\n\n  this.taskId = options.taskId;\n  if (this.taskId) {\n    this.taskBasePath = this.client.baseUrl + \"/task/\" + this.taskId;\n  }\n  this.processDefinitionId = options.processDefinitionId;\n  this.processDefinitionKey = options.processDefinitionKey;\n\n  this.formElement = options.formElement;\n  this.containerElement = options.containerElement;\n  this.formUrl = options.formUrl;\n\n  if (!this.formElement && !this.containerElement) {\n    return done(\n      new Error(\n        \"CamundaForm needs to be initilized with either 'formElement' or 'containerElement'\"\n      )\n    );\n  }\n\n  if (!this.formElement && !this.formUrl) {\n    return done(\n      new Error(\n        \"Camunda form needs to be intialized with either 'formElement' or 'formUrl'\"\n      )\n    );\n  }\n\n  /**\n   * A VariableManager instance\n   * @type {VariableManager}\n   */\n  this.variableManager = new VariableManager({\n    client: this.client\n  });\n\n  /**\n   * An array of FormFieldHandlers\n   * @type {FormFieldHandlers[]}\n   */\n  this.formFieldHandlers = options.formFieldHandlers || [\n    InputFieldHandler,\n    ChoicesFieldHandler,\n    FileDownloadHandler,\n    ErrorButtonHandler,\n    EscalationButtonHandler\n  ];\n\n  this.businessKey = null;\n\n  this.fields = [];\n\n  this.scripts = [];\n\n  this.options = options;\n\n  // init event support\n  Events.attach(this);\n\n  this.initialize(done);\n}\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.initializeHandler = function(FieldHandler) {\n  var self = this;\n  var selector = FieldHandler.selector;\n\n  $(selector, self.formElement).each(function() {\n    self.fields.push(new FieldHandler(this, self.variableManager, self));\n  });\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.initialize = function(done) {\n  done =\n    done ||\n    function(err) {\n      if (err) throw err;\n    };\n  var self = this;\n\n  // check whether form needs to be loaded first\n  if (this.formUrl) {\n    this.client.http.load(this.formUrl, {\n      accept: \"*/*\",\n      done: function(err, result) {\n        if (err) {\n          return done(err);\n        }\n\n        try {\n          self.renderForm(result);\n          self.initializeForm(done);\n        } catch (error) {\n          done(error);\n        }\n      },\n      data: extend({ noCache: Date.now() }, this.options.urlParams || {})\n    });\n  } else {\n    try {\n      this.initializeForm(done);\n    } catch (error) {\n      done(error);\n    }\n  }\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.renderForm = function(formHtmlSource) {\n  // apppend the form html to the container element,\n  // we also wrap the formHtmlSource to limit the risks of breaking\n  // the structure of the document\n  $(this.containerElement)\n    .html(\"\")\n    .append('<div class=\"injected-form-wrapper\">' + formHtmlSource + \"</div>\");\n\n  // extract and validate form element\n  var formElement = (this.formElement = $(\"form\", this.containerElement));\n  if (formElement.length !== 1) {\n    throw new Error(\"Form must provide exaclty one element <form ..>\");\n  }\n  if (!formElement.attr(\"name\")) {\n    formElement.attr(\"name\", \"$$camForm\");\n  }\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.initializeForm = function(done) {\n  var self = this;\n\n  // handle form scripts\n  this.initializeFormScripts();\n\n  // initialize field handlers\n  this.initializeFieldHandlers();\n\n  // execute the scripts\n  this.executeFormScripts();\n\n  // fire form loaded\n  this.fireEvent(\"form-loaded\");\n\n  this.fetchVariables(function(err, result) {\n    if (err) {\n      throw err;\n    }\n\n    // merge the variables\n    self.mergeVariables(result);\n\n    // retain original server values for dirty checking\n    self.storeOriginalValues(result);\n\n    // fire variables fetched\n    self.fireEvent(\"variables-fetched\");\n\n    // restore variables from local storage\n    self.restore();\n\n    // fire variables-restored\n    self.fireEvent(\"variables-restored\");\n\n    // apply the variables to the form fields\n    self.applyVariables();\n\n    // fire variables applied\n    self.fireEvent(\"variables-applied\");\n\n    // invoke callback\n    done(null, self);\n  });\n};\n\nCamundaForm.prototype.initializeFieldHandlers = function() {\n  for (var FieldHandler in this.formFieldHandlers) {\n    this.initializeHandler(this.formFieldHandlers[FieldHandler]);\n  }\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.initializeFormScripts = function() {\n  var formScriptElements = $(\n    \"script[\" + constants.DIRECTIVE_CAM_SCRIPT + \"]\",\n    this.formElement\n  );\n  for (var i = 0; i < formScriptElements.length; i++) {\n    this.scripts.push(formScriptElements[i].text);\n  }\n};\n\nCamundaForm.prototype.executeFormScripts = function() {\n  for (var i = 0; i < this.scripts.length; i++) {\n    this.executeFormScript(this.scripts[i]);\n  }\n};\n\nCamundaForm.prototype.executeFormScript = function(script) {\n  /*eslint-disable */\n  /* jshint unused: false */\n  (function(camForm) {\n    /* jshint evil: true */\n    eval(script);\n    /* jshint evil: false */\n  })(this);\n  /*eslint-enable */\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n *\n * Store the state of the form to localStorage.\n *\n * You can prevent further execution by hooking\n * the `store` event and set `storePrevented` to\n * something truthy.\n */\nCamundaForm.prototype.store = function(callback) {\n  var formId = this.taskId || this.processDefinitionId || this.caseInstanceId;\n\n  if (!formId) {\n    if (typeof callback === \"function\") {\n      return callback(new Error(\"Cannot determine the storage ID\"));\n    } else {\n      throw new Error(\"Cannot determine the storage ID\");\n    }\n  }\n\n  this.storePrevented = false;\n  this.fireEvent(\"store\");\n  if (this.storePrevented) {\n    return;\n  }\n\n  try {\n    // get values from form fields\n    this.retrieveVariables();\n\n    // build the local storage object\n    var store = { date: Date.now(), vars: {} };\n    for (var name in this.variableManager.variables) {\n      if (this.variableManager.variables[name].type !== \"Bytes\") {\n        store.vars[name] = this.variableManager.variables[name].value;\n      }\n    }\n\n    // store it\n    localStorage.setItem(\"camForm:\" + formId, JSON.stringify(store));\n  } catch (error) {\n    if (typeof callback === \"function\") {\n      return callback(error);\n    } else {\n      throw error;\n    }\n  }\n  this.fireEvent(\"variables-stored\");\n  if (typeof callback === \"function\") {\n    callback();\n  }\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n * @return {Boolean} `true` if there is something who can be restored\n */\nCamundaForm.prototype.isRestorable = function() {\n  var formId = this.taskId || this.processDefinitionId || this.caseInstanceId;\n\n  if (!formId) {\n    throw new Error(\"Cannot determine the storage ID\");\n  }\n\n  // verify the presence of an entry\n  if (!localStorage.getItem(\"camForm:\" + formId)) {\n    return false;\n  }\n\n  // unserialize\n  var stored = localStorage.getItem(\"camForm:\" + formId);\n  try {\n    stored = JSON.parse(stored);\n  } catch (error) {\n    return false;\n  }\n\n  // check the content\n  if (!stored || !Object.keys(stored).length) {\n    return false;\n  }\n\n  return true;\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n *\n * Restore the state of the form from localStorage.\n *\n * You can prevent further execution by hooking\n * the `restore` event and set `restorePrevented` to\n * something truthy.\n */\nCamundaForm.prototype.restore = function(callback) {\n  var stored;\n  var vars = this.variableManager.variables;\n  var formId = this.taskId || this.processDefinitionId || this.caseDefinitionId;\n\n  if (!formId) {\n    if (typeof callback === \"function\") {\n      return callback(new Error(\"Cannot determine the storage ID\"));\n    } else {\n      throw new Error(\"Cannot determine the storage ID\");\n    }\n  }\n\n  // no need to go further if there is nothing to restore\n  if (!this.isRestorable()) {\n    if (typeof callback === \"function\") {\n      return callback();\n    }\n    return;\n  }\n\n  try {\n    // retrieve the values from localStoarge\n    stored = localStorage.getItem(\"camForm:\" + formId);\n    stored = JSON.parse(stored).vars;\n  } catch (error) {\n    if (typeof callback === \"function\") {\n      return callback(error);\n    } else {\n      throw error;\n    }\n  }\n\n  // merge the stored values on the variableManager.variables\n  for (var name in stored) {\n    if (vars[name]) {\n      vars[name].value = stored[name];\n    } else {\n      vars[name] = {\n        name: name,\n        value: stored[name]\n      };\n    }\n  }\n\n  if (typeof callback === \"function\") {\n    callback();\n  }\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.submit = function(callback) {\n  var formId = this.taskId || this.processDefinitionId;\n\n  // fire submit event (event handler may prevent submit from being performed)\n  this.submitPrevented = false;\n  this.fireEvent(\"submit\");\n  if (this.submitPrevented) {\n    var err = new Error(\"camForm submission prevented\");\n    this.fireEvent(\"submit-failed\", err);\n    return callback && callback(err);\n  }\n\n  try {\n    // get values from form fields\n    this.retrieveVariables();\n  } catch (error) {\n    return callback && callback(error);\n  }\n\n  var self = this;\n  this.transformFiles(function() {\n    // submit the form variables\n    self.submitVariables(function(err, result) {\n      if (err) {\n        self.fireEvent(\"submit-failed\", err);\n        return callback && callback(err);\n      }\n\n      // clear the local storage for this form\n      localStorage.removeItem(\"camForm:\" + formId);\n\n      self.fireEvent(\"submit-success\");\n      return callback && callback(null, result);\n    });\n  });\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.error = function(errorCode, errorMessage, callback) {\n  var formId = this.taskId || this.processDefinitionId;\n\n  this.errorPrevented = false;\n  this.fireEvent(\"error\");\n  if (this.errorPrevented) {\n    var err = new Error(\"camForm error prevented\");\n    this.fireEvent(\"error-failed\", err);\n    return callback && callback(err);\n  }\n\n  try {\n    // get values from form fields\n    this.retrieveVariables();\n  } catch (error) {\n    return callback && callback(error);\n  }\n\n  var self = this;\n  this.transformFiles(function() {\n    // submit the form variables\n    var data = {\n      variables: self.parseVariables(),\n      id: self.taskId,\n      errorCode: errorCode,\n      errorMessage: errorMessage\n    };\n    self.client.resource(\"task\").bpmnError(data, function(err, result) {\n      if (err) {\n        self.fireEvent(\"error-failed\", err);\n        return callback && callback(err);\n      }\n\n      // clear the local storage for this form\n      localStorage.removeItem(\"camForm:\" + formId);\n\n      self.fireEvent(\"error-success\");\n      return callback && callback(null, result);\n    });\n  });\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.escalate = function(escalationCode, callback) {\n  var formId = this.taskId || this.processDefinitionId;\n\n  this.escalationPrevented = false;\n  this.fireEvent(\"escalation\");\n  if (this.escalationPrevented) {\n    var err = new Error(\"camForm escalation prevented\");\n    this.fireEvent(\"escalation-failed\", err);\n    return callback && callback(err);\n  }\n\n  try {\n    // get values from form fields\n    this.retrieveVariables();\n  } catch (error) {\n    return callback && callback(error);\n  }\n\n  var self = this;\n  this.transformFiles(function() {\n    // submit the form variables\n    var data = {\n      variables: self.parseVariables(),\n      id: self.taskId,\n      escalationCode: escalationCode\n    };\n    self.client.resource(\"task\").bpmnEscalation(data, function(err, result) {\n      if (err) {\n        self.fireEvent(\"escalation-failed\", err);\n        return callback && callback(err);\n      }\n\n      // clear the local storage for this form\n      localStorage.removeItem(\"camForm:\" + formId);\n\n      self.fireEvent(\"escalation-success\");\n      return callback && callback(null, result);\n    });\n  });\n};\n\nCamundaForm.prototype.transformFiles = function(callback) {\n  var that = this;\n  var counter = 1;\n\n  var callCallback = function() {\n    if (--counter === 0) {\n      callback();\n    }\n  };\n\n  var bytesToSize = function(bytes) {\n    if (bytes === 0) return \"0 Byte\";\n    var k = 1000;\n    var sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n    var i = Math.floor(Math.log(bytes) / Math.log(k));\n    return (bytes / Math.pow(k, i)).toPrecision(3) + \" \" + sizes[i];\n  };\n\n  for (var i in this.fields) {\n    var element = this.fields[i].element[0];\n    if (element.getAttribute(\"type\") === \"file\") {\n      var fileVar = that.variableManager.variables[that.fields[i].variableName];\n\n      if (typeof FileReader === \"function\" && element.files.length > 0) {\n        if (\n          element.files[0].size >\n          (parseInt(element.getAttribute(\"cam-max-filesize\"), 10) || 5000000)\n        ) {\n          throw new Error(\n            \"Maximum file size of \" +\n              bytesToSize(\n                parseInt(element.getAttribute(\"cam-max-filesize\"), 10) ||\n                  5000000\n              ) +\n              \" exceeded.\"\n          );\n        }\n        var reader = new FileReader();\n        /* jshint ignore:start */\n        reader.onloadend = (function(i, element, fileVar) {\n          return function(e) {\n            var binary = \"\";\n            var bytes = new Uint8Array(e.target.result);\n            var len = bytes.byteLength;\n            for (var j = 0; j < len; j++) {\n              binary += String.fromCharCode(bytes[j]);\n            }\n\n            fileVar.value = btoa(binary);\n\n            // set file metadata as value info\n            if (fileVar.type.toLowerCase() === \"file\") {\n              fileVar.valueInfo = {\n                filename: element.files[0].name,\n                mimeType: element.files[0].type\n              };\n            }\n\n            callCallback();\n          };\n        })(i, element, fileVar);\n        /* jshint ignore:end */\n        reader.readAsArrayBuffer(element.files[0]);\n        counter++;\n      } else {\n        fileVar.value = \"\";\n        fileVar.valueInfo = {\n          filename: \"\"\n        };\n      }\n    }\n  }\n\n  callCallback();\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.fetchVariables = function(done) {\n  done = done || function() {};\n  var names = this.variableManager.variableNames();\n  if (names.length) {\n    var data = {\n      names: names,\n      deserializeValues: false\n    };\n\n    // pass either the taskId, processDefinitionId or processDefinitionKey\n    if (this.taskId) {\n      data.id = this.taskId;\n      this.client.resource(\"task\").formVariables(data, done);\n    } else {\n      data.id = this.processDefinitionId;\n      data.key = this.processDefinitionKey;\n      this.client.resource(\"process-definition\").formVariables(data, done);\n    }\n  } else {\n    done();\n  }\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.parseVariables = function() {\n  var varManager = this.variableManager;\n  var vars = varManager.variables;\n\n  // The default display value is different from the original value in varManager\n  this.fields.forEach(function(field) {\n    if (vars[field.variableName]) {\n      vars[field.variableName].defaultValue = field.originalValue;\n\n      if (\n        field.originalValue === \"\" ||\n        typeof field.originalValue === \"undefined\"\n      ) {\n        vars[field.variableName].defaultValue = vars[field.variableName].value;\n      }\n    }\n  });\n\n  var variableData = {};\n  for (var v in vars) {\n    // only submit dirty variables\n    // LIMITATION: dirty checking is not performed for complex object variables\n\n    var val = vars[v].value;\n\n    // We want implicit type conversion in this case, the defaultValue is always a string\n    if (varManager.isDirty(v) || vars[v].defaultValue !== val) {\n      // if variable is JSON, serialize\n\n      if (varManager.isJsonVariable(v)) {\n        val = JSON.stringify(val);\n      }\n\n      // if variable is Date, add timezone info\n      if (val && varManager.isDateVariable(v)) {\n        val = moment(val, moment.ISO_8601).format(\"YYYY-MM-DDTHH:mm:ss.SSSZZ\");\n      }\n\n      variableData[v] = {\n        value: val,\n        type: vars[v].type,\n        valueInfo: vars[v].valueInfo\n      };\n    }\n  }\n  return variableData;\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.submitVariables = function(done) {\n  done = done || function() {};\n\n  var data = { variables: this.parseVariables() };\n\n  // pass either the taskId, processDefinitionId or processDefinitionKey\n  if (this.taskId) {\n    data.id = this.taskId;\n    this.client.resource(\"task\").submitForm(data, done);\n  } else {\n    var businessKey =\n      this.businessKey ||\n      this.formElement.find('input[type=\"text\"][cam-business-key]').val();\n    if (businessKey) {\n      data.businessKey = businessKey;\n    }\n    data.id = this.processDefinitionId;\n    data.key = this.processDefinitionKey;\n    this.client.resource(\"process-definition\").submitForm(data, done);\n  }\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.storeOriginalValues = function(variables) {\n  for (var v in variables) {\n    this.variableManager.setOriginalValue(v, variables[v].value);\n  }\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.mergeVariables = function(variables) {\n  var vars = this.variableManager.variables;\n\n  for (var v in variables) {\n    if (vars[v]) {\n      for (var p in variables[v]) {\n        vars[v][p] = vars[v][p] || variables[v][p];\n      }\n    } else {\n      vars[v] = variables[v];\n    }\n    // check whether the variable provides JSON payload. If true, deserialize\n    if (this.variableManager.isJsonVariable(v)) {\n      vars[v].value = JSON.parse(variables[v].value);\n    }\n\n    // generate content url for file and bytes variables\n    var type = vars[v].type;\n    if (!!this.taskBasePath && (type === \"Bytes\" || type === \"File\")) {\n      vars[v].contentUrl =\n        this.taskBasePath + \"/variables/\" + vars[v].name + \"/data\";\n    }\n\n    this.variableManager.isVariablesFetched = true;\n  }\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.applyVariables = function() {\n  for (var i in this.fields) {\n    this.fields[i].applyValue();\n  }\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.retrieveVariables = function() {\n  for (var i in this.fields) {\n    this.fields[i].getValue();\n  }\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm.prototype\n */\nCamundaForm.prototype.fireEvent = function(eventName, obj) {\n  this.trigger(eventName, obj);\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm\n */\nCamundaForm.$ = $;\n\nCamundaForm.VariableManager = VariableManager;\nCamundaForm.fields = {};\nCamundaForm.fields.InputFieldHandler = InputFieldHandler;\nCamundaForm.fields.ChoicesFieldHandler = ChoicesFieldHandler;\n\n/**\n * @memberof CamSDK.form.CamundaForm\n */\nCamundaForm.cleanLocalStorage = function(timestamp) {\n  for (var i = 0; i < localStorage.length; i++) {\n    var key = localStorage.key(i);\n    if (key.indexOf(\"camForm:\") === 0) {\n      var item = JSON.parse(localStorage.getItem(key));\n      if (item.date < timestamp) {\n        localStorage.removeItem(key);\n        i--;\n      }\n    }\n  }\n};\n\n/**\n * @memberof CamSDK.form.CamundaForm\n * @borrows CamSDK.BaseClass.extend as extend\n * @name extend\n * @type {Function}\n */\nCamundaForm.extend = BaseClass.extend;\n\nmodule.exports = CamundaForm;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar moment = require(\"moment\");\nvar convertToType = require(\"./type-util\").convertToType;\n\n/**\n * @class\n * the variable manager is responsible for managing access to variables.\n *\n * Variable Datatype\n *\n * A variable has the following properties:\n *\n *   name: the name of the variable\n *\n *   type: the type of the variable. The type is a \"backend type\"\n *\n *\n */\nfunction VariableManager() {\n  /** @member object containing the form fields. Initially empty. */\n  this.variables = {};\n\n  /** @member boolean indicating whether the variables are fetched */\n  this.isVariablesFetched = false;\n}\n\nVariableManager.prototype.fetchVariable = function(variable) {\n  if (this.isVariablesFetched) {\n    throw new Error(\n      \"Illegal State: cannot call fetchVariable(), variables already fetched.\"\n    );\n  }\n  this.createVariable({ name: variable });\n};\n\nVariableManager.prototype.createVariable = function(variable) {\n  if (!this.variables[variable.name]) {\n    this.variables[variable.name] = variable;\n  } else {\n    throw new Error(\n      \"Cannot add variable with name \" + variable.name + \": already exists.\"\n    );\n  }\n};\n\nVariableManager.prototype.destroyVariable = function(variableName) {\n  if (this.variables[variableName]) {\n    delete this.variables[variableName];\n  } else {\n    throw new Error(\n      \"Cannot remove variable with name \" +\n        variableName +\n        \": variable does not exist.\"\n    );\n  }\n};\n\nVariableManager.prototype.setOriginalValue = function(variableName, value) {\n  if (this.variables[variableName]) {\n    this.variables[variableName].originalValue = value;\n  } else {\n    throw new Error(\n      \"Cannot set original value of variable with name \" +\n        variableName +\n        \": variable does not exist.\"\n    );\n  }\n};\n\nVariableManager.prototype.variable = function(variableName) {\n  return this.variables[variableName];\n};\n\nVariableManager.prototype.variableValue = function(variableName, value) {\n  var variable = this.variable(variableName);\n\n  if (typeof value === \"undefined\" || value === null) {\n    value = null;\n  } else if (value === \"\" && variable.type !== \"String\") {\n    // convert empty string to null for all types except String\n    value = null;\n  } else if (typeof value === \"string\" && variable.type !== \"String\") {\n    // convert string value into model value\n    value = convertToType(value, variable.type);\n  }\n\n  if (arguments.length === 2) {\n    variable.value = value;\n  }\n\n  return variable.value;\n};\n\nVariableManager.prototype.isDirty = function(name) {\n  var variable = this.variable(name);\n  if (this.isJsonVariable(name)) {\n    return variable.originalValue !== JSON.stringify(variable.value);\n  } else if (\n    this.isDateVariable(name) &&\n    variable.originalValue &&\n    variable.value\n  ) {\n    // check, if it is the same moment\n    return !moment(variable.originalValue, moment.ISO_8601).isSame(\n      variable.value\n    );\n  } else {\n    return (\n      variable.originalValue !== variable.value || variable.type === \"Object\"\n    );\n  }\n};\n\nVariableManager.prototype.isJsonVariable = function(name) {\n  var variable = this.variable(name);\n  var type = variable.type;\n\n  var supportedTypes = [\"Object\", \"json\", \"Json\"];\n  var idx = supportedTypes.indexOf(type);\n\n  if (idx === 0) {\n    return (\n      variable.valueInfo.serializationDataFormat.indexOf(\"application/json\") !==\n      -1\n    );\n  }\n\n  return idx !== -1;\n};\n\nVariableManager.prototype.isDateVariable = function(name) {\n  var variable = this.variable(name);\n  return variable.type === \"Date\";\n};\n\nVariableManager.prototype.variableNames = function() {\n  // since we support IE 8+ (http://kangax.github.io/compat-table/es5/)\n  return Object.keys(this.variables);\n};\n\nmodule.exports = VariableManager;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar constants = require(\"./../constants\"),\n  AbstractFormField = require(\"./abstract-form-field\"),\n  convertToType = require(\"../type-util\").convertToType;\n\nvar isBooleanCheckbox = function(element) {\n  return (\n    element.attr(\"type\") === \"checkbox\" &&\n    element.attr(constants.DIRECTIVE_CAM_VARIABLE_TYPE) === \"Boolean\"\n  );\n};\n\n/**\n * A field control handler for simple text / string values\n * @class\n * @memberof CamSDK.form\n * @augments {CamSDK.form.AbstractFormField}\n */\nvar InputFieldHandler = AbstractFormField.extend(\n  /** @lends CamSDK.form.InputFieldHandler.prototype */\n  {\n    /**\n     * Prepares an instance\n     */\n    initialize: function() {\n      // read variable definitions from markup\n      var variableName = this.element.attr(\n        constants.DIRECTIVE_CAM_VARIABLE_NAME\n      );\n      var variableType = this.element.attr(\n        constants.DIRECTIVE_CAM_VARIABLE_TYPE\n      );\n\n      // crate variable\n      this.variableManager.createVariable({\n        name: variableName,\n        type: variableType\n      });\n\n      // remember the original value found in the element for later checks\n      this.originalValue = this.element.val();\n\n      this.previousValue = this.originalValue;\n\n      // remember variable name\n      this.variableName = variableName;\n\n      this.getValue();\n    },\n\n    /**\n     * Applies the stored value to a field element.\n     *\n     * @return {CamSDK.form.InputFieldHandler} Chainable method\n     */\n    applyValue: function() {\n      this.previousValue = this.getValueFromHtmlControl() || \"\";\n\n      var variableValue = this.variableManager.variableValue(this.variableName);\n\n      if (\n        variableValue &&\n        this.variableManager.isDateVariable(this.variableName)\n      ) {\n        var dateValue = new Date(variableValue);\n        variableValue = convertToType(dateValue, \"Date\");\n      }\n\n      if (variableValue !== this.previousValue) {\n        // write value to html control\n        this.applyValueToHtmlControl(variableValue);\n        this.element.trigger(\"camFormVariableApplied\", variableValue);\n      }\n\n      return this;\n    },\n\n    /**\n     * Retrieves the value from an <input>\n     * element and stores it in the Variable Manager\n     *\n     * @return {*}\n     */\n    getValue: function() {\n      var value = this.getValueFromHtmlControl();\n\n      // write value to variable\n      this.variableManager.variableValue(this.variableName, value);\n\n      return value;\n    },\n\n    getValueFromHtmlControl: function() {\n      if (isBooleanCheckbox(this.element)) {\n        return this.element.prop(\"checked\");\n      } else {\n        return this.element.val();\n      }\n    },\n\n    applyValueToHtmlControl: function(variableValue) {\n      if (isBooleanCheckbox(this.element)) {\n        this.element.prop(\"checked\", variableValue);\n      } else if (this.element[0].type !== \"file\") {\n        this.element.val(variableValue);\n      }\n    }\n  },\n  /** @lends CamSDK.form.InputFieldHandler */\n  {\n    selector:\n      \"input[\" +\n      constants.DIRECTIVE_CAM_VARIABLE_NAME +\n      \"]\" +\n      \",textarea[\" +\n      constants.DIRECTIVE_CAM_VARIABLE_NAME +\n      \"]\"\n  }\n);\n\nmodule.exports = InputFieldHandler;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar constants = require(\"./../constants\"),\n  AbstractFormField = require(\"./abstract-form-field\"),\n  $ = require(\"./../dom-lib\");\n\n/**\n * A field control handler for choices\n * @class\n * @memberof CamSDK.form\n * @augments {CamSDK.form.AbstractFormField}\n */\nvar ChoicesFieldHandler = AbstractFormField.extend(\n  /** @lends CamSDK.form.ChoicesFieldHandler.prototype */\n  {\n    /**\n     * Prepares an instance\n     */\n    initialize: function() {\n      // read variable definitions from markup\n      var variableName = (this.variableName = this.element.attr(\n        constants.DIRECTIVE_CAM_VARIABLE_NAME\n      ));\n      var variableType = (this.variableType = this.element.attr(\n        constants.DIRECTIVE_CAM_VARIABLE_TYPE\n      ));\n      var choicesVariableName = (this.choicesVariableName = this.element.attr(\n        constants.DIRECTIVE_CAM_CHOICES\n      ));\n\n      // crate variable\n      this.variableManager.createVariable({\n        name: variableName,\n        type: variableType,\n        value: this.element.val() || null\n      });\n\n      // fetch choices variable\n      if (choicesVariableName) {\n        this.variableManager.fetchVariable(choicesVariableName);\n      }\n\n      // remember the original value found in the element for later checks\n      this.originalValue = this.element.val() || null;\n\n      this.previousValue = this.originalValue;\n\n      // remember variable name\n      this.variableName = variableName;\n    },\n\n    /**\n     * Applies the stored value to a field element.\n     *\n     * @return {CamSDK.form.ChoicesFieldHandler} Chainable method.\n     */\n    applyValue: function() {\n      var selectedIndex = this.element[0].selectedIndex;\n      // if cam-choices variable is defined, apply options\n      if (this.choicesVariableName) {\n        var choicesVariableValue = this.variableManager.variableValue(\n          this.choicesVariableName\n        );\n        if (choicesVariableValue) {\n          // array\n          if (choicesVariableValue instanceof Array) {\n            for (var i = 0; i < choicesVariableValue.length; i++) {\n              var val = choicesVariableValue[i];\n              if (!this.element.find('option[text=\"' + val + '\"]').length) {\n                this.element.append(\n                  $(\"<option>\", {\n                    value: val,\n                    text: val\n                  })\n                );\n              }\n            }\n            // object aka map\n          } else {\n            for (var p in choicesVariableValue) {\n              if (!this.element.find('option[value=\"' + p + '\"]').length) {\n                this.element.append(\n                  $(\"<option>\", {\n                    value: p,\n                    text: choicesVariableValue[p]\n                  })\n                );\n              }\n            }\n          }\n        }\n      }\n\n      // make sure selected index is retained\n      this.element[0].selectedIndex = selectedIndex;\n\n      // select option referenced in cam-variable-name (if any)\n      this.previousValue = this.element.val() || \"\";\n      var variableValue = this.variableManager.variableValue(this.variableName);\n\n      // check if variable is defined before writing values to the html\n      // variableValue can be the Number 0 or negative, so `|| ''` does not work here\n      variableValue = variableValue === null ? \"\" : variableValue;\n\n      if (variableValue !== this.previousValue) {\n        // write value to html control\n        this.element.val(variableValue);\n        this.element.trigger(\"camFormVariableApplied\", variableValue);\n\n        // Update the ui after the current digest cycle\n        var that = this;\n        window.setTimeout(function() {\n          that.element.change();\n        }, 0);\n      }\n\n      return this;\n    },\n\n    /**\n     * Retrieves the value from a field element and stores it\n     *\n     * @return {*} when multiple choices are possible an array of values, otherwise a single value\n     */\n    getValue: function() {\n      // read value from html control\n      var value;\n      var multiple = this.element.prop(\"multiple\");\n\n      if (multiple) {\n        value = [];\n        this.element.find(\"option:selected\").each(function() {\n          value.push($(this).val());\n        });\n      } else {\n        value = this.element.find(\"option:selected\").attr(\"value\");\n      }\n\n      // write value to variable\n      this.variableManager.variableValue(this.variableName, value);\n\n      return value;\n    }\n  },\n  /** @lends CamSDK.form.ChoicesFieldHandler */\n  {\n    selector: \"select[\" + constants.DIRECTIVE_CAM_VARIABLE_NAME + \"]\"\n  }\n);\n\nmodule.exports = ChoicesFieldHandler;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar constants = require(\"./../constants\"),\n  AbstractFormField = require(\"./abstract-form-field\");\n\n/**\n * A field control handler for file downloads\n * @class\n * @memberof CamSDK.form\n * @augments {CamSDK.form.AbstractFormField}\n */\nvar InputFieldHandler = AbstractFormField.extend(\n  {\n    /**\n     * Prepares an instance\n     */\n    initialize: function() {\n      this.variableName = this.element.attr(\n        constants.DIRECTIVE_CAM_FILE_DOWNLOAD\n      );\n\n      // fetch the variable\n      this.variableManager.fetchVariable(this.variableName);\n    },\n\n    applyValue: function() {\n      var variable = this.variableManager.variable(this.variableName);\n\n      // set the download url of the link\n      this.element.attr(\"href\", variable.contentUrl);\n\n      // sets the text content of the link to the filename it the textcontent is empty\n      if (this.element.text().trim().length === 0) {\n        this.element.text(variable.valueInfo.filename);\n      }\n\n      return this;\n    }\n  },\n\n  {\n    selector: \"a[\" + constants.DIRECTIVE_CAM_FILE_DOWNLOAD + \"]\"\n  }\n);\n\nmodule.exports = InputFieldHandler;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar constants = require(\"../constants\"),\n  AbstractFormField = require(\"./abstract-form-field\");\n\n/**\n * A field control handler for file downloads\n * @class\n * @memberof CamSDK.form\n * @augments {CamSDK.form.AbstractFormField}\n */\nvar ErrorButtonHandler = AbstractFormField.extend(\n  {\n    /**\n     * Prepares an instance\n     */\n    initialize: function() {\n      this.errorCode = this.element.attr(constants.DIRECTIVE_CAM_ERROR_CODE);\n      this.errorMessage = this.element.attr(\n        constants.DIRECTIVE_CAM_ERROR_MESSAGE\n      );\n    },\n\n    applyValue: function() {\n      var self = this;\n      this.element.on(\"click\", function() {\n        self.form.error(self.errorCode, self.errorMessage);\n      });\n\n      return this;\n    }\n  },\n\n  {\n    selector: \"button[\" + constants.DIRECTIVE_CAM_ERROR_CODE + \"]\"\n  }\n);\n\nmodule.exports = ErrorButtonHandler;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar constants = require(\"../constants\"),\n  AbstractFormField = require(\"./abstract-form-field\");\n\n/**\n * A field control handler for file downloads\n * @class\n * @memberof CamSDK.form\n * @augments {CamSDK.form.AbstractFormField}\n */\nvar ErrorButtonHandler = AbstractFormField.extend(\n  {\n    /**\n     * Prepares an instance\n     */\n    initialize: function() {\n      this.escalationCode = this.element.attr(\n        constants.DIRECTIVE_CAM_ESCALATION_CODE\n      );\n    },\n\n    applyValue: function() {\n      var self = this;\n      this.element.on(\"click\", function() {\n        self.form.escalate(self.escalationCode);\n      });\n\n      return this;\n    }\n  },\n\n  {\n    selector: \"button[\" + constants.DIRECTIVE_CAM_ESCALATION_CODE + \"]\"\n  }\n);\n\nmodule.exports = ErrorButtonHandler;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function() {\n  return function(str) {\n    var replacedString = str\n      .replace(/%252F/g, \"%2F\")\n      .replace(/%255C/g, \"%5C\")\n      .replace(/%2A/g, \"*\");\n\n    return decodeURIComponent(replacedString);\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar moment = require(\"../../../camunda-bpm-sdk-js/vendor/moment\");\n\nmodule.exports = function() {\n  return function(value) {\n    if (value) {\n      return moment(value, moment.ISO_8601).format(\"YYYY-MM-DDTHH:mm:ss.SSSZZ\");\n    }\n    return value;\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar moment = require(\"../../../camunda-bpm-sdk-js/vendor/moment\");\n\nmodule.exports = function() {\n  return function(value) {\n    if (value) {\n      return moment(value, moment.ISO_8601).format(\"YYYY-MM-DDTHH:mm:ss\");\n    }\n    return value;\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$location\",\n  function($location) {\n    return function() {\n      var path = $location.path();\n\n      return (\n        path !== \"/login\" &&\n        path !== \"/dashboard\" &&\n        path !== \"/\" &&\n        path !== \"/welcome\"\n      );\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\"),\n  inlineField = require(\"./inline-field/cam-widget-inline-field\"),\n  searchPill = require(\"./search-pill/cam-widget-search-pill\"),\n  camQueryComponent = require(\"./search-pill/cam-query-component\"),\n  header = require(\"./header/cam-widget-header\"),\n  footer = require(\"./footer/cam-widget-footer\"),\n  loader = require(\"./loader/cam-widget-loader\"),\n  chartLine = require(\"./chart-line/cam-widget-chart-line\"),\n  debug = require(\"./debug/cam-widget-debug\"),\n  clipboard = require(\"./clipboard/cam-widget-clipboard\"),\n  variable = require(\"./variable/cam-widget-variable\"),\n  variablesTable = require(\"./variables-table/cam-widget-variables-table\"),\n  camRenderVarTemplate = require(\"./variables-table/cam-render-var-template\"),\n  search = require(\"./search/cam-widget-search\"),\n  bpmnViewer = require(\"./bpmn-viewer/cam-widget-bpmn-viewer\"),\n  cmmnViewer = require(\"./cmmn-viewer/cam-widget-cmmn-viewer\"),\n  dmnViewer = require(\"./dmn-viewer/cam-widget-dmn-viewer\"),\n  filtersModule = require(\"../filter/date/index\"),\n  directivesModule = require(\"../directives/index\"),\n  searchModule = require(\"../search/index\"),\n  variableValidator = require(\"./variable/cam-variable-validator\"),\n  localConf = require(\"./../services/cam-local-configuration\"),\n  camShareLink = require(\"./cam-share-link/cam-share-link\"),\n  password = require(\"./password/cam-widget-password\");\n\nrequire(\"../../vendor/ui-bootstrap-tpls-2.5.0-camunda\");\n\nvar widgetModule = angular.module(\"camunda.common.widgets\", [\n  filtersModule.name,\n  directivesModule.name,\n  searchModule.name,\n  \"ui.bootstrap\"\n]);\n\nwidgetModule.factory(\"widgetLocalConf\", localConf);\nwidgetModule.directive(\"camWidgetInlineField\", inlineField);\nwidgetModule.directive(\"camWidgetSearchPill\", searchPill);\nwidgetModule.directive(\"camWidgetHeader\", header);\nwidgetModule.directive(\"camWidgetFooter\", footer);\nwidgetModule.directive(\"camWidgetLoader\", loader);\nwidgetModule.directive(\"camWidgetChartLine\", chartLine);\nwidgetModule.directive(\"camWidgetDebug\", debug);\nwidgetModule.directive(\"camWidgetClipboard\", clipboard);\nwidgetModule.directive(\"camWidgetVariable\", variable);\nwidgetModule.directive(\"camWidgetVariablesTable\", variablesTable);\nwidgetModule.directive(\"camRenderVarTemplate\", camRenderVarTemplate);\nwidgetModule.directive(\"camWidgetSearch\", search);\nwidgetModule.directive(\"camWidgetBpmnViewer\", bpmnViewer);\nwidgetModule.directive(\"camWidgetCmmnViewer\", cmmnViewer);\nwidgetModule.directive(\"camWidgetDmnViewer\", dmnViewer);\nwidgetModule.directive(\"camShareLink\", camShareLink);\nwidgetModule.directive(\"camWidgetPassword\", password);\n\nwidgetModule.directive(\"camVariableValidator\", variableValidator);\n\nwidgetModule.filter(\"camQueryComponent\", camQueryComponent);\n\nmodule.exports = widgetModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-bpm-sdk-js/vendor/angular\"),\n  $ = require(\"jquery\"),\n  template = require(\"./cam-widget-inline-field.html.js\");\n\nfunction getScrollParent(element) {\n  var style = getComputedStyle(element);\n  var excludeStaticParent = style.position === \"absolute\";\n  var overflowRegex = /(auto|scroll)/;\n\n  if (style.position === \"fixed\") return document.body;\n  for (var parent = element; (parent = parent.parentElement); ) {\n    style = getComputedStyle(parent);\n    if (excludeStaticParent && style.position === \"static\") {\n      continue;\n    }\n    if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX))\n      return parent;\n  }\n\n  return document.body;\n}\n\nmodule.exports = [\n  \"$timeout\",\n  \"$filter\",\n  \"$document\",\n  function($timeout, $filter, $document) {\n    return {\n      scope: {\n        varValue: \"=value\",\n        varType: \"@type\",\n        validator: \"&validate\",\n        change: \"&\",\n        onStart: \"&onStartEditing\",\n        onCancel: \"&onCancelEditing\",\n\n        placeholder: \"@\",\n        options: \"=?\",\n        allowNonOptions: \"@\",\n        flexible: \"@\",\n\n        disableAutoselect: \"=?\"\n      },\n\n      template: template,\n\n      link: function(scope, element) {\n        var $scrollableParentEl = $(getScrollParent(element[0]));\n\n        var $btnsEl;\n        var $ctrlsEl;\n\n        var dateFilter = $filter(\"date\"),\n          dateFormat = \"yyyy-MM-dd'T'HH:mm:ss\";\n\n        var dateRegex = /(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)T(\\d\\d):(\\d\\d):(\\d\\d)(?:.(\\d\\d\\d)| )?$/;\n\n        scope.editing = false;\n\n        scope.isNumber = scope.varType === \"number\";\n\n        scope.$on(\"$locationChangeSuccess\", function() {\n          scope.cancelChange();\n        });\n        scope.$on(\"$destroy\", function() {\n          removeFromBody(true);\n        });\n\n        function convertDateStringToObject(date) {\n          var YEAR, MONTH, DAY, HOURS, MINUTES, SECONDS, MILLISECONDS;\n\n          var match = dateRegex.exec(date);\n\n          if (match) {\n            YEAR = parseInt(match[1] || 0, 10);\n            MONTH = parseInt(match[2] || 0, 10) - 1;\n            DAY = parseInt(match[3] || 0, 10);\n            HOURS = parseInt(match[4] || 0, 10);\n            MINUTES = parseInt(match[5] || 0, 10);\n            SECONDS = parseInt(match[6] || 0, 10);\n            MILLISECONDS = parseInt(match[7] || 0, 10);\n            return new Date(\n              YEAR,\n              MONTH,\n              DAY,\n              HOURS,\n              MINUTES,\n              SECONDS,\n              MILLISECONDS\n            );\n          }\n        }\n\n        function isDate() {\n          return [\"datetime\", \"date\", \"time\"].indexOf(scope.varType) > -1;\n        }\n\n        function isSimpleField() {\n          return (\n            [\n              \"color\",\n              \"email\",\n              \"month\",\n              \"number\",\n              \"range\",\n              \"tel\",\n              \"text\",\n              \"time\",\n              \"url\",\n              \"week\"\n            ].indexOf(scope.varType) > -1\n          );\n        }\n\n        function reset() {\n          scope.editing = false;\n          scope.invalid = false;\n          scope.editValue = scope.varValue;\n\n          scope.validator = scope.validator || function() {};\n          scope.onStart = scope.onStart || function() {};\n          scope.onCancel = scope.onCancel || function() {};\n          scope.change = scope.change || function() {};\n          scope.options = scope.options || [];\n          scope.allowNonOptions = scope.allowNonOptions || false;\n          scope.flexible = scope.flexible || false;\n\n          scope.varType = scope.varType ? scope.varType : \"text\";\n\n          scope.simpleField = isSimpleField();\n\n          if (isDate()) {\n            var dateStr = scope.varValue,\n              dateObj = null;\n\n            if (dateStr) {\n              dateObj = convertDateStringToObject(dateStr);\n            } else {\n              dateObj = new Date().setSeconds(0, 0);\n            }\n\n            scope.dateValue = dateObj;\n          }\n        }\n\n        function bodyDirectChild($el) {\n          if (!$el || !$el.length) {\n            return false;\n          }\n\n          var $parent = $el.parent();\n          if (!$parent || !$parent.length) {\n            return false;\n          }\n\n          return $parent[0].tagName.toLowerCase() === \"body\";\n        }\n\n        function positionElements() {\n          var offset = {\n            left: $(element).offset().left - $scrollableParentEl.offset().left,\n            top: $(element).offset().top - $scrollableParentEl.offset().top\n          };\n\n          var outerRightOffset = $ctrlsEl.outerWidth() + offset.left;\n\n          if (outerRightOffset > $scrollableParentEl.prop(\"clientWidth\")) {\n            offset.left -=\n              outerRightOffset + 5 - $scrollableParentEl.prop(\"clientWidth\");\n          }\n\n          if (isDate()) {\n            $btnsEl\n              .addClass(\"datepicker-control\")\n              .show()\n              .css({\n                left:\n                  offset.left + ($ctrlsEl.outerWidth() - $btnsEl.outerWidth()),\n                top: offset.top + $ctrlsEl.outerHeight()\n              });\n          } else {\n            $btnsEl\n              .removeClass(\"datepicker-control\")\n              .show()\n              .css({\n                left:\n                  offset.left +\n                  ($(element).outerWidth() - $btnsEl.outerWidth()),\n                top: offset.top - $btnsEl.outerHeight()\n              });\n          }\n\n          $ctrlsEl.show().css({\n            left: offset.left,\n            top: offset.top + $(element).outerHeight()\n          });\n\n          if (isDate()) {\n            var $datepickerEl = $ctrlsEl[0].querySelector(\".uib-daypicker\");\n\n            if ($datepickerEl) {\n              $datepickerEl.focus();\n            }\n          }\n        }\n\n        function appendToBody() {\n          $ctrlsEl = ($ctrlsEl && $ctrlsEl.length\n            ? $ctrlsEl\n            : $(element[0].querySelector(\".field-control\"))\n          ).hide();\n          if (!bodyDirectChild($ctrlsEl)) {\n            $scrollableParentEl.append($ctrlsEl);\n          }\n\n          $btnsEl = ($btnsEl && $btnsEl.length\n            ? $btnsEl\n            : $(element[0].querySelector(\".btn-group\"))\n          ).hide();\n          if (!bodyDirectChild($btnsEl)) {\n            $scrollableParentEl.append($btnsEl);\n          }\n\n          $timeout(positionElements, 50);\n        }\n\n        function removeFromBody(force) {\n          $timeout(function() {\n            if (scope.editing && !force) {\n              return;\n            }\n\n            if ($btnsEl && $btnsEl.remove) {\n              $btnsEl.remove();\n            }\n            $btnsEl = null;\n\n            if ($ctrlsEl && $ctrlsEl.remove) {\n              $ctrlsEl.remove();\n            }\n            $ctrlsEl = null;\n          }, 50);\n        }\n\n        function bodyClicked(evt) {\n          return (\n            element[0].contains(evt.target) ||\n            ($btnsEl && $btnsEl.length && $btnsEl[0].contains(evt.target)) ||\n            ($ctrlsEl && $ctrlsEl.length && $ctrlsEl[0].contains(evt.target))\n          );\n        }\n\n        scope.$watch(\"editing\", function(after, before) {\n          if (after === before) {\n            return;\n          }\n\n          if (scope.editing) {\n            appendToBody();\n            element.addClass(\"inline-editing\");\n          } else {\n            removeFromBody();\n            element.removeClass(\"inline-editing\");\n          }\n        });\n\n        function stopEditing(evt) {\n          if (!scope.editing) {\n            return;\n          }\n\n          if (bodyClicked(evt)) {\n            return;\n          }\n\n          var targetElement = $(evt.target),\n            expectedClasses = \"ng-binding text-muted\";\n\n          if (targetElement.hasClass(expectedClasses)) {\n            return;\n          }\n\n          var children = targetElement.children();\n          if (children.hasClass(expectedClasses)) {\n            return;\n          }\n\n          scope.$apply(scope.cancelChange);\n        }\n\n        scope.changeType = function() {\n          if (scope.varType === \"datetime\") {\n            scope.varType = \"text\";\n          } else {\n            scope.varType = \"datetime\";\n          }\n          reset();\n          scope.editing = true;\n          element[0].attributes.type.value = scope.varType;\n          scope.simpleField = isSimpleField();\n        };\n\n        scope.startEditing = function() {\n          if (!scope.editing) {\n            reset();\n\n            scope.editing = true;\n            scope.onStart(scope);\n\n            // save the current edit value to restore later\n            var savedEditValue = scope.editValue;\n\n            // clear the edit value so that typeahead shows all options\n            // should not apply to simpleFields\n            if (!scope.simpleField) {\n              scope.editValue = \"\";\n            }\n\n            // Here is where it gets ugly: We have to wait for angular to apply the changes to the edit value, so that the\n            // input field is rendered and we can open the typeahead dropdown (first timeout). However, the instantTypeahead directive does\n            // not immediately register its functions to prevent IE from going crazy. Therefore, we have to wait for another cycle\n            // (second timeout), before triggering an input event on the input field can open the instant typeahead dropdown.\n            $timeout(function() {\n              $timeout(function() {\n                // and reset the edit value, so that the user can type\n                scope.editValue = savedEditValue;\n\n                // in the next apply cycle, the dropdown is open. We now have to\n                // select the default value, if it exists:\n                if (savedEditValue) {\n                  var isValueOfTypeObject = typeof savedEditValue === \"object\";\n                  if (isValueOfTypeObject) {\n                    angular\n                      .element(\n                        element[0].querySelector('[ng-model=\"editValue\"]')\n                      )\n                      .val(savedEditValue.value);\n                  }\n\n                  $timeout(function() {\n                    var elems = $(\n                      element[0].querySelector(\"li[ng-mouseenter]\")\n                    );\n                    var compareValue = isValueOfTypeObject\n                      ? savedEditValue.value\n                      : savedEditValue;\n\n                    for (var i = 0; i < elems.length; i++) {\n                      var elem = elems[i];\n                      if (elem.innerText.indexOf(compareValue) === 0) {\n                        $(elem).trigger(\"mouseenter\");\n                        return;\n                      }\n                    }\n                  });\n                }\n              });\n            });\n\n            $timeout(function() {\n              angular\n                .element(element[0].querySelector('[ng-model=\"editValue\"]'))\n                .triggerHandler(\"click\");\n\n              $timeout(function() {\n                $('[ng-model=\"editValue\"]').focus();\n                $('[ng-model=\"editValue\"]').select();\n                $document.bind(\"click\", stopEditing);\n              }, 50);\n            });\n          }\n        };\n\n        scope.applyChange = function(selection, evt) {\n          scope.invalid = scope.validator(scope);\n\n          if (!scope.invalid) {\n            if (scope.simpleField) {\n              scope.editValue = parseValue($('[ng-model=\"editValue\"]').val());\n\n              scope.varValue = scope.editValue;\n            } else if (scope.varType === \"option\") {\n              if (\n                scope.options.indexOf(selection) === -1 &&\n                !scope.allowNonOptions\n              ) {\n                scope.cancelChange();\n                return;\n              }\n              scope.editValue = selection || $('[ng-model=\"editValue\"]').val();\n              scope.varValue = scope.editValue;\n            } else if (isDate()) {\n              scope.varValue = dateFilter(scope.dateValue, dateFormat);\n            }\n\n            scope.$event = evt;\n            scope.change(scope);\n\n            scope.editing = false;\n\n            $document.unbind(\"click\", stopEditing);\n          }\n        };\n\n        function parseValue(value) {\n          if (scope.varType === \"number\") {\n            if (value.length > 0) {\n              return +value;\n            }\n\n            return null;\n          }\n\n          return value;\n        }\n\n        scope.cancelChange = function() {\n          if (scope.editing) {\n            scope.editing = false;\n            scope.onCancel(scope);\n\n            $document.unbind(\"click\", stopEditing);\n          }\n        };\n\n        scope.changeDate = function(pickerScope) {\n          scope.editValue = scope.dateValue = pickerScope.dateValue;\n        };\n\n        scope.selectNextInlineField = function(reversed) {\n          var allFields = $(\n            \"[cam-widget-inline-field][type='text'], [cam-widget-inline-field][type='option']\"\n          );\n          for (\n            let i = reversed * (allFields.length - 1);\n            i !== !reversed * (allFields.length - 1);\n            i += !reversed * 2 - 1\n          ) {\n            if (allFields[i] === element[0]) {\n              $timeout(function() {\n                var element = $(allFields[i + !reversed * 2 - 1]);\n                element.find(\".view-value\").click();\n                // after clicking the next inline field, wait for the input to appear, then select all\n                $timeout(function() {\n                  element.find(\"input\").select();\n                });\n              });\n              return;\n            }\n          }\n          // take the first/last one\n          $timeout(function() {\n            $(allFields[reversed * allFields.length - 1])\n              .find(\".view-value\")\n              .click();\n          });\n        };\n\n        scope.trapKeyboard = function(evt, reverse) {\n          if (isDate() && evt.keyCode === 9) {\n            // only trap tab key on date inputs\n            if (!reverse && !evt.shiftKey) {\n              // focus the date picker\n              $(\n                \".cam-widget-inline-field.field-control > .datepicker > table\"\n              )[0].focus();\n              evt.preventDefault();\n            } else if (reverse && evt.shiftKey) {\n              // focus the cancel button\n              $(\n                '.cam-widget-inline-field.btn-group > button[ng-click=\"cancelChange($event)\"]'\n              )[0].focus();\n              evt.preventDefault();\n            }\n          }\n        };\n\n        scope.cancelOnEsc = function(evt) {\n          if (isDate() && evt.keyCode === 27) {\n            scope.cancelChange();\n          }\n        };\n\n        scope.handleKeydown = function(evt) {\n          if (evt.keyCode === 13) {\n            scope.applyChange(scope.selection, evt);\n            evt.preventDefault();\n          } else if (evt.keyCode === 27) {\n            scope.cancelChange(evt);\n            evt.preventDefault();\n          } else if (evt.keyCode === 9) {\n            scope.applyChange(scope.selection, evt);\n            scope.selectNextInlineField(evt.shiftKey);\n            evt.preventDefault();\n          }\n          scope.selection = null;\n        };\n\n        scope.selection = null;\n        scope.saveSelection = function(selection) {\n          scope.selection = selection;\n          $timeout(function() {\n            // check if the selection has been applied\n            if (scope.selection === selection) {\n              scope.applyChange(selection);\n            }\n          });\n        };\n      },\n\n      transclude: true\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<span ng-show=\"!editing\"\n      ng-click=\"startEditing()\"\n      ng-transclude\n      class=\"view-value\">\n</span>\n\n<span ng-if=\"editing && (varType === 'datetime' || varType === 'date' || varType === 'time')\"\n      class=\"preview\">\n  {{ dateValue | camDate }}\n</span>\n\n<span ng-if=\"editing\"\n      ng-form\n      name=\"inlineForm\"\n      class=\"edit\">\n\n  <input ng-if=\"simpleField && !isNumber\"\n         class=\"form-control\"\n         type=\"{{ varType }}\"\n         ng-model=\"editValue\"\n         ng-keydown=\"handleKeydown($event)\"\n         placeholder=\"{{ placeholder }}\" />\n\n   <input ng-if=\"isNumber\"\n          name=\"numberField\"\n          class=\"form-control\"\n          ng-pattern=\"/^[0-9]{1,7}$/\"\n          ng-model=\"editValue\"\n          ng-keydown=\"handleKeydown($event)\"\n          placeholder=\"{{ placeholder }}\" />\n\n\n  <span ng-show=\"varType === 'datetime' || varType === 'date' || varType === 'time'\"\n        class=\"cam-widget-inline-field field-control datepicker\">\n\n    <div class=\"datepicker\"\n                uib-datepicker\n                ng-if=\"varType === 'datetime' || varType === 'date'\"\n                type=\"text\"\n                ng-required=\"true\"\n                is-open=\"datePickerOptions.isOpen\"\n                show-button-bar=\"false\"\n                ng-click=\"$event.stopPropagation()\"\n                ng-keydown=\"trapKeyboard($event, true); cancelOnEsc($event);\"\n\n                ng-model=\"dateValue\"\n                ng-change=\"changeDate(this)\"></div>\n\n    <div class=\"timepicker\"\n                uib-timepicker\n                ng-if=\"varType === 'datetime' || varType === 'time'\"\n                show-meridian=\"false\"\n\n                ng-model=\"dateValue\"\n                ng-keydown=\"cancelOnEsc($event);\"\n                ng-change=\"changeDate(this)\"></div>\n  </span>\n\n  <input ng-if=\"varType === 'option' && options[0].value\"\n         class=\"form-control\"\n         type=\"text\"\n         ng-model=\"editValue\"\n         ng-keydown=\"handleKeydown($event)\"\n         uib-typeahead=\"option as option.value for option in options | filter:$viewValue:instantTypeahead\"\n         typeahead-on-select=\"saveSelection($item)\"\n         typeahead-focus-first=\"!disableAutoselect\"\n         instant-typeahead />\n  <input ng-if=\"varType === 'option' && !options[0].value\"\n         class=\"form-control\"\n         type=\"text\"\n         ng-model=\"editValue\"\n         ng-keydown=\"handleKeydown($event)\"\n         uib-typeahead=\"option for option in options | filter:$viewValue:instantTypeahead\"\n         typeahead-on-select=\"saveSelection($item)\"\n         typeahead-focus-first=\"!disableAutoselect\"\n         instant-typeahead />\n\n  <span ng-show=\"varType !== 'option'\"\n        class=\"cam-widget-inline-field btn-group\">\n    <button type=\"button\"\n            class=\"btn btn-xs btn-default\"\n            ng-click=\"changeType()\"\n            ng-if=\"flexible\">\n      <span class=\"glyphicon\"\n            ng-class=\"'glyphicon-' + (varType === 'text' ? 'calendar' : 'pencil')\"></span>\n    </button>\n\n    <button type=\"button\"\n            class=\"btn btn-xs btn-default\"\n            ng-style=\"{visibility: !isNumber || inlineForm.numberField.$valid ? 'visible' : 'hidden'}\"\n            ng-click=\"applyChange($event);\"\n            ng-keydown=\"cancelOnEsc($event);\">\n      <span class=\"glyphicon glyphicon-ok\"></span>\n    </button>\n\n    <button type=\"button\"\n            class=\"btn btn-xs btn-default\"\n            ng-click=\"cancelChange($event)\"\n            ng-keydown=\"trapKeyboard($event); cancelOnEsc($event);\">\n      <span class=\"glyphicon glyphicon-remove\"></span>\n    </button>\n  </span>\n</span>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar $ = require(\"jquery\"),\n  template = require(\"./cam-widget-search-pill.html.js\");\n\nmodule.exports = [\n  \"$timeout\",\n  function($timeout) {\n    return {\n      restrict: \"A\",\n\n      scope: {\n        valid: \"=\",\n        extended: \"=\",\n        basic: \"=\",\n        allowDates: \"=\",\n        enforceDates: \"=\",\n        enforceString: \"=\",\n        options: \"=\",\n        invalidText: \"@\",\n        deleteText: \"@\",\n\n        type: \"=\",\n        name: \"=\",\n        potentialNames: \"=?\",\n        operator: \"=\",\n        value: \"=\",\n\n        onChange: \"&\",\n        onDelete: \"&\",\n\n        disableTypeaheadAutoselect: \"=?\",\n        allowNonOptions: \"@?\"\n      },\n\n      link: function($scope, element) {\n        $scope.valueType = getValueType();\n        $scope.potentialNames = $scope.potentialNames || [];\n\n        $scope.changeSearch = function(field, value, evt) {\n          var before = $scope[field].value;\n          $scope[field].value = value;\n          $scope[field].inEdit = false;\n          if (typeof $scope.onChange === \"function\") {\n            $scope.onChange({\n              field: field,\n              before: before,\n              value: value,\n              $event: evt\n            });\n          }\n        };\n\n        $scope.clearEditTrigger = function(field) {\n          $scope[field].inEdit = false;\n        };\n\n        $scope.onKeydown = function(evt, field) {\n          if (evt.keyCode === 13 && evt.target === evt.currentTarget) {\n            $scope[field].inEdit = true;\n          }\n        };\n\n        $scope.$watch(\"allowDates\", function(newValue) {\n          if (!newValue) {\n            $scope.valueType = getValueType();\n          }\n        });\n\n        $scope.$watch(\"enforceDates\", function(newValue) {\n          if (newValue) {\n            $scope.valueType = getValueType();\n          }\n        });\n\n        $scope.$watch(\"enforceString\", function(newValue) {\n          if (newValue) {\n            $scope.valueType = getValueType();\n          }\n        });\n\n        var focusField = function(fieldName) {\n          $timeout(function() {\n            $(\n              element[0].querySelectorAll(\n                \"[cam-widget-inline-field][value='\" + fieldName + \".value']\"\n              )\n            )\n              .find(\".view-value\")\n              .click();\n          });\n        };\n        $scope.$watch(\n          \"value\",\n          function(newValue) {\n            return newValue && newValue.inEdit && focusField(\"value\");\n          },\n          true\n        );\n        $scope.$watch(\n          \"name\",\n          function(newValue) {\n            return newValue && newValue.inEdit && focusField(\"name\");\n          },\n          true\n        );\n        $scope.$watch(\n          \"type\",\n          function(newValue) {\n            return newValue && newValue.inEdit && focusField(\"type\");\n          },\n          true\n        );\n        $scope.$watch(\n          \"operator\",\n          function(newValue) {\n            if (newValue && !newValue.value && newValue.values.length === 1) {\n              newValue.value = newValue.values[0];\n            }\n            return newValue && newValue.inEdit && focusField(\"operator\");\n          },\n          true\n        );\n\n        function getValueType() {\n          if ($scope.options) {\n            return \"option\";\n          }\n\n          return $scope.enforceDates ? \"datetime\" : \"text\";\n        }\n      },\n\n      template: template\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- CE # camunda-commons-ui/lib/widgets/search-pill/search-pill.html -->\n<span class=\"search-label\"\n      ng-class=\"{'invalid': !valid}\">\n  <a href\n     ng-click=\"onDelete()\"\n     tooltip-placement=\"top\"\n     uib-tooltip=\"{{ deleteText | translate }}\"\n     class=\"remove-search glyphicon glyphicon-remove\">\n  </a>\n\n  <span cam-widget-inline-field\n        class=\"set-value type-field\"\n        tabindex=\"0\"\n        ng-keydown=\"onKeydown($event, 'type')\"\n        type=\"option\"\n        options=\"type.values\"\n        change=\"changeSearch('type', varValue, $event)\"\n        on-start-editing=\"clearEditTrigger('type')\"\n        value=\"type.value\">\n    <span ng-if=\"type.tooltip\"\n          tooltip-placement=\"top\"\n          uib-tooltip=\"{{ type.tooltip | translate }}\">\n      {{ type.value.value | camQueryComponent }}\n    </span>\n    <span ng-if=\"!type.tooltip\">\n      {{ type.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if=\"extended\">:</span>\n\n  <span ng-if=\"extended && potentialNames.length <= 0 && !!name.value.value\"\n        cam-widget-inline-field\n        class=\"set-value name-field\"\n        type=\"text\"\n        tabindex=\"0\"\n        ng-keydown=\"onKeydown($event,'name')\"\n        change=\"changeSearch('name', varValue, $event)\"\n        on-start-editing=\"clearEditTrigger('name')\"\n        value=\"name.value.value\">\n    <span ng-if=\"name.tooltip\"\n          tooltip-placement=\"top\"\n          uib-tooltip=\"{{name.tooltip | translate }}\">\n        {{ name.value.value | camQueryComponent }}\n    </span>\n    <span ng-if=\"!name.tooltip\">\n        {{ name.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if=\"extended && potentialNames.length <= 0 && !name.value.value\"\n        cam-widget-inline-field\n        class=\"set-value name-field\"\n        tabindex=\"0\"\n        ng-keydown=\"onKeydown($event, 'name')\"\n        type=\"text\"\n        change=\"changeSearch('name', varValue, $event)\"\n        on-start-editing=\"clearEditTrigger('name')\"\n        value=\"name.value\">\n    <span ng-if=\"name.tooltip\"\n          tooltip-placement=\"top\"\n          uib-tooltip=\"{{name.tooltip | translate }}\">\n        {{ name.value | camQueryComponent }}\n    </span>\n    <span ng-if=\"!name.tooltip\">\n        {{ name.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if=\"extended && potentialNames.length > 0\"\n        cam-widget-inline-field\n        class=\"set-value name-field\"\n        tabindex=\"0\"\n        ng-keydown=\"onKeydown($event, 'name')\"\n        type=\"option\"\n        options=\"potentialNames\"\n        allow-non-options=\"true\"\n        disable-autoselect=\"disableTypeaheadAutoselect\"\n        change=\"changeSearch('name', varValue, $event)\"\n        on-start-editing=\"clearEditTrigger('name')\"\n        value=\"name.value\">\n    <span ng-if=\"extended && name.tooltip && name.value.key\">\n      {{ name.value.value | camQueryComponent }}\n    </span>\n    <span ng-if=\"extended && name.tooltip && !name.value.key\">\n      {{ name.value | camQueryComponent }}\n    </span>\n    <span ng-if=\"extended && !name.tooltip && name.value.key\">\n      {{ name.value.value | camQueryComponent }}\n    </span>\n    <span ng-if=\"extended && !name.tooltip && !name.value.key\">\n      {{ name.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if=\"!basic && operator.values.length > 1\"\n        cam-widget-inline-field\n        class=\"set-value operator-field\"\n        tabindex=\"0\"\n        ng-keydown=\"onKeydown($event, 'operator')\"\n        type=\"option\"\n        options=\"operator.values\"\n        change=\"changeSearch('operator', varValue, $event)\"\n        on-start-editing=\"clearEditTrigger('operator')\"\n        value=\"operator.value\">\n    <span ng-if=\"operator.tooltip\"\n          tooltip-placement=\"top\"\n          uib-tooltip=\"{{operator.tooltip | translate }}\">\n      {{ operator.value.value | camQueryComponent }}\n    </span>\n    <span ng-if=\"!operator.tooltip\">\n      {{ operator.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if=\"operator.values.length < 2 && operator.tooltip\"\n        tooltip-placement=\"top\"\n        uib-tooltip=\"{{operator.tooltip | translate }}\"\n        class=\"operator-field\">\n    {{ operator.value.value | camQueryComponent }}\n  </span>\n  <span ng-if=\"operator.values.length < 2 && !operator.tooltip\"\n        class=\"operator-field\">\n    {{ operator.value.value | camQueryComponent }}\n  </span>\n\n  <span cam-widget-inline-field\n        class=\"set-value value-field\"\n        tabindex=\"0\"\n        ng-keydown=\"onKeydown($event, 'value')\"\n        type=\"{{ valueType }}\"\n        change=\"changeSearch('value', varValue, $event)\"\n        on-start-editing=\"clearEditTrigger('value')\"\n        ng-if=\"!basic\"\n        options=\"options\"\n        allow-non-options=\"allowNonOptions\"\n        value=\"value.value\"\n        flexible=\"{{ allowDates }}\">\n    <span class=\"visible-whitespace\"\n          ng-if=\"value.tooltip\"\n          tooltip-placement=\"top\"\n          uib-tooltip=\"{{value.tooltip | translate }}\">{{ value.value | camQueryComponent }}</span>\n    <span class=\"visible-whitespace\"\n          ng-if=\"!value.tooltip\">{{ value.value | camQueryComponent }}</span>\n  </span>\n</span>\n<!-- CE / camunda-commons-ui/lib/widgets/search-pill/search-pill.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$filter\",\n  function($filter) {\n    var dateRegex = /(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)T(\\d\\d):(\\d\\d):(\\d\\d)(?:.(\\d\\d\\d)| )?$/;\n\n    function isDateValue(value) {\n      return value.match(dateRegex);\n    }\n\n    var camDate = $filter(\"camDate\");\n\n    return function(input) {\n      if (input && isDateValue(input)) {\n        return camDate(input);\n      }\n      return input ? input : \"??\";\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-bpm-sdk-js/vendor/angular\"),\n  template = require(\"./cam-widget-header.html.js\");\n\nvar apps = {\n  welcome: {\n    label: \"Welcome\"\n  },\n  admin: {\n    label: \"Admin\"\n  },\n  cockpit: {\n    label: \"Cockpit\"\n  },\n  tasklist: {\n    label: \"Tasklist\"\n  }\n};\n\nmodule.exports = function() {\n  return {\n    transclude: true,\n\n    template: template,\n\n    scope: {\n      userName: \"=?\",\n      currentApp: \"@\",\n      signOut: \"@?\",\n      toggleNavigation: \"@?\",\n      myProfile: \"@?\",\n      smallScreenWarning: \"@?\",\n      brandName: \"@\"\n    },\n\n    compile: function(el, attrs) {\n      if (!attrs.toggleNavigation) {\n        attrs.toggleNavigation = \"CAM_WIDGET_HEADER_TOGGLE_NAVIGATION\";\n      }\n      if (!attrs.myProfile) {\n        attrs.myProfile = \"CAM_WIDGET_HEADER_MY_PROFILE\";\n      }\n      if (!attrs.signOut) {\n        attrs.signOut = \"CAM_WIDGET_HEADER_SIGN_OUT\";\n      }\n      if (!attrs.brandName) {\n        attrs.brandName = \"Camunda\";\n      }\n      if (!attrs.smallScreenWarning) {\n        attrs.smallScreenWarning = \"CAM_WIDGET_HEADER_SMALL_SCREEN_WARNING\";\n      }\n    },\n\n    controller: [\n      \"$scope\",\n      \"AuthenticationService\",\n      \"$http\",\n      \"Uri\",\n      function($scope, AuthenticationService, $http, Uri) {\n        $scope.authentication = null;\n\n        $http.get(Uri.appUri(\"admin://auth/user/:engine\")).then(function(res) {\n          $scope.authentication = res.data;\n          $scope.authentication.name = $scope.authentication.userId;\n        });\n\n        $scope.logout = AuthenticationService.logout;\n        $scope.getTargetRoute = function() {\n          return $scope.authentication ? \"\" : \"#/login\";\n        };\n\n        function setApps() {\n          var kept = angular.copy(apps);\n\n          if ($scope.currentApp) {\n            if ($scope.currentApp === \"welcome\" && $scope.authentication) {\n              kept = {};\n            } else {\n              delete kept[$scope.currentApp];\n            }\n          }\n\n          if ($scope.authentication && $scope.authentication.name) {\n            delete kept.welcome;\n\n            Object.keys(kept).forEach(function(appName) {\n              if ($scope.authentication.authorizedApps.indexOf(appName) < 0) {\n                delete kept[appName];\n              }\n            });\n          }\n\n          $scope.showAppDropDown = Object.keys(kept).length > 0;\n\n          $scope.apps = kept;\n        }\n\n        $scope.$watch(\"currentApp\", setApps);\n        $scope.$watch(\"authentication\", setApps);\n      }\n    ]\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div class=\"navbar-header\">\n  <button type=\"button\"\n          class=\"navbar-toggle\"\n          ng-class=\"{open: !!navbarOpen}\"\n          ng-click=\"navbarOpen = !navbarOpen\">\n    <em class=\"sr-only\">{{ toggleNavigation }}</em>\n    <span></span>\n    <span></span>\n    <span></span>\n  </button>\n\n  <a class=\"navbar-brand\"\n     href=\"#/\"\n     title=\"{{ brandName }} {{ appName }}\">\n    <span class=\"brand-logo\"></span>\n    <span class=\"brand-name\" ng-cloak>{{ brandName }}</span>\n  </a>\n\n  <div class=\"small-screen-warning\">\n    <span class=\"glyphicon glyphicon-exclamation-sign\"\n          uib-tooltip=\"{{ smallScreenWarning | translate }}\"\n          tooltip-placement=\"bottom\"></span>\n  </div>\n</div>\n\n<nav class=\"cam-nav app-menu\">\n  <ul ng-class=\"{collapse: !navbarOpen}\">\n\n    <li engine-select></li>\n\n    <li class=\"account dropdown\"\n        ng-if=\"authentication.name\"\n        ng-cloak\n        uib-dropdown>\n      <a href\n         class=\"dropdown-toggle\"\n         uib-dropdown-toggle>\n        <span class=\"glyphicon glyphicon-user \"></span>\n        {{ (userName || authentication.name) }}\n      </a>\n\n      <ul class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\n        <li class=\"profile\"\n            ng-if=\"currentApp !== 'welcome'\">\n          <a ng-href=\"{{ '../../welcome/:engine/' | uri }}\">\n            {{ myProfile | translate }}\n          </a>\n        </li>\n\n        <li class=\"divider\"\n            ng-if=\"currentApp !== 'welcome'\"></li>\n\n        <li class=\"logout\">\n          <a href\n             ng-click=\"logout()\">\n            {{ signOut | translate }}\n          </a>\n        </li>\n      </ul>\n    </li>\n\n    <li class=\"divider-vertical\"\n        ng-if=\"authentication.name\"\n        ng-cloak></li>\n\n    <li class=\"app-switch dropdown\"\n        ng-if=\"showAppDropDown\"\n        uib-dropdown>\n      <a href\n         class=\"dropdown-toggle\"\n         uib-dropdown-toggle>\n        <span class=\"glyphicon glyphicon-home\"></span>\n        <span class=\"caret\"></span>\n      </a>\n\n      <ul class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\n        <li ng-repeat=\"(appName, app) in apps\"\n            ng-class=\"appName\">\n          <a ng-href=\"{{ ('../../' + appName + '/:engine/' | uri) + getTargetRoute() }}\">\n            {{ app.label }}\n          </a>\n        </li>\n      </ul>\n    </li>\n  </ul>\n</nav>\n\n<div ng-transclude\n     class=\"sections-menu\"\n     ng-class=\"{collapse: !navbarOpen}\"></div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-widget-footer.html.js\");\n\nmodule.exports = [\n  function() {\n    return {\n      template: template,\n      scope: {\n        version: \"@\"\n      },\n      link: function($scope) {\n        $scope.timezoneName = Intl.DateTimeFormat().resolvedOptions().timeZone;\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div class=\"container-fluid\">\n  <div class=\"row\">\n    <div class=\"col-xs-6\" style=\"text-align: left;\">\n      {{ 'CAM_WIDGET_FOOTER_TIMEZONE' | translate }} <i>{{timezoneName}}</i>\n    </div>\n    <div class=\"col-xs-6\">\n      {{ 'CAM_WIDGET_FOOTER_POWERED_BY' | translate }} <a href=\"http://camunda.org\">camunda BPM</a> /\n      <span class=\"version\">{{version}}</span>\n    </div>\n  </div>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-bpm-sdk-js/vendor/angular\"),\n  template = require(\"./cam-widget-loader.html.js\");\n\nmodule.exports = [\n  function() {\n    return {\n      transclude: true,\n\n      template: template,\n\n      scope: {\n        loadingState: \"@\",\n        textEmpty: \"@\",\n        textError: \"@\",\n        textLoading: \"@\"\n      },\n\n      compile: function(element, attrs) {\n        if (!angular.isDefined(attrs.textLoading)) {\n          attrs.textLoading = \"Loading\";\n        }\n\n        if (!angular.isDefined(attrs.loadingState)) {\n          attrs.loadingState = \"INITIAL\";\n        }\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div class=\"loader-state loaded\"\n     ng-show=\"loadingState === 'LOADED'\"\n     ng-transclude></div>\n\n<div class=\"loader-state loading\"\n     ng-if=\"loadingState === 'LOADING'\">\n  <span class=\"glyphicon glyphicon-refresh animate-spin\"></span>\n  {{ textLoading }}\n</div>\n\n<div class=\"loader-state empty\"\n     ng-if=\"loadingState === 'EMPTY'\">\n  {{ textEmpty }}\n</div>\n\n<div uib-alert class=\"loader-state alert alert-danger\"\n     ng-if=\"loadingState === 'ERROR'\">\n  {{ textError }}\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar throttle = require(\"lodash\").throttle;\nvar LineChart = require(\"./../../chart/line\");\nvar moment = require(\"../../../../camunda-bpm-sdk-js/vendor/moment\"); // this should be left as-is to support development with `line.html`\nvar abbreviateNumber = require(\"./../../filter/abbreviateNumber\")();\n\nmodule.exports = [\n  \"$window\",\n  function($window) {\n    return {\n      restrict: \"A\",\n\n      scope: {\n        fontFamily: \"=?\",\n        fontSize: \"=?\",\n        handleColor: \"=?\",\n        handleColorHover: \"=?\",\n        handleWidth: \"=?\",\n        interval: \"=?\",\n        lineColors: \"=?\",\n        lineWidth: \"=?\",\n        rulersColor: \"=?\",\n        selectingColor: \"=?\",\n        selection: \"&onSelection\",\n        textPadding: \"=?\",\n        tickSize: \"=?\",\n        timeLabelFormats: \"=?\",\n        timespan: \"=?\",\n        timestampFormat: \"=?\",\n        unselectedColor: \"=?\",\n        valueLabelsCount: \"=?\",\n        values: \"=\",\n        disableSelection: \"=\",\n        isLogScale: \"=\"\n      },\n\n      link: function($scope, $element) {\n        var container = $element[0];\n        var computedStyles = $window.getComputedStyle(container);\n\n        $scope.timespan = $scope.timespan || \"day\";\n        $scope.interval = $scope.interval || 900;\n\n        function height() {\n          return Math.min(Math.max(container.clientWidth * 0.75, 180), 300);\n        }\n\n        var chart = ($scope.chart = new LineChart({\n          moment: moment,\n          abbreviateNumber: abbreviateNumber,\n\n          onselection: function onselection(info) {\n            $scope.$apply(function() {\n              $scope.selection({\n                info: info\n              });\n            });\n          },\n\n          width: container.clientWidth,\n          height: height(),\n\n          fontFamily: $scope.fontFamily || computedStyles.fontFamily,\n          fontSize: $scope.fontSize,\n          handleColor: $scope.handleColor,\n          handleColorHover: $scope.handleColorHover,\n          handleWidth: $scope.handleWidth,\n          lineColors: $scope.lineColors,\n          lineWidth: $scope.lineWidth,\n          rulersColor: $scope.rulersColor || computedStyles.color,\n          selectingColor: $scope.selectingColor,\n          textPadding: $scope.textPadding,\n          tickSize: $scope.tickSize,\n          timeLabelFormats: $scope.timeLabelFormats,\n          timestampFormat: $scope.timestampFormat,\n          unselectedColor: $scope.unselectedColor,\n          valueLabelsCount: $scope.valueLabelsCount,\n          disableSelection: $scope.disableSelection,\n          isLogScale: $scope.isLogScale\n        }));\n\n        $scope.$watch(\"values\", function() {\n          var cn = container.className.replace(\"no-data\", \"\");\n          if (\n            !$scope.values ||\n            !$scope.values.length ||\n            !$scope.values[0] ||\n            !$scope.values[0].length\n          ) {\n            cn += \" no-data\";\n            chart.setData([[]], $scope.timespan, $scope.interval);\n          } else {\n            chart.setData($scope.values, $scope.timespan, $scope.interval);\n          }\n          container.className = cn;\n        });\n\n        container.appendChild(chart.canvas);\n\n        var resize = throttle(function() {\n          chart.resize(container.clientWidth, height()).draw();\n        }, 100);\n\n        $window.addEventListener(\"resize\", resize);\n\n        $scope.$on(\"$destroy\", function() {\n          $window.removeEventListener(\"resize\", resize);\n        });\n      },\n\n      template: \"<!-- keule!! pech jehabt! -->\"\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nfunction roundUp(v, x) {\n  var stepWidth = Math.ceil(v / x);\n  var stepWidthStr = \"\" + stepWidth;\n  stepWidth =\n    (parseInt(stepWidthStr[0], 10) + 1) * Math.pow(10, stepWidthStr.length - 1);\n  return stepWidth * x;\n}\n\nfunction noop() {}\n\nfunction log10(x) {\n  return Math.log(x) / Math.log(10);\n}\n\nfunction LineChart(options) {\n  this.moment = options.moment;\n  this.abbreviateNumber = options.abbreviateNumber;\n\n  this.resize(options.width, options.height, options.disableSelection);\n\n  this.lineColors = options.lineColors;\n\n  this.rulersColor = options.rulersColor || \"#666\";\n\n  this.selectingColor = options.selectingColor || \"rgba(0,0,64,0.1)\";\n\n  this.unselectedColor = options.unselectedColor || \"rgba(0,0,0,0.1)\";\n\n  this.handleColorHover = options.handleColorHover || \"#999\";\n\n  this.handleColor = options.handleColor || \"#aaa\";\n\n  this.fontSize = options.fontSize || 12;\n\n  this.fontFamily = options.fontFamily || \"Arial\";\n\n  this.lineWidth = options.lineWidth || 1;\n\n  this.isLogScale = options.isLogScale || false;\n\n  this.valueLabelsCount = options.valueLabelsCount || 8;\n\n  this.timespan = options.timespan || \"day\";\n\n  this.interval = options.interval || 900;\n\n  this.handleWidth = options.handleWidth || 4;\n\n  this.timestampFormat = options.timestampFormat || \"YYYY-MM-DDTHH:mm:ss\";\n\n  this.timeLabelFormats = options.timeLabelFormats || {\n    day: \"HH:mm\",\n    week: \"dd DD\",\n    month: \"DD MMM\"\n  };\n\n  this.tickSize = options.tickSize || 10;\n\n  this.textPadding = options.textPadding || 3;\n\n  this.onselection = options.onselection || noop;\n}\n\nmodule.exports = LineChart;\n\nvar proto = LineChart.prototype;\n\nproto._mouseIsDown = false;\n\nproto._selectedIn = null;\nproto._selectedOut = null;\n\nproto._eventHandlers = {};\n\nproto._eventHandlers.mouseout = function(evt) {\n  this.drawMouseHint().drawSelection(evt);\n};\n\nproto._eventHandlers.mousemove = function(evt) {\n  var offset = this.cursorPosition(evt);\n\n  this._hoveredSelectionHandle = this.hoveredSelectionHandle(evt);\n\n  this.canvas.style.cursor = this._hoveredSelectionHandle\n    ? \"ew-resize\"\n    : \"default\";\n\n  if (this._grabbedSelectionHandle === \"in\") {\n    this._selectedIn = offset.left;\n  } else if (this._grabbedSelectionHandle === \"out\") {\n    this._selectedOut = offset.left;\n  }\n\n  this.drawMouseHint(offset.left, offset.top).drawSelection(evt);\n};\n\nproto._eventHandlers.mousedown = function(evt) {\n  var pos = this.cursorPosition(evt);\n  var verticalScaleX = this.verticalScaleX();\n  var innerW = this.innerW();\n\n  this._hoveredSelectionHandle = this.hoveredSelectionHandle(evt);\n\n  this.canvas.style.cursor = this._hoveredSelectionHandle\n    ? \"ew-resize\"\n    : \"default\";\n\n  if (!this._hoveredSelectionHandle) {\n    if (!this._mouseIsDown) {\n      this._selectedIn = Math.min(\n        Math.max(pos.left, verticalScaleX),\n        verticalScaleX + innerW\n      );\n      this._selectedOut = null;\n    }\n    this._mouseIsDown = true;\n  } else {\n    this._grabbedSelectionHandle = this._hoveredSelectionHandle;\n  }\n\n  this.drawMouseHint(pos.left, pos.top).drawSelection(evt);\n};\n\nproto._eventHandlers.mouseup = function(evt) {\n  var pos = this.cursorPosition(evt);\n  var verticalScaleX = this.verticalScaleX();\n  var innerW = this.innerW();\n\n  if (this._grabbedSelectionHandle) {\n    this._grabbedSelectionHandle = false;\n  }\n\n  if (this._mouseIsDown) {\n    this._selectedOut = Math.max(\n      Math.min(pos.left, verticalScaleX + innerW),\n      verticalScaleX\n    );\n  }\n  this._mouseIsDown = false;\n\n  if (Math.abs(this._selectedIn - this._selectedOut) <= 1) {\n    this._selectedIn = this._selectedOut = null;\n\n    this.onselection({\n      start: null,\n      end: null,\n      in: null,\n      out: null\n    });\n  }\n\n  this.drawMouseHint(pos.left, pos.top).drawSelection(evt);\n\n  if (this._selectedIn && this._selectedOut) {\n    this.onselection({\n      start: this.momentAtX(this._selectedIn),\n      end: this.momentAtX(this._selectedOut),\n      in: this._selectedIn,\n      out: this._selectedOut\n    });\n  }\n};\n\nproto._eventHandlers.wheel = function(evt) {\n  if (!this._selectedIn || !this._selectedOut) {\n    return;\n  }\n  evt.preventDefault();\n  var pos = this.cursorPosition(evt);\n\n  var ctx = this.ctx;\n  ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n  var speed = Math.max(\n    Math.round(Math.abs(this._selectedOut - this._selectedIn) / 10),\n    1\n  );\n  if (evt.deltaY > 0) {\n    this._selectedIn += speed;\n    this._selectedOut -= speed;\n  } else {\n    this._selectedIn -= speed;\n    this._selectedOut += speed;\n  }\n\n  this.drawMouseHint(pos.left, pos.top).drawSelection(evt);\n\n  this.onselection({\n    start: this.momentAtX(this._selectedIn),\n    end: this.momentAtX(this._selectedOut),\n    in: this._selectedIn,\n    out: this._selectedOut\n  });\n};\n\nproto.cursorPosition = function(evt) {\n  var rect = this.canvas.getBoundingClientRect();\n  return {\n    left: evt.clientX - rect.left,\n    top: evt.clientY - rect.top\n  };\n};\n\nproto.bindEvents = function() {\n  Object.keys(proto._eventHandlers).forEach(function(evtName) {\n    this.canvas.addEventListener(\n      evtName,\n      proto._eventHandlers[evtName].bind(this),\n      false\n    );\n  }, this);\n  return this;\n};\n\nproto.unbindEvents = function() {\n  Object.keys(proto._eventHandlers).forEach(function(evtName) {\n    this.canvas.removeEventListener(\n      evtName,\n      proto._eventHandlers[evtName].bind(this),\n      false\n    );\n  }, this);\n  return this;\n};\n\nproto._clearCache = function() {\n  this._verticalLabels = null;\n  this._verticalScaleX = null;\n  this._horizontalScaleY = null;\n  this._innerW = null;\n  this._innerH = null;\n  this._selectedIn = null;\n  this._selectedOut = null;\n};\n\nproto.resize = function(width, height, disableSelection) {\n  this._clearCache();\n\n  if (!this.canvas) {\n    this.canvas = document.createElement(\"canvas\");\n    this.offCanvas = document.createElement(\"canvas\");\n    !disableSelection && this.bindEvents();\n  }\n\n  this.canvas.width = this.offCanvas.width = width;\n  this.canvas.height = this.offCanvas.height = height;\n\n  this.ctx = this.canvas.getContext(\"2d\");\n  this.offCtx = this.offCanvas.getContext(\"2d\");\n\n  this._selectedIn = null;\n  this._selectedOut = null;\n\n  if (typeof this.onselection === \"function\") {\n    this.onselection({\n      start: null,\n      end: null,\n      in: null,\n      out: null\n    });\n  }\n  return this;\n};\n\nproto.max = function(index) {\n  var val = 0;\n  if (!arguments.length) {\n    (this.data || []).forEach(function(set, i) {\n      val = Math.max(val, this.max(i));\n    }, this);\n    return val;\n  }\n\n  (this.data[index] || []).forEach(function(d) {\n    val = Math.max(d.value, val);\n  }, this);\n\n  return val;\n};\n\nproto.min = function(index) {\n  var val = this.max();\n  if (!arguments.length) {\n    (this.data || []).forEach(function(set, i) {\n      val = Math.min(val, this.min(i));\n    }, this);\n    return val;\n  }\n\n  val = this.max(index);\n  (this.data[index] || []).forEach(function(d) {\n    val = Math.min(d.value, val);\n  }, this);\n\n  return val;\n};\n\nproto.momentAtX = function(x) {\n  var moment = this.moment;\n  var labelFrom = this.labelFrom;\n  var labelTo = this.labelTo;\n  var labelDiff = labelTo - labelFrom;\n  var msPerPx = labelDiff / this.innerW();\n  return moment(\n    new Date(msPerPx * (x - this.verticalScaleX()) + this.labelFrom),\n    moment.ISO_8601\n  );\n};\n\nproto.valueAtY = function(y) {\n  return y;\n};\n\nproto.setData = function(data, newTimespan, newInterval) {\n  this._clearCache();\n  var moment = this.moment;\n  var abbreviateNumber = this.abbreviateNumber;\n  this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n  this.offCtx.clearRect(0, 0, this.offCanvas.width, this.offCanvas.height);\n\n  if (newTimespan) {\n    this.timespan = newTimespan;\n  }\n  if (newInterval) {\n    this.interval = newInterval;\n  }\n\n  var emptyDate = moment();\n  var defaultData = [\n    [\n      {\n        value: 0,\n        timestamp: emptyDate.format(this.dateformat)\n      }\n    ]\n  ];\n  if (!data || !data.length || !data[0]) {\n    data = defaultData;\n  }\n  this.data = data;\n\n  var timespan = this.timespan;\n  var labelsStart;\n  var timestampFormat = this.timestampFormat;\n  var max = this.max();\n  var rounded = roundUp(max, this.valueLabelsCount);\n  var timeLabelFormats = this.timeLabelFormats;\n  var labelValue;\n\n  // if it's a log scale, the number of value labels is recalculated\n  if (this.isLogScale) {\n    this.valueLabelsCount = this.maxLog() + 1;\n  }\n\n  this.valueLabels = [];\n  for (var l = this.valueLabelsCount; l >= 0; l--) {\n    // set label value based on scale type\n    labelValue = this.isLogScale\n      ? l && Math.pow(10, l - 1)\n      : abbreviateNumber((l * rounded) / this.valueLabelsCount) || 0;\n\n    this.valueLabels.push(labelValue);\n  }\n\n  this.timeLabels = [];\n  if (data.length && data[0] && data[0].length && data[0][0].timestamp) {\n    var to = moment();\n\n    var labelTo = (this.labelTo = to.clone());\n    if (timespan === \"day\") {\n      labelTo.startOf(\"hour\").add(1, \"hour\");\n    } else if (timespan === \"week\") {\n      labelTo.startOf(\"day\").add(1, \"day\");\n    } else if (timespan === \"month\") {\n      labelTo.startOf(\"week\").add(1, \"week\");\n    }\n    var labelFrom = (this.labelFrom = labelTo.clone().subtract(1, timespan));\n\n    var count;\n    var unit;\n    var unitCount = 1;\n    if (timespan === \"day\") {\n      count = 12;\n      unit = \"hour\";\n      unitCount = 2;\n    } else if (timespan === \"week\") {\n      count = 7;\n      unit = \"day\";\n    } else if (timespan === \"month\") {\n      count = 4;\n      unit = \"week\";\n    }\n\n    for (var c = 0; c <= count; c++) {\n      this.timeLabels.push(\n        labelFrom\n          .clone()\n          .add(c * unitCount, unit)\n          .format(timeLabelFormats[timespan])\n      );\n    }\n  }\n\n  this.data = data.map(function(set) {\n    if (!set || !set.length) {\n      set = [{ value: 0 }];\n    }\n\n    if (set.length === 1) {\n      set = [set[0], set[0]];\n    }\n\n    var to = moment(set[set.length - 1].timestamp, timestampFormat);\n    var milliDiff = to - labelsStart;\n\n    return set.map(function(item) {\n      var millis = moment(item.timestamp, timestampFormat);\n      item.positionPercent = (to - millis) / milliDiff;\n      return item;\n    });\n  });\n\n  return this.draw();\n};\n\nproto._verticalLabels = null;\nproto.verticalLabels = function() {\n  if (this._verticalLabels) {\n    return this._verticalLabels;\n  }\n  var ctx = this.ctx;\n  var timeLabels = this.timeLabels;\n  var textPadding = this.textPadding;\n  var tt = 0;\n  var innerW = this.innerW();\n\n  timeLabels.forEach(function(l) {\n    tt += ctx.measureText(l).width + textPadding * 2;\n  });\n\n  this._verticalLabels = tt > innerW;\n\n  return this._verticalLabels;\n};\n\nproto._innerW = null;\nproto.innerW = function() {\n  if (this._innerW) {\n    return this._innerW;\n  }\n  var lineWidth = this.lineWidth;\n  var padding = Math.max(2 * lineWidth, 10);\n  var ctx = this.ctx;\n  var width = ctx.canvas.width;\n\n  var tm = 0;\n  var textPadding = this.textPadding;\n  var timeLabels = this.timeLabels;\n  timeLabels.forEach(function(l) {\n    tm = Math.max(tm, ctx.measureText(l).width + textPadding * 2);\n  });\n\n  this._innerW = width - (padding + this.verticalScaleX());\n  if (!this.verticalLabels()) {\n    this._innerW -= tm / 2;\n  }\n  return this._innerW;\n};\n\nproto._innerH = null;\nproto.innerH = function() {\n  if (this._innerH) {\n    return this._innerH;\n  }\n  var lineWidth = this.lineWidth;\n  var padding = Math.max(2 * lineWidth, 10);\n  var ctx = this.ctx;\n  var height = ctx.canvas.height;\n\n  this._innerH = height - (padding + this.horizontalScaleY());\n\n  return this._innerH;\n};\n\nproto._verticalScaleX = null;\nproto.verticalScaleX = function() {\n  if (this._verticalScaleX) {\n    return this._verticalScaleX;\n  }\n  var verticalScaleX = 0;\n  var ctx = this.ctx;\n  var valueLabels = this.valueLabels;\n  var textPadding = this.textPadding;\n  var tickSize = this.tickSize;\n\n  valueLabels.forEach(function(l) {\n    verticalScaleX = Math.max(\n      verticalScaleX,\n      ctx.measureText(l || \"0\").width + textPadding * 4 + tickSize\n    );\n  });\n  verticalScaleX =\n    Math.round(Math.max(verticalScaleX, tickSize + textPadding)) + 0.5;\n\n  this._verticalScaleX = verticalScaleX;\n\n  return verticalScaleX;\n};\n\nproto._horizontalScaleY = null;\nproto.horizontalScaleY = function() {\n  if (this._horizontalScaleY) {\n    return this._horizontalScaleY;\n  }\n\n  var ctx = this.ctx;\n  var timeLabels = this.timeLabels;\n  var fontSize = this.fontSize;\n  var tickSize = this.tickSize;\n  var textPadding = this.textPadding;\n  var vertLabel = this.verticalLabels();\n\n  var horizontalScaleY = 0;\n\n  if (vertLabel) {\n    timeLabels.forEach(function(l) {\n      horizontalScaleY = Math.max(\n        horizontalScaleY,\n        ctx.measureText(l).width + textPadding * 4 + tickSize\n      );\n    });\n    horizontalScaleY = Math.round(\n      Math.max(horizontalScaleY, tickSize + textPadding)\n    );\n  } else {\n    horizontalScaleY = fontSize + textPadding * 2 + tickSize;\n  }\n\n  this._horizontalScaleY = horizontalScaleY;\n\n  return horizontalScaleY;\n};\n\nproto.drawMouseHint = function(x, y) {\n  var ctx = this.ctx;\n  var innerW = this.innerW();\n  var height = ctx.canvas.height;\n  var width = ctx.canvas.width;\n  var padding = Math.max(2 * this.lineWidth, 10);\n  var verticalScaleX = this.verticalScaleX();\n  var horizontalScaleY = this.horizontalScaleY();\n  var tickSize = this.tickSize;\n\n  ctx.strokeStyle = this.rulersColor;\n  ctx.fillStyle = this.rulersColor;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"round\";\n  ctx.lineJoin = \"round\";\n  ctx.font = this.fontSize + \"px \" + this.fontFamily;\n\n  ctx.clearRect(0, 0, width, height);\n  ctx.drawImage(this.offCanvas, 0, 0, width, height, 0, 0, width, height);\n\n  if (x && x > verticalScaleX && x <= verticalScaleX + innerW) {\n    var text = this.momentAtX(x).format(this.timestampFormat);\n    var tw = ctx.measureText(text).width + padding * 2;\n    var tx = x + tw > width - padding ? width - (padding + tw) : x;\n    var ty = y > padding ? y : padding;\n    ctx.fillText(text, tx, ty);\n\n    ctx.beginPath();\n    ctx.moveTo(x + 0.5, height - (horizontalScaleY + tickSize));\n    ctx.lineTo(x + 0.5, height - horizontalScaleY);\n    ctx.stroke();\n    ctx.closePath();\n  }\n\n  return this;\n};\n\nproto.drawSelection = function(evt) {\n  var ctx = this.ctx;\n  var innerH = this.innerH();\n  var innerW = this.innerW();\n  var verticalScaleX = this.verticalScaleX();\n  var padding = Math.max(2 * this.lineWidth, 10);\n  var offset = this.cursorPosition(evt);\n  var handleWidth = this.handleWidth;\n  var selectingColor = this.selectingColor;\n  var unselectedColor = this.unselectedColor;\n\n  var _fillStyle = ctx.fillStyle;\n\n  if (this._mouseIsDown) {\n    ctx.fillStyle = selectingColor;\n\n    // selecting from left to right\n    if (this._selectedIn < offset.left) {\n      ctx.fillRect(\n        this._selectedIn,\n        padding,\n        Math.min(\n          offset.left - this._selectedIn,\n          verticalScaleX + innerW - this._selectedIn\n        ),\n        innerH\n      );\n    }\n\n    // selecting from right to left\n    else {\n      ctx.fillRect(\n        Math.max(offset.left, verticalScaleX),\n        padding,\n        Math.min(this._selectedIn - offset.left, innerW),\n        innerH\n      );\n    }\n\n    ctx.fillStyle = _fillStyle;\n    return this;\n  }\n\n  if (this._selectedIn && this._selectedOut) {\n    var _lineWidth = ctx.lineWidth;\n    var _strokeStyle = ctx.strokeStyle;\n\n    if (this._selectedIn < verticalScaleX) {\n      this._selectedIn = verticalScaleX;\n    }\n\n    if (this._selectedOut > verticalScaleX + innerW) {\n      this._selectedOut = verticalScaleX + innerW;\n    }\n\n    ctx.fillStyle = unselectedColor;\n\n    if (this._selectedOut && this._selectedIn > this._selectedOut) {\n      var s = this._selectedOut;\n      this._selectedOut = this._selectedIn;\n      this._selectedIn = s;\n    }\n\n    // left rect\n    ctx.fillRect(\n      verticalScaleX,\n      padding,\n      this._selectedIn - verticalScaleX,\n      innerH\n    );\n    // right rect\n    ctx.fillRect(\n      this._selectedOut,\n      padding,\n      innerW + verticalScaleX - this._selectedOut,\n      innerH\n    );\n\n    ctx.beginPath();\n    ctx.moveTo(this._selectedIn + 0.5, innerH + padding);\n    ctx.lineTo(this._selectedIn + 0.5, padding + 0.5);\n    ctx.lineTo(this._selectedOut + 0.5, padding + 0.5);\n    ctx.lineTo(this._selectedOut + 0.5, innerH + padding);\n    ctx.stroke();\n\n    ctx.lineWidth = handleWidth + 2;\n    ctx.strokeStyle = this.rulersColor;\n    ctx.beginPath();\n    ctx.moveTo(this._selectedIn, padding + 10);\n    ctx.lineTo(this._selectedIn, 80);\n    ctx.stroke();\n    ctx.closePath();\n\n    ctx.lineWidth = handleWidth;\n    ctx.strokeStyle =\n      this._hoveredSelectionHandle === \"in\"\n        ? this.handleColorHover\n        : this.handleColor;\n    ctx.beginPath();\n    ctx.moveTo(this._selectedIn, padding + 10);\n    ctx.lineTo(this._selectedIn, 80);\n    ctx.stroke();\n\n    ctx.lineWidth = handleWidth + 2;\n    ctx.strokeStyle = \"#333\";\n    ctx.beginPath();\n    ctx.moveTo(this._selectedOut, padding + 10);\n    ctx.lineTo(this._selectedOut, 80);\n    ctx.stroke();\n    ctx.closePath();\n\n    ctx.lineWidth = handleWidth;\n    ctx.strokeStyle =\n      this._hoveredSelectionHandle === \"out\"\n        ? this.handleColorHover\n        : this.handleColor;\n    ctx.beginPath();\n    ctx.moveTo(this._selectedOut, padding + 10);\n    ctx.lineTo(this._selectedOut, 80);\n    ctx.stroke();\n\n    ctx.lineWidth = _lineWidth;\n    ctx.fillStyle = _fillStyle;\n    ctx.strokeStyle = _strokeStyle;\n  }\n\n  return this;\n};\n\nproto.hoveredSelectionHandle = function(evt) {\n  if (!this._selectedIn || !this._selectedOut) return false;\n  var offset = this.cursorPosition(evt);\n  var ctx = this.ctx;\n  var padding = Math.max(2 * this.lineWidth, 10);\n  var returned = false;\n  var handleWidth = this.handleWidth + 4;\n\n  var _lineWidth = ctx.lineWidth;\n  var _strokeStyle = ctx.strokeStyle;\n  ctx.lineWidth = 1;\n  ctx.strokeStyle = \"rgba(0,0,0,0)\";\n\n  ctx.beginPath();\n  ctx.rect(this._selectedIn - handleWidth / 2, padding + 10, handleWidth, 80);\n  ctx.stroke();\n  ctx.closePath();\n  if (ctx.isPointInPath(offset.left, offset.top)) {\n    returned = \"in\";\n  }\n\n  ctx.beginPath();\n  ctx.rect(this._selectedOut - handleWidth / 2, padding + 10, handleWidth, 80);\n  ctx.stroke();\n  ctx.closePath();\n  if (ctx.isPointInPath(offset.left, offset.top)) {\n    returned = \"out\";\n  }\n\n  ctx.lineWidth = _lineWidth;\n  ctx.strokeStyle = _strokeStyle;\n  return returned;\n};\n\n/**\n * returns the smallest power of 10 that is greater than max\n */\nproto.maxLog = function() {\n  var max = this.max() || 1;\n  return Math.ceil(log10(max));\n};\n\nproto.drawRulers = function() {\n  var ctx = this.offCtx; // for compositing with mouse interaction, draw on the canvas which is not in the DOM\n  var lineWidth = this.lineWidth;\n  var padding = Math.max(2 * lineWidth, 10);\n  var abbreviateNumber = this.abbreviateNumber;\n\n  var timeLabels = this.timeLabels;\n  var valueLabels = this.valueLabels;\n  var height = ctx.canvas.height;\n\n  var textPadding = this.textPadding;\n  var tickSize = this.tickSize;\n  var verticalScaleX = this.verticalScaleX();\n  var horizontalScaleY = this.horizontalScaleY();\n  var innerW = this.innerW();\n  var innerH = this.innerH();\n  var vertLabel = this.verticalLabels();\n\n  var step;\n  var index;\n  var valueLabel;\n  var maxLog;\n  var transformedVal;\n  var yPosition;\n\n  ctx.strokeStyle = this.rulersColor;\n  ctx.fillStyle = this.rulersColor;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"round\";\n  ctx.lineJoin = \"round\";\n  ctx.font = this.fontSize + \"px \" + this.fontFamily;\n\n  // draw horizontal (time) scale\n  var t = height - horizontalScaleY + 0.5;\n  ctx.beginPath();\n  ctx.moveTo(verticalScaleX - tickSize, t);\n  ctx.lineTo(verticalScaleX + innerW, t);\n  ctx.stroke();\n\n  // draw vertical (value) scale\n  ctx.beginPath();\n  ctx.moveTo(verticalScaleX, padding);\n  ctx.lineTo(verticalScaleX, t + tickSize);\n  ctx.stroke();\n\n  if (vertLabel) {\n    ctx.textAlign = \"right\";\n    ctx.textBaseline = \"middle\";\n  } else {\n    ctx.textAlign = \"center\";\n    ctx.textBaseline = \"top\";\n  }\n\n  timeLabels.forEach(function(label, l) {\n    var tx = verticalScaleX + l * (innerW / (timeLabels.length - 1));\n\n    ctx.beginPath();\n    ctx.moveTo(tx, t);\n    ctx.lineTo(tx, t + tickSize);\n    ctx.stroke();\n\n    if (vertLabel) {\n      ctx.save();\n      ctx.translate(tx, height - (horizontalScaleY - (tickSize + textPadding)));\n      ctx.rotate(-Math.PI / 2);\n      ctx.fillText(timeLabels[l], 0, 0);\n      ctx.restore();\n    } else {\n      ctx.fillText(\n        timeLabels[l],\n        tx,\n        height - (horizontalScaleY - (tickSize + textPadding))\n      );\n    }\n  });\n\n  step = innerH / (valueLabels.length - 1);\n  maxLog = this.maxLog();\n  ctx.textAlign = \"right\";\n  ctx.textBaseline = \"middle\";\n  for (index = 0; index < valueLabels.length; index++) {\n    valueLabel = valueLabels[index];\n    if (this.isLogScale) {\n      transformedVal =\n        valueLabel && (innerH / (maxLog + 1)) * (log10(valueLabel) + 1);\n      yPosition = innerH - transformedVal + padding;\n    } else {\n      yPosition = Math.round(padding + step * index) - 0.5;\n    }\n\n    ctx.fillText(\n      abbreviateNumber(valueLabel) || 0,\n      verticalScaleX - (tickSize + textPadding),\n      yPosition\n    );\n\n    if (index < valueLabels.length - 1) {\n      ctx.beginPath();\n      ctx.moveTo(verticalScaleX - tickSize, yPosition);\n      ctx.lineTo(verticalScaleX, yPosition);\n      ctx.stroke();\n    }\n  }\n\n  return this;\n};\n\nproto.draw = function() {\n  var ctx = this.offCtx; // for compositing with mouse interaction, draw on the canvas which is not in the DOM\n  var lineWidth = this.lineWidth;\n  var padding = Math.max(2 * lineWidth, 10);\n\n  var width = ctx.canvas.width;\n  var height = ctx.canvas.height;\n\n  var verticalScaleX = this.verticalScaleX();\n  var horizontalScaleY = this.horizontalScaleY();\n  var innerW = this.innerW();\n  var innerH = this.innerH();\n\n  ctx.clearRect(0, 0, width, height);\n\n  var labelFrom = this.labelFrom;\n  var labelTo = this.labelTo;\n  var labelDiff = labelTo - labelFrom;\n  var interval = this.interval;\n  var t = height - horizontalScaleY + 0.5;\n  var isLogScale = this.isLogScale;\n\n  var max = this.max();\n  var maxLog = this.maxLog();\n  var rounded = roundUp(max, this.valueLabelsCount);\n  function pxFromTop(val) {\n    if (!val) return t;\n    var transformedVal = val && (innerH / (maxLog + 1)) * (log10(val) + 1);\n    return isLogScale\n      ? innerH - transformedVal + padding\n      : innerH - (innerH / rounded) * val + padding;\n  }\n  function pxFromLeft(mom) {\n    return verticalScaleX + ((mom - labelFrom) / labelDiff) * innerW;\n  }\n\n  // draw the data\n  this.data.forEach(function(set, index) {\n    var right;\n    var top;\n    var mom;\n    var skipped;\n    var moment = this.moment;\n    var color = this.lineColors[index];\n\n    ctx.lineWidth = lineWidth;\n    ctx.strokeStyle = color;\n\n    ctx.beginPath();\n    set.forEach(function(item, i) {\n      mom = moment(item.timestamp, moment.ISO_8601);\n      // record is older than the from label\n      if (mom <= labelFrom) {\n        skipped = item;\n        return;\n      }\n      // first record is after label from, draw a line at 0 until (mom - interval)\n      else if (i === 0 && mom > labelFrom) {\n        ctx.moveTo(verticalScaleX, height - horizontalScaleY);\n        ctx.lineTo(\n          pxFromLeft(mom.clone().subtract(interval, \"seconds\")),\n          height - horizontalScaleY\n        );\n      }\n\n      if (skipped) {\n        right = verticalScaleX;\n        top = pxFromTop(skipped.value);\n        ctx.lineTo(right, top);\n        skipped = null;\n      }\n\n      right = pxFromLeft(mom);\n      top = pxFromTop(item.value);\n      ctx.lineTo(right, top);\n    });\n\n    if (moment() - mom >= interval * 1000) {\n      right = pxFromLeft(mom.clone().add(interval, \"seconds\"));\n      top = height - horizontalScaleY;\n      ctx.lineTo(right, top);\n\n      right = pxFromLeft(moment());\n      ctx.lineTo(right, top);\n    }\n\n    ctx.stroke();\n    ctx.closePath();\n\n    // draw the starting point\n    if (set.length >= 1) {\n      ctx.beginPath();\n      ctx.fillStyle = color;\n      ctx.arc(right, top, lineWidth * 2, 0, 2 * Math.PI);\n      ctx.fill();\n      ctx.closePath();\n    }\n  }, this);\n\n  this.ctx.drawImage(this.offCanvas, 0, 0, width, height, 0, 0, width, height);\n\n  return this.drawRulers().drawMouseHint();\n};\n\nproto.remove = function() {\n  this.unbindEvents();\n  this.canvas.parentNode.removeChild(this.canvas);\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-widget-debug.html.js\");\n\nmodule.exports = [\n  function() {\n    return {\n      template: template,\n\n      scope: {\n        debugged: \"=\",\n        displayName: \"@displayName\",\n        extensionName: \"@extensionName\",\n        open: \"@\",\n        extendedInfo: \"=\",\n        tooltip: \"@camWidgetDebugTooltip\",\n        tooltipPlacement: \"@camWidgetDebugTooltipPlacement\"\n      },\n\n      link: function(scope, element, attrs) {\n        scope.varName = attrs.displayName || attrs.debugged;\n        scope.extended = attrs.extended !== undefined;\n\n        scope.toggleOpen = function() {\n          scope.open = !scope.open;\n        };\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div class=\"debug\">\n  <div class=\"col-xs-2\">\n    <button class=\"btn btn-default btn-round\"\n            ng-click=\"toggleOpen()\"\n            uib-tooltip=\"{{tooltip}}\"\n            tooltip-placement=\"{{tooltipPlacement}}\">\n      <span class=\"glyphicon\"\n            ng-class=\"{'glyphicon-eye-open': !open, 'glyphicon-eye-close': open}\"></span>\n    </button>\n  </div>\n  <div class=\"col-xs-10\"\n       ng-show=\"open\">\n    <span ng-show=\"extended\" cam-widget-clipboard=\"extendedInfo\"\n          no-tooltip>\n      <code>{{ extensionName }}</code>\n    </span>\n    <pre ng-show=\"extended\">{{ extendedInfo }}</pre>\n    <span cam-widget-clipboard=\"debugged | json \"\n          no-tooltip>\n      <code>{{ varName }}</code>\n    </span>\n    <pre>{{ debugged | json }}</pre>\n  </div>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Clipboard = require(\"clipboard\");\n\nvar template = require(\"./cam-widget-clipboard.html.js\");\n\nmodule.exports = [\n  \"$timeout\",\n  \"$translate\",\n  function($timeout, $translate) {\n    return {\n      transclude: true,\n      template: template,\n      scope: {\n        value: \"=camWidgetClipboard\"\n      },\n\n      link: function($scope, element, attrs) {\n        var cb;\n\n        $scope.noTooltip = typeof attrs.noTooltip !== \"undefined\";\n        $scope.copyStatus = null;\n        $scope.icon = attrs.icon || \"glyphicon-copy\";\n\n        $scope.$watch(\"value\", function() {\n          $scope.tooltipText =\n            attrs.tooltipText ||\n            $translate.instant(\"CAM_WIDGET_COPY\", { value: $scope.value });\n        });\n\n        var _top;\n        function restore() {\n          $scope.$apply();\n          _top = $timeout(\n            function() {\n              $scope.copyStatus = null;\n            },\n            1200,\n            true\n          );\n        }\n\n        function handleResize() {\n          var content = element[0].querySelector(\"[ng-transclude]\");\n          var icon = element[0].querySelector(\"a.glyphicon-copy\");\n          var elementStyle = window.getComputedStyle(element[0]);\n\n          var contentWidth = 1;\n          var containerWidth = 0;\n          if (content && icon) {\n            contentWidth = content.offsetWidth + icon.offsetWidth;\n            containerWidth =\n              parseInt(elementStyle.width) -\n              parseInt(elementStyle.paddingRight) -\n              parseInt(elementStyle.paddingLeft);\n          }\n\n          if (contentWidth - containerWidth > 0) {\n            if (content.className.indexOf(\"resize\") === -1)\n              content.className += \" resize\";\n          } else {\n            content.className = content.className.replace(\" resize\", \"\");\n          }\n        }\n\n        // needed because otherwise the content of `element` is not rendered yet\n        // and `querySelector` is then not available\n        $timeout(function() {\n          var link = element[0].querySelector(\"a.\" + $scope.icon);\n          if (!link) {\n            return;\n          }\n\n          window.addEventListener(\"resize\", handleResize);\n          handleResize();\n\n          cb = new Clipboard(link, {\n            text: function() {\n              return $scope.value;\n            }\n          });\n\n          cb.on(\"success\", function() {\n            $scope.copyStatus = true;\n            restore();\n          });\n\n          cb.on(\"error\", function() {\n            $scope.copyStatus = false;\n            restore();\n          });\n        });\n\n        $scope.$on(\"$destroy\", function() {\n          window.removeEventListener(\"resize\", handleResize);\n          if (cb && cb.destroy) {\n            cb.destroy();\n          }\n\n          if (_top) {\n            $timeout.cancel(_top);\n          }\n        });\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<span ng-transclude></span>\n<a ng-if=\"!noTooltip\"\n   uib-tooltip=\"{{ tooltipText }}\"\n   tooltip-append-to-body=\"true\"\n   ng-class=\"{'copy-ok': copyStatus === true, 'copy-error': copyStatus === false}\"\n   class=\"glyphicon {{icon}}\"></a>\n<a ng-if=\"noTooltip\"\n   ng-class=\"{'copy-ok': copyStatus === true, 'copy-error': copyStatus === false}\"\n   class=\"glyphicon {{icon}}\"></a>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-bpm-sdk-js/vendor/angular\"),\n  varUtils = require(\"./cam-variable-utils\"),\n  template = require(\"./cam-widget-variable.html.js\");\n\nvar variableTypes = varUtils.types;\n\nvar modalCtrl = varUtils.modalCtrl;\n\nmodule.exports = [\n  \"$uibModal\",\n  function($modal) {\n    return {\n      template: template,\n\n      scope: {\n        variable: \"=camVariable\",\n        // A variable HAS a the following information\n        // {\n        //   value: <Mixed>,\n        //   name: <String>,\n        //   type: <String>,\n        //\n        // A variable MAY HAVE a the following information\n        //   id: <UUID>,\n        //   valueInfo: {\n        //     objectTypeName: <String>,\n        //     serializationDataFormat: <String>\n        //   },\n        //\n        //   activitiyInstanceId: <UUID>,\n        //   caseExecutionId: <UUID>,\n        //   caseInstanceId: <UUID>,\n        //   executionId: <UUID>,\n        //   processInstanceId: <UUID>,\n        //   taskId: <UUID>\n        // }\n        display: \"@?\",\n        shown: \"=?\",\n        disabled: \"=?\",\n        hiddenTypes: \"=?\"\n      },\n\n      link: function($scope, element) {\n        function isShownType(what) {\n          if (\n            !Array.isArray($scope.hiddenTypes) ||\n            !$scope.hiddenTypes.length\n          ) {\n            return true;\n          }\n          return $scope.hiddenTypes.indexOf(what) === -1;\n        }\n\n        $scope.variableTypes = variableTypes.filter(isShownType);\n\n        var defaultValues = varUtils.defaultValues;\n\n        $scope.isPrimitive = varUtils.isPrimitive($scope);\n\n        $scope.useCheckbox = varUtils.useCheckbox($scope);\n\n        $scope.isShown = function(what) {\n          if (!Array.isArray($scope.shown) || !$scope.shown.length) {\n            return true;\n          }\n          return $scope.shown.indexOf(what) > -1;\n        };\n\n        $scope.isDisabled = function(what) {\n          if (!Array.isArray($scope.disabled) || !$scope.disabled.length) {\n            return false;\n          }\n          return $scope.disabled.indexOf(what) > -1;\n        };\n\n        $scope.shownClasses = function() {\n          if (!Array.isArray($scope.shown) || !$scope.shown.length) {\n            return \"\";\n          }\n          return $scope.shown\n            .map(function(part) {\n              return \"show-\" + part;\n            })\n            .join(\" \");\n        };\n        $scope.$watch(\"shown\", function() {\n          element\n            .removeClass(\"show-type show-name show-value\")\n            .addClass($scope.shownClasses());\n        });\n\n        var validate = varUtils.validate($scope);\n        $scope.valid = true;\n        $scope.$watch(\"variable.value\", validate);\n        $scope.$watch(\"variable.name\", validate);\n        $scope.$watch(\"variable.type\", validate);\n        validate();\n\n        // backup is used to recover a variable value\n        // from either type or null switch\n        var backup = $scope.variable.value;\n\n        $scope.$watch(\"variable.type\", function(current, previous) {\n          // convert the value to boolean when the type becomes Boolean\n          if (current === \"Boolean\") {\n            // we don't do anything if the value is null\n            if ($scope.variable.value !== null) {\n              backup = $scope.variable.value;\n\n              $scope.variable.value =\n                $scope.variable.value === \"false\"\n                  ? false\n                  : !!$scope.variable.value;\n            }\n          } else if (previous === \"Boolean\") {\n            $scope.variable.value = backup;\n          }\n\n          var classList = element[0].classList;\n          if (previous) {\n            classList.remove(\"var-type-\" + previous.toLowerCase());\n          }\n          if (current) {\n            classList.add(\"var-type-\" + current.toLowerCase());\n          }\n        });\n\n        $scope.isNull = function() {\n          return $scope.variable.value === null;\n        };\n        $scope.setNonNull = function() {\n          $scope.variable.value = backup || defaultValues[$scope.variable.type];\n        };\n        $scope.setNull = function() {\n          backup = $scope.variable.value;\n          $scope.variable.value = null;\n        };\n\n        $scope.editVariableValue = function() {\n          $modal\n            .open({\n              template: varUtils.templateDialog, //templateDialog,\n\n              controller: modalCtrl,\n\n              windowClass: \"cam-widget-variable-dialog\",\n\n              resolve: {\n                variable: function() {\n                  return angular.copy($scope.variable);\n                },\n                readonly: function() {\n                  return $scope.display;\n                }\n              },\n              appendTo: angular.element('.angular-app')\n            })\n            .result.then(function(result) {\n              $scope.variable.value = result.value;\n              $scope.variable.valueInfo = result.valueInfo;\n            })\n            .catch(angular.noop);\n        };\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n<div class=\"modal-header\">\n  <h3 translate=\"CAM_WIDGET_VARIABLE_DIALOG_INSPECT\"\n      translate-values=\"{name: variable.name}\"></h3>\n</div>\n\n<div class=\"modal-body\">\n  <div ng-if=\"readonly\"\n       class=\"form-group\">\n    <label>{{ 'CAM_WIDGET_VARIABLE_DIALOG_LABEL_OBJECT_TYPE' | translate }}</label>\n    <code class=\"form-control-static\"\n          cam-widget-clipboard=\"variable.valueInfo.objectTypeName\">{{ variable.valueInfo.objectTypeName }}</code>\n  </div>\n\n  <div ng-if=\"readonly\"\n       class=\"form-group\">\n    <label>{{ 'CAM_WIDGET_VARIABLE_DIALOG_LABEL_SERIALIZATION' | translate }}</label>\n    <code class=\"form-control-static\"\n          cam-widget-clipboard=\"variable.valueInfo.serializationDataFormat\">{{ variable.valueInfo.serializationDataFormat }}</code>\n  </div>\n\n  <div ng-if=\"!readonly\"\n       class=\"form-group\">\n    <label for=\"object-type-name\"\n           cam-widget-clipboard=\"variable.valueInfo.objectTypeName\">{{ 'CAM_WIDGET_VARIABLE_DIALOG_LABEL_OBJECT_TYPE' | translate }}</label>\n    <input type=\"text\"\n           id=\"object-type-name\"\n           class=\"form-control\"\n           ng-model=\"variable.valueInfo.objectTypeName\" />\n  </div>\n\n  <div ng-if=\"!readonly\"\n       class=\"form-group\">\n    <label for=\"serialization-data-format\"\n           cam-widget-clipboard=\"variable.valueInfo.serializationDataFormat\">{{ 'CAM_WIDGET_VARIABLE_DIALOG_LABEL_SERIALIZATION' | translate }}</label>\n    <input type=\"text\"\n           id=\"serialization-data-format\"\n           class=\"form-control\"\n           ng-model=\"variable.valueInfo.serializationDataFormat\" />\n  </div>\n\n  <div class=\"form-group\">\n    <label for=\"serialized-value\"\n           cam-widget-clipboard=\"variable.value\"\n           no-tooltip\n           ng-class=\"{hovered: hovered === 'var-value'}\">{{ 'CAM_WIDGET_VARIABLE_DIALOG_LABEL_SERIALIZED_VALUE' | translate }}</label>\n    <textarea ng-model=\"variable.value\"\n              id=\"serialized-value\"\n              rows=\"10\"\n              class=\"form-control\"\n              ng-readonly=\"readonly\"\n              ng-mouseenter=\"toggleHover('var-value')\"\n              ng-mouseleave=\"toggleHover()\"></textarea>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"$dismiss('close')\">\n    {{ 'CAM_WIDGET_VARIABLE_DIALOG_BTN_CLOSE' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-if=\"!readonly\"\n          ng-readonly=\"!hasChanged('serialized')\"\n          ng-click=\"$close(variable)\">\n    {{ 'CAM_WIDGET_VARIABLE_DIALOG_BTN_CHANGE' | translate }}\n  </button>\n</div>\n<!-- / CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n<div class=\"modal-header\">\n  <h3 translate=\"CAM_WIDGET_STRING_DIALOG_TITLE\"\n      translate-values=\"{name: variable.name}\"></h3>\n</div>\n\n<div class=\"modal-body\">\n  <div class=\"form-group\">\n    <label for=\"value\"\n           cam-widget-clipboard=\"variable.value\"\n           no-tooltip\n           ng-class=\"{hovered: hovered === 'var-value'}\">\n      {{ 'CAM_WIDGET_STRING_DIALOG_LABEL_VALUE' | translate }}\n    </label>\n    <textarea ng-model=\"variable.value\"\n              id=\"value\"\n              rows=\"10\"\n              class=\"form-control cam-string-variable\"\n              ng-readonly=\"readonly\"\n              ng-mouseenter=\"toggleHover('var-value')\"\n              ng-mouseleave=\"toggleHover()\"></textarea>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"$dismiss('close')\">\n    {{ 'CAM_WIDGET_STRING_DIALOG_LABEL_CLOSE' | translate }}\n  </button>\n</div>\n<!-- / CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div ng-if=\"display && isShown('type')\"\n     class=\"type\">{{ variable.type }}</div>\n<div ng-if=\"display && isShown('name')\"\n     class=\"name\">{{ variable.name }}</div>\n<div ng-if=\"display && isShown('value') && isPrimitive()\"\n     ng-class=\"{null: isNull()}\"\n     class=\"value\">\n  <span ng-if=\"isNull()\"\n        class=\"null-symbol\">{{ 'CAM_WIDGET_VARIABLE_NULL' | translate }}</span>\n  {{ (variable.value === null ? '' : variable.value.toString()) }}\n</div>\n<div ng-if=\"display && isShown('value') && variable.type === 'Object'\"\n     ng-class=\"{null: isNull()}\"\n     class=\"value\">\n  <a ng-click=\"editVariableValue()\">\n    {{ variable.valueInfo.objectTypeName }}\n  </a>\n</div>\n\n\n<div ng-if=\"!display\"\n     class=\"input-group editing\">\n  <div ng-if=\"isShown('type')\"\n       class=\"input-group-btn type\">\n    <select class=\"form-control\"\n            ng-model=\"variable.type\"\n            ng-options=\"variableType for variableType in variableTypes track by variableType\"\n            ng-disabled=\"isDisabled('type')\"\n            required>\n    </select>\n  </div><!-- /btn-group -->\n\n  <input ng-if=\"isShown('name')\"\n         type=\"text\"\n         class=\"form-control name\"\n         ng-model=\"variable.name\"\n         placeholder=\"varName\"\n         ng-disabled=\"isDisabled('name')\"\n         required />\n\n  <div ng-if=\"isShown('value') && !isNull()\"\n       class=\"value-wrapper input-group\"\n       ng-class=\"{checkbox: useCheckbox()}\">\n    <div ng-if=\"variable.type !== 'Null'\"\n         class=\"input-group-btn\">\n      <a ng-click=\"setNull()\"\n         class=\"btn btn-default set-null\"\n         ng-disabled=\"isDisabled('value')\"\n         uib-tooltip=\"{{ 'CAM_WIDGET_VARIABLE_SET_VALUE_NULL' | translate }}\">\n        <span class=\"glyphicon glyphicon-remove\"></span>\n      </a>\n    </div>\n\n    <input ng-if=\"isPrimitive() && !useCheckbox()\"\n           type=\"text\"\n           class=\"form-control value\"\n           ng-model=\"variable.value\"\n           ng-disabled=\"isDisabled('value')\"\n           placeholder=\"{{ 'CAM_WIDGET_VARIABLE_VALUE' | translate }}\"\n           cam-variable-validator=\"{{variable.type}}\" />\n\n    <input ng-if=\"useCheckbox()\"\n           type=\"checkbox\"\n           class=\"value\"\n           ng-model=\"variable.value\"\n           ng-disabled=\"isDisabled('value')\"\n           placeholder=\"{{ 'CAM_WIDGET_VARIABLE_VALUE' | translate }}\"\n           cam-variable-validator=\"{{variable.type}}\" />\n\n    <div ng-if=\"variable.type === 'Object'\"\n         class=\"value form-control-static\">\n      <a ng-click=\"editVariableValue()\" ng-disabled=\"isDisabled('value')\">\n        {{ (variable.valueInfo.objectTypeName || 'CAM_WIDGET_VARIABLE_UNDEFINED') | translate }}\n      </a>\n    </div>\n  </div>\n\n  <div ng-if=\"variable.type !== 'Null' && isShown('value') && isNull()\"\n       ng-click=\"setNonNull()\"\n       class=\"value-wrapper value null-value btn btn-default\"\n       ng-disabled=\"isDisabled('value')\"\n       uib-tooltip=\"{{ 'CAM_WIDGET_VARIABLE_RESET' | translate }}\">\n    <span class=\"null-symbol\">{{ 'CAM_WIDGET_VARIABLE_NULL' | translate }}</span>\n  </div>\n\n  <div ng-if=\"variable.type === 'Null'\"\n       ng-disabled=\"isDisabled('value')\"\n       class=\"value-wrapper value btn no-click null-value\">\n    <span class=\"null-symbol\">{{ 'CAM_WIDGET_VARIABLE_NULL' | translate }}</span>\n  </div>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-bpm-sdk-js/vendor/angular\"),\n  varUtils = require(\"../variable/cam-variable-utils\"),\n  template = require(\"./cam-widget-variables-table.html.js\"),\n  confirmationTemplate = require(\"./cam-widget-variables-deletion-dialog.html.js\");\n\nvar typeUtils = varUtils.typeUtils;\n\nvar emptyVariable = {\n  variable: {\n    name: null,\n    type: null,\n    value: null,\n    valueInfo: {}\n  },\n  additions: {}\n};\n\nfunction deepCopy(original) {\n  return JSON.parse(JSON.stringify(original));\n}\n\nfunction noopPromise(info /*, i*/) {\n  return {\n    then: function(success /*, error*/) {\n      success(angular.copy(info.variable));\n      // error('Not implemented');\n    }\n  };\n}\n\nmodule.exports = [\n  \"$uibModal\",\n  \"$translate\",\n  function($modal, $translate) {\n    return {\n      template: template,\n\n      scope: {\n        variables: \"=?camVariables\",\n        headers: \"=?camHeaders\",\n        editable: \"=?camEditable\",\n\n        isVariableEditable: \"=?\",\n        deleteVar: \"=?onDelete\",\n        saveVar: \"=?onSave\",\n        editVar: \"=?onEdit\",\n        downloadVar: \"=?onDownload\",\n        uploadVar: \"=?onUpload\",\n        onSortChange: \"&\",\n        onChangeStart: \"&\",\n        onChangeEnd: \"&\",\n        defaultSort: \"=?\",\n        ignoreTypes: \"=?\"\n      },\n\n      link: function($scope) {\n        var backups = [];\n\n        function _getVar(v) {\n          return ($scope.variables[v] || {}).variable;\n        }\n\n        function hasChanged(v) {\n          if (\n            !$scope.variables ||\n            !$scope.variables[v] ||\n            !$scope.variables[v]._copy\n          ) {\n            return false;\n          }\n          var yep;\n          var now = _getVar(v);\n          var before = $scope.variables[v]._copy;\n\n          yep = !now || !before;\n\n          yep = yep || now.name !== before.name;\n          yep = yep || now.type !== before.type;\n          yep = yep || now.value !== before.value;\n\n          // if (now.valueInfo) {}\n          // yep = yep || (now.valueInfo !== before.valueInfo);\n\n          return yep;\n        }\n\n        // Array of header classes\n        $scope.headerClasses = [];\n        $scope.headers.forEach(function(column) {\n          $scope.headerClasses.push(column.class);\n        });\n\n        $scope.editable = $scope.editable || $scope.headerClasses;\n\n        $scope.variableTypes = angular.copy(varUtils.types);\n        $scope.variableTypes = $scope.ignoreTypes\n          ? $scope.variableTypes.filter(\n              types => !$scope.ignoreTypes.includes(types)\n            )\n          : $scope.variableTypes;\n        $scope.defaultValues = varUtils.defaultValues;\n        $scope.isPrimitive = varUtils.isPrimitive($scope);\n        $scope.isBinary = varUtils.isBinary($scope);\n        $scope.useCheckbox = varUtils.useCheckbox($scope);\n\n        [\"uploadVar\", \"deleteVar\", \"saveVar\"].forEach(function(name) {\n          $scope[name] = angular.isFunction($scope[name])\n            ? $scope[name]\n            : noopPromise;\n        });\n\n        // Set default sorting\n        $scope.sortObj = $scope.defaultSort;\n\n        // Order Icons\n        $scope.orderClass = function(forColumn) {\n          forColumn = forColumn || $scope.sortObj.sortBy;\n          var icons = {\n            none: \"minus\",\n            desc: \"chevron-down\",\n            asc: \"chevron-up\"\n          };\n          return (\n            \"glyphicon-\" +\n            icons[\n              forColumn === $scope.sortObj.sortBy\n                ? $scope.sortObj.sortOrder\n                : \"none\"\n            ]\n          );\n        };\n\n        // On-click function to order Columns\n        $scope.changeOrder = function(column) {\n          $scope.sortObj.sortBy = column;\n          $scope.sortObj.sortOrder =\n            $scope.sortObj.sortOrder === \"desc\" ? \"asc\" : \"desc\";\n          // pass sorting to updateView function in parent scope.\n          $scope.onSortChange({ sortObj: $scope.sortObj });\n        };\n\n        var variableModalConfig = function(variable, template, readonly) {\n          return {\n            template: template,\n\n            controller: varUtils.modalCtrl,\n\n            windowClass: \"cam-widget-variable-dialog\",\n\n            resolve: {\n              variable: function() {\n                return angular.copy(_getVar(variable));\n              },\n              readonly: readonly\n            },\n            appendTo: angular.element(\".angular-app\")\n          };\n        };\n\n        $scope.editVar = angular.isFunction($scope.editVar)\n          ? $scope.editVar\n          : function(info, v) {\n              var readonly = function() {\n                return !$scope.isEditable(\"value\", $scope.variables[v]);\n              };\n\n              return $modal.open(\n                variableModalConfig(v, varUtils.templateDialog, readonly)\n              ).result;\n            };\n\n        $scope.readStringVar = angular.isFunction($scope.readStringVar)\n          ? $scope.readStringVar\n          : function(v) {\n              var readonly = function() {\n                return true;\n              };\n\n              return $modal.open(\n                variableModalConfig(v, varUtils.templateStringDialog, readonly)\n              ).result;\n            };\n\n        $scope.downloadLink = angular.isFunction($scope.downloadVar)\n          ? $scope.downloadVar\n          : function(info) {\n              return (\n                \"/camunda/api/engine/engine/default/variable-instance/\" +\n                info.variable.id +\n                \"/data\"\n              );\n            };\n\n        function validate(info, i) {\n          if (!info.variable.name || !info.variable.type) {\n            info.valid = false;\n          } else if (\n            info.variable.value === null ||\n            [\"String\", \"Object\", \"Null\"].indexOf(info.variable.type) > -1\n          ) {\n            info.valid = true;\n          } else {\n            info.valid = typeUtils.isType(\n              info.variable.value,\n              info.variable.type\n            );\n          }\n\n          if (info.valid) {\n            // save the variable in the appropriate type\n            if (\n              info.variable.type &&\n              info.variable.value !== null &&\n              $scope.isPrimitive(info.variable.type)\n            ) {\n              var newTyped;\n\n              if (info.variable.type !== \"Boolean\") {\n                newTyped = typeUtils.convertToType(\n                  info.variable.value,\n                  info.variable.type\n                );\n              } else {\n                newTyped = info.variable.value\n                  ? info.variable.value !== \"false\"\n                  : false;\n              }\n\n              // only change value if newType has different type, to avoid infinite recursion\n              if (typeof info.variable.value !== typeof newTyped) {\n                info.variable.value = newTyped;\n              }\n            }\n          }\n\n          info.changed = hasChanged(i);\n        }\n\n        function initVariables() {\n          ($scope.variables || []).forEach(function(info, i) {\n            info.valid = true;\n\n            var varPath = \"variables[\" + i + \"].variable\";\n            function wrapedValidate() {\n              validate(info, i);\n            }\n            $scope.$watch(varPath + \".value\", wrapedValidate);\n            $scope.$watch(varPath + \".name\", wrapedValidate);\n            $scope.$watch(varPath + \".type\", wrapedValidate);\n\n            $scope.$watch(\"variables[\" + i + \"].editMode\", function(\n              now,\n              before\n            ) {\n              if (angular.isUndefined(now)) {\n                return;\n              }\n\n              if (now === true) {\n                info._copy = deepCopy(info.variable);\n              } else if (now === false && before === true && info._copy) {\n                info.variable.type = info._copy.type;\n                info.variable.name = info._copy.name;\n                info.variable.value = info._copy.value;\n\n                delete info._copy;\n              }\n            });\n\n            validate(info, i);\n            backups[i] = info.variable.value;\n          });\n        }\n        $scope.$watch(\"variables\", initVariables);\n        initVariables();\n\n        $scope.canEditVariable = angular.isFunction($scope.isVariableEditable)\n          ? $scope.isVariableEditable\n          : function() {\n              return true;\n            };\n\n        $scope.isEditable = function(what, info) {\n          return info.editMode && $scope.editable.indexOf(what) > -1;\n        };\n\n        $scope.hasEditDialog = function(type) {\n          return (\n            type &&\n            [\"object\", \"string\", \"json\", \"xml\"].indexOf(type.toLowerCase()) > -1\n          );\n        };\n\n        $scope.rowClasses = function(info /*, v*/) {\n          return [\n            info.editMode ? \"editing\" : null,\n            info.valid ? null : \"ng-invalid\",\n            info.valid ? null : \"ng-invalid-cam-variable-validator\"\n          ];\n        };\n\n        $scope.colClasses = function(info, headerClass /*, v*/) {\n          return [\n            $scope.isEditable(headerClass, info) ? \"editable\" : null,\n            \"type-\" + (info.variable.type || \"\").toLowerCase(),\n            \"col-\" + headerClass\n          ];\n        };\n\n        $scope.isNull = function(v) {\n          return $scope.variables[v].variable.value === null;\n        };\n\n        $scope.setNull = function(v) {\n          var variable = _getVar(v);\n          backups[v] = variable.value;\n          variable.value = null;\n        };\n\n        $scope.setNonNull = function(v) {\n          var variable = _getVar(v);\n          variable.value = backups[v] || $scope.defaultValues[variable.type];\n        };\n\n        $scope.editVariableValue = function(v) {\n          var info = $scope.variables[v];\n          $scope\n            .editVar(info, v)\n            .then(function(result) {\n              _getVar(v).value = result.value;\n              _getVar(v).valueInfo = result.valueInfo;\n            })\n            .catch(angular.noop);\n        };\n\n        $scope.addVariable = function() {\n          $scope.variables.push(angular.copy(emptyVariable));\n        };\n\n        $scope.deleteVariable = function(v) {\n          var info = $scope.variables[v];\n          $modal\n            .open({\n              controller: [\n                \"$scope\",\n                function($scope) {\n                  $scope.body = $translate.instant(\n                    \"CAM_WIDGET_VARIABLES_TABLE_DIALOGUE\",\n                    { name: info.variable.name }\n                  );\n                  $scope.submit = function() {\n                    $scope.$close();\n                    deleteVariable(v);\n                  };\n\n                  $scope.dismiss = function() {\n                    $scope.$close();\n                  };\n                }\n              ],\n              template: confirmationTemplate,\n              appendTo: angular.element(\".angular-app\")\n            })\n            .result.catch(angular.noop);\n        };\n\n        var deleteVariable = function(v) {\n          var info = $scope.variables[v];\n\n          $scope.deleteVar(info, v).then(\n            function() {\n              $scope.variables.splice($scope.variables.indexOf(info), 1);\n            },\n            function(/*err*/) {\n              // console.error(err);\n            }\n          );\n        };\n\n        $scope.saveVariable = function(v) {\n          var info = $scope.variables[v];\n          $scope.enableEditMode(info, false);\n\n          $scope.saveVar(info, v).then(\n            function(saved) {\n              info.variable.name = saved.name;\n              var type = (info.variable.type = saved.type);\n              info.variable.value = saved.value;\n              delete info._copy;\n\n              if (type !== \"Object\") {\n                delete info.variable.valueInfo;\n              } else {\n                info.variable.valueInfo = saved.valueInfo;\n              }\n            },\n            function(/*err*/) {\n              // console.error(err);\n              $scope.enableEditMode(info, true);\n            }\n          );\n        };\n\n        $scope.uploadVariable = function(v) {\n          var info = $scope.variables[v];\n\n          $scope.uploadVar(info, v).then(\n            function(/*saved*/) {\n              delete info._copy;\n              $scope.enableEditMode(info, false);\n            },\n            function(/*err*/) {\n              // console.error(err);\n              $scope.enableEditMode(info, false);\n            }\n          );\n        };\n\n        $scope.enableEditMode = function(info, enableEditMode) {\n          info.editMode = enableEditMode;\n          if (enableEditMode) {\n            var uncompletedCount = 0;\n            $scope.variables.forEach(function(variable) {\n              if (variable.editMode) {\n                uncompletedCount++;\n              }\n            });\n            if (uncompletedCount === 1) {\n              $scope.onChangeStart();\n            }\n          } else {\n            var completedCount = 0;\n            $scope.variables.forEach(function(variable) {\n              if (!variable.editMode) {\n                completedCount++;\n              }\n            });\n            if (completedCount === $scope.variables.length) {\n              $scope.onChangeEnd();\n            }\n          }\n        };\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<table class=\"cam-table\">\n  <thead>\n  <tr>\n    <td ng-repeat=\"column in headers\" ng-class=\"col-{{column.class}}\">\n      <span class=\"{{column.class}}\">{{column.content}}</span>\n      <a ng-if=\"column.sortable === true\"\n         ng-click=\"changeOrder(column.request)\">\n        <span class=\"glyphicon\" ng-class=\"orderClass(column.request)\"></span>\n      </a>\n    </td>\n    <td class=\"actions\"\n        ng-if=\"editable.length\">\n      Actions\n    </td>\n  </tr>\n  </thead>\n\n  <tbody>\n    <tr ng-repeat=\"(v, info) in variables\"\n        ng-class=\"rowClasses(info, v)\">\n      <td ng-repeat=\"headerClass in headerClasses track by $index\"\n          ng-init=\"variable=info.variable\"\n          ng-class=\"colClasses(info, headerClass, v)\"\n          ng-switch on=\"headerClass\">\n        <!-- ................................................................................... -->\n        <div ng-switch-when=\"type\"\n             ng-if=\"!isEditable('type', info)\">\n          {{ variable.type }}\n        </div>\n        <select class=\"form-control\"\n                ng-switch-when=\"type\"\n                ng-if=\"isEditable('type', info)\"\n                ng-model=\"variable.type\"\n                ng-options=\"variableType for variableType in variableTypes track by variableType\"\n                required>\n        </select>\n        <!-- ................................................................................... -->\n\n\n        <!-- ................................................................................... -->\n        <div ng-switch-when=\"name\"\n             ng-if=\"!isEditable('name', info)\">\n          <span cam-widget-clipboard=\"variable.name\">{{ variable.name }}</span>\n        </div>\n\n        <input class=\"form-control\"\n               ng-switch-when=\"name\"\n               ng-model=\"variable.name\"\n               ng-if=\"isEditable('name', info)\" />\n        <!-- ................................................................................... -->\n\n\n        <!-- ................................................................................... -->\n        <a ng-switch-when=\"value\"\n           ng-if=\"!isEditable('value', info) && isBinary(variable.type)\"\n           ng-href=\"{{ downloadLink(info) }}\"\n           download=\"{{ variable.name }}-data\">\n          Download\n        </a>\n\n        <div ng-switch-when=\"value\"\n             ng-if=\"!isEditable('value', info) && variable.type === 'Object'\"\n             class=\"read-only value-wrapper\">\n          <span ng-if=\"variable.valueInfo.objectTypeName\"\n                cam-widget-clipboard=\"variable.valueInfo.objectTypeName\">\n            <a ng-click=\"editVariableValue(v)\"\n               href>{{ variable.valueInfo.objectTypeName }}</a>\n          </span>\n          <a ng-if=\"!variable.valueInfo.objectTypeName\"\n             ng-click=\"editVariableValue(v)\"\n             href>&lt;undefined&gt;</a>\n        </div>\n        <div ng-switch-when=\"value\"\n             ng-if=\"!isEditable('value', info) && (variable.type === 'Json' || variable.type === 'Xml')\"\n             class=\"read-only value-wrapper\">\n          <span cam-widget-clipboard=\"variable.value\">\n            <a ng-click=\"editVariableValue(v)\"\n               href>{{ variable.value }}</a>\n          </span>\n        </div>\n\n        <div ng-switch-when=\"value\"\n             ng-if=\"!isEditable('value', info) && variable.type === 'String'\"\n             class=\"read-only value-wrapper\">\n          <span cam-widget-clipboard=\"variable.value\">\n            <span ng-click=\"readStringVar(v)\">{{ variable.value }}</span>\n          </span>\n        </div>\n\n        <div ng-switch-when=\"value\"\n             ng-if=\"!isEditable('value', info) && !hasEditDialog(variable.type)\"\n             class=\"read-only value-wrapper\">\n          <span ng-if=\"variable.type !== 'Bytes' && variable.type !== 'Date'\"\n                cam-widget-clipboard=\"variable.value\">{{ variable.value }}</span>\n          <span ng-if=\"variable.type === 'Bytes'\">{{ variable.value }}</span>\n          <span ng-if=\"variable.type === 'Date'\"\n                cam-widget-clipboard=\"variable.value\">{{ variable.value | camDate }}</span>\n        </div>\n\n        <div class=\"value-wrapper\"\n             ng-switch-when=\"value\"\n             ng-if=\"isEditable('value', info)\">\n          <a ng-click=\"setNull(v)\"\n             ng-if=\"!isNull(v)\"\n             class=\"set-null\"\n             tooltip-append-to-body=\"true\"\n             uib-tooltip=\"{{ 'CAM_WIDGET_VARIABLES_TABLE_TOOLTIP_SET_NULL' | translate }}\">\n            <span class=\"glyphicon glyphicon-remove\"></span>\n          </a>\n\n          <input ng-if=\"isPrimitive(variable.type) && !useCheckbox(variable.type) && !isNull(v)\"\n                 type=\"text\"\n                 class=\"form-control\"\n                 ng-model=\"variable.value\"\n                 placeholder=\"{{ 'CAM_WIDGET_VARIABLES_TABLE_PLACEHOLDER_VALUE' | translate }}\" />\n\n          <input ng-if=\"useCheckbox(variable.type)\"\n                 type=\"checkbox\"\n                 ng-model=\"variable.value\"\n                 placeholder=\"{{ 'CAM_WIDGET_VARIABLES_TABLE_PLACEHOLDER_VALUE' | translate }}\" />\n\n          <a ng-if=\"variable.type === 'Object' && !isNull(v)\"\n             ng-click=\"editVariableValue(v)\">\n            {{ variable.valueInfo.objectTypeName || '&lt;undefined&gt;' }}\n          </a>\n\n          <a ng-if=\"(variable.type === 'Json' || variable.type === 'Xml') && !isNull(v)\"\n             ng-click=\"editVariableValue(v)\">\n            {{ variable.value || '&lt;undefined&gt;' }}\n          </a>\n\n          <a ng-if=\"variable.type !== 'Null' && !isBinary(variable.type) && isNull(v)\"\n             ng-click=\"setNonNull(v)\"\n             class=\"null-value\"\n             tooltip-append-to-body=\"true\"\n             uib-tooltip=\"{{ 'CAM_WIDGET_VARIABLES_TABLE_TOOLTIP_DEFAULT_VALUE' | translate }}\">\n            <span class=\"null-symbol\">&lt;null&gt;</span>\n          </a>\n\n          <a ng-if=\"isBinary(variable.type)\"\n             ng-click=\"uploadVariable(v)\"\n             tooltip-append-to-body=\"true\"\n             uib-tooltip=\"{{ 'CAM_WIDGET_VARIABLES_TABLE_TOOLTIP_UPLOAD' | translate }}\">\n            Upload\n          </a>\n\n          <span ng-if=\"variable.type === 'Null'\"\n                class=\"null-value\">\n            <span class=\"null-symbol\">{{ 'CAM_WIDGET_VARIABLES_TABLE_NULL' | translate }}</span>\n          </span>\n        </div><!-- / value-wrapper -->\n        <!-- ................................................................................... -->\n\n\n        <div ng-switch-default\n             cam-render-var-template\n             info=\"info\"\n             header-name=\"headerClass\">\n        </div>\n      </td>\n\n      <td class=\"actions\"\n          ng-if=\"editable.length\">\n        <div ng-if=\"!info.editMode\"\n             class=\"btn-group\">\n          <button class=\"btn btn-xs btn-primary\"\n                  ng-disabled=\"!canEditVariable(info, v)\"\n                  ng-click=\"enableEditMode(info, true)\"\n                  tooltip-append-to-body=\"true\"\n                  uib-tooltip=\"{{ 'CAM_WIDGET_VARIABLES_TABLE_EDIT_VARIABLE' | translate }}\">\n            <span class=\"glyphicon glyphicon-pencil\"></span>\n          </button>\n          <button class=\"btn btn-xs btn-default\"\n                  ng-disabled=\"!canEditVariable(info, v)\"\n                  ng-click=\"deleteVariable(v)\"\n                  tooltip-append-to-body=\"true\"\n                  uib-tooltip=\"{{ 'CAM_WIDGET_VARIABLES_TABLE_DELETE_VARIABLE' | translate }}\">\n            <span class=\"glyphicon glyphicon glyphicon-trash\"></span>\n          </button>\n        </div>\n\n        <div ng-if=\"info.editMode\"\n             class=\"btn-group\">\n          <button class=\"btn btn-xs btn-primary\"\n                  ng-disabled=\"!info.valid || !info.changed\"\n                  ng-click=\"saveVariable(v)\"\n                  tooltip-append-to-body=\"true\"\n                  uib-tooltip=\"{{ 'CAM_WIDGET_VARIABLES_TABLE_SAVE_VARIABLE' | translate }}\">\n            <span class=\"glyphicon glyphicon-ok\"></span>\n          </button>\n          <button class=\"btn btn-xs btn-default\"\n                  ng-click=\"enableEditMode(info, false)\"\n                  tooltip-append-to-body=\"true\"\n                  uib-tooltip=\"{{ 'CAM_WIDGET_VARIABLES_TABLE_REVERT_VARIABLE' | translate }}\">\n            <span class=\"glyphicon glyphicon-remove\"></span>\n          </button>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div class=\"modal-header\">\n    <h3 class=\"modal-title\">{{ 'CAM_WIDGET_VARIABLES_TABLE_DELETE' | translate  }}</h3>\n</div>\n\n<div class=\"modal-body\">\n  {{ body }}\n</div>\n\n<div class=\"modal-footer\">\n    <button ng-click=\"dismiss()\"\n          class=\"btn btn-default\">\n    {{ 'CAM_WIDGET_VARIABLES_TABLE_ABORT' | translate }}\n  </button>\n  <button ng-click=\"submit()\"\n          class=\"btn btn-primary\"\n          ng-hide=\"status === 'DONE'\">\n    \n    {{ 'CAM_WIDGET_VARIABLES_TABLE_DELETE' | translate }} \n  </button> \n</div>\n\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar $ = require(\"jquery\");\n\nmodule.exports = [\n  \"$compile\",\n  function($compile) {\n    return {\n      template: \"<div></div>\",\n\n      scope: {\n        info: \"=\",\n        headerName: \"=\"\n      },\n\n      link: function($scope, element) {\n        var obj = $scope.info.additions[$scope.headerName] || {};\n        obj.scopeVariables = obj.scopeVariables || {};\n\n        for (var key in obj.scopeVariables) {\n          $scope[key] = obj.scopeVariables[key];\n        }\n\n        $scope.variable = $scope.info.variable;\n\n        element.html(\"<div>\" + obj.html + \"</div>\");\n\n        $compile($(\"div\", element)[0])($scope);\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-bpm-sdk-js/vendor/angular\"),\n  copy = angular.copy,\n  $ = require(\"jquery\"),\n  template = require(\"./cam-widget-search.html.js\");\n\nvar dateRegex = /(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)T(\\d\\d):(\\d\\d):(\\d\\d)(?:.(\\d\\d\\d)| )?$/;\nfunction getType(value) {\n  if (value && typeof value === \"string\" && value.match(dateRegex)) {\n    return \"date\";\n  }\n  return typeof value;\n}\n\nvar isValid = function(search) {\n  return (\n    search.type.value &&\n    (!search.extended || search.name.value) &&\n    (search.basic || search.operator.value) &&\n    (search.basic || search.value.value) &&\n    (getType(search.value.value) === \"date\" || !search.enforceDates)\n  );\n};\n\nvar validateOperator = function(operator) {\n  if (!operator.value) {\n    operator.value = operator.values[0];\n    return;\n  }\n  var idx = operator.values\n    .map(function(el) {\n      return el.key;\n    })\n    .indexOf(operator.value.key);\n  operator.value = operator.values[idx === -1 ? 0 : idx];\n};\n\nvar parseValue = function(value, enforceString) {\n  if (enforceString) {\n    return \"\" + value;\n  }\n  if (!isNaN(value) && value.trim() !== \"\") {\n    // value must be transformed to number\n    return +value;\n  }\n  if (value === \"true\") {\n    return true;\n  }\n  if (value === \"false\") {\n    return false;\n  }\n  if (value === \"NULL\") {\n    return null;\n  }\n  return value;\n};\n\n// global flag for all instances to ignore URL updates to update searches\nvar IGNORE_URL_UPDATE = false;\n\nmodule.exports = [\n  \"$timeout\",\n  \"$location\",\n  \"search\",\n  \"widgetLocalConf\",\n  \"$translate\",\n  function($timeout, $location, searchService, widgetLocalConf, $translate) {\n    // check if browser is affected by IE focus bug:\n    // https://connect.microsoft.com/IE/feedback/details/810538/ie-11-fires-input-event-on-focus\n    var checkIEfocusBug = function(cb) {\n      // special timeout so we do not fall into an apply cycle\n      $timeout(\n        function() {\n          // create input field to make \"feature\" detection of the bug\n          var el = document.createElement(\"input\");\n          el.setAttribute(\"type\", \"text\");\n\n          // bug only happens when placeholder is set\n          el.setAttribute(\"placeholder\", \"set\");\n\n          // this event listener is only called when the browser is affected by the bug\n          var weAreScrewed = false;\n          el.addEventListener(\"input\", function() {\n            // we are affected by the IE focus bug and cannot use the placeholder attribute on the search input field\n            weAreScrewed = true;\n          });\n\n          // perform the test\n          document.body.appendChild(el);\n          el.focus();\n          document.body.removeChild(el);\n\n          // the event is handled asynchronously, so we have to wait for the result\n          $timeout(function() {\n            cb(weAreScrewed);\n          });\n        },\n        0,\n        false\n      );\n    };\n\n    return {\n      restrict: \"A\",\n\n      scope: {\n        types: \"=camWidgetSearchTypes\",\n        translations: \"=camWidgetSearchTranslations\",\n        operators: \"=camWidgetSearchOperators\",\n        searches: \"=?camWidgetSearchSearches\",\n        validSearches: \"=?camWidgetSearchValidSearches\",\n        storageGroup: \"=?camWidgetSearchStorageGroup\",\n        searchId: \"@camWidgetSearchId\",\n        total: \"=?camWidgetSearchTotal\",\n        matchAny: \"=?camWidgetSearchMatchAny\",\n        disableTypeaheadAutoselect:\n          \"=?camWidgetSearchDisableTypeaheadAutoselect\"\n      },\n\n      link: function($scope, element) {\n        angular.forEach($scope.translations, function(value, key) {\n          $scope.translations[key] = $translate.instant(value);\n        });\n\n        if ($scope.types)\n          $scope.types.map(function(el) {\n            el.id.value = $translate.instant(el.id.value);\n            if (el.operators) {\n              el.operators = el.operators.map(function(op) {\n                op.value = $translate.instant(op.value);\n                return op;\n              });\n            }\n            return el;\n          });\n\n        angular.forEach($scope.operators, function(operatorGroupedByType) {\n          angular.forEach(operatorGroupedByType, function(operator) {\n            operator.value = $translate.instant(operator.value);\n          });\n        });\n\n        $scope.isMatchAnyActive = typeof $scope.matchAny !== \"undefined\";\n\n        $scope.caseHandeling = {};\n        $scope.switchMatchType = function() {\n          if ($scope.isMatchAnyActive) {\n            $scope.matchAny = !$scope.matchAny;\n          }\n        };\n\n        $scope.focused = false;\n        var formElement = angular.element(element).find(\"form\")[0];\n        formElement.addEventListener(\n          \"focus\",\n          function() {\n            $timeout(function() {\n              $scope.focused = true;\n            });\n          },\n          true\n        );\n        formElement.addEventListener(\n          \"blur\",\n          function() {\n            $timeout(function() {\n              $scope.focused = false;\n            });\n          },\n          true\n        );\n\n        var searchHasVariableQuery = function() {\n          return ($scope.searches || []).some(element => {\n            return element.caseOptions;\n          });\n        };\n\n        $scope.searchHasVariableQuery = searchHasVariableQuery();\n\n        // test for IE focus bug\n        checkIEfocusBug(function(hasBug) {\n          if (hasBug) {\n            // if we are afftected by the focus bug, we cannot set a placeholder on the input field\n            // add another indication for the search field\n            var node = document.createElement(\"div\");\n            node.textContent = $scope.translations.inputPlaceholder + \":\";\n            element[0].insertBefore(node, element[0].firstChild);\n            $scope.$root.$broadcast(\"plugin:search:change\");\n          } else {\n            // if we are not affected by the focus bug, we can set the placeholder on the input field\n            element[0]\n              .querySelector(\"input.main-field\")\n              .setAttribute(\n                \"placeholder\",\n                $scope.translations.inputPlaceholder\n              );\n          }\n        });\n\n        $scope.searchTypes = $scope.types.map(function(el) {\n          return el.id;\n        });\n\n        $scope.getRightPadding = function() {\n          // debugger;\n          if (element.width() > 400) {\n            return \"125px\";\n          }\n\n          return \"12px\";\n        };\n\n        var defaultType = $scope.types.reduce(function(done, type) {\n          return done || (type.default ? type : null);\n        }, null);\n\n        var getTypes = function() {\n          // check which classes are allowed\n          var aggregatedTypeKeys = $scope.searches\n            .map(function(el) {\n              return el.type.value.key;\n            })\n            .reduce(function(aggregatedList, type) {\n              if (aggregatedList.indexOf(type) === -1) {\n                aggregatedList.push(type);\n              }\n              return aggregatedList;\n            }, []);\n\n          var allowedGroups = aggregatedTypeKeys\n            .map(function(el) {\n              return getConfigByTypeKey(el)\n                ? getConfigByTypeKey(el).groups\n                : null;\n            })\n            .filter(function(el) {\n              return !!el;\n            })\n            .reduce(function(groupsArray, groups) {\n              if (groupsArray) {\n                if (groupsArray.length === 0) {\n                  return angular.copy(groups);\n                }\n                for (var i = 0; i < groupsArray.length; i++) {\n                  if (groups.indexOf(groupsArray[i]) === -1) {\n                    groupsArray.splice(i, 1);\n                    i--;\n                  }\n                }\n                if (groupsArray.length === 0) {\n                  return null;\n                } else {\n                  return groupsArray;\n                }\n              } else {\n                return null;\n              }\n            }, []);\n\n          if (allowedGroups === null) {\n            return [];\n          } else if (allowedGroups.length === 0) {\n            return $scope.searchTypes;\n          } else {\n            return $scope.searchTypes.filter(function(el) {\n              var groups = getConfigByTypeKey(el.key).groups;\n              if (!groups) return true;\n              for (var i = 0; i < groups.length; i++) {\n                if (allowedGroups.indexOf(groups[i]) > -1) {\n                  return true;\n                }\n              }\n              return false;\n            });\n          }\n        };\n\n        var getConfigByTypeKey = function(typeKey) {\n          return $scope.types.reduce(function(done, type) {\n            return done || (type.id.key === typeKey ? type : null);\n          }, null);\n        };\n\n        var getOperators = function(config, value) {\n          return (\n            config.operators ||\n            $scope.operators[getType(parseValue(value, config.enforceString))]\n          );\n        };\n\n        var filteredSearches = function(original) {\n          return original\n            .map(function(search) {\n              var config = getConfigByTypeKey(search.type);\n              if (config) {\n                var newSearch = {\n                  extended: config.extended,\n                  basic: config.basic,\n                  type: {\n                    values: getTypes(),\n                    value: getTypes().reduce(function(done, type) {\n                      return done || (type.key === search.type ? type : null);\n                    }, null),\n                    tooltip: $scope.translations.type\n                  },\n\n                  name: {\n                    value: search.name,\n                    tooltip: $scope.translations.name\n                  },\n\n                  options: config.options,\n\n                  operator: {\n                    tooltip: $scope.translations.operator\n                  },\n\n                  value: {\n                    value: search.value,\n                    tooltip: $scope.translations.value\n                  },\n                  allowDates: config.allowDates,\n                  enforceDates: config.enforceDates,\n                  potentialNames: config.potentialNames || [],\n                  enforceString: config.enforceString,\n                  caseOptions: config.caseOptions\n                };\n                newSearch.operator.values = getOperators(\n                  config,\n                  newSearch.value.value\n                );\n                newSearch.operator.value = newSearch.operator.values.reduce(\n                  function(done, op) {\n                    return done || (op.key === search.operator ? op : null);\n                  },\n                  null\n                );\n\n                newSearch.valid = isValid(newSearch);\n                return newSearch;\n              } else {\n                if (search.type === \"variableNamesIgnoreCase\")\n                  $scope.caseHandeling.ignoreNames = true;\n                if (search.type === \"variableValuesIgnoreCase\")\n                  $scope.caseHandeling.ignoreValues = true;\n              }\n              return undefined;\n            })\n            .filter(function(search) {\n              return search;\n            });\n        };\n\n        var searchId = $scope.searchId || \"search\";\n\n        var getSearchesFromURL = function() {\n          var urlSearches = JSON.parse(\n            ($location.search() || {})[searchId + \"Query\"] || \"[]\"\n          );\n          return filteredSearches(urlSearches);\n        };\n\n        $scope.searches = $scope.searches || [];\n        $scope.searches = getSearchesFromURL();\n        $scope.validSearchesBuffer = $scope.searches.reduce(function(\n          valid,\n          search\n        ) {\n          if (search.valid) {\n            valid.push(search);\n          }\n          return valid;\n        },\n        []);\n        $scope.validSearches = angular.copy($scope.validSearchesBuffer);\n\n        var selectNextInvalidElement = function(startIndex, startField) {\n          var search = $scope.searches[startIndex];\n          if (!search.valid) {\n            if (\n              search.extended &&\n              !search.name.value &&\n              startField !== \"name\"\n            ) {\n              search.name.inEdit = true;\n              return;\n            } else if (startField !== \"value\") {\n              search.value.inEdit = true;\n              return;\n            }\n          }\n          for (var i = 1; i < $scope.searches.length; i++) {\n            var idx = (i + startIndex) % $scope.searches.length;\n            search = $scope.searches[idx];\n            if (!search.valid) {\n              if (search.extended && !search.name.value) {\n                search.name.inEdit = true;\n              } else {\n                search.value.inEdit = true;\n              }\n              return;\n            }\n          }\n        };\n\n        $scope.createSearch = function(type) {\n          if (!type && !$scope.inputQuery) {\n            return;\n          }\n\n          var value = !type ? $scope.inputQuery : \"\";\n\n          type = (type && getConfigByTypeKey(type.key)) || defaultType;\n\n          var operators = getOperators(type, value);\n\n          $scope.searches.push({\n            extended: type.extended,\n            basic: type.basic,\n            type: {\n              values: getTypes(),\n              value: type.id,\n              tooltip: $scope.translations.type\n            },\n            name: {\n              value: \"\",\n              inEdit: type.extended,\n              tooltip: $scope.translations.name\n            },\n            operator: {\n              value: operators[0],\n              values: operators,\n              tooltip: $scope.translations.operator\n            },\n            options: type.options,\n            value: {\n              value: value,\n              inEdit: !type.extended && !value,\n              tooltip: $scope.translations.value\n            },\n            allowDates: type.allowDates,\n            enforceDates: type.enforceDates,\n            potentialNames: type.potentialNames,\n            enforceString: type.enforceString,\n            caseOptions: type.caseOptions\n          });\n          var search = $scope.searches[$scope.searches.length - 1];\n          search.valid = isValid(search);\n\n          // To those who think, WHAT THE HECK IS THIS?!:\n          //\n          // Typeahead thinks, it is a good idea to focus the input field after selecting an option via mouse click\n          // (see https://github.com/angular-ui/bootstrap/blob/e909b922a2ce09792a733652e5131e9a95b35e5b/src/typeahead/typeahead.js#L274)\n          // We do not want this. Since they are registering their focus event per timeout AFTER we register our\n          // blur event per timeout, the field is focussed in the end. How to prevent this? More timeouts x_x\n          if (!value) {\n            $timeout(function() {\n              $timeout(function() {\n                $scope.inputQuery = \"\";\n                $(element[0].querySelector(\".search-container > input\")).blur();\n              });\n            });\n          } else {\n            $scope.inputQuery = \"\";\n          }\n        };\n\n        $scope.deleteSearch = function(idx) {\n          $scope.searches.splice(idx, 1);\n          $timeout(function() {\n            $(element[0].querySelector(\".search-container > input\")).focus();\n          });\n        };\n\n        $scope.handleChange = function(idx, field, before, value, evt) {\n          var config;\n          var search = $scope.searches[idx];\n          if (field === \"type\") {\n            config = getConfigByTypeKey(value.key);\n\n            search.extended = config.extended;\n            search.basic = config.basic;\n            search.allowDates = config.allowDates;\n\n            if (!search.enforceDates && config.enforceDates) {\n              search.value.value = \"\";\n            }\n            search.enforceDates = config.enforceDates;\n            search.operator.values = getOperators(config, search.value.value);\n            validateOperator(search.operator);\n          } else if (field === \"value\") {\n            if (idx === $scope.searches.length - 1) {\n              $timeout(function() {\n                $(\n                  element[0].querySelector(\".search-container > input\")\n                ).focus();\n              });\n            }\n            config = getConfigByTypeKey(search.type.value.key);\n            if (!config.operators) {\n              search.operator.values = getOperators(config, search.value.value);\n              validateOperator(search.operator);\n            }\n          }\n          search.valid = isValid(search);\n\n          if (evt && evt.keyCode === 13) {\n            selectNextInvalidElement(idx, field);\n          }\n        };\n\n        $scope.onKeydown = function(evt) {\n          if ([38, 40, 13].indexOf(evt.keyCode) !== -1) {\n            var dd = $(\n              element[0].querySelectorAll('.dropdown-menu[id^=\"typeahead\"]')\n            );\n            if (dd.length === 0) {\n              $timeout(function() {\n                angular.element(evt.target).triggerHandler(\"input\");\n              });\n            }\n          }\n        };\n\n        var extractSearches = function(searches) {\n          var out = [];\n          angular.forEach(searches, function(search) {\n            out.push({\n              type: search.type.value.key,\n              operator: search.operator.value.key,\n              value: search.value.value,\n              name: search.name.value\n            });\n          });\n\n          return out;\n        };\n\n        var defaultSearchObject = {\n          basic: true,\n          type: {\n            values: getTypes(),\n            value: {},\n            tooltip: \"\"\n          },\n          name: {\n            value: \"\",\n            inEdit: \"\",\n            tooltip: \"\"\n          },\n          operator: {\n            value: { key: \"eq\", value: \"=\" },\n            values: [],\n            tooltip: $scope.translations.operator\n          },\n          value: {\n            value: \"\",\n            inEdit: false,\n            tooltip: $scope.translations.value\n          },\n          valid: false\n        };\n\n        var handleSearchesUpdate = function() {\n          var searches = $scope.searches;\n          // add valid searches to validSearchesBuffer\n          angular.forEach(searches, function(search) {\n            if (\n              search.valid &&\n              $scope.validSearchesBuffer.indexOf(search) === -1\n            ) {\n              $scope.validSearchesBuffer.push(search);\n            }\n          });\n\n          // remove invalid searches from valid searches\n          $scope.validSearchesBuffer = $scope.validSearchesBuffer.filter(\n            search => {\n              return search.valid && searches.indexOf(search) !== -1;\n            }\n          );\n\n          if ($scope.searchHasVariableQuery) {\n            if ($scope.caseHandeling.ignoreNames) {\n              let search = angular.copy(defaultSearchObject);\n              search.type.value.key = \"variableNamesIgnoreCase\";\n              $scope.validSearchesBuffer.push(search);\n            }\n            if ($scope.caseHandeling.ignoreValues) {\n              let search = angular.copy(defaultSearchObject);\n              search.type.value.key = \"variableValuesIgnoreCase\";\n              $scope.validSearchesBuffer.push(search);\n            }\n          }\n\n          var queryObj = {};\n          queryObj[searchId + \"Query\"] = JSON.stringify(\n            extractSearches($scope.validSearchesBuffer)\n          );\n\n          if ($scope.isMatchAnyActive) {\n            var newLocation;\n\n            if (\n              $scope.matchAny &&\n              !$location.search().hasOwnProperty(searchId + \"OrQuery\")\n            ) {\n              newLocation = $location.url() + \"&\" + searchId + \"OrQuery\";\n            } else if (!$scope.matchAny) {\n              newLocation = $location\n                .url()\n                .replace(\"&\" + searchId + \"OrQuery\", \"\");\n            }\n\n            $location.url(newLocation);\n            $location.replace();\n          }\n\n          $scope.searchHasVariableQuery = searchHasVariableQuery();\n\n          // ignore URL updates for all search widget instances for this update\n          IGNORE_URL_UPDATE = true;\n\n          searchService.updateSilently(\n            queryObj,\n            !$location.search()[searchId + \"Query\"]\n          );\n\n          // listen to URL changes again AFTER the locationchange event has fired\n          $timeout(function() {\n            IGNORE_URL_UPDATE = false;\n          });\n\n          updateSearchTypes();\n        };\n\n        $scope.$watch(\n          \"[searches, matchAny, caseHandeling]\",\n          handleSearchesUpdate,\n          true\n        );\n\n        $scope.$on(\"$locationChangeSuccess\", function() {\n          $scope.matchAny = $location\n            .search()\n            .hasOwnProperty(searchId + \"OrQuery\");\n\n          if (\n            !IGNORE_URL_UPDATE &&\n            $location.search().hasOwnProperty(searchId + \"Query\")\n          ) {\n            // make new array of searches from the url\n            var searches = getSearchesFromURL();\n\n            // if something has changed in the valid searches\n            var compareSearches = $scope.validSearchesBuffer.filter(search => {\n              return search.valid;\n            });\n\n            if (!angular.equals(searches, compareSearches)) {\n              // now add all invalid searches which exist within the original search array, but are not in the URL\n              angular.forEach($scope.searches, function(search) {\n                if (!search.valid) {\n                  searches.push(search);\n                }\n              });\n\n              // empty the valid searches buffer (will be automatically refilled by the listener on the searches)\n              $scope.validSearchesBuffer = [];\n\n              // replace the original search array with the new one\n              $scope.searches = searches;\n            }\n          }\n        });\n\n        var copyValid;\n        $scope.$watch(\n          \"validSearchesBuffer\",\n          function() {\n            $timeout.cancel(copyValid);\n            copyValid = $timeout(function() {\n              $scope.validSearches = angular.copy($scope.validSearchesBuffer);\n            });\n          },\n          true\n        );\n\n        var updateSearchTypes = function() {\n          var types = getTypes();\n          $scope.dropdownTypes = types;\n          for (var i = 0; i < $scope.searches.length; i++) {\n            $scope.searches[i].type.values = types;\n          }\n        };\n\n        $scope.$watch(\n          \"types\",\n          function() {\n            //in case if array of types changed - update dropdown values\n            $scope.searchTypes = $scope.types.map(function(el) {\n              return el.id;\n            });\n            $scope.dropdownTypes = getTypes();\n\n            // Currently we only allow to change the potential names of a type, to support changing the filter\n            // in the tasklist while preserving existing search queries\n            angular.forEach($scope.searches, function(search) {\n              search.potentialNames = getConfigByTypeKey(search.type.value.key)\n                ? getConfigByTypeKey(search.type.value.key).potentialNames || []\n                : null;\n            });\n          },\n          true\n        );\n\n        $scope.dropdownTypes = getTypes();\n\n        /////////////////////////////////////////////////////////////////////\n        // criteria persistence\n        /////////////////////////////////////////////////////////////////////\n\n        var searchCriteriaStorage = ($scope.searchCriteriaStorage = {\n          group: null,\n          nameInput: \"\",\n          available: {}\n        });\n        var stored = {};\n\n        var types = $scope.storageGroup\n          ? [$scope.storageGroup]\n          : $scope.types\n              .map(function(item) {\n                return item.groups;\n              })\n              .reduce(function(current, previous) {\n                return (current || []).concat(previous);\n              })\n              .filter(function(value) {\n                return value;\n              });\n\n        var groups = [];\n        for (var i = 0; i < types.length; i++) {\n          if (groups.indexOf(types[i]) < 0 && types[i]) groups.push(types[i]);\n        }\n\n        if (!groups.length && $scope.storageGroup) {\n          groups.push($scope.storageGroup);\n        }\n\n        groups.forEach(function(group) {\n          stored[group] = {};\n        });\n\n        $scope.$watch(\n          \"validSearches\",\n          function determineGroup() {\n            if ($scope.storageGroup) {\n              searchCriteriaStorage.group = $scope.storageGroup;\n              filterCriteria();\n              return;\n            }\n\n            var _group = null;\n            $scope.validSearches.forEach(function(search) {\n              if (_group) return;\n\n              var key = search.type.value.key;\n              $scope.types.forEach(function(type) {\n                if (_group) return;\n\n                // I know that sucks...\n                // I mean... it sucks that type.groups is supposed to be an array\n                // because if the array has more than 1 item, we can't reliably\n                // determine which group is the relevant one\n                // (unless we iterate more... which would be the worst nightmare\n                // of the guy who will have to maintain that code)\n                if (type.id.key === key && (type.groups || []).length === 1) {\n                  _group = (type.groups || [])[0];\n                }\n              });\n            });\n\n            searchCriteriaStorage.group = _group;\n\n            filterCriteria();\n          },\n          true\n        );\n\n        function filterCriteria() {\n          searchCriteriaStorage.available = {};\n          if (searchCriteriaStorage.group) {\n            $scope.isSearchCriteriaStorageGrouped = false;\n            searchCriteriaStorage.available = copy(\n              stored[searchCriteriaStorage.group]\n            );\n            return;\n          }\n          $scope.isSearchCriteriaStorageGrouped = true;\n          groups.forEach(function(group) {\n            searchCriteriaStorage.available[group] = copy(stored[group] || {});\n          });\n        }\n\n        function groupAndName(str, group) {\n          if (group) {\n            return { group: group, name: str };\n          } else if (searchCriteriaStorage.group) {\n            return { group: searchCriteriaStorage.group, name: str };\n          }\n        }\n\n        stored = widgetLocalConf.get(\"searchCriteria\", stored);\n        filterCriteria();\n\n        $scope.$watch(\"storageGroup\", function() {\n          if ($scope.storageGroup && groups.indexOf($scope.storageGroup) < 0) {\n            return;\n          }\n          searchCriteriaStorage.group = $scope.storageGroup;\n          filterCriteria();\n        });\n\n        $scope.storedCriteriaInputClick = function($evt) {\n          $evt.stopPropagation();\n        };\n\n        $scope.searchCriteriaInputKeydown = function($evt) {\n          if ($evt.keyCode === 13) {\n            return $scope.storedCriteriaSaveClick($evt);\n          }\n        };\n\n        $scope.hasCriteriaSets = function() {\n          if (groups.length > 1) {\n            for (var key in searchCriteriaStorage.available) {\n              if (\n                Object.keys(searchCriteriaStorage.available[key]).length > 0\n              ) {\n                return true;\n              }\n            }\n            return false;\n          } else {\n            return !!Object.keys(searchCriteriaStorage.available || {}).length;\n          }\n        };\n\n        $scope.loadCriteriaSet = function($evt, name, group) {\n          $scope.caseHandeling = {\n            ignoreNames: false,\n            ignoreValues: false\n          };\n\n          var info = groupAndName(name, group);\n          if (!info) return;\n          var original = stored[info.group][info.name];\n          $scope.searches = filteredSearches(original);\n          // provided by Harry Potter, DO NOT REMOVE\n          if ($scope.isMatchAnyActive) {\n            $scope.matchAny = original[original.length - 1][\"matchAny\"];\n          }\n\n          handleSearchesUpdate();\n        };\n\n        $scope.dropCriteriaSet = function($evt, name, group) {\n          $evt.stopPropagation();\n\n          var info = groupAndName(name, group);\n          if (!info) return;\n          delete stored[info.group][info.name];\n\n          widgetLocalConf.set(\"searchCriteria\", stored);\n          filterCriteria();\n        };\n\n        $scope.storedCriteriaSaveClick = function($evt) {\n          $evt.stopPropagation();\n\n          var name = searchCriteriaStorage.nameInput;\n          if (!name) {\n            return;\n          }\n\n          stored[searchCriteriaStorage.group] =\n            stored[searchCriteriaStorage.group] || {};\n          stored[searchCriteriaStorage.group][name] = extractSearches(\n            $scope.validSearchesBuffer\n          );\n\n          if ($scope.isMatchAnyActive) {\n            stored[searchCriteriaStorage.group][name].push({\n              matchAny: $scope.matchAny\n            });\n          }\n\n          stored[searchCriteriaStorage.group][name].push({\n            caseHandeling: angular.copy($scope.caseHandeling)\n          });\n\n          widgetLocalConf.set(\"searchCriteria\", stored);\n          filterCriteria();\n          searchCriteriaStorage.nameInput = \"\";\n        };\n      },\n\n      template: template\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div class=\"search-field\">\n  <form ng-submit=\"createSearch()\"\n        ng-class=\"{'has-search': searches.length, 'focused': focused}\">\n\n    <div class=\"form-container search-container\"\n         ng-style=\"{'padding-right': getRightPadding()}\"\n         ng-class=\"{'has-icon': !!mode}\">\n      <div ng-if=\"isMatchAnyActive && searches.length > 0\"\n           class=\"match-any\">\n        <button ng-click=\"switchMatchType()\"\n                type=\"button\"\n                class=\"btn btn-default btn-xs\"\n                ng-disabled=\"searches.length < 2\">\n          {{ (matchAny ? 'CAM_WIDGET_SEARCH_MATCH_TYPE_ANY' : 'CAM_WIDGET_SEARCH_MATCH_TYPE_ALL') | translate }}\n        </button>\n        <span ng-disabled=\"searches.length < 2\">{{ 'CAM_WIDGET_SEARCH_MATCH_TYPE' | translate }}</span>\n        </div>\n        <span ng-if=\"mode\" class=\"search-type glyphicon\" ng-class=\"'glyphicon-' + mode\"></span>\n      <span cam-widget-search-pill\n            ng-repeat=\"search in searches\"\n            extended=\"search.extended\"\n            basic=\"search.basic\"\n            allow-dates=\"search.allowDates\"\n            enforce-dates=\"search.enforceDates\"\n            valid=\"search.valid\"\n            name=\"search.name\"\n            potential-names=\"search.potentialNames\"\n            type=\"search.type\"\n            operator=\"search.operator\"\n            value=\"search.value\"\n            options=\"search.options\"\n            allow-non-values=\"search.allowNonValues\"\n            invalid-text=\"{{ translations.invalid }}\"\n            delete-text=\"{{ translations.deleteSearch }}\"\n            on-change=\"handleChange($index, field, before, value, $event)\"\n            on-delete=\"deleteSearch($index)\"\n            disable-typeahead-autoselect=\"disableTypeaheadAutoselect\"></span>\n\n      <input class=\"form-control main-field\"\n             type=\"text\"\n             ng-model=\"inputQuery\"\n             ng-keydown=\"onKeydown($event)\"\n             uib-typeahead=\"type as type.value for type in dropdownTypes | filter:$viewValue:instantTypeahead\"\n             typeahead-on-select=\"createSearch($item)\"\n             instant-typeahead />\n\n      <div class=\"ignore-case\" ng-if=\"searchHasVariableQuery\">\n        {{'CAM_WIDGET_SEARCH_VARIABLE_CASE_ATTRIBUTE' | translate }}\n          <label>\n            <input type=\"checkbox\" ng-model=\"caseHandeling.ignoreNames\" >\n            {{'CAM_WIDGET_SEARCH_VARIABLE_CASE_NAME' | translate}}\n          </label>\n          <label>\n            <input type=\"checkbox\" ng-model=\"caseHandeling.ignoreValues\">\n            {{'CAM_WIDGET_SEARCH_VARIABLE_CASE_VALUE' | translate}}.\n          </label>\n      </div>\n\n\n\n    </div>\n  </form>\n  <div class=\"controls\">\n    <span ng-if=\"total\"\n          class=\"total-results\"\n          uib-tooltip=\"{{ 'CAM_WIDGET_SEARCH_TOTAL_NUMBER_RESULTS' | translate }}\">\n      {{total}}\n    </span>\n\n    <span cam-share-link></span>\n\n    <span class=\"dropdown stored-criteria\" uib-dropdown>\n      <button ng-disabled=\"!searches.length && !hasCriteriaSets()\"\n              class=\"dropdown-toggle btn btn-default\" uib-dropdown-toggle>\n        <span class=\"glyphicon glyphicon-floppy-disk\"></span>\n        <span class=\"caret\"></span>\n      </button>\n\n      <ul class=\"dropdown-menu dropdown-menu-right\"\n          ng-if=\"searchCriteriaStorage.group || hasCriteriaSets()\" uib-dropdown-menu>\n        <li ng-if=\"searchCriteriaStorage.group\">\n          <div class=\"input-group input-group-sm\">\n            <input type=\"text\"\n                   class=\"form-control\"\n                   ng-model=\"searchCriteriaStorage.nameInput\"\n                   ng-click=\"storedCriteriaInputClick($event)\"\n                   ng-keydown=\"searchCriteriaInputKeydown($event)\" />\n            <span class=\"input-group-btn\">\n              <button ng-disabled=\"!searchCriteriaStorage.nameInput\"\n                      ng-click=\"storedCriteriaSaveClick($event)\"\n                      class=\"btn btn-default\"\n                      type=\"button\">\n                <span class=\"glyphicon glyphicon-ok\"></span>\n              </button>\n            </span>\n          </div>\n        </li>\n\n        <li role=\"separator\"\n            class=\"divider\"\n            ng-if=\"searchCriteriaStorage.group && hasCriteriaSets()\"></li>\n\n        <li class=\"stored-criteria-set\"\n            ng-if=\"hasCriteriaSets() && !isSearchCriteriaStorageGrouped\"\n            ng-repeat=\"(key, value) in searchCriteriaStorage.available\">\n          <div>\n            <a class=\"glyphicon glyphicon-remove-sign\"\n              ng-click=\"dropCriteriaSet($event, key)\"\n              href></a>\n\n            <a href\n              ng-click=\"loadCriteriaSet($event, key)\">{{ key }}</a>\n          </div>\n        </li>\n\n        <li class=\"stored-criteria-set\"\n            ng-if=\"hasCriteriaSets() && isSearchCriteriaStorageGrouped\"\n            ng-repeat=\"(group, values) in searchCriteriaStorage.available\">\n          <div ng-repeat=\"(name, value) in values\">\n            <a class=\"glyphicon glyphicon-remove-sign\"\n              ng-click=\"dropCriteriaSet($event, name, group)\"\n              href></a>\n\n            <a href\n              ng-click=\"loadCriteriaSet($event, name, group)\">{{ group }} : {{ name }}</a>\n          </div>\n        </li>\n\n      </ul>\n    </span>\n  </div>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-bpm-sdk-js/vendor/angular\"),\n  Viewer = require(\"../../util/viewer\"),\n  template = require(\"./cam-widget-bpmn-viewer.html.js\");\n\nmodule.exports = [\n  \"$q\",\n  \"$document\",\n  \"$compile\",\n  \"$location\",\n  \"$rootScope\",\n  \"search\",\n  \"debounce\",\n  function($q, $document, $compile, $location, $rootScope, search, debounce) {\n    return {\n      scope: {\n        diagramData: \"=\",\n        key: \"@\",\n        control: \"=?\",\n        disableNavigation: \"&\",\n        onLoad: \"&\",\n        onClick: \"&\",\n        onMouseEnter: \"&\",\n        onMouseLeave: \"&\",\n        bpmnJsConf: \"=?\"\n      },\n\n      template: template,\n\n      link: function($scope, $element) {\n        var viewer = null;\n        var canvas = null;\n        var definitions;\n        var diagramContainer = $element[0].querySelector(\".diagram-holder\");\n\n        function attachDiagram() {\n          diagramContainer.appendChild(viewer._container);\n        }\n\n        function detatchDiagram() {\n          diagramContainer.removeChild(viewer._container);\n        }\n\n        $scope.grabbing = false;\n\n        // parse boolean\n        $scope.disableNavigation = $scope.$eval($scope.disableNavigation);\n\n        // --- CONTROL FUNCTIONS ---\n        $scope.control = $scope.control || {};\n\n        $scope.control.highlight = function(id) {\n          canvas.addMarker(id, \"highlight\");\n\n          $element.find('[data-element-id=\"' + id + '\"]>.djs-outline').attr({\n            rx: \"14px\",\n            ry: \"14px\"\n          });\n        };\n\n        $scope.control.clearHighlight = function(id) {\n          canvas.removeMarker(id, \"highlight\");\n        };\n\n        $scope.control.isHighlighted = function(id) {\n          return canvas.hasMarker(id, \"highlight\");\n        };\n\n        // config: text, tooltip, color, position\n        $scope.control.createBadge = function(id, config) {\n          var overlays = viewer.get(\"overlays\");\n\n          var htmlElement;\n          if (config.html) {\n            htmlElement = config.html;\n          } else {\n            htmlElement = document.createElement(\"span\");\n            if (config.color) {\n              htmlElement.style[\"background-color\"] = config.color;\n            }\n            if (config.tooltip) {\n              htmlElement.setAttribute(\"tooltip\", config.tooltip);\n              htmlElement.setAttribute(\"tooltip-placement\", \"top\");\n            }\n            if (config.text) {\n              htmlElement.appendChild(document.createTextNode(config.text));\n            }\n          }\n\n          var overlayId = overlays.add(id, {\n            position: config.position || {\n              bottom: 0,\n              right: 0\n            },\n            show: {\n              minZoom: -Infinity,\n              maxZoom: +Infinity\n            },\n            html: htmlElement\n          });\n\n          $compile(htmlElement)($scope);\n\n          return overlayId;\n        };\n\n        // removes all badges for an element with a given id\n        $scope.control.removeBadges = function(id) {\n          viewer.get(\"overlays\").remove({ element: id });\n        };\n\n        // removes a single badge with a given id\n        $scope.control.removeBadge = function(id) {\n          viewer.get(\"overlays\").remove(id);\n        };\n\n        $scope.control.getViewer = function() {\n          return viewer;\n        };\n\n        $scope.control.scrollToElement = function(element) {\n          var height, width, x, y;\n\n          var elem = viewer.get(\"elementRegistry\").get(element);\n          var viewbox = canvas.viewbox();\n\n          height = Math.max(viewbox.height, elem.height);\n          width = Math.max(viewbox.width, elem.width);\n\n          x = Math.min(\n            Math.max(viewbox.x, elem.x - viewbox.width + elem.width),\n            elem.x\n          );\n          y = Math.min(\n            Math.max(viewbox.y, elem.y - viewbox.height + elem.height),\n            elem.y\n          );\n\n          canvas.viewbox({\n            x: x,\n            y: y,\n            width: width,\n            height: height\n          });\n        };\n\n        $scope.control.getElement = function(elementId) {\n          return viewer.get(\"elementRegistry\").get(elementId);\n        };\n\n        $scope.control.getElements = function(filter) {\n          return viewer.get(\"elementRegistry\").filter(filter);\n        };\n\n        $scope.loaded = false;\n        $scope.control.isLoaded = function() {\n          return $scope.loaded;\n        };\n\n        $scope.control.addAction = function(config) {\n          var container = $element.find(\".actions\");\n          var htmlElement = config.html;\n          container.append(htmlElement);\n          $compile(htmlElement)($scope);\n        };\n\n        var heatmapImage;\n\n        $scope.control.addImage = function(image, x, y) {\n          return preloadImage(image).then(\n            function(preloadedElement) {\n              var width = preloadedElement.offsetWidth;\n              var height = preloadedElement.offsetHeight;\n              var imageElement = $document[0].createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                \"image\"\n              );\n\n              imageElement.setAttributeNS(\n                \"http://www.w3.org/1999/xlink\",\n                \"xlink:href\",\n                image\n              );\n              imageElement.setAttributeNS(null, \"width\", width);\n              imageElement.setAttributeNS(null, \"height\", height);\n              imageElement.setAttributeNS(null, \"x\", x);\n              imageElement.setAttributeNS(null, \"y\", y);\n\n              $document[0].body.removeChild(preloadedElement);\n              canvas._viewport.appendChild(imageElement);\n\n              heatmapImage = angular.element(imageElement);\n              return heatmapImage;\n            },\n            function(preloadedElement) {\n              $document[0].body.removeChild(preloadedElement);\n            }\n          );\n        };\n\n        function preloadImage(img) {\n          var body = $document[0].body;\n          var deferred = $q.defer();\n          var imageElement = angular\n            .element(\"<img>\")\n            .css(\"position\", \"absolute\")\n            .css(\"left\", \"-9999em\")\n            .css(\"top\", \"-9999em\")\n            .attr(\"src\", img)[0];\n\n          imageElement.onload = function() {\n            deferred.resolve(imageElement);\n          };\n\n          imageElement.onerror = function() {\n            deferred.reject(imageElement);\n          };\n\n          body.appendChild(imageElement);\n\n          return deferred.promise;\n        }\n\n        var bpmnJsConf = $scope.bpmnJsConf;\n\n        var bpmnJsModules = [];\n        if (bpmnJsConf && bpmnJsConf.loadedModules) {\n          bpmnJsModules.push(...bpmnJsConf.loadedModules);\n        }\n\n        viewer = Viewer.generateViewer({\n          width: \"100%\",\n          height: \"100%\",\n          canvas: {\n            deferUpdate: false\n          },\n          key: $scope.key,\n          disableNavigation: $scope.disableNavigation,\n          additionalModules: bpmnJsModules,\n          moddleExtensions: bpmnJsConf.moddleExtensions || {}\n        });\n\n        if (!viewer.cached) {\n          // attach diagram immediately to avoid having the bpmn logo for viewers that are not cached\n          attachDiagram();\n        }\n\n        // The following logic mirrors diagram-js to defer its update of the viewbox change.\n        // We tell diagram-js to not defer the update (see above) and do it ourselves instead.\n        // Only difference: We use a delay of 0. This causes the update to basically be propagated\n        // immediately after the current execution is finished (instead of halting the execution\n        // until the viewbox changes and all event listeners are executed). This results in a much\n        // better performance while moving the diagram, but at a cost: In the interval between the\n        // trigger of the viewbox change and the calculation of the event handlers in the debounced\n        // execution, things like badges or migration arrows are at the wrong position; they feel\n        // like they are \"dragged behind\". Therefore, we temporarily hide the overlays.\n\n        // patch show and hide of overlays\n        var originalShow = viewer\n          .get(\"overlays\")\n          .show.bind(viewer.get(\"overlays\"));\n        viewer.get(\"overlays\").show = function() {\n          viewer.get(\"eventBus\").fire(\"overlays.show\");\n          originalShow();\n        };\n\n        var originalHide = viewer\n          .get(\"overlays\")\n          .hide.bind(viewer.get(\"overlays\"));\n        viewer.get(\"overlays\").hide = function() {\n          viewer.get(\"eventBus\").fire(\"overlays.hide\");\n          originalHide();\n        };\n\n        var showAgain = debounce(function() {\n          viewer.get(\"overlays\").show();\n        }, 300);\n\n        var originalViewboxChanged = viewer\n          .get(\"canvas\")\n          ._viewboxChanged.bind(viewer.get(\"canvas\"));\n        var debouncedOriginal = debounce(function() {\n          originalViewboxChanged();\n          viewer.get(\"overlays\").hide();\n          showAgain();\n        }, 0);\n        viewer.get(\"canvas\")._viewboxChanged = function() {\n          debouncedOriginal();\n        };\n\n        var diagramData = null;\n\n        $scope.$watch(\"diagramData\", function(newValue) {\n          if (newValue) {\n            diagramData = newValue;\n            renderDiagram();\n          }\n        });\n\n        function handleViewerLoad() {\n          canvas = viewer.get(\"canvas\");\n          definitions = viewer._definitions;\n          setupEventListeners();\n          zoom();\n          $scope.loaded = true;\n        }\n\n        function renderDiagram() {\n          // if there is a cached viewer, no need to import data\n          if (viewer.cached) {\n            attachDiagram();\n            handleViewerLoad();\n            return $scope.onLoad();\n          } else if (diagramData) {\n            $scope.loaded = false;\n\n            var useDefinitions = typeof diagramData === \"object\";\n\n            var importFunction = (useDefinitions\n              ? viewer.open\n              : viewer.importXML\n            ).bind(viewer);\n\n            var diagram = diagramData;\n            if (useDefinitions) {\n              viewer._setDefinitions(diagramData);\n              diagram = diagramData.diagrams[0];\n            }\n\n            importFunction(diagram, function(err, warn) {\n              var applyFunction = useDefinitions\n                ? function(fn) {\n                    fn();\n                  }\n                : $scope.$apply.bind($scope);\n\n              applyFunction(function() {\n                if (err) {\n                  $scope.error = err;\n                  return;\n                }\n\n                $scope.warn = warn;\n\n                handleViewerLoad();\n                return $scope.onLoad();\n              });\n            });\n          }\n        }\n\n        function zoom() {\n          if (canvas) {\n            var viewbox = JSON.parse(\n              ($location.search() || {}).viewbox || \"{}\"\n            )[definitions.id];\n\n            if (viewbox) {\n              canvas.viewbox(viewbox);\n            } else {\n              canvas.zoom(\"fit-viewport\", \"auto\");\n            }\n          }\n        }\n\n        var mouseReleaseCallback = function() {\n          $scope.grabbing = false;\n          document.removeEventListener(\"mouseup\", mouseReleaseCallback);\n          $scope.$apply();\n        };\n\n        function onClick(e) {\n          // e.element = the model element\n          // e.gfx = the graphical element\n          $scope.onClick({ element: e.element, $event: e.originalEvent });\n        }\n\n        function onHover(e) {\n          $scope.onMouseEnter({ element: e.element, $event: e.originalEvent });\n        }\n\n        function onOut(e) {\n          $scope.onMouseLeave({ element: e.element, $event: e.originalEvent });\n        }\n\n        function onMousedown() {\n          $scope.grabbing = true;\n          document.addEventListener(\"mouseup\", mouseReleaseCallback);\n          $scope.$apply();\n        }\n\n        var onViewboxChange = debounce(function(e) {\n          var viewbox = JSON.parse(($location.search() || {}).viewbox || \"{}\");\n\n          viewbox[definitions.id] = {\n            x: e.viewbox.x,\n            y: e.viewbox.y,\n            width: e.viewbox.width,\n            height: e.viewbox.height\n          };\n\n          search.updateSilently({\n            viewbox: JSON.stringify(viewbox)\n          });\n\n          var phase = $rootScope.$$phase;\n          if (phase !== \"$apply\" && phase !== \"$digest\") {\n            $scope.$apply(function() {\n              $location.replace();\n            });\n          } else {\n            $location.replace();\n          }\n        }, 500);\n\n        function setupEventListeners() {\n          var eventBus = viewer.get(\"eventBus\");\n          eventBus.on(\"element.click\", onClick);\n          eventBus.on(\"element.hover\", onHover);\n          eventBus.on(\"element.out\", onOut);\n          eventBus.on(\"element.mousedown\", onMousedown);\n          eventBus.on(\"canvas.viewbox.changed\", onViewboxChange);\n        }\n\n        function clearEventListeners() {\n          var eventBus = viewer.get(\"eventBus\");\n          eventBus.off(\"element.click\", onClick);\n          eventBus.off(\"element.hover\", onHover);\n          eventBus.off(\"element.out\", onOut);\n          eventBus.off(\"element.mousedown\", onMousedown);\n          eventBus.off(\"canvas.viewbox.changed\", onViewboxChange);\n        }\n\n        $scope.zoomIn = function() {\n          viewer.get(\"zoomScroll\").zoom(1, {\n            x: $element[0].offsetWidth / 2,\n            y: $element[0].offsetHeight / 2\n          });\n        };\n\n        $scope.zoomOut = function() {\n          viewer.get(\"zoomScroll\").zoom(-1, {\n            x: $element[0].offsetWidth / 2,\n            y: $element[0].offsetHeight / 2\n          });\n        };\n\n        $scope.resetZoom = function() {\n          canvas.resized();\n          canvas.zoom(\"fit-viewport\", \"auto\");\n        };\n\n        $scope.control.resetZoom = $scope.resetZoom;\n\n        $scope.control.refreshZoom = function() {\n          canvas.resized();\n          canvas.zoom(canvas.zoom(), \"auto\");\n        };\n\n        $scope.$on(\"$destroy\", function() {\n          detatchDiagram();\n          clearEventListeners();\n          viewer.get(\"overlays\").clear();\n          // Viewer.cacheViewer({key: $scope.key, viewer: viewer});\n        });\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Viewer = require(\"bpmn-js/lib/NavigatedViewer\").default;\n\nvar viewers = {};\n\nmodule.exports = {\n  generateViewer: generateViewer,\n  cacheViewer: cacheViewer\n};\n\nfunction generateViewer(options) {\n  // get cached viewer if it exists\n  var cachedViewer = options.key && viewers[options.key];\n  if (cachedViewer) {\n    cachedViewer.cached = true;\n    return cachedViewer;\n  }\n\n  // return a new bpmn viewer\n  var BpmnViewer = Viewer;\n  if (options.disableNavigation) {\n    BpmnViewer = Object.getPrototypeOf(Viewer.prototype).constructor;\n  }\n  return new BpmnViewer(options);\n}\n\nfunction cacheViewer(options) {\n  return options.key && (viewers[options.key] = options.viewer);\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div uib-alert class=\"alert alert-danger\"\n     ng-if=\"error\">\n  <span>\n    <strong>{{ 'CAM_WIDGET_BPMN_VIEWER_ERROR' | translate }}</strong>\n  </span>\n  <span>\n   {{ error.message }}\n  </span>\n</div>\n\n<div ng-show=\"!error\">\n\n  <div ng-if=\"!loaded\" class=\"placeholder-container\">\n    <div class=\"placeholder-content\">\n      <span class=\"glyphicon glyphicon-refresh animate-spin\"></span>\n      <span class=\"loading-text\">{{ 'CAM_WIDGET_BPMN_VIEWER_LOADING' | translate }}</span>\n    </div>\n  </div>\n\n  <div class=\"diagram-holder\" ng-class='{\"diagram-holder\": true, \"grab-cursor\": !disableNavigation && !grabbing, \"djs-cursor-move\": !disableNavigation && grabbing}'></div>\n\n  <div class=\"actions\"></div>\n\n  <div ng-if=\"!disableNavigation\"\n       class=\"navigation zoom\">\n    <button class=\"btn btn-default in\"\n            title=\"zoom in\"\n            ng-click=\"zoomIn()\">\n      <span class=\"glyphicon glyphicon-plus\"></span>\n    </button>\n    <button class=\"btn btn-default out\"\n            title=\"zoom out\"\n            ng-click=\"zoomOut()\">\n      <span class=\"glyphicon glyphicon-minus\"></span>\n    </button>\n  </div>\n\n  <div ng-if=\"!disableNavigation\"\n       class=\"navigation reset\">\n    <button class=\"btn btn-default\"\n            title=\"reset zoom\"\n            ng-click=\"resetZoom()\">\n      <span class=\"glyphicon glyphicon-screenshot\"></span>\n    </button>\n  </div>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Viewer = require(\"cmmn-js/lib/NavigatedViewer\");\n\nvar template = require(\"./cam-widget-cmmn-viewer.html.js\");\n\nmodule.exports = [\n  \"$compile\",\n  \"$location\",\n  \"$rootScope\",\n  \"search\",\n  \"debounce\",\n  function($compile, $location, $rootScope, search, debounce) {\n    return {\n      scope: {\n        diagramData: \"=\",\n        control: \"=?\",\n        disableNavigation: \"&\",\n        onLoad: \"&\",\n        onClick: \"&\",\n        onMouseEnter: \"&\",\n        onMouseLeave: \"&\"\n      },\n\n      template: template,\n\n      link: function($scope, $element) {\n        var definitions;\n\n        $scope.grabbing = false;\n\n        // parse boolean\n        $scope.disableNavigation = $scope.$eval($scope.disableNavigation);\n\n        // --- CONTROL FUNCTIONS ---\n        $scope.control = $scope.control || {};\n\n        $scope.control.highlight = function(element) {\n          $scope.control.addMarker(element, \"highlight\");\n\n          var id = element.id || element;\n          $element.find('[data-element-id=\"' + id + '\"]>.djs-outline').attr({\n            rx: \"14px\",\n            ry: \"14px\"\n          });\n        };\n\n        $scope.control.clearHighlight = function(id) {\n          $scope.control.removeMarker(id, \"highlight\");\n        };\n\n        $scope.control.isHighlighted = function(id) {\n          return $scope.control.hasMarker(id, \"highlight\");\n        };\n\n        $scope.control.addMarker = function(element, marker) {\n          canvas.addMarker(element, marker);\n        };\n\n        $scope.control.removeMarker = function(element, marker) {\n          canvas.removeMarker(element, marker);\n        };\n\n        $scope.control.hasMarker = function(element, marker) {\n          return canvas.hasMarker(element, marker);\n        };\n\n        // config: text, tooltip, color, position\n        $scope.control.createBadge = function(id, config) {\n          var overlays = viewer.get(\"overlays\");\n\n          var htmlElement;\n          if (config.html) {\n            htmlElement = config.html;\n          } else {\n            htmlElement = document.createElement(\"span\");\n            if (config.color) {\n              htmlElement.style[\"background-color\"] = config.color;\n            }\n            if (config.tooltip) {\n              htmlElement.setAttribute(\"tooltip\", config.tooltip);\n              htmlElement.setAttribute(\"tooltip-placement\", \"top\");\n            }\n            if (config.text) {\n              htmlElement.appendChild(document.createTextNode(config.text));\n            }\n          }\n\n          var overlayId = overlays.add(id, {\n            position: config.position || {\n              bottom: 0,\n              right: 0\n            },\n            show: {\n              minZoom: -Infinity,\n              maxZoom: +Infinity\n            },\n            html: htmlElement\n          });\n\n          $compile(htmlElement)($scope);\n\n          return overlayId;\n        };\n\n        // removes all badges for an element with a given id\n        $scope.control.removeBadges = function(id) {\n          viewer.get(\"overlays\").remove({ element: id });\n        };\n\n        // removes a single badge with a given id\n        $scope.control.removeBadge = function(id) {\n          viewer.get(\"overlays\").remove(id);\n        };\n\n        $scope.control.getViewer = function() {\n          return viewer;\n        };\n\n        $scope.control.scrollToElement = function(element) {\n          var height, width, x, y;\n\n          var elem = viewer.get(\"elementRegistry\").get(element);\n          var viewbox = canvas.viewbox();\n\n          height = Math.max(viewbox.height, elem.height);\n          width = Math.max(viewbox.width, elem.width);\n\n          x = Math.min(\n            Math.max(viewbox.x, elem.x - viewbox.width + elem.width),\n            elem.x\n          );\n          y = Math.min(\n            Math.max(viewbox.y, elem.y - viewbox.height + elem.height),\n            elem.y\n          );\n\n          canvas.viewbox({\n            x: x,\n            y: y,\n            width: width,\n            height: height\n          });\n        };\n\n        $scope.control.getElement = function(elementId) {\n          return viewer.get(\"elementRegistry\").get(elementId);\n        };\n\n        $scope.control.getElements = function(filter) {\n          return viewer.get(\"elementRegistry\").filter(filter);\n        };\n\n        $scope.loaded = false;\n        $scope.control.isLoaded = function() {\n          return $scope.loaded;\n        };\n\n        $scope.control.addAction = function(config) {\n          var container = $element.find(\".actions\");\n          var htmlElement = config.html;\n          container.append(htmlElement);\n          $compile(htmlElement)($scope);\n        };\n\n        $scope.control.addImage = function(image, x, y) {\n          var addedImage = canvas._viewport.image(image, x, y);\n          return addedImage;\n        };\n\n        var CmmnViewer = Viewer;\n        if ($scope.disableNavigation) {\n          CmmnViewer = Object.getPrototypeOf(Viewer.prototype).constructor;\n        }\n        var viewer = new CmmnViewer({\n          container: $element[0].querySelector(\".diagram-holder\"),\n          width: \"100%\",\n          height: \"100%\",\n          canvas: {\n            deferUpdate: false\n          }\n        });\n\n        // The following logic mirrors diagram-js to defer its update of the viewbox change.\n        // We tell diagram-js to not defer the update (see above) and do it ourselves instead.\n        // Only difference: We use a delay of 0. This causes the update to basically be propagated\n        // immediately after the current execution is finished (instead of halting the execution\n        // until the viewbox changes and all event listeners are executed). This results in a much\n        // better performance while moving the diagram, but at a cost: In the interval between the\n        // trigger of the viewbox change and the calculation of the event handlers in the debounced\n        // execution, things like badges or migration arrows are at the wrong position; they feel\n        // like they are \"dragged behind\". Therefore, we temporarily hide the overlays.\n\n        // patch show and hide of overlays\n        var originalShow = viewer\n          .get(\"overlays\")\n          .show.bind(viewer.get(\"overlays\"));\n        viewer.get(\"overlays\").show = function() {\n          viewer.get(\"eventBus\").fire(\"overlays.show\");\n          originalShow();\n        };\n\n        var originalHide = viewer\n          .get(\"overlays\")\n          .hide.bind(viewer.get(\"overlays\"));\n        viewer.get(\"overlays\").hide = function() {\n          viewer.get(\"eventBus\").fire(\"overlays.hide\");\n          originalHide();\n        };\n\n        var showAgain = debounce(function() {\n          viewer.get(\"overlays\").show();\n        }, 300);\n\n        var originalViewboxChanged = viewer\n          .get(\"canvas\")\n          ._viewboxChanged.bind(viewer.get(\"canvas\"));\n        var debouncedOriginal = debounce(function() {\n          originalViewboxChanged();\n          viewer.get(\"overlays\").hide();\n          showAgain();\n        }, 0);\n        viewer.get(\"canvas\")._viewboxChanged = function() {\n          debouncedOriginal();\n        };\n\n        var diagramData = null;\n        var canvas = null;\n\n        $scope.$watch(\"diagramData\", function(newValue) {\n          if (newValue) {\n            diagramData = newValue;\n            renderDiagram();\n          }\n        });\n\n        function renderDiagram() {\n          if (diagramData) {\n            $scope.loaded = false;\n\n            var useDefinitions = typeof diagramData === \"object\";\n\n            var importFunction = (useDefinitions\n              ? viewer.importDefinitions\n              : viewer.importXML\n            ).bind(viewer);\n\n            importFunction(diagramData, function(err, warn) {\n              var applyFunction = useDefinitions\n                ? function(fn) {\n                    fn();\n                  }\n                : $scope.$apply.bind($scope);\n\n              applyFunction(function() {\n                if (err) {\n                  $scope.error = err;\n                  return;\n                }\n                $scope.warn = warn;\n                canvas = viewer.get(\"canvas\");\n                definitions = viewer._definitions;\n                zoom();\n                setupEventListeners();\n                $scope.loaded = true;\n                $scope.onLoad();\n              });\n            });\n          }\n        }\n\n        function zoom() {\n          if (canvas) {\n            var viewbox = JSON.parse(\n              ($location.search() || {}).viewbox || \"{}\"\n            )[definitions.id];\n\n            if (viewbox) {\n              canvas.viewbox(viewbox);\n            } else {\n              canvas.zoom(\"fit-viewport\", \"auto\");\n            }\n          }\n        }\n\n        var mouseReleaseCallback = function() {\n          $scope.grabbing = false;\n          document.removeEventListener(\"mouseup\", mouseReleaseCallback);\n          $scope.$apply();\n        };\n\n        function setupEventListeners() {\n          var eventBus = viewer.get(\"eventBus\");\n          eventBus.on(\"element.click\", function(e) {\n            // e.element = the model element\n            // e.gfx = the graphical element\n            $scope.onClick({ element: e.element, $event: e.originalEvent });\n          });\n          eventBus.on(\"element.hover\", function(e) {\n            $scope.onMouseEnter({\n              element: e.element,\n              $event: e.originalEvent\n            });\n          });\n          eventBus.on(\"element.out\", function(e) {\n            $scope.onMouseLeave({\n              element: e.element,\n              $event: e.originalEvent\n            });\n          });\n          eventBus.on(\"element.mousedown\", function() {\n            $scope.grabbing = true;\n\n            document.addEventListener(\"mouseup\", mouseReleaseCallback);\n\n            $scope.$apply();\n          });\n          eventBus.on(\n            \"canvas.viewbox.changed\",\n            debounce(function(e) {\n              var viewbox = JSON.parse(\n                ($location.search() || {}).viewbox || \"{}\"\n              );\n\n              viewbox[definitions.id] = {\n                x: e.viewbox.x,\n                y: e.viewbox.y,\n                width: e.viewbox.width,\n                height: e.viewbox.height\n              };\n\n              search.updateSilently({\n                viewbox: JSON.stringify(viewbox)\n              });\n\n              var phase = $rootScope.$$phase;\n              if (phase !== \"$apply\" && phase !== \"$digest\") {\n                $scope.$apply(function() {\n                  $location.replace();\n                });\n              } else {\n                $location.replace();\n              }\n            }, 500)\n          );\n        }\n\n        $scope.zoomIn = function() {\n          viewer.get(\"zoomScroll\").zoom(1, {\n            x: $element[0].offsetWidth / 2,\n            y: $element[0].offsetHeight / 2\n          });\n        };\n\n        $scope.zoomOut = function() {\n          viewer.get(\"zoomScroll\").zoom(-1, {\n            x: $element[0].offsetWidth / 2,\n            y: $element[0].offsetHeight / 2\n          });\n        };\n\n        $scope.resetZoom = function() {\n          canvas.resized();\n          canvas.zoom(\"fit-viewport\", \"auto\");\n        };\n        $scope.control.resetZoom = $scope.resetZoom;\n\n        $scope.control.refreshZoom = function() {\n          canvas.resized();\n          canvas.zoom(canvas.zoom(), \"auto\");\n        };\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div uib-alert class=\"alert alert-danger\"\n     ng-if=\"error\">\n  <span>\n    <strong>{{ 'CAM_WIDGET_CMMN_VIEWER_ERROR' | translate }}</strong>\n  </span>\n  <span>\n   {{ error.message }}\n  </span>\n</div>\n\n<div ng-show=\"!error\">\n\n  <div ng-if=\"!loaded\" class=\"placeholder-container\">\n    <div class=\"placeholder-content\">\n      <span class=\"glyphicon glyphicon-refresh animate-spin\"></span>\n      <span class=\"loading-text\">{{ 'CAM_WIDGET_CMMN_VIEWER_LOADING' | translate }}</span>\n    </div>\n  </div>\n\n  <div class=\"diagram-holder\" ng-class='{\"diagram-holder\": true, \"grab-cursor\": !disableNavigation && !grabbing, \"djs-cursor-move\": !disableNavigation && grabbing}'></div>\n\n  <div class=\"actions\"></div>\n\n  <div ng-if=\"!disableNavigation\"\n       class=\"navigation zoom\">\n    <button class=\"btn btn-default in\"\n            title=\"zoom in\"\n            ng-click=\"zoomIn()\">\n      <span class=\"glyphicon glyphicon-plus\"></span>\n    </button>\n    <button class=\"btn btn-default out\"\n            title=\"zoom out\"\n            ng-click=\"zoomOut()\">\n      <span class=\"glyphicon glyphicon-minus\"></span>\n    </button>\n  </div>\n\n  <div ng-if=\"!disableNavigation\"\n       class=\"navigation reset\">\n    <button class=\"btn btn-default\"\n            title=\"reset zoom\"\n            ng-click=\"resetZoom()\">\n      <span class=\"glyphicon glyphicon-screenshot\"></span>\n    </button>\n  </div>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar migrateDiagram = require(\"@bpmn-io/dmn-migrate\").migrateDiagram;\n\nvar angular = require(\"../../../../camunda-bpm-sdk-js/vendor/angular\");\nvar Viewer = require(\"./lib/navigatedViewer\").default;\nvar Modeler = require(\"dmn-js/lib/Modeler\").default;\nvar changeDmnNamespace = require(\"../../util/change-dmn-namespace\");\n\nvar template = require(\"./cam-widget-dmn-viewer.html.js\");\n// This is only relevant when editMode===true,\n// but we only want to rewrite the function once\nvar original = document.addEventListener;\ndocument.addEventListener = function(...args) {\n  const event = args[0];\n  if (event === \"focusin\") {\n    return;\n  }\n  return original.apply(document, args);\n};\n\nmodule.exports = [\n  \"$window\",\n  function($window) {\n    return {\n      scope: {\n        xml: \"=\",\n        table: \"@\",\n        width: \"=\",\n        height: \"=\",\n        control: \"=?\",\n        editMode: \"=\",\n        showDetails: \"=\",\n        disableNavigation: \"=\",\n        enableDrdNavigation: \"=\",\n        disableLoader: \"=\",\n        onLoad: \"&\",\n        onClick: \"&\",\n        onDblClick: \"&\"\n      },\n      template: template,\n      link: function($scope, $element) {\n        var canvas;\n        var document = $window.document;\n\n        $scope.isDrd = false;\n        $scope.grabbing = false;\n\n        // --- CONTROL FUNCTIONS ---\n        $scope.control = $scope.control || {};\n\n        $scope.control.getViewer = function() {\n          return viewer;\n        };\n\n        $scope.control.getElement = function(elementId) {\n          return viewer\n            .getActiveViewer()\n            .get(\"elementRegistry\")\n            .get(elementId);\n        };\n\n        $scope.loaded = false;\n        $scope.control.isLoaded = function() {\n          return $scope.loaded;\n        };\n\n        $scope.control.highlightRow = function(elementId, className) {\n          var selector = \"[data-row-id = \" + elementId + \"]\";\n          angular\n            .element(selector)\n            .parent()\n            .addClass(className);\n        };\n\n        $scope.control.highlightElement = function(id) {\n          if (\n            canvas &&\n            viewer\n              .getActiveViewer()\n              .get(\"elementRegistry\")\n              .get(id)\n          ) {\n            canvas.addMarker(id, \"highlight\");\n\n            $element.find('[data-element-id=\"' + id + '\"]>.djs-outline').attr({\n              rx: \"14px\",\n              ry: \"14px\"\n            });\n          }\n        };\n\n        $scope.control.clearAllElementsHighlight = function() {\n          if (canvas) {\n            var children = canvas.getRootElement().children;\n\n            children.forEach(function(element) {\n              var id = element.id;\n\n              if (canvas.hasMarker(id, \"highlight\")) {\n                canvas.removeMarker(id, \"highlight\");\n              }\n            });\n          }\n        };\n\n        $scope.control.clearElementHighlight = function(id) {\n          if (canvas) {\n            canvas.removeMarker(id, \"highlight\");\n          }\n        };\n\n        $scope.control.isElementHighlighted = function(id) {\n          if (canvas) {\n            return canvas.hasMarker(id, \"highlight\");\n          }\n        };\n\n        $scope.control.getElements = function(filter) {\n          if (canvas) {\n            return viewer\n              .getActiveViewer()\n              .get(\"elementRegistry\")\n              .filter(filter);\n          }\n        };\n\n        $scope.control.createBadge = function(id, config) {\n          if (canvas) {\n            addOverlay(id, config);\n          }\n        };\n\n        $scope.control.resetZoom = resetZoom;\n\n        $scope.control.refreshZoom = function() {\n          canvas.resized();\n          canvas.zoom(canvas.zoom(), \"auto\");\n        };\n\n        function addOverlay(id, config) {\n          var overlays = viewer.getActiveViewer().get(\"overlays\");\n\n          var overlayId = overlays.add(id, {\n            position: config.position || {\n              bottom: 10,\n              right: 10\n            },\n            show: {\n              minZoom: -Infinity,\n              maxZoom: +Infinity\n            },\n            html: config.html\n          });\n\n          return overlayId;\n        }\n\n        var DmnViewer;\n\n        if (!$scope.editMode) {\n          DmnViewer = Viewer;\n        } else {\n          DmnViewer = Modeler;\n        }\n\n        var container = $element[0].querySelector(\".table-holder\");\n        var viewer = new DmnViewer({\n          container: container,\n          width: $scope.width,\n          height: $scope.height,\n          hideDetails: !$scope.showDetails,\n          tableViewOnly: $scope.table,\n          drd: {\n            drillDown: {\n              enabled: $scope.enableDrdNavigation\n            }\n          }\n        });\n\n        var xml = null;\n\n        $scope.$watch(\"xml\", function(newValue) {\n          if (newValue) {\n            migrateDiagram(newValue).then(dmn13Xml => {\n              xml = dmn13Xml;\n              renderTable();\n            });\n          }\n        });\n\n        viewer.on(\"import.done\", function() {\n          viewer.getActiveViewer().on(\"element.click\", function(e) {\n            $scope.$apply(function() {\n              $scope.onClick({ element: e.element, $event: e.originalEvent });\n            });\n          });\n\n          viewer.getActiveViewer().on(\"element.dblclick\", function(e) {\n            $scope.$apply(function() {\n              $scope.onDblClick({\n                element: e.element,\n                $event: e.originalEvent\n              });\n            });\n          });\n        });\n\n        var mouseReleaseCallback = $scope.$apply.bind($scope, function() {\n          $scope.grabbing = false;\n          document.removeEventListener(\"mouseup\", mouseReleaseCallback);\n        });\n\n        viewer.on(\n          \"element.mousedown\",\n          $scope.$apply.bind($scope, function() {\n            $scope.grabbing = true;\n\n            document.addEventListener(\"mouseup\", mouseReleaseCallback);\n          })\n        );\n\n        $scope.zoomIn = function() {\n          viewer\n            .getActiveViewer()\n            .get(\"zoomScroll\")\n            .zoom(1, {\n              x: $element[0].offsetWidth / 2,\n              y: $element[0].offsetHeight / 2\n            });\n        };\n\n        $scope.zoomOut = function() {\n          viewer\n            .getActiveViewer()\n            .get(\"zoomScroll\")\n            .zoom(-1, {\n              x: $element[0].offsetWidth / 2,\n              y: $element[0].offsetHeight / 2\n            });\n        };\n\n        $scope.resetZoom = resetZoom;\n\n        $window.addEventListener(\"resize\", $scope.resetZoom);\n\n        $scope.$on(\"destroy\", function() {\n          $window.removeEventListener(\"resize\", $scope.resetZoom);\n          document.removeEventListener(\"mouseup\", mouseReleaseCallback);\n        });\n\n        function selectView() {\n          if ($scope.table) {\n            var isIndex = /^[0-9]+$/.test($scope.table);\n\n            $scope.table = isIndex ? +$scope.table : $scope.table;\n\n            var view = viewer.getViews().filter(function(view) {\n              return (\n                (angular.isString($scope.table) &&\n                  view.element.id === $scope.table) ||\n                view.element.name === $scope.table\n              );\n            })[0];\n\n            viewer.open(view, function() {\n              $scope.onLoad();\n            });\n          } else {\n            // Table Name is not yet initalized, watch for the next change\n            var unbind = $scope.$watch(\"table\", function(newValue) {\n              if (newValue) {\n                unbind();\n                selectView();\n              }\n            });\n          }\n        }\n\n        function renderTable() {\n          if (xml) {\n            var correctedXML = changeDmnNamespace(xml);\n\n            $scope.loaded = false;\n\n            viewer.importXML(correctedXML, function(err) {\n              $scope.isDrd =\n                viewer.getDefinitions().drgElement.length > 1 && !$scope.table;\n\n              if ($scope.isDrd) {\n                canvas = viewer.getActiveViewer().get(\"canvas\");\n                canvas.zoom(\"fit-viewport\", \"auto\");\n\n                $scope.control\n                  .getElements(function(element) {\n                    return element.type === \"dmn:Decision\";\n                  })\n                  .forEach(function(element) {\n                    canvas.addMarker(element.id, \"decision-element\");\n                  });\n              }\n\n              $scope.$apply(selectView);\n\n              $scope.$apply(function() {\n                if (err) {\n                  $scope.error = err;\n                  return;\n                }\n                $scope.loaded = true;\n\n                if ($scope.isDrd) {\n                  $scope.onLoad();\n                }\n              });\n            });\n          }\n        }\n\n        function resetZoom() {\n          if (canvas) {\n            canvas.resized();\n            canvas.zoom(\"fit-viewport\", \"auto\");\n          }\n        }\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Manager from \"dmn-js-shared/lib/base/Manager\";\n\nimport DrdViewer from \"dmn-js-drd/lib/NavigatedViewer\";\nimport DecisionTableViewer from \"dmn-js-decision-table/lib/Viewer\";\nimport LiteralExpressionViewer from \"dmn-js-literal-expression/lib/Viewer\";\n\nimport { is } from \"dmn-js-shared/lib/util/ModelUtil\";\nimport { containsDi } from \"dmn-js-shared/lib/util/DiUtil\";\n\n/**\n * The dmn viewer.\n */\nexport default class Viewer extends Manager {\n  constructor(options = {}) {\n    super(options);\n    this.options = options;\n  }\n\n  _getViewProviders() {\n    let providers = [\n      {\n        id: \"literalExpression\",\n        constructor: LiteralExpressionViewer,\n        opens(element) {\n          return is(element, \"dmn:Decision\") && element.literalExpression;\n        }\n      },\n      {\n        id: \"decisionTable\",\n        constructor: DecisionTableViewer,\n        opens(element) {\n          return is(element, \"dmn:Decision\") && element.decisionTable;\n        }\n      }\n    ];\n\n    const { tableViewOnly } = this.options;\n    if (!tableViewOnly) {\n      providers.push({\n        id: \"drd\",\n        constructor: DrdViewer,\n        opens(element) {\n          return is(element, \"dmn:Definitions\") && containsDi(element);\n        }\n      });\n    }\n\n    return providers;\n  }\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar OLD_NAMESPACES = [\"http://www.omg.org/spec/DMN/20151101/dmn11.xsd\"];\nvar NEW_NAMESPACE = \"http://www.omg.org/spec/DMN/20151101/dmn.xsd\";\n\nmodule.exports = function(xml) {\n  return OLD_NAMESPACES.reduce(replaceNamespace, xml);\n};\n\nfunction replaceNamespace(xml, namespace) {\n  return xml.replace(\n    'xmlns=\"' + namespace + '\"',\n    'xmlns=\"' + NEW_NAMESPACE + '\"'\n  );\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div uib-alert class=\"alert alert-danger\"\n     ng-if=\"error\">\n  <strong>{{ 'CAM_WIDGET_DMN_VIEWER_ERROR' | translate }}</strong><br/>\n  {{ error.message }}\n</div>\n\n<div ng-show=\"!error\"\n     ng-if=\"!loaded && !disableLoader\"\n     class=\"placeholder-container\">\n  <div class=\"placeholder-content\">\n    {{ 'CAM_WIDGET_DMN_VIEWER_LOADING' | translate }}<br />\n    <span class=\"glyphicon glyphicon-refresh animate-spin\"></span>\n  </div>\n</div>\n\n<div ng-show=\"!error\"\n     ng-class=\"{\n      'grab-cursor': isDrd && !grabbing,\n      'cursor-move': isDrd && grabbing\n     }\"\n     class=\"table-holder\">\n</div>\n\n<div ng-if=\"!error && !disableNavigation && isDrd\">\n  <div class=\"navigation zoom\">\n    <button class=\"btn btn-default in\"\n            title=\"zoom in\"\n            ng-click=\"zoomIn()\">\n      <span class=\"glyphicon glyphicon-plus\"></span>\n    </button>\n    <button class=\"btn btn-default out\"\n            title=\"zoom out\"\n            ng-click=\"zoomOut()\">\n      <span class=\"glyphicon glyphicon-minus\"></span>\n    </button>\n  </div>\n\n  <div class=\"navigation reset\">\n    <button class=\"btn btn-default\"\n            title=\"reset zoom\"\n            ng-click=\"resetZoom()\">\n      <span class=\"glyphicon glyphicon-screenshot\"></span>\n    </button>\n  </div>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar typeUtils = require(\"../../../../camunda-bpm-sdk-js/lib/forms/type-util\");\n\nmodule.exports = [\n  function() {\n    return {\n      require: \"ngModel\",\n\n      link: function($scope, $element, $attrs, ctrl) {\n        var validate = function(viewValue) {\n          var type = $attrs.camVariableValidator;\n          if ([\"String\", \"Object\", \"Null\"].indexOf(type) !== -1) {\n            ctrl.$setValidity(\"camVariableValidator\", true);\n          } else {\n            ctrl.$setValidity(\n              \"camVariableValidator\",\n              !!typeUtils.isType(viewValue, type)\n            );\n          }\n\n          return viewValue;\n        };\n\n        ctrl.$parsers.unshift(validate);\n        ctrl.$formatters.push(validate);\n\n        $attrs.$observe(\"camVariableValidator\", function() {\n          return validate(ctrl.$viewValue);\n        });\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-share-link.html.js\");\n\nmodule.exports = [\n  \"$location\",\n  function($location) {\n    return {\n      restrict: \"A\",\n      template: template,\n      link: function($scope) {\n        $scope.getLink = $location.absUrl.bind($location);\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div cam-widget-clipboard=\"getLink()\" icon=\"glyphicon-link\" tooltip-text=\"{{ 'CAM_WIDGET_COPY_LINK' | translate }}\">\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-bpm-sdk-js/vendor/angular\"),\n  template = require(\"./cam-widget-password.html.js\");\n\nmodule.exports = [\n  \"camAPI\",\n  \"debounce\",\n  \"$translate\",\n  \"$sce\",\n  function(camAPI, debounce, $translate, $sce) {\n    return {\n      scope: {\n        password: \"=camWidgetPasswordPassword\",\n        isValid: \"=?camWidgetPasswordValid\"\n      },\n\n      link: function($scope) {\n        var passwordPolicyProvider = camAPI.resource(\"password-policy\");\n        var variablePolicyIsActive = false;\n        $scope.loadingState = \"DEACTIVATED\";\n\n        $scope.tooltipText = \"\";\n        var policyText = $translate.instant(\"PASSWORD_POLICY_TOOLTIP\");\n\n        function createRules() {\n          passwordPolicyProvider.get().then(function(res) {\n            if (!res) {\n              variablePolicyIsActive = false;\n              $scope.isValid = true;\n              $scope.loadingState = \"DEACTIVATED\";\n              return;\n            }\n            variablePolicyIsActive = true;\n            policyText += \"<ul>\";\n            res.rules.forEach(function(rule) {\n              policyText +=\n                \"<li>\" +\n                $translate.instant(rule.placeholder, rule.parameter) +\n                \"</li>\";\n            });\n            policyText += \"</ul>\";\n\n            $scope.tooltipText = $sce.trustAsHtml(policyText);\n\n            // update State\n            handlePasswordUpdate();\n          });\n        }\n        createRules();\n\n        var handlePasswordUpdate = function() {\n          if (!variablePolicyIsActive) return;\n\n          $scope.isValid = false;\n          if (!$scope.password) {\n            $scope.tooltipText = $sce.trustAsHtml(policyText);\n            $scope.loadingState = \"NOT_OK\";\n            return;\n          }\n          $scope.loadingState = \"LOADING\";\n\n          createRestCall();\n        };\n\n        // Wait a second for more user input before validating\n        var createRestCall = debounce(function() {\n          if (!$scope.password) {\n            return;\n          }\n\n          passwordPolicyProvider\n            .validate($scope.password, function(err, res) {\n              if (err) {\n                $scope.loadingState = \"NOT_OK\";\n                $scope.tooltipText = $sce.trustAsHtml(\n                  $translate.instant(\"PASSWORD_POLICY_TOOLTIP_ERROR\")\n                );\n                return;\n              }\n              if (res.valid) {\n                $scope.loadingState = \"OK\";\n                $scope.isValid = true;\n              } else {\n                $scope.loadingState = \"NOT_OK\";\n                $scope.isValid = false;\n\n                $scope.tooltipText = $translate.instant(\n                  \"PASSWORD_POLICY_TOOLTIP_PARTIAL\"\n                );\n                $scope.tooltipText += \"<ul>\";\n                res.rules.forEach(function(rule) {\n                  if (!rule.valid) {\n                    $scope.tooltipText +=\n                      \"<li>\" +\n                      $translate.instant(rule.placeholder, rule.parameter) +\n                      \"</li>\";\n                  }\n                });\n                $scope.tooltipText += \"</ul>\";\n\n                $scope.tooltipText = $sce.trustAsHtml($scope.tooltipText);\n              }\n            })\n            .catch(angular.noop);\n        }, 1000);\n\n        $scope.$watch(\"[password]\", handlePasswordUpdate, true);\n      },\n      template: template\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div class=\"password-input right-addon\">\n  <i ng-if=\"loadingState === 'NOT_OK' && password.length > 0\" class=\"glyphicon glyphicon-remove-circle\"></i>\n  <i ng-if=\"loadingState === 'OK'\" class=\"glyphicon glyphicon-ok-circle\"></i>\n  <i ng-if=\"loadingState === 'LOADING'\" class=\"glyphicon glyphicon-refresh animate-spin\"></i>\n  <input id=\"inputPassword\"\n    name=\"inputPassword\"\n    class=\"form-control\"\n    type=\"password\"\n    ng-model=\"password\"\n    ng-invalid=\"true\"\n    uib-popover-html=\"tooltipText\"\n    popover-enable=\"loadingState === 'NOT_OK'\"\n    popover-is-open=\"loadingState === 'NOT_OK' && password.length > 0\"\n    popover-trigger=\"'focus'\"\n    required></input>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @namespace cam.cockpit.plugin\n */\n\n/**\n * @namespace cam.cockpit.plugin.base\n */\n\nvar angular = require(\"angular\"),\n  viewsModule = require(\"./views/main\"),\n  resourcesModule = require(\"./resources/main\"),\n  dataModule = require(\"./data/main\");\n\nmodule.exports = angular.module(\"cockpit.plugin.base\", [\n  viewsModule.name,\n  resourcesModule.name,\n  dataModule.name\n]);\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @namespace cam.cockpit.plugin.base.views\n */\n\nvar angular = require(\"angular\"),\n  camCommon = require(\"cam-common\"),\n  diagramInstancePlugins = require(\"./processInstance/diagramPlugins\"),\n  diagramDefinitionPlugins = require(\"./processDefinition/diagramPlugins\"),\n  // dashboard\n  dashboardDeployments = require(\"./dashboard/deployments\"),\n  dashboardReports = require(\"./dashboard/reports\"),\n  dashboardBatches = require(\"./dashboard/batches\"),\n  dashboardProcesses = require(\"./dashboard/processes\"),\n  dashboardDecisions = require(\"./dashboard/decisions\"),\n  dashboardTasks = require(\"./dashboard/tasks\"),\n  // processes dashboard\n  processDefinitions = require(\"./processesDashboard/process-definitions\"),\n  // process definition\n  processInstanceTable = require(\"./processDefinition/processInstanceTable\"),\n  calledProcessDefinitionTable = require(\"./processDefinition/calledProcessDefinitionTable\"),\n  updateSuspensionStateAction = require(\"./processDefinition/updateSuspensionStateAction\"),\n  updateSuspensionStateDialog = require(\"./processDefinition/updateSuspensionStateDialog\"),\n  pdIncidentsTab = require(\"./processDefinition/pdIncidentsTab\"),\n  // process instance\n  variableInstancesTab = require(\"./processInstance/variableInstancesTab\"),\n  incidentsTab = require(\"./processInstance/incidentsTab\"),\n  calledProcessInstanceTable = require(\"./processInstance/calledProcessInstanceTable\"),\n  userTasksTable = require(\"./processInstance/userTasksTable\"),\n  jobRetryBulkAction = require(\"./processInstance/jobRetryBulkAction\"),\n  jobRetryBulkDialog = require(\"./processInstance/jobRetryBulkDialog\"),\n  jobRetryDialog = require(\"./processInstance/jobRetryDialog\"),\n  externalTaskRetryDialog = require(\"./processInstance/externalTaskRetryDialog\"),\n  cancelProcessInstanceAction = require(\"./processInstance/cancelProcessInstanceAction\"),\n  cancelProcessInstanceDialog = require(\"./processInstance/cancelProcessInstanceDialog\"),\n  addVariableAction = require(\"./processInstance/addVariableAction\"),\n  updateSuspensionStateActionPI = require(\"./processInstance/updateSuspensionStateAction\"),\n  updateSuspensionStateDialogPI = require(\"./processInstance/updateSuspensionStateDialog\"),\n  incidentJobRetryAction = require(\"./processInstance/incidentJobRetryAction\"),\n  incidentExternalTaskRetryAction = require(\"./processInstance/incident-externalTask-retry-action\"),\n  jobsTab = require(\"./processInstance/jobsTab\");\n\nvar ngModule = angular.module(\"cockpit.plugin.base.views\", [\n  camCommon.name,\n  diagramInstancePlugins.name,\n  diagramDefinitionPlugins.name\n]);\n\nngModule.config(dashboardDeployments);\nngModule.config(dashboardReports);\nngModule.config(dashboardBatches);\nngModule.config(dashboardProcesses);\nngModule.config(dashboardDecisions);\nngModule.config(dashboardTasks);\n\nngModule.config(processDefinitions);\n\nngModule.config(processInstanceTable);\nngModule.config(calledProcessDefinitionTable);\nngModule.config(updateSuspensionStateAction);\nngModule.controller(\n  \"UpdateProcessDefinitionSuspensionStateController\",\n  updateSuspensionStateDialog\n);\nngModule.config(pdIncidentsTab);\n\nvariableInstancesTab(ngModule);\nngModule.config(incidentsTab);\ncalledProcessInstanceTable(ngModule);\nuserTasksTable(ngModule);\njobRetryBulkAction(ngModule);\nngModule.controller(\"JobRetriesController\", jobRetryBulkDialog);\nngModule.controller(\"JobRetryController\", jobRetryDialog);\nngModule.controller(\"ExternalTaskRetryController\", externalTaskRetryDialog);\ncancelProcessInstanceAction(ngModule);\nngModule.controller(\n  \"CancelProcessInstanceController\",\n  cancelProcessInstanceDialog\n);\nngModule.config(addVariableAction);\nngModule.config(updateSuspensionStateActionPI);\nngModule.controller(\n  \"UpdateProcessInstanceSuspensionStateController\",\n  updateSuspensionStateDialogPI\n);\nngModule.config(incidentJobRetryAction);\nngModule.config(incidentExternalTaskRetryAction);\nngModule.config(jobsTab);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = function() {\n  return function(moduleName) {\n    try {\n      return !!angular.module(moduleName);\n    } catch (err) {\n      return false;\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function() {\n  return function($scope, target, properties) {\n    var descriptors = properties.reduce(function(descriptors, property) {\n      descriptors[property] = {\n        get: function() {\n          return $scope[property];\n        },\n        set: function(value) {\n          $scope[property] = value;\n        }\n      };\n\n      return descriptors;\n    }, {});\n\n    Object.defineProperties(target, descriptors);\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$rootScope\",\n  function($rootScope) {\n    var activeLoaders = [];\n    var eventName = \"LoaderService:active-loaders-changed\";\n\n    return {\n      startLoading: startLoading,\n      addStatusListener: addStatusListener\n    };\n\n    /**\n     * Starts new loading and return function that stop loading when called.\n     *\n     * @returns {stopLoading}\n     */\n    function startLoading() {\n      var stopLoading = function() {\n        activeLoaders = activeLoaders.filter(function(loader) {\n          return loader !== stopLoading;\n        });\n        fireChanges();\n      };\n\n      activeLoaders.push(stopLoading);\n      fireChanges();\n\n      return stopLoading;\n    }\n\n    function fireChanges() {\n      $rootScope.$broadcast(eventName);\n    }\n\n    /**\n     * Adds new status listener, that will be called when loading status changes.\n     * Returns function that removes listener.\n     * Listeners uses $scope to listen to LoaderService:active-loaders-changed, so there is no need to manually\n     * remove listener when $scope is destroyed.\n     *\n     * @param $scope\n     * @param callback\n     * @returns {*}\n     */\n    function addStatusListener($scope, callback) {\n      callback(getLoadingStatus());\n\n      return $scope.$on(eventName, function() {\n        var status = getLoadingStatus();\n\n        callback(status);\n      });\n    }\n\n    function getLoadingStatus() {\n      return activeLoaders.length === 0 ? \"LOADED\" : \"LOADING\";\n    }\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = [\n  \"search\",\n  \"$location\",\n  \"searchWidgetUtils\",\n  function(search, $location, searchWidgetUtils) {\n    return function($scope, setDefaultTab, options) {\n      var processData = $scope.processData;\n      var processInstance = $scope.processInstance;\n\n      options = options || {};\n\n      // filter\n      $scope.filter = parseFilterFromUri();\n      processData.provide(\"filter\", parseFilterFromUri());\n\n      processData.observe(\n        [\"filter\", \"instanceIdToInstanceMap\", \"activityIdToInstancesMap\"],\n        autoCompleteFilter\n      );\n\n      $scope.$on(\"$locationChangeSuccess\", function() {\n        var newFilter = parseFilterFromUri($scope.filter);\n\n        if ($location.path().indexOf(processInstance.id) > -1) {\n          if (\n            searchWidgetUtils.shouldUpdateFilter(newFilter, $scope.filter, [\n              \"activityIds\",\n              \"activityInstanceIds\",\n              \"page\"\n            ])\n          ) {\n            processData.set(\"filter\", newFilter);\n          }\n\n          setDefaultTab($scope.processInstanceTabs);\n        }\n      });\n\n      function parseFilterFromUri(lastFilter) {\n        var params = search();\n        var activityInstanceIds = searchWidgetUtils.getActivityIdsFromUrlParams(\n          \"activityInstanceIdIn\",\n          params\n        );\n        var activityIds = params.activityIds\n          ? params.activityIds.split(\",\")\n          : [];\n        var ignoreActivityIds = shouldActivityIdsBeIgnored(\n          lastFilter,\n          activityIds,\n          activityInstanceIds\n        );\n\n        // if activity ids haven't changed but instance ids have changed\n        // then just ignore activity ids from url and let filter auto-complete them\n        // because it means that user removed or added instance id to filter by hand\n        if (ignoreActivityIds) {\n          activityIds = [];\n        }\n\n        return {\n          activityIds: activityIds,\n          activityInstanceIds: activityInstanceIds,\n          page: parseInt(params.page, 10) || undefined,\n          replace: ignoreActivityIds || !lastFilter\n        };\n      }\n\n      function shouldActivityIdsBeIgnored(\n        lastFilter,\n        activityIds,\n        activityInstanceIds\n      ) {\n        return (\n          lastFilter &&\n          angular.equals(activityIds, lastFilter.activityIds) &&\n          !angular.equals(activityInstanceIds, lastFilter.activityInstanceIds)\n        );\n      }\n\n      function serializeFilterToUri(newFilter, replace) {\n        var activityInstanceIds = angular.isArray(newFilter.activityInstanceIds)\n          ? newFilter.activityInstanceIds\n          : [];\n        var activityIds = angular.isArray(newFilter.activityIds)\n          ? newFilter.activityIds\n          : [];\n        var urlParams = search();\n        var searches = JSON.parse(urlParams.searchQuery || \"[]\");\n\n        //when there is no searchQuery present and there is no ids to add to searchQuery don't change anything\n        if (\n          !urlParams.searchQuery &&\n          !activityInstanceIds.length &&\n          !activityIds.length\n        ) {\n          searches = null;\n        } else {\n          searches = searchWidgetUtils.replaceActivitiesInSearchQuery(\n            searches,\n            \"activityInstanceIdIn\",\n            activityInstanceIds\n          );\n        }\n\n        search.updateSilently(\n          {\n            searchQuery: searches ? JSON.stringify(searches) : null,\n            activityIds: activityIds.length ? activityIds.join(\",\") : null\n          },\n          replace\n        );\n\n        $scope.filter = newFilter;\n      }\n\n      /**\n       * Auto complete a filter based on the given filter data.\n       *\n       * It performs the following logic\n       *\n       *   - If activity instances are selected, select the associated activities unless they are explicitly specified.\n       *   - If an activity is selected, select the associated activity instances unless they are explicitly specified.\n       *\n       * @param  {Object} filter the filter to auto complete\n       * @param  {Object} instanceIdToInstanceMap a activity instance id -> activity instance map\n       * @param  {*} activityIdToInstancesMap a activity id -> activity instance map\n       */\n      function autoCompleteFilter(\n        newFilter,\n        instanceIdToInstanceMap,\n        activityIdToInstancesMap\n      ) {\n        var activityIds = newFilter.activityIds || [],\n          activityInstanceIds = newFilter.activityInstanceIds || [],\n          page = parseInt(newFilter.page, 10) || null,\n          scrollToBpmnElement = newFilter.scrollToBpmnElement,\n          // if filter has been changed from outside this component,\n          // newFilter is different from cached filter\n          externalUpdate = newFilter !== $scope.filter,\n          completedFilter,\n          replace = newFilter.replace;\n\n        delete newFilter.replace;\n\n        angular.forEach(activityInstanceIds, function(instanceId) {\n          var instance = instanceIdToInstanceMap[instanceId] || {},\n            activityId = instance.activityId || instance.targetActivityId,\n            idx = activityIds.indexOf(activityId);\n\n          if (idx === -1 && activityId) {\n            activityIds.push(activityId);\n          }\n        });\n\n        angular.forEach(activityIds, function(activityId) {\n          var instanceList = activityIdToInstancesMap[activityId],\n            foundOne = false,\n            instanceIds = [];\n\n          if (instanceList) {\n            for (var i = 0, instance; (instance = instanceList[i]); i++) {\n              var idx = activityInstanceIds.indexOf(instance.id);\n\n              if (idx !== -1) {\n                foundOne = true;\n                break;\n              }\n\n              instanceIds.push(instance.id);\n            }\n\n            if (!foundOne) {\n              activityInstanceIds = activityInstanceIds.concat(instanceIds);\n            }\n          }\n        });\n\n        // delete activity and activity instances which do not exist\n        if (options.shouldRemoveActivityIds) {\n          for (var i = 0; i < activityIds.length; i++) {\n            if (!activityIdToInstancesMap[activityIds[i]]) {\n              activityIds.splice(i, 1);\n              i--;\n            }\n          }\n        }\n        for (i = 0; i < activityInstanceIds.length; i++) {\n          if (!instanceIdToInstanceMap[activityInstanceIds[i]]) {\n            activityInstanceIds.splice(i, 1);\n            i--;\n          }\n        }\n\n        if (activityIds.length > 0) {\n          var newScrollTo = activityIds[activityIds.length - 1];\n\n          if (newScrollTo !== scrollToBpmnElement) {\n            scrollToBpmnElement = newScrollTo;\n          }\n        }\n\n        completedFilter = {\n          activityIds: activityIds,\n          activityInstanceIds: activityInstanceIds,\n          scrollToBpmnElement: scrollToBpmnElement,\n          page: page\n        };\n\n        // update filter only if actual changes happened above\n        // (auto completion took place)\n        if (!angular.equals(completedFilter, $scope.filter)) {\n          // update cached filters\n          $scope.filter = completedFilter;\n\n          // notify external components of filter change\n          processData.set(\"filter\", $scope.filter);\n        }\n\n        // update uri only if filter change is triggered from\n        // external view component\n        if (externalUpdate && $scope.filter) {\n          // serialize filter to url\n          serializeFilterToUri($scope.filter, replace);\n        }\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function() {\n  return function(query) {\n    return Object.keys(query).reduce(function(queryStr, key) {\n      var value = query[key];\n      var part = key + \"=\" + encodeURIComponent(value);\n\n      return queryStr.length ? queryStr + \"&\" + part : part;\n    }, \"\");\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = [\n  \"$q\",\n  function($q) {\n    return function(getCount, getList) {\n      return function(query, pages, sorting) {\n        return getCount(query).then(function(data) {\n          var first = (pages.current - 1) * pages.size;\n          var count = data.count;\n          var listQuery = angular.extend(\n            {},\n            query,\n            {\n              firstResult: first,\n              maxResults: pages.size\n            },\n            sorting\n          );\n\n          if (count > first) {\n            return $q.all({\n              count: count,\n              list: getList(listQuery)\n            });\n          }\n\n          return data;\n        });\n      };\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"search\",\n  function(search) {\n    return function() {\n      var lastSearchQuery = null;\n\n      return function() {\n        var searchQuery = search().searchQuery;\n\n        if (\n          searchQuery !== lastSearchQuery &&\n          (lastSearchQuery || searchQuery !== \"[]\")\n        ) {\n          lastSearchQuery = searchQuery;\n\n          return true;\n        }\n      };\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$q\",\n  \"$window\",\n  function($q, $window) {\n    return function(files) {\n      return $q.all(Array.prototype.map.call(files, readFile));\n    };\n\n    function readFile(file) {\n      var deferred = $q.defer();\n\n      var reader = new $window.FileReader();\n\n      reader.onload = function(e) {\n        deferred.resolve({\n          file: file,\n          content: e.target.result\n        });\n      };\n\n      reader.onerror = function(error) {\n        deferred.reject(error);\n      };\n\n      reader.readAsText(file);\n\n      return deferred.promise;\n    }\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = [\n  \"$window\",\n  \"$q\",\n  \"$rootScope\",\n  \"$cookies\",\n  \"$http\",\n  function($window, $q, $rootScope, $cookies, $http) {\n    return function(url, files, fields) {\n      var deferred = $q.defer();\n\n      if (!angular.isArray(files)) {\n        files = [files];\n      }\n\n      fields = fields || {};\n\n      var segments = files.map(function(entry, index) {\n        return (\n          'Content-Disposition: form-data; name=\"data' +\n          index +\n          '\"; filename=\"' +\n          entry.file.name +\n          '\"\\r\\nContent-Type: text/xml\\r\\n\\r\\n' +\n          entry.content +\n          \"\\r\\n\"\n        );\n      });\n\n      segments = segments.concat(\n        Object.keys(fields).map(function(name) {\n          var value = fields[name];\n\n          return (\n            'Content-Disposition: form-data; name=\"' +\n            name +\n            '\"\\r\\n\\r\\n' +\n            value +\n            \"\\r\\n\"\n          );\n        })\n      );\n\n      var sBoundary = \"---------------------------\" + Date.now().toString(16);\n\n      var sData =\n        \"--\" +\n        sBoundary +\n        \"\\r\\n\" +\n        segments.join(\"--\" + sBoundary + \"\\r\\n\") +\n        \"--\" +\n        sBoundary +\n        \"--\\r\\n\";\n\n      $http\n        .post(url, sData, {\n          transformRequest: angular.identity,\n          headers: {\n            \"Content-Type\": \"multipart/form-data; boundary=\" + sBoundary\n          }\n        })\n        .then(function(res) {\n          deferred.resolve(res.data);\n        })\n        .catch(function(err) {\n          if (err.status === 401) {\n            // broadcast that the authentication changed\n            $rootScope.$broadcast(\"authentication.changed\", null);\n            // set authentication to null\n            $rootScope.authentication = null;\n            // broadcast event that a login is required\n            // proceeds a redirect to /login\n            $rootScope.$broadcast(\"authentication.login.required\");\n          }\n          deferred.reject(err);\n        });\n\n      return deferred.promise;\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$location\",\n  \"routeUtil\",\n  function($location, routeUtil) {\n    return function(deployment, resource) {\n      var path = \"#/repository\";\n\n      var searches = {\n        deployment: deployment.id,\n        deploymentsQuery: JSON.stringify([\n          {\n            type: \"id\",\n            operator: \"eq\",\n            value: deployment.id\n          }\n        ])\n      };\n\n      if (resource) {\n        searches.resourceName = resource.name;\n      }\n\n      var searchParams = $location.search() || {};\n      if (searchParams[\"deploymentsSortBy\"]) {\n        searches[\"deploymentsSortBy\"] = searchParams[\"deploymentsSortBy\"];\n      }\n\n      if (searchParams[\"deploymentsSortOrder\"]) {\n        searches[\"deploymentsSortOrder\"] = searchParams[\"deploymentsSortOrder\"];\n      }\n\n      return routeUtil.redirectTo(path, searches, [\n        \"deployment\",\n        \"resourceName\",\n        \"deploymentsQuery\",\n        \"deploymentsSortOrder\",\n        \"deploymentsSortBy\"\n      ]);\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$window\",\n  function($window) {\n    return function() {\n      var FileReader = $window.FileReader;\n\n      return (\n        typeof FileReader === \"function\" &&\n        typeof FileReader.prototype.readAsText === \"function\"\n      );\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function() {\n  return function(object, path, defaultValue) {\n    var current = object;\n    var property;\n\n    for (var i = 0; i < path.length; i++) {\n      property = path[i];\n\n      if (current && current[property]) {\n        current = current[property];\n      } else {\n        return defaultValue;\n      }\n    }\n\n    return current;\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-toolbar.html.js\");\n\nmodule.exports = function() {\n  return {\n    restrict: \"A\",\n    template: template,\n    scope: {\n      providers: \"=camToolbar\",\n      vars: \"=?\"\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - ui/common/scripts/module/components/cam-toolbar.html -->\n<div class=\"ctn-toolbar\">\n  <!-- Toolbar actions are provided by plugins -->\n  <span ng-repeat=\"provider in providers\">\n    <view provider=\"provider\"\n          vars=\"vars\" />\n  </span>\n</div>\n<!-- / CE - ui/common/scripts/module/components/cam-toolbar.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-pagination.html.js\");\n\nmodule.exports = function() {\n  return {\n    restrict: \"A\",\n    template: template,\n    controller: \"CamPaginationController as Pagination\",\n    scope: {\n      total: \"=\",\n      onPaginationChange: \"&camPagination\"\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- CE # camunda-bpm-webapp/ui/common/scripts/module/components/cam-pagination.html -->\n<ul uib-pagination ng-if=\"Pagination.total > Pagination.pages.size\"\n            class=\"pagination-sm\"\n\n            page=\"Pagination.pages.current\"\n            ng-model=\"Pagination.pages.current\"\n\n            total-items=\"Pagination.total\"\n            items-per-page=\"Pagination.pages.size\"\n\n            max-size=\"7\"\n            boundary-links=\"true\"></ul>\n<!-- CE / camunda-bpm-webapp/ui/common/scripts/module/components/cam-pagination.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-searchable-area.html.js\");\n\nmodule.exports = function() {\n  return {\n    restrict: \"A\",\n    transclude: true,\n    template: template,\n    controller: \"CamPaginationSearchIntegrationController as Searchable\",\n    scope: {\n      config: \"=\",\n      loadingState: \"=\",\n      loadingError: \"@\",\n      arrayTypes: \"=?\",\n      variableTypes: \"=?\",\n      buildCustomQuery: \"&\",\n      onSearchChange: \"&\",\n      textEmpty: \"@\",\n      storageGroup: \"=\",\n      searchId: \"@?\",\n      blocked: \"=\"\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div cam-widget-search\n     cam-widget-search-total=\"Searchable.pages.total\"\n     cam-widget-search-size=\"Searchable.pages.size\"\n     cam-widget-search-valid-searches=\"Searchable.config.searches\"\n     cam-widget-search-translations=\"Searchable.config.tooltips\"\n     cam-widget-search-types=\"Searchable.config.types\"\n     cam-widget-search-id=\"{{searchId}}\"\n     cam-widget-search-operators=\"Searchable.config.operators\"\n     cam-widget-search-storage-group=\"Searchable.storageGroup\"\n     cam-widget-search-mode=\"filter\">\n</div>\n<div cam-widget-loader\n     text-error=\"{{Searchable.loadingError}}\"\n     text-empty=\"{{Searchable.textEmpty}}\"\n     loading-state=\"{{Searchable.loadingState}}\">\n\n  <div ng-transclude></div>\n\n  <ul uib-pagination ng-if=\"Searchable.pages.total > Searchable.pages.size\"\n              class=\"pagination-sm\"\n              page=\"Searchable.pages.current\"\n              ng-model=\"Searchable.pages.current\"\n              total-items=\"Searchable.pages.total\"\n              items-per-page=\"Searchable.pages.size\"\n              max-size=\"7\"\n              boundary-links=\"true\">\n  </ul>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-tabs.html.js\");\n\nmodule.exports = function() {\n  return {\n    restrict: \"A\",\n    template: template,\n    controller: \"CamTabsController as Tabs\",\n    scope: {\n      providerParams: \"=camTabs\",\n      tabsApi: \"=?\",\n      vars: \"=?\",\n      varsValues: \"=?\"\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<ul class=\"nav nav-tabs\"\n    ng-if=\"Tabs.providers.length > 1\">\n  <li ng-repeat=\"tabProvider in Tabs.providers\"\n      ng-class=\"{ active: Tabs.isSelected(tabProvider) }\">\n    <a href ng-click=\"Tabs.selectTab(tabProvider)\">{{ tabProvider.label | translate }}</a>\n  </li>\n</ul>\n\n<h4 ng-if=\"Tabs.providers.length === 1\">{{ Tabs.providers[0].label | translate }}:</h4>\n\n<div class=\"ctn-tabbed-content ctn-scroll\"\n     ng-if=\"Tabs.providers.length\">\n  <view provider=\"Tabs.selected\"\n        vars=\"Tabs.vars\" />\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function() {\n  return {\n    restrict: \"A\",\n    transclude: true,\n    scope: true,\n    controller: \"HoverAreaController as HoverArea\",\n    link: function($scope, $element, $attrs, $ctrl, $transclude) {\n      $transclude(function(content) {\n        $element.empty();\n        $element.append(content);\n      });\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function() {\n  return {\n    restrict: \"A\",\n    require: \"^camHoverArea\",\n    link: function($scope, $element, $attr, HoverArea) {\n      $element.on(\"mouseenter\", function() {\n        $scope.$apply(function() {\n          HoverArea.hoverTitle($attr.camHoverTrigger);\n        });\n      });\n\n      $element.on(\"mouseleave\", function() {\n        $scope.$apply(HoverArea.cleanHover.bind(HoverArea));\n      });\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function() {\n  return {\n    restrict: \"A\",\n    require: \"^camHoverArea\",\n    link: function($scope, $element, $attr, HoverArea) {\n      var removeHoverListener;\n      var hoverClass = $attr.hoverClass || \"hovered\";\n\n      $attr.$observe(\"camHoverableTitle\", function(title) {\n        cleanUp();\n\n        removeHoverListener = HoverArea.addHoverListener(title, function(\n          isHovered\n        ) {\n          if (isHovered) {\n            $element.addClass(hoverClass);\n          } else {\n            $element.removeClass(hoverClass);\n          }\n        });\n      });\n\n      $element.on(\"$destroy\", cleanUp);\n\n      function cleanUp() {\n        if (removeHoverListener) {\n          removeHoverListener();\n        }\n      }\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"readFiles\",\n  function(readFiles) {\n    return {\n      restrict: \"A\",\n      scope: {\n        onChange: \"&camFile\"\n      },\n      link: function($scope, $element) {\n        $element[0].addEventListener(\"change\", function($event) {\n          $scope.$apply(function() {\n            readFiles($element[0].files).then(function(files) {\n              $scope.onChange({\n                $event: $event,\n                files: files\n              });\n            });\n          });\n        });\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-inline-panel-property.html.js\");\n\nmodule.exports = function() {\n  return {\n    restrict: \"A\",\n    template: template,\n    scope: {\n      property: \"=camInlinePanelProperty\",\n      format: \"&\",\n      onChange: \"&\",\n      onRemove: \"&\",\n      type: \"@\"\n    },\n    link: function($scope) {\n      $scope.remove = function($event) {\n        $event.preventDefault();\n        $event.stopPropagation();\n\n        $scope.onRemove();\n      };\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<span cam-widget-inline-field\n  class=\"set-value\"\n  type=\"{{type}}\"\n  change=\"onChange()\"\n  value=\"property\">\n  <span ng-show=\"property == null\" class=\"null-value\">{{ 'TIME_TO_LIVE_NULL' | translate }}</span>\n  <span ng-show=\"property != null\">\n    {{format({property: property}) || property}}\n    <button type=\"button\" class=\"btn btn-link btn-xs\" ng-click=\"remove($event)\">\n      <span class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></span>\n    </button>\n  </span>\n</span>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nfunction noop() {\n  return;\n}\n\nvar Directive = function() {\n  return {\n    replace: false,\n    restrict: \"A\",\n    scope: {\n      onSortInitialized: \"&\",\n      onSortChange: \"&\",\n      sortBy: \"@defaultSortBy\",\n      sortOrder: \"@defaultSortOrder\",\n      sortingId: \"@\"\n    },\n    controller: [\n      \"$scope\",\n      \"localConf\",\n      function($scope, localConf) {\n        var sortingId = $scope.sortingId;\n        var defaultSorting = {\n          sortBy: $scope.sortBy,\n          sortOrder: $scope.sortOrder\n        };\n\n        var onSortInitialized = $scope.onSortInitialized || noop;\n        var onSortChange = $scope.onSortChange || noop;\n\n        var sorting = loadLocal();\n        onSortInitialized({ sorting: sorting });\n\n        function loadLocal() {\n          return localConf.get(sortingId, defaultSorting);\n        }\n\n        function saveLocal(sorting) {\n          localConf.set(sortingId, sorting);\n        }\n\n        this.changeOrder = function(column) {\n          sorting.sortBy = column;\n          sorting.sortOrder = sorting.sortOrder === \"desc\" ? \"asc\" : \"desc\";\n          saveLocal(sorting);\n          onSortChange({ sorting: sorting });\n        };\n\n        this.getSorting = function() {\n          return sorting;\n        };\n      }\n    ]\n  };\n};\n\nmodule.exports = Directive;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-sortable-table-column.html.js\");\n\nvar Directive = function() {\n  return {\n    replace: false,\n    restrict: \"A\",\n    scope: {\n      column: \"@sortByProperty\"\n    },\n    transclude: true,\n    require: \"^^camSortableTableHeader\",\n    template: template,\n    link: function($scope, element, attrs, ctrl) {\n      // Order Icons\n      $scope.orderClass = function(forColumn) {\n        var sorting = ctrl.getSorting();\n        forColumn = forColumn || sorting.sortBy;\n        var icons = {\n          none: \"minus\",\n          desc: \"chevron-down\",\n          asc: \"chevron-up\"\n        };\n        return (\n          \"glyphicon-\" +\n          icons[forColumn === sorting.sortBy ? sorting.sortOrder : \"none\"]\n        );\n      };\n\n      // On-click function to order Columns\n      $scope.changeOrder = function(column) {\n        ctrl.changeOrder(column);\n      };\n    }\n  };\n};\n\nmodule.exports = Directive;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<span  ng-transclude></span>\n<a ng-click=\"changeOrder(column)\">\n  <span class=\"glyphicon\" ng-class=\"orderClass(column)\"></span>\n</a>`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = HoverArea;\n\nfunction HoverArea() {\n  this._hovered = null;\n  this._listeners = [];\n}\n\nHoverArea.prototype.hoverTitle = function(title) {\n  this._hovered = title;\n\n  this._fireListeners();\n};\n\nHoverArea.prototype.cleanHover = function() {\n  this._hovered = null;\n\n  this._fireListeners();\n};\n\nHoverArea.prototype.addHoverListener = function(title, listener) {\n  var entry = {\n    title: title,\n    listener: listener\n  };\n\n  this._listeners.push(entry);\n  this._fireEntry(entry);\n\n  return function() {\n    this._listeners = this._listeners.filter(function(entry) {\n      return entry.listener !== listener;\n    });\n  }.bind(this);\n};\n\nHoverArea.prototype._fireListeners = function() {\n  this._listeners.forEach(this._fireEntry.bind(this));\n};\n\nHoverArea.prototype._fireEntry = function(entry) {\n  entry.listener(entry.title === this._hovered);\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$scope\",\n  \"search\",\n  \"paginationUtils\",\n  \"exposeScopeProperties\",\n  CamPagination\n];\n\nfunction CamPagination($scope, search, paginationUtils, exposeScopeProperties) {\n  paginationUtils.initializePaginationInController($scope, search, function() {\n    $scope.onPaginationChange({ pages: $scope.pages });\n  });\n\n  exposeScopeProperties($scope, this, [\"total\", \"pages\"]);\n\n  $scope.onPaginationChange({ pages: $scope.pages });\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = [\"$scope\", \"search\", \"Views\", CamTabs];\n\nfunction CamTabs($scope, search, Views) {\n  this.providers = this.getProviders(Views, $scope);\n  this.selected = this.providers[0];\n  this.search = search;\n\n  this.initializeVars($scope);\n\n  $scope.$on(\"$locationChangeSuccess\", this.onLocationChange.bind(this));\n  this.onLocationChange();\n}\n\nCamTabs.prototype.initializeVars = function($scope) {\n  this.vars = $scope.vars || {\n    read: [\"tabsApi\"]\n  };\n\n  if ($scope.varsValues) {\n    angular.extend($scope, $scope.varsValues);\n  }\n};\n\nCamTabs.prototype.getProviders = function(Views, $scope) {\n  return Views.getProviders($scope.providerParams).sort(compareProviders);\n};\n\nfunction compareProviders(providerA, providerB) {\n  return (providerB.priority || 0) - (providerA.priority || 0);\n}\n\nCamTabs.prototype.onLocationChange = function() {\n  var params = this.search();\n\n  if (this.isTabSelectionChangedInUrl(params)) {\n    this.selected = this.providers.filter(function(provider) {\n      return provider.id === params.tab;\n    })[0];\n  } else if (!params.tab) {\n    this.selected = this.providers[0];\n  }\n};\n\nCamTabs.prototype.isTabSelectionChangedInUrl = function(params) {\n  return (\n    angular.isString(params.tab) &&\n    (!this.selected || params.tab !== this.selected.id)\n  );\n};\n\nCamTabs.prototype.selectTab = function(tabProvider) {\n  var params = this.search();\n  var tabParams = {\n    tab: tabProvider.id\n  };\n\n  this.selected = tabProvider;\n\n  this.search.updateSilently(angular.extend(params, tabParams));\n};\n\nCamTabs.prototype.isSelected = function(tabProvider) {\n  return this.selected === tabProvider;\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = [\n  \"$scope\",\n  \"$rootScope\",\n  \"searchWidgetUtils\",\n  \"search\",\n  \"exposeScopeProperties\",\n  CamPaginationSearchIntegrationController\n];\n\nfunction CamPaginationSearchIntegrationController(\n  $scope,\n  $rootScope,\n  searchWidgetUtils,\n  search,\n  exposeScopeProperties\n) {\n  this.searchWidgetUtils = searchWidgetUtils;\n  this.search = search;\n  this.lastSearchQueryString = null;\n  this.locationChange = true;\n\n  // reset Page when changing Tabs\n  $scope.$on(\"$destroy\", function() {\n    search(\"page\", null);\n  });\n\n  exposeScopeProperties($scope, this, [\n    \"config\",\n    \"arrayTypes\",\n    \"variableTypes\",\n    \"onSearchChange\",\n    \"buildCustomQuery\",\n    \"loadingError\",\n    \"loadingState\",\n    \"textEmpty\",\n    \"storageGroup\",\n    \"blocked\"\n  ]);\n\n  this.arrayTypes = angular.isArray(this.arrayTypes) ? this.arrayTypes : [];\n  this.variableTypes = angular.isArray(this.variableTypes)\n    ? this.variableTypes\n    : [];\n  this.pages = {\n    size: 50,\n    total: 0,\n    current: this.getCurrentPageFromSearch()\n  };\n\n  // RESULTS CHANGE TRIGGERS\n  var pagesWatchExpr = function() {\n    return this.pages.current;\n  }.bind(this);\n\n  $scope.$watch(pagesWatchExpr, this.onPageChange.bind(this));\n  $scope.$on(\"$locationChangeSuccess\", this.onLocationChange.bind(this));\n  $scope.$watch(\"config.searches\", this.updateQuery.bind(this), true);\n  $scope.$watch(\"blocked\", this.onBlockedChange.bind(this));\n  var removeForcedRefresh = $rootScope.$on(\n    \"cam-common:cam-searchable:query-force-change\",\n    this.onForcedRefresh.bind(this)\n  );\n\n  $scope.$on(\"$destroy\", function() {\n    removeForcedRefresh();\n  });\n}\n\nCamPaginationSearchIntegrationController.prototype.onForcedRefresh = function() {\n  this.resetPage();\n  this.executeQueries();\n};\n\nCamPaginationSearchIntegrationController.prototype.onBlockedChange = function(\n  newValue,\n  oldValue\n) {\n  if (!newValue && oldValue && this.query) {\n    this.executeQueries();\n  }\n};\n\nCamPaginationSearchIntegrationController.prototype.getSearchQueryString = function() {\n  return this.search().searchQuery;\n};\n\nCamPaginationSearchIntegrationController.prototype.hasSearchQueryStringChanged = function() {\n  var searchQuery = this.getSearchQueryString();\n\n  return (\n    searchQuery !== this.lastSearchQueryString &&\n    (this.lastSearchQueryString || searchQuery !== \"[]\")\n  );\n};\n\nCamPaginationSearchIntegrationController.prototype.onPageChange = function(\n  newValue,\n  oldValue\n) {\n  // Used for checking if current page change is due to $locationChangeSuccess event\n  // If so this change was already passed to updateCallback, so it can be ignored\n\n  var searchCurrentPage = this.getCurrentPageFromSearch();\n\n  if (newValue === oldValue || newValue === searchCurrentPage) {\n    return;\n  }\n\n  this.search(\"page\", !newValue || newValue === 1 ? null : newValue);\n\n  if (!this.hasSearchQueryStringChanged()) {\n    this.executeQueries();\n  }\n};\n\nCamPaginationSearchIntegrationController.prototype.onLocationChange = function() {\n  var currentPage = this.getCurrentPageFromSearch();\n\n  if (+this.pages.current !== +currentPage) {\n    this.pages.current = currentPage;\n\n    if (!this.hasSearchQueryStringChanged()) {\n      this.executeQueries();\n    } else {\n      this.locationChange = true;\n    }\n  }\n};\n\nCamPaginationSearchIntegrationController.prototype.getCurrentPageFromSearch = function() {\n  return +this.search().page || 1;\n};\n\nCamPaginationSearchIntegrationController.prototype.updateQuery = function(\n  newValue,\n  oldValue\n) {\n  if (this.areSearchesDifferent(newValue, oldValue)) {\n    this.query =\n      (this.buildCustomQuery && this.buildCustomQuery(newValue)) ||\n      this.createQuery(newValue);\n\n    if (!this.locationChange) {\n      this.resetPage();\n    }\n\n    this.lastSearchQueryString = this.getSearchQueryString();\n\n    this.executeQueries();\n  }\n};\n\nCamPaginationSearchIntegrationController.prototype.resetPage = function() {\n  var params = this.search();\n\n  this.pages.current = 1;\n  params.page = 1;\n\n  // Replace url with old pagination, so browser history is more clean\n  this.search.updateSilently(params, true);\n};\n\nCamPaginationSearchIntegrationController.prototype.executeQueries = function() {\n  if (this.query && !this.blocked) {\n    this.locationChange = false;\n    this.onSearchChange({\n      query: angular.copy(this.query),\n      pages: angular.copy(this.pages)\n    }).then(\n      function(total) {\n        this.pages.total = total;\n      }.bind(this)\n    );\n  }\n};\n\nCamPaginationSearchIntegrationController.prototype.createQuery = function(\n  searches\n) {\n  return this.searchWidgetUtils.createSearchQueryForSearchWidget(\n    searches,\n    this.arrayTypes,\n    this.variableTypes\n  );\n};\n\nCamPaginationSearchIntegrationController.prototype.areSearchesDifferent = function(\n  newSearches,\n  oldSearches\n) {\n  var preparedNewSearches = prepareSearchesForComparassion(newSearches);\n  var preparedOldSearches = prepareSearchesForComparassion(oldSearches);\n\n  return !angular.equals(preparedNewSearches, preparedOldSearches);\n};\n\nfunction prepareSearchesForComparassion(searches) {\n  return (\n    searches &&\n    searches.map(function(search) {\n      return extractMeaningfulInformation(search);\n    })\n  );\n}\n\nfunction extractMeaningfulInformation(search) {\n  var value = search.value && search.value.value;\n  var type = search.type && search.type.value.value;\n  var operator = search.operator && search.operator.value.key;\n  var name = search.name && search.name.value;\n\n  return {\n    value: value,\n    type: type,\n    operator: operator,\n    name: name\n  };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\");\n\nvar DEFAULT_PAGES = { size: 50, total: 0, current: 1 };\n\nmodule.exports = {\n  initializePaginationInController: initializePaginationInController\n};\n\n/**\n * Initializes pagination in controller.\n *\n * @param $scope\n * @param search service from controller\n * @param updateCallback callback function that is called each time pagination changes,\n *                       takes two argument newPage and oldPage.\n * @returns {*}\n */\nfunction initializePaginationInController($scope, search, updateCallback) {\n  var pages = ($scope.pages = angular.copy(DEFAULT_PAGES));\n  pages.current = getCurrentPageFromSearch(search);\n\n  $scope.$watch(\"pages.current\", function(newValue, oldValue) {\n    // Used for checking if current page change is due to $locationChangeSuccess event\n    // If so this change was already passed to updateCallback, so it can be ignored\n    var searchCurrentPage = getCurrentPageFromSearch(search);\n\n    if (newValue === oldValue || newValue === searchCurrentPage) {\n      return;\n    }\n\n    search(\"page\", !newValue || newValue === 1 ? null : newValue);\n\n    updateCallback(newValue, oldValue);\n  });\n\n  $scope.$on(\"$locationChangeSuccess\", function() {\n    var currentPage = getCurrentPageFromSearch(search);\n\n    if (+pages.current !== +currentPage) {\n      var oldCurrent = pages.current;\n\n      pages.current = currentPage;\n\n      updateCallback(pages.current, oldCurrent);\n    }\n  });\n\n  $scope.$on(\"$destroy\", function() {\n    search(\"page\", null);\n  });\n\n  return pages;\n}\n\nfunction getCurrentPageFromSearch(search) {\n  return search().page || 1;\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = includes;\n\nfunction includes(array, value) {\n  return array.indexOf(value) !== -1;\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-commons-ui/vendor/angular\");\n\n// Services\nvar observeBpmnElements = require(\"./services/observe-bpmn-elements\");\n\n// Components\nvar externalTaskActivityLink = require(\"./components/external-task-activity-link\");\nvar externalTasksTab = require(\"./components/external-tasks-tab\");\nvar externalTaskErrorMessageLink = require(\"./components/external-task-error-message-link\");\n\n// Controllers\nvar ExternalTaskActivityLinkController = require(\"./controllers/external-task-activity-link-controller\");\nvar ExternalTasksTabController = require(\"./controllers/external-tasks-tab-controller\");\nvar ExternalTaskErrorMessageLinkController = require(\"./controllers/external-task-error-message-link-controller\");\n\nvar ngModule = angular.module(\"cam-common.external-tasks-common\", []);\n\n// Services\nngModule.factory(\"observeBpmnElements\", observeBpmnElements);\n\n// Components\nngModule.directive(\"externalTaskActivityLink\", externalTaskActivityLink);\nngModule.directive(\"externalTasksTab\", externalTasksTab);\nngModule.directive(\n  \"externalTaskErrorMessageLink\",\n  externalTaskErrorMessageLink\n);\n\n// Controllers\nngModule.controller(\n  \"ExternalTaskActivityLinkController\",\n  ExternalTaskActivityLinkController\n);\nngModule.controller(\"ExternalTasksTabController\", ExternalTasksTabController);\nngModule.controller(\n  \"ExternalTaskErrorMessageLinkController\",\n  ExternalTaskErrorMessageLinkController\n);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function() {\n  return function($scope, instance) {\n    var scopedProcessData = instance.processData.newChild($scope);\n\n    scopedProcessData.observe(\"bpmnElements\", function(bpmnElements) {\n      instance.bpmnElements = bpmnElements;\n    });\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./external-task-activity-link.html.js\");\n\nmodule.exports = function() {\n  return {\n    restrict: \"A\",\n    template: template,\n    controller: \"ExternalTaskActivityLinkController as Link\",\n    scope: {\n      activityId: \"=externalTaskActivityLink\",\n      bpmnElements: \"=\",\n      searchQueryType: \"=?\"\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- CE ui/common/scripts/module/external-tasks-common/components/external-task-activity-link.html -->\n<a ng-href=\"{{Link.getLink()}}\">\n  {{Link.getActivityName()}}\n</a>\n<!-- / CE ui/common/scripts/module/external-tasks-common/components/external-task-activity-link.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./external-tasks-tab.html.js\");\n\nmodule.exports = function() {\n  return {\n    restrict: \"A\",\n    template: template,\n    transclude: true,\n    controller: \"ExternalTasksTabController as TasksTab\",\n    scope: {\n      onLoad: \"&externalTasksTab\",\n      processData: \"=\"\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # EE - ui/common/scripts/module/external-tasks-common/components/external-tasks-tab.html -->\n<div cam-widget-loader\n     loading-state=\"{{ TasksTab.loadingState }}\"\n     text-empty=\"{{ 'PLUGIN_EXTERNAL_TASK_NO_EXTERNAL_TASK_FOR_THIS_PROCESS' | translate }}\">\n\n  <!-- transclustion target -->\n  <div ng-transclude></div>\n  <!-- / transclustion target -->\n\n  <div cam-pagination=\"TasksTab.onPaginationChange(pages)\" total=\"TasksTab.total\" >\n  </div>\n</div>\n<!-- / EE - ui/common/scripts/module/external-tasks-common/components/external-tasks-tab.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./external-task-error-message-link.html.js\");\n\nmodule.exports = function() {\n  return {\n    restrict: \"A\",\n    template: template,\n    transclude: true,\n    controller: \"ExternalTaskErrorMessageLinkController as Link\",\n    scope: {\n      taskId: \"=externalTaskErrorMessageLink\",\n      historic: \"=?\"\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<a ng-href=\"{{Link.getStacktraceUrl()}}\" target=\"_blank\" ng-transclude></a>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = [\n  \"$scope\",\n  \"exposeScopeProperties\",\n  \"search\",\n  \"$location\",\n  \"params\",\n  \"searchWidgetUtils\",\n  ExternalTaskActivityLink\n];\n\nfunction ExternalTaskActivityLink(\n  $scope,\n  exposeScopeProperties,\n  search,\n  $location,\n  params,\n  searchWidgetUtils\n) {\n  exposeScopeProperties($scope, this, [\n    \"activityId\",\n    \"bpmnElements\",\n    \"searchQueryType\"\n  ]);\n\n  this.search = search;\n  this.params = params;\n  this.path = $location.path();\n  this.searchWidgetUtils = searchWidgetUtils;\n}\n\nExternalTaskActivityLink.prototype.getLink = function() {\n  //search returns object that when modified changes query parameters\n  //which is not desired here, hence it is needed to actually copy this object.\n  var params = angular.copy(this.search());\n  var searchQuery = JSON.parse(params.searchQuery || \"[]\");\n\n  if (this.searchQueryType) {\n    params.searchQuery = JSON.stringify(\n      this.searchWidgetUtils.replaceActivitiesInSearchQuery(\n        searchQuery,\n        this.searchQueryType,\n        [this.activityId]\n      )\n    );\n  } else {\n    params.activityIds = this.activityId;\n  }\n\n  return \"#\" + this.path + \"?\" + this.params(params);\n};\n\nExternalTaskActivityLink.prototype.getActivityName = function() {\n  var activityId = this.activityId;\n\n  if (this.bpmnElements[activityId] && this.bpmnElements[activityId].name) {\n    return this.bpmnElements[activityId].name;\n  }\n\n  return activityId;\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = [\n  \"$scope\",\n  \"exposeScopeProperties\",\n  \"search\",\n  ExternalTasksTabController\n];\n\nmodule.exports.ExternalTasksTabController = ExternalTasksTabController;\n\nfunction ExternalTasksTabController($scope, exposeScopeProperties, search) {\n  exposeScopeProperties($scope, this, [\"onLoad\"]);\n\n  // reset Page when changing Tabs\n  $scope.$on(\"$destroy\", function() {\n    search(\"page\", null);\n  });\n\n  var processData = $scope.processData.newChild($scope);\n\n  processData.observe(\"filter\", this.onFilterChanged.bind(this));\n}\n\nExternalTasksTabController.prototype.onFilterChanged = function(filter) {\n  if (this.isFilterChanged(filter)) {\n    this.filter = filter;\n\n    if (this.pages) {\n      this.loadTasks();\n    }\n  }\n};\n\nExternalTasksTabController.prototype.isFilterChanged = function(filter) {\n  var lastActivities = getActivityIdsFromFilter(this.filter);\n  var currentActivities = getActivityIdsFromFilter(filter);\n\n  return !this.filter || !angular.equals(lastActivities, currentActivities);\n};\n\nExternalTasksTabController.prototype.onPaginationChange = function(pages) {\n  this.pages = pages;\n\n  if (this.filter) {\n    this.loadTasks();\n  }\n};\n\nExternalTasksTabController.prototype.loadTasks = function() {\n  this.loadingState = \"LOADING\";\n\n  this.onLoad({\n    pages: angular.copy(this.pages), //just a defensive copy\n    activityIds: getActivityIdsFromFilter(this.filter)\n  }).then(\n    function(data) {\n      this.total = data.count;\n\n      if (!data.list) {\n        this.loadingState = \"EMPTY\";\n      } else {\n        this.loadingState = \"LOADED\";\n      }\n    }.bind(this)\n  );\n};\n\nfunction getActivityIdsFromFilter(filter) {\n  if (!filter || !filter.activityIds || !filter.activityIds.length) {\n    return null;\n  }\n\n  return filter.activityIds;\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$scope\",\n  \"Uri\",\n  \"exposeScopeProperties\",\n  ExternalTaskErrorMessageLink\n];\n\nfunction ExternalTaskErrorMessageLink($scope, Uri, exposeScopeProperties) {\n  exposeScopeProperties($scope, this, [\"taskId\", \"historic\"]);\n\n  this.Uri = Uri;\n}\n\nExternalTaskErrorMessageLink.prototype.getStacktraceUrl = function() {\n  var abstractUrl =\n    \"engine://engine/:engine/external-task/\" + this.taskId + \"/errorDetails\";\n\n  if (this.historic) {\n    abstractUrl =\n      \"engine://engine/:engine/history/external-task-log/\" +\n      this.taskId +\n      \"/error-details\";\n  }\n\n  return this.Uri.appUri(abstractUrl);\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\nvar camCommon = require(\"cam-common\");\n\nvar instanceCount = require(\"./instanceCount\");\nvar callActivity = require(\"./callActivity\");\n\nvar ngModule = angular.module(\n  \"cockpit.plugin.base.views.instance.diagram-plugins\",\n  [camCommon.name]\n);\n\nngModule.config(instanceCount);\nngModule.config(callActivity);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\nvar instanceCount = require(\"../../common/diagramPlugins/instanceCount\");\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\n      \"cockpit.processInstance.diagram.plugin\",\n      {\n        id: \"activity-instance-statistics-overlay\",\n        overlay: [\n          \"$scope\",\n          \"control\",\n          \"processData\",\n          \"processDiagram\",\n          \"Loaders\",\n          \"$filter\",\n          \"$rootScope\",\n          \"$translate\",\n          function(\n            $scope,\n            control,\n            processData,\n            processDiagram,\n            Loaders,\n            $filter,\n            $rootScope,\n            $translate\n          ) {\n            var callbacks = {\n              observe: observe,\n              getData: getInstancesCountsForElement,\n              updateOverlayNodes: updateOverlayNodes,\n              isActive: isActive\n            };\n\n            instanceCount(\n              $scope,\n              control,\n              processData,\n              processDiagram,\n              Loaders,\n              $rootScope,\n              callbacks\n            );\n\n            function isActive(data) {\n              return data.instanceCount > 0 || data.incidents;\n            }\n\n            function observe(callback) {\n              processData.observe(\n                [\"activityIdToInstancesMap\", \"activityIdToIncidentIdMap\"],\n                function(activityIdToInstancesMap, activityIdToIncidentIdMap) {\n                  callback([\n                    activityIdToInstancesMap,\n                    activityIdToIncidentIdMap\n                  ]);\n                }\n              );\n            }\n\n            function getInstancesCountsForElement(\n              element,\n              activityIdToInstancesMap,\n              activityIdToIncidentsMap\n            ) {\n              var activityId = element.id;\n\n              var instances = angular.copy(\n                activityIdToInstancesMap[activityId] || []\n              );\n              var incidents = angular.copy(\n                activityIdToIncidentsMap[activityId] || []\n              );\n              var instancesMI =\n                activityIdToInstancesMap[activityId + \"#multiInstanceBody\"] ||\n                [];\n              var incidentsMI =\n                activityIdToIncidentsMap[activityId + \"#multiInstanceBody\"] ||\n                [];\n              var multiInstance =\n                activityIdToInstancesMap[activityId + \"#multiInstanceBody\"];\n\n              return {\n                instanceCount: getInstanceCount({\n                  instances: instances,\n                  instancesMI: instancesMI\n                }),\n                incidents: incidents.length || incidentsMI.length,\n                multiInstance: multiInstance\n              };\n            }\n\n            function getInstanceCount(data) {\n              var count = 0;\n\n              if (data.instances) {\n                count += data.instances.length || 0;\n              }\n\n              if (data.instancesMI) {\n                count +=\n                  data.instancesMI.filter(function(instance) {\n                    return instance.isTransitionInstance;\n                  }).length || 0;\n              }\n\n              return count;\n            }\n\n            function updateOverlayNodes(nodes, data) {\n              nodes.instancesNode.text(\n                $filter(\"abbreviateNumber\")(data.instanceCount)\n              );\n\n              nodes.incidentsNode.text(\n                $filter(\"abbreviateNumber\")(data.incidents)\n              );\n\n              if (data.instanceCount <= 0) {\n                nodes.instancesNode.hide();\n              } else {\n                nodes.instancesNode.show();\n                nodes.instancesNode.tooltip({\n                  container: \"body\",\n                  title: $translate.instant(\n                    \"PLUGIN_ACTIVITY_INSTANCE_RUNNING_ACTIVITY_INSTANCES\"\n                  ),\n                  placement: \"top\",\n                  animation: false\n                });\n              }\n\n              if (!data.incidents) {\n                nodes.incidentsNode.hide();\n              } else {\n                nodes.incidentsNode.show();\n                nodes.incidentsNode.tooltip({\n                  container: \"body\",\n                  title: $translate.instant(\n                    \"PLUGIN_ACTIVITY_INSTANCE_OPEN_INCIDENTS\"\n                  ),\n                  placement: \"top\",\n                  animation: false\n                });\n              }\n            }\n          }\n        ]\n      }\n    );\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div class=\"activity-bottom-left-position instances-overlay\">\n  <span class=\"badge instance-count\"></span>\n  <span class=\"badge badge-important instance-incidents\"></span>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar callActivityOverlay = require(\"../../../../../../client/scripts/components/callActivityOverlay\")(\n  \"runtime\"\n);\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\n      \"cockpit.processInstance.diagram.plugin\",\n      {\n        id: \"activity-instance-call-activity-overlay\",\n        overlay: callActivityOverlay\n      }\n    );\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nvar template = require(\"./template.html.js\");\n\nmodule.exports = function(viewContext) {\n  return [\n    \"$scope\",\n    \"$timeout\",\n    \"$location\",\n    \"$translate\",\n    \"search\",\n    \"control\",\n    \"processData\",\n    \"processDiagram\",\n    \"PluginProcessInstanceResource\",\n    function(\n      $scope,\n      $timeout,\n      $location,\n      $translate,\n      search,\n      control,\n      processData,\n      processDiagram,\n      PluginProcessInstanceResource\n    ) {\n      /**\n       * @returns {Array} BPMN Elements that are flow nodes\n       */\n      function getFlowNodes() {\n        var nodes = [];\n\n        elementRegistry.forEach(function(shape) {\n          var bo = shape.businessObject;\n          if (bo.$instanceOf(\"bpmn:CallActivity\")) {\n            nodes.push(bo.id);\n          }\n        });\n\n        return nodes;\n      }\n\n      /**\n       * shows calledProcessInstances tab filtered by activityId\n       * @param activities\n       */\n      function showCalledPInstances(activities) {\n        var params = angular.copy(search());\n        viewContext === \"history\"\n          ? (params.detailsTab = TAB_NAME)\n          : (params.tab = TAB_NAME);\n        search.updateSilently(params);\n\n        $scope.processData.set(\"filter\", {\n          activityIds: [activities[0].activityId],\n          activityInstanceIds: activities.map(function(activity) {\n            return activity.id;\n          })\n        });\n      }\n\n      /**\n       * add hover and click interactions to buttonOverlay and diagramNode (BPMN diagram node that contains the buttonOverlay)\n       * @param buttonOverlay\n       * @param id\n       * @param activityInstances (callActivity instances)\n       */\n      function addInteractions(buttonOverlay, id, activityInstances) {\n        var diagramNode = angular.element('[data-element-id=\"' + id + '\"]');\n        var hideTimeout = null;\n\n        /**\n         * calls function dynamically and make sure to call $scope.apply\n         */\n        var applyFunction = function() {\n          arguments[0].apply(this, Array.prototype.slice.call(arguments, 1));\n          var phase = $scope.$root.$$phase;\n          if (phase !== \"$apply\" && phase !== \"$digest\") {\n            $scope.$apply();\n          }\n        };\n\n        /**\n         * hide buttonOverlay after delay time\n         * @param delay\n         */\n        var delayHide = function(delay) {\n          hideTimeout = $timeout(function() {\n            buttonOverlay.hide();\n          }, delay);\n        };\n\n        /**\n         * cancels timeout object\n         */\n        var cancelHide = function() {\n          return hideTimeout && $timeout.cancel(hideTimeout);\n        };\n\n        var mouseoverListener = function() {\n          buttonOverlay.show();\n          applyFunction(cancelHide);\n        };\n\n        var redirectToCalledPInstance = function(activityInstance) {\n          var url =\n            \"/process-instance/\" +\n            activityInstance.calledProcessInstanceId +\n            \"/\" +\n            viewContext;\n          $location.url(url);\n        };\n\n        var clickListener = function() {\n          buttonOverlay.tooltip(\"hide\");\n          return activityInstances.length > 1\n            ? applyFunction(showCalledPInstances, activityInstances)\n            : applyFunction(redirectToCalledPInstance, activityInstances[0]);\n        };\n\n        // attach diagramNode listeners\n        diagramNode.on(\"mouseover\", mouseoverListener);\n        diagramNode.on(\"mouseout\", function() {\n          delayHide(50);\n        });\n\n        // attach buttonOverlay listeners\n        buttonOverlay.on(\"mouseover\", mouseoverListener);\n        buttonOverlay.on(\"mouseout\", function() {\n          delayHide(100);\n        });\n        buttonOverlay.on(\"click\", clickListener);\n\n        // clear listeners\n        $scope.$on(\"$destroy\", function() {\n          buttonOverlay.off(\"mouseover mouseout click\");\n          diagramNode.off(\"mouseover mouseout\");\n        });\n      }\n\n      /**\n       *\n       * @param id (BPMN element id)\n       * @param activity (activity associated with that id)\n       */\n      function addOverlayForSingleElement(id, activityInstances) {\n        if (!overlaysNodes[id]) {\n          overlaysNodes[id] = angular.element(template).hide();\n\n          overlaysNodes[id].tooltip({\n            container: \"body\",\n            title: $translate.instant(\n              \"PLUGIN_ACTIVITY_INSTANCE_SHOW_CALLED_PROCESS_INSTANCES\"\n            ),\n            placement: \"top\",\n            animation: false\n          });\n\n          overlays.add(id, {\n            position: {\n              top: 0,\n              right: 0\n            },\n            show: {\n              minZoom: -Infinity,\n              maxZoom: +Infinity\n            },\n            html: overlaysNodes[id]\n          });\n\n          addInteractions(overlaysNodes[id], id, activityInstances);\n        }\n      }\n\n      var overlaysNodes = {};\n      var overlays = control.getViewer().get(\"overlays\");\n      var elementRegistry = control.getViewer().get(\"elementRegistry\");\n      var TAB_NAME = \"called-process-instances-tab\";\n      var flowNodes = getFlowNodes();\n      var callActivityToInstancesMap = {};\n\n      /**\n       * adds the callActivity overlay to each callActivity to a processInstance\n       * @param callActivityToInstancesMap\n       */\n      var addOverlays = function(callActivityToInstancesMap) {\n        Object.keys(callActivityToInstancesMap).map(function(id) {\n          return (\n            callActivityToInstancesMap[id][0].calledProcessInstanceId &&\n            addOverlayForSingleElement(id, callActivityToInstancesMap[id])\n          );\n        });\n      };\n\n      /**\n       * returns activityIdToInstancesMap but with only non empty callActivities\n       * @param flowNodes (flowNodes of type CallActivity only)\n       * @param activityIdToInstancesMap\n       */\n      var getCallActivitiesMap = function(flowNodes, activityIdToInstancesMap) {\n        return flowNodes.reduce(function(map, id) {\n          if (\n            activityIdToInstancesMap[id] &&\n            activityIdToInstancesMap[id].length > 0\n          ) {\n            map[id] = activityIdToInstancesMap[id];\n          }\n          return map;\n        }, {});\n      };\n\n      if (viewContext === \"history\") {\n        flowNodes.length &&\n          processData.observe(\"activityIdToInstancesMap\", function(\n            activityIdToInstancesMap\n          ) {\n            callActivityToInstancesMap = getCallActivitiesMap(\n              flowNodes,\n              activityIdToInstancesMap\n            );\n            addOverlays(callActivityToInstancesMap);\n          });\n      } else {\n        flowNodes.length &&\n          processData.observe(\n            [\"activityIdToInstancesMap\", \"processInstance\"],\n            function(activityIdToInstancesMap, processInstance) {\n              callActivityToInstancesMap = getCallActivitiesMap(\n                flowNodes,\n                activityIdToInstancesMap\n              );\n\n              // For each callActivity, add calledProcessInstanceId to the first activity instance\n              //  this is done so that it can be used to redirect to the calledProcessInstance.\n              PluginProcessInstanceResource.processInstances(\n                { id: processInstance.id },\n                function(calledPInstances) {\n                  calledPInstances.forEach(function(calledPInstance) {\n                    var instances =\n                      callActivityToInstancesMap[\n                        calledPInstance.callActivityId\n                      ];\n                    if (instances && instances.length) {\n                      instances[0].calledProcessInstanceId = calledPInstance.id;\n                    }\n                  });\n                  return addOverlays(callActivityToInstancesMap);\n                }\n              );\n            }\n          );\n      }\n    }\n  ];\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<button type=\"button\" role=\"button\" class=\"btn btn-sm btn-default call-btn activity-top-right-position\">\n  <span class=\"glyphicon glyphicon glyphicon-link\"></span>\n</button>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\nvar camCommon = require(\"cam-common\");\n\nvar instanceCount = require(\"./instanceCount\");\n\nvar ngModule = angular.module(\n  \"cockpit.plugin.base.views.definition.diagram-plugins\",\n  [camCommon.name]\n);\n\nngModule.config(instanceCount);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar instanceCount = require(\"../../common/diagramPlugins/instanceCount\");\n\nvar template = require(\"./overlayAction.html.js\");\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\n      \"cockpit.processDefinition.diagram.action\",\n      {\n        id: \"activity-instance-statistics-overlay\",\n        template: template,\n        controller: [\n          \"$scope\",\n          \"Loaders\",\n          \"get\",\n          \"$filter\",\n          \"$rootScope\",\n          \"$translate\",\n          \"configuration\",\n          function(\n            $scope,\n            Loaders,\n            get,\n            $filter,\n            $rootScope,\n            $translate,\n            configuration\n          ) {\n            $scope.enabled = configuration.getRuntimeActivityInstanceMetrics();\n\n            $scope.toggle = $scope.enabled;\n            $scope.isLoading = false;\n\n            $scope.toggleOverlay = function() {\n              $scope.toggle = !$scope.toggle;\n              if ($scope.toggle) {\n                showOverlays();\n              } else {\n                removeOverlays();\n              }\n            };\n\n            function toggleIsLoading() {\n              $scope.isLoading = !$scope.isLoading;\n            }\n\n            function showOverlays() {\n              $scope.isLoading = true;\n\n              var callbacks = {\n                observe: observe,\n                getData: getInstancesCountsForElement,\n                updateOverlayNodes: updateOverlayNodes,\n                isActive: isActive,\n                toggleIsLoading: toggleIsLoading\n              };\n\n              instanceCount(\n                $scope,\n                $scope.viewer,\n                $scope.processData,\n                $scope.processDiagram,\n                Loaders,\n                $rootScope,\n                callbacks\n              );\n            }\n\n            function removeOverlays() {\n              Array.from(\n                document.getElementsByClassName(\"djs-overlay\")\n              ).forEach(function(element) {\n                element.remove();\n              });\n            }\n\n            $scope.processData.observe(\"processDiagram\", function(\n              processDiagram\n            ) {\n              $scope.processDiagram = processDiagram;\n              $scope.toggle && showOverlays();\n            });\n\n            function observe(callback) {\n              $scope.processData.observe(\n                [\"activityInstanceStatistics\"],\n                function(activityInstanceStatistics) {\n                  callback([activityInstanceStatistics]);\n                }\n              );\n            }\n\n            function isActive(data) {\n              return data.instances || data.incidents;\n            }\n\n            var getIncidentCount = function(incidents) {\n              if (!incidents) {\n                return 0;\n              }\n\n              return incidents.reduce(function(sum, incident) {\n                return sum + incident.incidentCount;\n              }, 0);\n            };\n\n            function getInstancesCountsForElement(\n              element,\n              activityInstanceStatistics\n            ) {\n              var stats = getStatsWithId(\n                activityInstanceStatistics,\n                element.id\n              );\n              var statsMi = getStatsWithId(\n                activityInstanceStatistics,\n                element.id + \"#multiInstanceBody\"\n              );\n\n              var statsIncidents = get(stats, [\"incidents\"], []);\n              var statsMiIncidents = get(statsMi, [\"incidents\"], []);\n              var incidents = statsIncidents.concat(statsMiIncidents);\n              var incidentsCount = getIncidentCount(incidents);\n\n              return {\n                instances:\n                  get(stats, [\"instances\"], 0) + get(statsMi, [\"instances\"], 0),\n                incidents: incidentsCount\n              };\n            }\n\n            function getStatsWithId(activityInstanceStatistics, id) {\n              return activityInstanceStatistics.filter(function(entry) {\n                return entry.id === id;\n              })[0];\n            }\n            function updateOverlayNodes(nodes, data) {\n              nodes.instancesNode.text(\n                $filter(\"abbreviateNumber\")(data.instances)\n              );\n\n              nodes.incidentsNode.text(\n                $filter(\"abbreviateNumber\")(data.incidents)\n              );\n\n              if (data.instances <= 0) {\n                nodes.instancesNode.hide();\n              } else {\n                nodes.instancesNode.show();\n                nodes.instancesNode.tooltip({\n                  container: \"body\",\n                  title: $translate.instant(\n                    \"PLUGIN_ACTIVITY_INSTANCE_RUNNING_ACTIVITY_INSTANCES\"\n                  ),\n                  placement: \"top\",\n                  animation: false\n                });\n              }\n\n              if (data.incidents) {\n                nodes.incidentsNode.show();\n                nodes.incidentsNode.tooltip({\n                  container: \"body\",\n                  title: $translate.instant(\n                    \"PLUGIN_ACTIVITY_INSTANCE_OPEN_INCIDENTS\"\n                  ),\n                  placement: \"top\",\n                  animation: false\n                });\n              } else {\n                nodes.incidentsNode.hide();\n              }\n            }\n          }\n        ]\n      }\n    );\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<a\n  class=\"overlay-link\"\n  ng-click=\"toggleOverlay()\"\n  ng-disabled=\"isLoading\"\n  ng-if=\"enabled\"\n  uib-tooltip=\"{{ 'PLUGIN_DIAGRAM_ACTIVITY_STATISTICS_TOOLTIP' | translate }}\"\n  tooltip-placement=\"bottom\">\n  {{ 'PLUGIN_DIAGRAM_ACTIVITY_STATISTICS' | translate }}\n  <span ng-if=\"toggle && !isLoading\">{{ 'PLUGIN_DIAGRAM_ACTIVITY_STATISTICS_ON' | translate }} <input type=\"radio\" checked=\"\" class=\"toggle\" ></span>\n  <span ng-if=\"!toggle && !isLoading\">{{ 'PLUGIN_DIAGRAM_ACTIVITY_STATISTICS_OFF' | translate }}<input type=\"radio\" class=\"toggle\"> </span>\n  <span ng-if=\"isLoading\">{{ 'PLUGIN_DIAGRAM_ACTIVITY_STATISTICS_LOADING' | translate }}</span>\n</a>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.navigation\", {\n      id: \"deployments\",\n      label: \"COCKPIT_DEPLOYMENTS\",\n      pagePath: \"#/repository\",\n      template: \"<!-- nothing to show, but needed -->\",\n      controller: function() {},\n\n      priority: -5\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.navigation\", {\n      id: \"reports\",\n      label: \"COCKPIT_REPORTS\",\n      pagePath: \"#/reports\",\n      template: \"<!-- nothing to show, but needed -->\",\n      controller: function() {},\n      access: [\n        \"Views\",\n        function(Views) {\n          return function(cb) {\n            var reportPlugins = Views.getProviders({\n              component: \"cockpit.report\"\n            });\n            cb(null, !!reportPlugins.length);\n          };\n        }\n      ],\n\n      priority: -4\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.navigation\", {\n      id: \"batch\",\n      label: \"COCKPIT_BATCHES\",\n      pagePath: \"#/batch\",\n      template: \"<!-- nothing to show, but needed -->\",\n      controller: function() {},\n      checkActive: function(path) {\n        var ending = \"#/batch\";\n        var parts = (path || \"\").split(\"?\");\n        return parts.length && parts[0].slice(0 - ending.length) === ending;\n      },\n      priority: -5\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.navigation\", {\n      id: \"proceses\",\n      label: \"COCKPIT_PROCESSES\",\n      pagePath: \"#/processes\",\n      checkActive: function(path) {\n        // matches \"#/process/\", \"#/processes\" or \"#/migration\"\n        return (\n          path.indexOf(\"#/process\") > -1 || path.indexOf(\"#/migration\") > -1\n        );\n      },\n      template: \"<!-- nothing to show, but needed -->\",\n      controller: function() {},\n\n      priority: 100\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.navigation\", {\n      id: \"decisions\",\n      label: \"COCKPIT_DECISIONS\",\n      pagePath: \"#/decisions\",\n      checkActive: function(path) {\n        return path.indexOf(\"#/decision\") > -1;\n      },\n      template: \"<!-- nothing to show, but needed -->\",\n      controller: function() {},\n      priority: 90\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.navigation\", {\n      id: \"tasks\",\n      label: \"COCKPIT_HUMAN_TASKS\",\n      template: \"<!-- nothing to show, but needed -->\",\n      pagePath: \"#/tasks\",\n      checkActive: function(path) {\n        return path.indexOf(\"#/tasks\") > -1;\n      },\n      controller: function() {},\n\n      priority: 20\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./process-definitions.html.js\");\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.processes.dashboard\", {\n      id: \"process-definition\",\n      label: \"Deployed Process Definitions\",\n      template: template,\n      controller: [\n        \"$scope\",\n        \"Views\",\n        \"camAPI\",\n        \"localConf\",\n        \"$translate\",\n        function($scope, Views, camAPI, localConf, $translate) {\n          var processDefinitionService = camAPI.resource(\"process-definition\");\n\n          $scope.processesActions = Views.getProviders({\n            component: \"cockpit.processes.action\"\n          });\n          $scope.hasActionPlugin = $scope.processesActions.length > 0;\n\n          var processInstancePlugins = Views.getProviders({\n            component: \"cockpit.processInstance.view\"\n          });\n          $scope.hasHistoryPlugin =\n            processInstancePlugins.filter(function(plugin) {\n              return plugin.id === \"history\";\n            }).length > 0;\n          $scope.hasReportPlugin =\n            Views.getProviders({ component: \"cockpit.report\" }).length > 0;\n          $scope.hasSearchPlugin =\n            Views.getProviders({\n              component: \"cockpit.processes.dashboard\",\n              id: \"search-process-instances\"\n            }).length > 0;\n\n          // prettier-ignore\n          $scope.headColumns = [\n          { class: 'state',    request: '', sortable: false, content: $translate.instant('PLUGIN_PROCESS_DEF_STATE')},\n          { class: 'incidents',request: 'incidentCount', sortable: true,  content: $translate.instant('PLUGIN_PROCESS_DEF_INCIDENTS')},\n          { class: 'instances',request: 'instances'    , sortable: true, content: $translate.instant('PLUGIN_PROCESS_DEF_RUNNING_INSTANCES')},\n          { class: 'name',     request: 'label' , sortable: true, content: $translate.instant('PLUGIN_PROCESS_DEF_NAME')},\n          { class: 'tenantID', request: 'tenantId'     , sortable: true, content: $translate.instant('PLUGIN_PROCESS_DEF_TENANT_ID')},\n          { class: 'history',  request: '', sortable: false, content: $translate.instant('PLUGIN_PROCESS_DEF_HISTORY_VIEW'), condition: $scope.hasReportPlugin},\n          { class: 'report',   request: '', sortable: false, content: $translate.instant('PLUGIN_PROCESS_DEF_REPORT'), condition: $scope.hasReportPlugin},\n          { class: 'action',   request: '', sortable: false, content: $translate.instant('PLUGIN_PROCESS_DEF_ACTION'), condition: $scope.hasActionPlugin}\n        ];\n\n          // Default sorting\n          var defaultValue = {\n            sortBy: \"label\",\n            sortOrder: \"asc\",\n            sortReverse: false\n          };\n\n          $scope.sortObj = loadLocal(defaultValue);\n\n          // Update Table\n          $scope.onSortChange = function(sortObj) {\n            sortObj = sortObj || $scope.sortObj;\n            // transforms sortOrder to boolean required by anqular-sorting;\n            sortObj.sortReverse = sortObj.sortOrder !== \"asc\";\n            saveLocal(sortObj);\n            $scope.sortObj = sortObj;\n          };\n\n          var processData = $scope.processData.newChild($scope);\n\n          var getPDIncidentsCount = function(incidents) {\n            if (!incidents) {\n              return 0;\n            }\n            return incidents.reduce(function(sum, incident) {\n              return sum + incident.incidentCount;\n            }, 0);\n          };\n\n          $scope.loadingState = \"LOADING\";\n\n          // only get count of process definitions\n          var countProcessDefinitions = function() {\n            processDefinitionService.count(\n              {\n                latest: true\n              },\n              function(err, count) {\n                if (err) {\n                  $scope.loadingState = \"ERROR\";\n                }\n                $scope.processDefinitionsCount = count;\n              }\n            );\n          };\n\n          // get full list of process definitions and related resources\n          var listProcessDefinitions = function() {\n            $scope.loadingState = \"LOADING\";\n\n            processData.observe(\"processDefinitionStatistics\", function(\n              processDefinitionStatistics\n            ) {\n              $scope.processDefinitionData = processDefinitionStatistics.map(\n                function(el) {\n                  var definition = el.definition;\n                  definition.label = definition.name || definition.key;\n                  return definition;\n                }\n              );\n\n              $scope.processDefinitionsCount =\n                $scope.processDefinitionData.length;\n              $scope.loadingState = \"LOADED\";\n\n              $scope.statistics = processDefinitionStatistics;\n\n              $scope.statistics.forEach(function(statistic) {\n                var processDefId = statistic.definition.id;\n                var foundIds = $scope.processDefinitionData.filter(function(\n                  pd\n                ) {\n                  return pd.id === processDefId;\n                });\n\n                var foundObject = foundIds[0];\n                if (foundObject) {\n                  foundObject.incidents = statistic.incidents;\n                  foundObject.incidentCount = getPDIncidentsCount(\n                    foundObject.incidents\n                  );\n                  foundObject.instances = statistic.instances;\n                }\n              });\n            });\n          };\n\n          $scope.definitionVars = { read: [\"pd\"] };\n\n          var removeActionDeleteListener = $scope.$on(\n            \"processes.action.delete\",\n            function(event, definitionId) {\n              var definitions = $scope.processDefinitionData;\n\n              for (var i = 0; i < definitions.length; i++) {\n                if (definitions[i].id === definitionId) {\n                  definitions.splice(i, 1);\n                  break;\n                }\n              }\n\n              $scope.processDefinitionsCount = definitions.length;\n            }\n          );\n\n          $scope.$on(\"$destroy\", function() {\n            removeActionDeleteListener();\n          });\n\n          $scope.incidentsLink =\n            \"#/processes?searchQuery=%5B%7B%22type%22:%22PIincidentStatus%22,%22operator%22:\" +\n            \"%22eq%22,%22value%22:%22open%22,%22name%22:%22%22%7D,%7B%22type%22:%22PIprocessDefinitionKey%22,\" +\n            \"%22operator%22:%22eq%22,%22value%22:%22PD_KEY%22,%22name%22:%22%22%7D%5D#search-section\";\n\n          $scope.activeTab = \"list\";\n\n          $scope.selectTab = function(tab) {\n            $scope.activeTab = tab;\n          };\n\n          $scope.activeSection = localConf.get(\n            \"processesDashboardActive\",\n            true\n          );\n          // if tab is not active, it's enough to only get the count of process definitions\n          $scope.activeSection\n            ? listProcessDefinitions()\n            : countProcessDefinitions();\n\n          $scope.toggleSection = function toggleSection() {\n            $scope.activeSection = !$scope.activeSection;\n\n            // if tab is not active, it's enough to only get the count of process definitions\n            $scope.activeSection\n              ? listProcessDefinitions()\n              : countProcessDefinitions();\n            localConf.set(\"processesDashboardActive\", $scope.activeSection);\n          };\n\n          function saveLocal(sortObj) {\n            localConf.set(\"sortProcessDefTab\", sortObj);\n          }\n          function loadLocal(defaultValue) {\n            return localConf.get(\"sortProcessDefTab\", defaultValue);\n          }\n        }\n      ],\n\n      priority: 0\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - ui/cockpit/plugins/base/app/views/processesDashboard/process-definitions.html -->\n<section  class=\"processes-dashboard\"\n          ng-class=\"{'section-collapsed': !activeSection}\">\n  <div class=\"inner\">\n    <button uib-tooltip=\"Toggle this section\"\n            class=\"section-toggle btn btn-link btn-sm\"\n            ng-click=\"toggleSection()\">\n      <span class=\"glyphicon\"\n            ng-class=\"{'glyphicon-menu-down': !activeSection, 'glyphicon-menu-up': activeSection}\"></span>\n    </button>\n    <header ng-if=\"processDefinitionsCount\">\n      <div class=\"row\">\n        <h1 class=\"col-xs-6 section-title\">{{ processDefinitionsCount }} {{ (processDefinitionsCount > 1 ? 'PLUGIN_PROCESS_DEF_PROCESS_DEFINITIONS_DEPLOYED' : 'PLUGIN_PROCESS_DEF_PROCESS_DEFINITION_DEPLOYED' | translate) }}</h1>\n\n        <div class=\"col-xs-6 text-right\" ng-if=\"activeSection\">\n          <ul class=\"nav nav-tabs\">\n            <li ng-class=\"{active: activeTab === 'list'}\">\n              <a ng-click=\"selectTab('list')\">{{'PLUGIN_PROCESS_DEF_LIST' | translate}}</a>\n            </li>\n            <li ng-class=\"{active: activeTab === 'previews'}\">\n              <a ng-click=\"selectTab('previews')\">{{'PLUGIN_PROCESS_DEF_PREVIEWS' | translate}}</a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </header>\n\n    <header class=\"header-empty\" ng-if=\"!processDefinitionsCount && loadingState !== 'LOADING'\">\n        <h1 class=\"section-title\">{{'PLUGIN_PROCESS_DEF_NO_PROCESS_DEF' | translate}}</h1>\n    </header>\n\n\n\n    <div cam-widget-loader\n         loading-state=\"{{loadingState}}\"\n         class=\"deployed-processes\"\n         ng-if=\"activeSection\">\n\n\n      <table ng-if=\"processDefinitionsCount && activeTab === 'list'\"\n             class=\"process-definitions-list cam-table\">\n        <thead sortable-table-head\n               head-columns=\"headColumns\"\n               on-sort-change=\"onSortChange(sortObj)\"\n               default-sort=\"sortObj\">\n        </thead>\n        <tbody>\n          <tr ng-repeat=\"pd in processDefinitionData | orderBy:sortObj.sortBy:sortObj.sortReverse\">\n            <td class=\"state\">\n              <div ng-if=\"!!pd.incidents\" state-circle incidents=\"pd.incidents\">\n                <a ng-if=\"pd.incidentCount && hasSearchPlugin\"\n                   ng-href=\"{{ incidentsLink.replace('PD_KEY', pd.key) }}\"\n                   class=\"incidents-link\"></a>\n              </div>\n              <div ng-if=\"!pd.incidents\">\n                <span class=\"glyphicon glyphicon-refresh animate-spin\"></span>\n              </div>\n            </td>\n\n            <td class=\"incidents\">\n              <a ng-if=\"pd.incidentCount && hasSearchPlugin\"\n                 ng-href=\"{{ incidentsLink.replace('PD_KEY', pd.key) }}\">\n                {{ pd.incidentCount }}\n              </a>\n              <span ng-if=\"!pd.incidentCount || !hasSearchPlugin\">{{ pd.incidentCount }}</span>\n            </td>\n\n            <td ng-if=\"pd.instances >= 0\" class=\"instances\">\n              {{ pd.instances }}\n            </td>\n            <td ng-if=\"pd.instances == undefined\">\n              <span class=\"glyphicon glyphicon-refresh animate-spin\"></span>\n            </td>\n\n            <td class=\"name\">\n              <a href=\"#/process-definition/{{ pd.id }}\">\n                {{ pd.name || pd.key }}\n              </a>\n            </td>\n\n            <td class=\"tenant-id\">\n              {{ pd.tenantId }}\n            </td>\n\n            <td ng-if=\"hasHistoryPlugin\"\n                class=\"history-link\">\n              <a href=\"#/process-definition/{{ pd.id }}/history\">\n                {{'PLUGIN_PROCESS_DEF_HISTORY_VIEW' | translate}}\n              </a>\n            </td>\n\n            <td ng-if=\"hasReportPlugin\"\n                class=\"report-link\">\n              <a href=\"#/reports/reporting-duration-report?processDefinitionKey={{ pd.key }}\">\n                <span class=\"glyphicon glyphicon-signal\"></span>\n              </a>\n            </td>\n\n            <td ng-if=\"hasActionPlugin\">\n              <view ng-repeat=\"processesAction in processesActions\"\n                    data-plugin-id=\"{{ processAction.id }}\"\n                    vars=\"definitionVars\"\n                    provider=\"processesAction\"></view>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <div ng-if=\"processDefinitionsCount && activeTab === 'previews'\"\n           class=\"tile-grid\">\n        <div ng-repeat=\"pd in processDefinitionData | orderBy:orderByPredicate:orderByReverse\"\n             class=\"tile col-xs-12 col-sm-6 col-md-4 col-lg-3\">\n          <a href=\"#/process-definition/{{ pd.id }}\">\n            <h4 class=\"tile-header\">\n              {{ pd.name || pd.key }}\n            </h4>\n\n            <span class=\"tile-body\">\n              <span ng-if=\"activeTab === 'previews'\"\n                    process-diagram-preview\n                    process-definition-id=\"pd.id\"></span>\n            </span>\n\n            <span class=\"tile-footer\">\n              <span ng-if=\"!pd.instances || pd.instances === 0\"\n                    class=\"instances\"\n                    translate=\"PLUGIN_PROCESS_DEF_PREV_RUNNING_INSTANCES\"\n                    translate-values=\"{ instances: 'No' }\">\n              </span>\n              <span ng-if=\"pd.instances === 1\"\n                    class=\"instances\">\n                {{ 'PLUGIN_PROCESS_DEF_PREV_RUNNING_INSTANCE' | translate }}\n              </span>\n              <span ng-if=\"pd.instances > 1\"\n                    class=\"instances\"\n                    translate=\"PLUGIN_PROCESS_DEF_PREV_RUNNING_INSTANCES\"\n                    translate-values=\"{ instances: pd.instances }\">\n              </span>\n              <span ng-if=\"pd.instances == undefined\" class=\"instances\">\n                <span class=\"glyphicon glyphicon-refresh animate-spin\"></span>\n              </span>\n\n              <span ng-if=\"pd.incidents.length > -1\" state-circle\n                    incidents=\"pd.incidents\"\n                    class=\"circle-tiles\"></span>\n              <span ng-if=\"pd.incidents == undefined\" class=\"circle-tiles\"></span>\n            </span>\n          </a>\n        </div>\n      </div>\n\n      <div cam-pagination=\"onPaginationChange(pages)\" total=\"pages.total\"></div>\n\n    </div>\n\n  </div>\n</section>\n\n<!-- / CE - ui/cockpit/plugins/base/app/views/processesDashboard/process-definitions.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nvar template = require(\"./process-instance-table.html.js\");\nvar searchConfig = require(\"./process-instance-search-config.json\");\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.processDefinition.runtime.tab\", {\n      id: \"process-instances-table\",\n      label: \"PLUGIN_PROCESS_INSTANCES_LABEL\",\n      template: template,\n      controller: [\n        \"$scope\",\n        \"$location\",\n        \"search\",\n        \"routeUtil\",\n        \"PluginProcessInstanceResource\",\n        \"$translate\",\n        \"localConf\",\n        function(\n          $scope,\n          $location,\n          search,\n          routeUtil,\n          PluginProcessInstanceResource,\n          $translate,\n          localConf\n        ) {\n          var processDefinition = $scope.processDefinition;\n          $scope.onSearchChange = updateView;\n          $scope.onSortChange = updateView;\n\n          // prettier-ignore\n          $scope.headColumns = [\n          { class: 'state',        request: 'state',       sortable: false, content: $translate.instant('PLUGIN_PROCESS_INSTANCE_STATE')},\n          { class: 'instance-id',  request: 'instanceId',  sortable: false, content: $translate.instant('PLUGIN_PROCESS_INSTANCE_ID')},\n          { class: 'start-time',   request: 'startTime',   sortable: true,  content: $translate.instant('PLUGIN_PROCESS_INSTANCE_START_TIME')},\n          { class: 'business-key', request: 'businessKey', sortable: false, content: $translate.instant('PLUGIN_PROCESS_INSTANCE_BUSINESS_KEY')}\n        ];\n\n          // Default sorting\n          var defaultValue = { sortBy: \"startTime\", sortOrder: \"desc\" };\n          $scope.sortObj = loadLocal(defaultValue);\n\n          $scope.searchConfig = angular.copy(searchConfig);\n\n          function updateView(query, pages, sortObj) {\n            $scope.pagesObj = pages || $scope.pagesObj;\n            $scope.queryObj = query || $scope.queryObj;\n            sortObj = sortObj || $scope.sortObj;\n\n            saveLocal(sortObj);\n\n            var page = $scope.pagesObj.current,\n              queryParams = $scope.queryObj,\n              count = $scope.pagesObj.size,\n              firstResult = (page - 1) * count;\n\n            var defaultParams = {\n              processDefinitionId: processDefinition.id\n            };\n\n            var pagingParams = {\n              firstResult: firstResult,\n              maxResults: count,\n              sortBy: sortObj.sortBy,\n              sortOrder: sortObj.sortOrder\n            };\n\n            var countParams = angular.extend({}, queryParams, defaultParams);\n            var params = angular.extend(\n              {},\n              queryParams,\n              pagingParams,\n              defaultParams\n            );\n\n            $scope.processInstances = null;\n            $scope.loadingState = \"LOADING\";\n\n            return PluginProcessInstanceResource.count(countParams)\n              .$promise.then(function(data) {\n                var total = data.count;\n\n                return PluginProcessInstanceResource.query(pagingParams, params)\n                  .$promise.then(function(data) {\n                    $scope.processInstances = data;\n                    $scope.loadingState = data.length ? \"LOADED\" : \"EMPTY\";\n                    return total;\n                  })\n                  .catch(angular.noop);\n              })\n              .catch(angular.noop);\n          }\n\n          function saveLocal(sortObj) {\n            localConf.set(\"sortProcInst\", sortObj);\n          }\n\n          function loadLocal(defaultValue) {\n            return localConf.get(\"sortProcInst\", defaultValue);\n          }\n\n          $scope.getProcessInstanceUrl = function(processInstance, params) {\n            var path = \"#/process-instance/\" + processInstance.id;\n            var searches = angular.extend(\n              {},\n              $location.search() || {},\n              params || {}\n            );\n\n            var keepSearchParams = [\"viewbox\"];\n            for (var i in params) {\n              keepSearchParams.push(i);\n            }\n\n            return routeUtil.redirectTo(path, searches, keepSearchParams);\n          };\n        }\n      ],\n      priority: 10\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/process-instance-table.html -->\n<div cam-searchable-area\n     config=\"searchConfig\"\n     array-types=\"['activityIdIn']\"\n     variable-types=\"['variables']\"\n     on-search-change=\"onSearchChange(query, pages)\"\n     loading-state=\"loadingState\"\n     text-empty=\"{{'PLUGIN_PROCESS_INSTANCE_NO_PROCESS' | translate}}\"\n     storage-group=\"'PDI'\">\n\n  <table class=\"process-instances cam-table\">\n\n    <thead sortable-table-head\n           head-columns=\"headColumns\"\n           on-sort-change=\"onSortChange(query, pages, sortObj)\"\n           default-sort=\"sortObj\">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat=\"processInstance in processInstances\">\n        <td class=\"state\">\n          <a state-circle\n             incidents=\"processInstance.incidents\"\n             ng-href=\"{{ getProcessInstanceUrl(processInstance, { tab: 'incidents-tab' }) }}\"></a>\n          <span class=\"badge badge-warning badge-suspended\"\n                ng-show=\"processInstance.suspended\"\n                uib-tooltip=\"{{'PLUGIN_PROCESS_INSTANCE_SUSPENDED' | translate}}\"\n                tooltip-placement=\"left\">\n            <span class=\"glyphicon glyphicon-pause white\"></span>\n          </span>\n        </td>\n\n        <td class=\"instance-id\"\n            cam-widget-clipboard=\"processInstance.id\">\n          <a ng-href=\"{{ getProcessInstanceUrl(processInstance) }}\"\n             title=\"{{ processInstance.id }}\">\n            {{ processInstance.id }}\n          </a>\n        </td>\n\n        <td class=\"start-time\"\n            cam-widget-clipboard=\"processInstance.startTime | camDate\">\n          {{ processInstance.startTime | camDate }}\n        </td>\n\n        <td class=\"business-key\"\n            ng-if=\"processInstance.businessKey\"\n            cam-widget-clipboard=\"processInstance.businessKey\">\n          {{ processInstance.businessKey }}\n        </td>\n        <td class=\"business-key\"\n            ng-if=\"!processInstance.businessKey\"></td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/process-instance-table.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\nvar searchWidgetUtils = require(\"../../../../../common/scripts/util/search-widget-utils\");\n\nvar template = require(\"./called-process-definition-table.html.js\");\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.processDefinition.runtime.tab\", {\n      id: \"call-process-definitions-table\",\n      label: \"PLUGIN_CALLED_PROCESS_DEFINITIONS_LABEL\",\n      template: template,\n      controller: [\n        \"$scope\",\n        \"$location\",\n        \"$q\",\n        \"PluginProcessDefinitionResource\",\n        \"$translate\",\n        \"localConf\",\n        function(\n          $scope,\n          $location,\n          $q,\n          PluginProcessDefinitionResource,\n          $translate,\n          localConf\n        ) {\n          var filter;\n          var processData = $scope.processData.newChild($scope);\n\n          // prettier-ignore\n          $scope.headColumns = [\n          { class: 'process-definition', request: 'label', sortable: true, content: $translate.instant('PLUGIN_CALLED_PROCESS')},\n          { class: 'activity', request: 'name', sortable: true, content: $translate.instant('PLUGIN_ACTIVITY')}\n        ];\n\n          // Default sorting\n          $scope.sortObj = loadLocal({\n            sortBy: \"key\",\n            sortOrder: \"asc\",\n            sortReverse: false\n          });\n\n          $scope.onSortChange = function(sortObj) {\n            sortObj = sortObj || $scope.sortObj;\n            // sortReverse required by anqular-sorting;\n            sortObj.sortReverse = sortObj.sortOrder !== \"asc\";\n            saveLocal(sortObj);\n            $scope.sortObj = sortObj;\n          };\n\n          function saveLocal(sortObj) {\n            localConf.set(\"sortCalledProcessDefTab\", sortObj);\n          }\n          function loadLocal(defaultValue) {\n            return localConf.get(\"sortCalledProcessDefTab\", defaultValue);\n          }\n\n          $scope.getSearchQueryForSearchType = searchWidgetUtils.getSearchQueryForSearchType.bind(\n            null,\n            \"activityIdIn\"\n          );\n\n          processData.provide(\"calledProcessDefinitions\", [\n            \"processDefinition\",\n            \"filter\",\n            function(processDefinition, newFilter) {\n              filter = angular.copy(newFilter);\n\n              delete filter.page;\n              delete filter.scrollToBpmnElement;\n\n              // the parent process definition id is the super process definition id...\n              filter.superProcessDefinitionId =\n                filter.parentProcessDefinitionId;\n              // ...and the process definition id of the current view is the\n              // parent process definition id of query.\n              filter.parentProcessDefinitionId = $scope.processDefinition.id;\n\n              filter.activityIdIn = filter.activityIds;\n              delete filter.activityIds;\n\n              $scope.loadingState = \"LOADING\";\n              return PluginProcessDefinitionResource.getCalledProcessDefinitions(\n                { id: processDefinition.id },\n                filter\n              ).$promise;\n            }\n          ]);\n\n          processData.observe(\n            [\"calledProcessDefinitions\", \"bpmnElements\"],\n            function(calledProcessDefinitions, bpmnElements) {\n              $scope.calledProcessDefinitions = attachCalledFromActivities(\n                calledProcessDefinitions,\n                bpmnElements\n              ).map(function(calledProcessDefinition) {\n                return angular.extend({}, calledProcessDefinition, {\n                  label:\n                    calledProcessDefinition.name || calledProcessDefinition.key\n                });\n              });\n              $scope.loadingState = $scope.calledProcessDefinitions.length\n                ? \"LOADED\"\n                : \"EMPTY\";\n            }\n          );\n\n          function attachCalledFromActivities(\n            processDefinitions,\n            bpmnElements\n          ) {\n            var result = [];\n\n            angular.forEach(processDefinitions, function(d) {\n              var calledFromActivityIds = d.calledFromActivityIds,\n                calledFromActivities = [];\n\n              angular.forEach(calledFromActivityIds, function(activityId) {\n                var bpmnElement = bpmnElements[activityId];\n\n                var activity = {\n                  id: activityId,\n                  name: (bpmnElement && bpmnElement.name) || activityId\n                };\n\n                calledFromActivities.push(activity);\n              });\n\n              result.push(\n                angular.extend({}, d, {\n                  calledFromActivities: calledFromActivities\n                })\n              );\n            });\n\n            return result;\n          }\n        }\n      ],\n      priority: 5\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/called-process-definition-table.html -->\n<div cam-widget-loader\n     loading-state=\"{{ loadingState }}\"\n     text-empty=\"{{'PLUGIN_CALLED_PROCESS_EMPTY' | translate}}\">\n  <table class=\"called-process-definition cam-table\">\n    <thead sortable-table-head\n           head-columns=\"headColumns\"\n           on-sort-change=\"onSortChange(sortObj)\"\n           default-sort=\"sortObj\">\n    </thead>\n    <tbody>\n      <tr ng-repeat=\"calledProcessDefinition in calledProcessDefinitions | orderBy:sortObj.sortBy:sortObj.sortReverse\">\n        <td class=\"process-definition\"\n            cam-widget-clipboard=\"calledProcessDefinition.id\">\n          <a ng-href=\"#/process-definition/{{ calledProcessDefinition.id }}/runtime?parentProcessDefinitionId={{ processDefinition.id }}\">\n            {{ calledProcessDefinition.label }}\n          </a>\n        </td>\n\n        <td class=\"activity\">\n          <span ng-show=\"calledProcessDefinition.calledFromActivities.length === 1\"\n                cam-widget-clipboard=\"calledProcessDefinition.calledFromActivities[0].id\">\n            <a ng-href=\"#/process-definition/{{ processDefinition.id }}/runtime?{{ getSearchQueryForSearchType(calledProcessDefinition.calledFromActivities[0].id) }}&amp;detailsTab=call-process-definitions-table\">\n              {{ calledProcessDefinition.calledFromActivities[0].name }}\n            </a>\n          </span>\n\n          <ul ng-show=\"calledProcessDefinition.calledFromActivities.length > 1\">\n            <li ng-repeat=\"activity in calledProcessDefinition.calledFromActivities\"\n                cam-widget-clipboard=\"activity.id\">\n              <a ng-href=\"#/process-definition/{{ processDefinition.id }}/runtime?{{ getSearchQueryForSearchType(activity.id) }}&amp;detailsTab=call-process-definitions-table\">\n                {{ activity.name }}\n              </a>\n            </li>\n          <ul>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/called-process-definition-table.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar actionTemplate = require(\"./update-suspension-state-action.html.js\");\nvar dialogTemplate = require(\"./update-suspension-state-dialog.html.js\");\nvar angular = require(\"angular\");\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\n      \"cockpit.processDefinition.runtime.action\",\n      {\n        id: \"update-suspension-state-action\",\n        label: \"PLUGIN_UPDATE_SUSPENSION_STATE\",\n        template: actionTemplate,\n        controller: [\n          \"$scope\",\n          \"$uibModal\",\n          function($scope, $modal) {\n            $scope.openDialog = function() {\n              var dialog = $modal.open({\n                resolve: {\n                  processData: function() {\n                    return $scope.processData;\n                  },\n                  processDefinition: function() {\n                    return $scope.processDefinition;\n                  }\n                },\n                controller: \"UpdateProcessDefinitionSuspensionStateController\",\n                template: dialogTemplate,\n                appendTo: angular.element('.angular-app')\n              });\n\n              dialog.result\n                .then(function(result) {\n                  // dialog closed. YEA!\n                  if (result.status === \"SUCCESS\") {\n                    if (result.executeImmediately) {\n                      $scope.processDefinition.suspended = result.suspended;\n                    }\n\n                    $scope.processData.set(\n                      \"filter\",\n                      angular.extend({}, $scope.filter)\n                    );\n                  }\n                })\n                .catch(angular.noop);\n            };\n          }\n        ],\n        priority: 50\n      }\n    );\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/update-suspension-state-action.html -->\n<a class=\"btn btn-default btn-toolbar btn-suspend-action\"\n   href\n   ng-click=\"openDialog()\"\n   uib-tooltip=\"{{'PLUGIN_SUSPENSION_SUSPEND_PROCESS' | translate}}\"\n   tooltip-placement=\"left\"\n   ng-show=\"!processDefinition.suspended\">\n  <span class=\"glyphicon glyphicon-pause\"></span>\n</a>\n\n<a class=\"btn btn-default btn-toolbar\"\n   href\n   ng-click=\"openDialog()\"\n   uib-tooltip=\"{{'PLUGIN_SUSPENSION_ACTIVATE_PROCESS' | translate}}\"\n   tooltip-placement=\"left\"\n   ng-hide=\"!processDefinition.suspended\">\n  <span class=\"glyphicon glyphicon-play\"></span>\n</a>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/update-suspension-state-action.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/update-suspension-state-dialog.html -->\n<div class=\"modal-header\">\n  <h3>{{ processDefinition.suspended ? 'PLUGIN_SUSPENSION_ACTIVATE_PROCESS' : 'PLUGIN_SUSPENSION_SUSPEND_PROCESS' | translate }}</h3>\n</div>\n\n<div class=\"process-definition update-suspension-state modal-body\">\n  <div notifications-panel></div>\n\n  <div ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\">\n\n    <p ng-show=\"processDefinition.suspended\">\n      <!-- activation -->\n      {{'PLUGIN_SUSPENSION_MESSAGE_1' | translate}}\n    </p>\n\n    <p ng-hide=\"processDefinition.suspended\">\n      <!-- suspension -->\n      {{'PLUGIN_SUSPENSION_MESSAGE_2' | translate}}\n    </p>\n\n    <form class=\"form-horizontal\"\n          name=\"updateSuspensionStateForm\"\n          novalidate\n          request-aware\n          ng-submit=\"updateSuspensionState()\">\n      <fieldset>\n        <div class=\"form-group\">\n          <label class=\"control-label col-xs-4\"\n                 for=\"includeInstancesValue\">{{'PLUGIN_SUSPENSION_INCLUDE_INSTANCES' | translate}}\n            <!-- activation -->\n            <span uib-tooltip=\"{{'PLUGIN_SUSPENSION_INCLUDING_MESSAGE_1' | translate}}\"\n                  tooltip-placement=\"right\"\n                  ng-show=\"processDefinition.suspended\">\n              <span class=\"glyphicon glyphicon-question-sign\"></span>\n            </span>\n\n            <!-- suspension -->\n            <span uib-tooltip=\"{{'PLUGIN_SUSPENSION_INCLUDING_MESSAGE_2' | translate}}\"\n                  tooltip-placement=\"right\"\n                  ng-hide=\"processDefinition.suspended\">\n              <span class=\"glyphicon glyphicon-question-sign\"></span>\n            </span>\n          </label>\n\n          <div class=\"col-xs-8\">\n            <label class=\"checkbox\">\n              <input id=\"includeInstancesValueId\"\n                     name=\"includeInstancesValue\"\n                     type=\"checkbox\"\n                     ng-model=\"data.includeInstances\">\n            </label>\n          </div>\n        </div>\n\n        <div class=\"form-group\">\n          <label class=\"control-label col-xs-4\" for=\"executeImmediately\">{{'PLUGIN_SUSPENSION_EXECUTE' | translate}}\n            <span uib-tooltip=\"{{'PLUGIN_SUSPENSION_DECIDE_ACTIVATION' | translate}}\"\n                  tooltip-placement=\"right\"\n                  ng-show=\"processDefinition.suspended\">\n              <span class=\"glyphicon glyphicon-question-sign\"></span>\n            </span>\n            <span uib-tooltip=\"{{'PLUGIN_SUSPENSION_DECIDE_SUSPENSION' | translate}}\"\n                  tooltip-placement=\"right\"\n                  ng-hide=\"processDefinition.suspended\">\n              <span class=\"glyphicon glyphicon-question-sign\"></span>\n            </span>\n          </label>\n\n          <div class=\"col-xs-8\">\n            <label class=\"radio\">\n              <input ng-model=\"data.executeImmediately\"\n                     ng-value=\"true\"\n                     type=\"radio\"\n                     name=\"execute\">\n              {{'PLUGIN_SUSPENSION_IMMEDIATELY' | translate}}\n            </label>\n\n            <label class=\"radio\">\n              <input ng-model=\"data.executeImmediately\"\n                     ng-value=\"false\"\n                     type=\"radio\"\n                     name=\"execute\">\n              {{'PLUGIN_SUSPENSION_DELAYED' | translate}}\n            </label>\n          </div>\n        </div>\n        <div class=\"form-group\"\n             ng-show=\"!data.executeImmediately\">\n          <label class=\"control-label col-xs-4\"\n                 for=\"executionDateValue\">\n            {{'PLUGIN_SUSPENSION_SCHEDULE_AT' | translate}}\n          </label>\n\n          <div class=\"col-xs-8\">\n            <input date\n                   name=\"executionDateValue\"\n                   ng-model=\"data.executionDate\"\n                   class=\"form-control\"\n                   type=\"text\"\n                   required />\n\n            <p class=\"invalid\"\n               ng-show=\"this.updateSuspensionStateForm.executionDateValue.$error.datePattern\">\n              {{'PLUGIN_SUSPENSION_VALID_PATTERN' | translate}}\n            </p>\n            <p class=\"invalid\"\n               ng-show=\"this.updateSuspensionStateForm.executionDateValue.$error.dateValue\">\n              Invalid Date Value.\n            </p>\n          </div>\n        </div><!-- /.form-group -->\n\n      </fieldset>\n    </form>\n\n    <p>\n      {{ processDefinition.suspended ? 'PLUGIN_SUSPENSION_WANT_TO_ACTIVATE' : 'PLUGIN_SUSPENSION_WANT_TO_SUSPEND' | translate }}\n    </p>\n\n  </div>\n\n  <div ng-show=\"status === 'SUCCESS'\">\n    <p ng-show=\"processDefinition.suspended && data.executeImmediately\">\n      {{'PLUGIN_SUSPENSION_STATE_ACTIVE' | translate}}\n    </p>\n    <p ng-show=\"processDefinition.suspended && !data.executeImmediately\"\n       translate=\"PLUGIN_SUSPENSION_ACTIVATION_SCHEDULED_TO\"\n       translate-values='{date: (data.executionDate | camDate) }'>\n    </p>\n    <p ng-show=\"!processDefinition.suspended && data.executeImmediately\">\n      {{'PLUGIN_SUSPENSION_STATE_SUSPENDED' | translate}}\n    </p>\n    <p ng-show=\"!processDefinition.suspended && !data.executeImmediately\"\n       translate=\"PLUGIN_SUSPENSION_SUSPENSION_SCHEDULED_TO\"\n       translate-values='{date: (data.executionDate | camDate) }'>\n    </p>\n  </div>\n\n  <div ng-show=\"status === 'FAIL'\">\n    <p ng-show=\"processDefinition.suspended && data.executeImmediately\">\n      {{'PLUGIN_SUSPENSION_STATE_NOT_ACTIVATED' | translate}}.\n    </p>\n    <p ng-show=\"processDefinition.suspended && !data.executeImmediately\"\n       translate=\"PLUGIN_SUSPENSION_ACTIVATION_NOT_SCHEDULED_TO\"\n       translate-values='{date: (data.executionDate | camDate) }'>\n    </p>\n    <p ng-show=\"!processDefinition.suspended && data.executeImmediately\">\n      {{'PLUGIN_SUSPENSION_STATE_NOT_SUSPENDED' | translate}}\n    </p>\n    <p ng-show=\"!processDefinition.suspended && !data.executeImmediately\"\n       translate=\"PLUGIN_SUSPENSION_SUSPENSION_NOT_SCHEDULED_TO\"\n       translate-values='{date: (data.executionDate | camDate) }'>\n    </p>\n  </div>\n\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-link\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'PERFORM_UDPATE'\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\">\n    {{'PLUGIN_SUSPENSION_CLOSE' | translate}}\n  </button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"updateSuspensionState()\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\"\n          ng-disabled=\"!isValid() || status === 'PERFORM_UDPATE'\">\n    {{ processDefinition.suspended ? 'PLUGIN_SUSPENSION_ACTIVATE' : 'PLUGIN_SUSPENSION_SUSPEND' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'SUCCESS' || status === 'FAIL'\">\n    {{'PLUGIN_SUSPENSION_OK' | translate}}\n  </button>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/update-suspension-state-dialog.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nmodule.exports = [\n  \"$scope\",\n  \"$http\",\n  \"$filter\",\n  \"Uri\",\n  \"Notifications\",\n  \"$uibModalInstance\",\n  \"processDefinition\",\n  \"fixDate\",\n  \"$translate\",\n  \"$rootScope\",\n  function(\n    $scope,\n    $http,\n    $filter,\n    Uri,\n    Notifications,\n    $modalInstance,\n    processDefinition,\n    fixDate,\n    $translate,\n    $rootScope\n  ) {\n    var BEFORE_UPDATE = \"BEFORE_UPDATE\",\n      PERFORM_UPDATE = \"PERFORM_UDPATE\",\n      UPDATE_SUCCESS = \"SUCCESS\",\n      UPDATE_FAILED = \"FAIL\";\n\n    var dateFilter = $filter(\"date\"),\n      dateFormat = \"yyyy-MM-dd'T'HH:mm:ss\";\n\n    $scope.processDefinition = processDefinition;\n\n    $scope.status = BEFORE_UPDATE;\n\n    $scope.data = {\n      includeInstances: true,\n      executeImmediately: true,\n      executionDate: dateFilter(Date.now(), dateFormat)\n    };\n\n    $scope.$on(\"$routeChangeStart\", function() {\n      $modalInstance.close($scope.status);\n    });\n\n    $scope.updateSuspensionState = function() {\n      $scope.status = PERFORM_UPDATE;\n\n      var data = {};\n\n      data.suspended = !processDefinition.suspended;\n      data.includeProcessInstances = $scope.data.includeInstances;\n      data.executionDate = !$scope.data.executeImmediately\n        ? fixDate($scope.data.executionDate)\n        : null;\n\n      $http\n        .put(\n          Uri.appUri(\n            \"engine://engine/:engine/process-definition/\" +\n              processDefinition.id +\n              \"/suspended/\"\n          ),\n          data\n        )\n        .then(function() {\n          $scope.status = UPDATE_SUCCESS;\n\n          if ($scope.data.executeImmediately) {\n            $rootScope.$broadcast(\n              \"$processDefinition.suspensionState.changed\",\n              processDefinition\n            );\n\n            Notifications.addMessage({\n              status: $translate.instant(\n                \"PLUGIN_UPDATE_SUSPENSION_STATE_STATUS_FINISHED\"\n              ),\n              message: $translate.instant(\n                \"PLUGIN_UPDATE_SUSPENSION_STATE_MESSAGE_1\"\n              ),\n              exclusive: true\n            });\n          } else {\n            Notifications.addMessage({\n              status: $translate.instant(\n                \"PLUGIN_UPDATE_SUSPENSION_STATE_STATUS_FINISHED\"\n              ),\n              message: $translate.instant(\n                \"PLUGIN_UPDATE_SUSPENSION_STATE_MESSAGE_2\"\n              ),\n              exclusive: true\n            });\n          }\n        })\n        .catch(function(response) {\n          $scope.status = UPDATE_FAILED;\n          var errorMessage;\n          if ($scope.data.executeImmediately) {\n            errorMessage = $translate.instant(\n              \"PLUGIN_UPDATE_SUSPENSION_STATE_MESSAGE_3\",\n              { message: response.data.message }\n            );\n          } else {\n            errorMessage = $translate.instant(\n              \"PLUGIN_UPDATE_SUSPENSION_STATE_MESSAGE_4\",\n              { message: response.data.message }\n            );\n          }\n          Notifications.addError({\n            status: $translate.instant(\n              \"PLUGIN_UPDATE_SUSPENSION_STATE_STATUS_FINISHED\"\n            ),\n            message: errorMessage,\n            exclusive: true\n          });\n        });\n    };\n\n    $scope.isValid = function() {\n      var formScope = angular\n        .element('[name=\"updateSuspensionStateForm\"]')\n        .scope();\n      return formScope && formScope.updateSuspensionStateForm\n        ? formScope.updateSuspensionStateForm.$valid\n        : false;\n    };\n\n    $scope.close = function(status) {\n      var response = {};\n\n      response.status = status;\n      response.suspended = !processDefinition.suspended;\n      response.executeImmediately = $scope.data.executeImmediately;\n      response.executionDate = $scope.data.executionDate;\n\n      $modalInstance.close(response);\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./pd-incidents-tab.html.js\");\n\nvar Configuration = function PluginConfiguration(ViewsProvider) {\n  ViewsProvider.registerDefaultView(\"cockpit.processDefinition.runtime.tab\", {\n    id: \"pd-incidents-tab\",\n    label: \"PLUGIN_INCIDENTS_LABEL\",\n    template: template,\n    priority: 9,\n    controller: function() {}\n  });\n};\n\nConfiguration.$inject = [\"ViewsProvider\"];\n\nmodule.exports = Configuration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<incidents-tab\n  process-data=\"processData\"\n  process-definition=\"processDefinition\"/>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst searchConfig = require(\"./variable-instances-tab-search-config.json\");\n\nvar angular = require(\"angular\");\n\nvar searchWidgetUtils = require(\"../../../../../common/scripts/util/search-widget-utils\");\nvar variableInstancesTabSearchConfig = searchConfig;\n\nvar instancesTemplate = require(\"./variable-instances-tab.html.js\");\nvar inspectTemplate = require(\"../../../../../client/scripts/components/variables/variable-inspect-dialog\");\nvar uploadTemplate = require(\"../../../../../client/scripts/components/variables/variable-upload-dialog\");\n\nmodule.exports = function(ngModule) {\n  ngModule.controller(\"VariableInstancesController\", [\n    \"$scope\",\n    \"$sce\",\n    \"search\",\n    \"Uri\",\n    \"LocalExecutionVariableResource\",\n    \"Notifications\",\n    \"$uibModal\",\n    \"$q\",\n    \"camAPI\",\n    \"fixDate\",\n    \"unfixDate\",\n    \"$translate\",\n    \"localConf\",\n    \"escapeHtml\",\n    function(\n      $scope,\n      $sce,\n      search,\n      Uri,\n      LocalExecutionVariableResource,\n      Notifications,\n      $modal,\n      $q,\n      camAPI,\n      fixDate,\n      unfixDate,\n      $translate,\n      localConf,\n      escapeHtml\n    ) {\n      // input: processInstance, processData\n      var variableInstanceData = $scope.processData.newChild($scope),\n        processInstance = $scope.processInstance,\n        variableInstanceIdexceptionMessageMap,\n        variableCopies;\n\n      var executionService = camAPI.resource(\"execution\"),\n        taskService = camAPI.resource(\"task\"),\n        variableService = camAPI.resource(\"variable\");\n\n      // Table header\n      // prettier-ignore\n      $scope.headColumns = [\n        { class: 'name',  request: 'variableName', sortable: true, content: $translate.instant('PLUGIN_VARIABLE_NAME')},\n        { class: 'type',  request: 'variableType', sortable: true, content: $translate.instant('PLUGIN_VARIABLE_TYPE')},\n        { class: 'value', request: '',             sortable: false, content: $translate.instant('PLUGIN_VARIABLE_VALUE')},\n        { class: 'scope', request: '',             sortable: false, content: $translate.instant('PLUGIN_VARIABLE_SCOPE')}\n      ];\n\n      // Default sorting\n      var defaultValue = { sortBy: \"variableName\", sortOrder: \"asc\" };\n      $scope.sortObj = loadLocal(defaultValue);\n\n      $scope.searchConfig = angular.copy(variableInstancesTabSearchConfig);\n\n      variableInstanceData.observe(\"instanceIdToInstanceMap\", function(\n        instanceIdToInstanceMap\n      ) {\n        $scope.instanceIdToInstanceMap = instanceIdToInstanceMap;\n      });\n\n      $scope.onSearchChange = function(query, pages, sortObj) {\n        $scope.query = query || $scope.query;\n        $scope.pages = pages || $scope.pages;\n\n        if ($scope.instanceIdToInstanceMap) {\n          return updateView(\n            $scope.instanceIdToInstanceMap,\n            $scope.query,\n            $scope.pages,\n            sortObj\n          );\n        }\n\n        return $q.when($scope.total);\n      };\n\n      $scope.onSortChange = $scope.onSearchChange;\n\n      $scope.getSearchQueryForSearchType = searchWidgetUtils.getSearchQueryForSearchType.bind(\n        null,\n        \"activityInstanceIdIn\"\n      );\n\n      $scope.uploadVariable = function(info) {\n        var promise = $q.defer();\n        $modal\n          .open({\n            resolve: {\n              basePath: function() {\n                return getBasePath(info.variable);\n              },\n              variable: function() {\n                return info.variable;\n              }\n            },\n            controller: uploadTemplate.controller,\n            template: uploadTemplate.template,\n            appendTo: angular.element('.angular-app')\n          })\n          .result.then(\n            function() {\n              // updated the variable, need to get the new data\n              // reject the promise anyway\n              promise.reject();\n\n              // but then update the filter to force re-get of variables\n              variableInstanceData.set(\"filter\", angular.copy($scope.filter));\n            },\n            function() {\n              // did not update the variable, reject the promise\n              promise.reject();\n            }\n          );\n\n        return promise.promise;\n      };\n\n      $scope.downloadVariable = function(info) {\n        return Uri.appUri(\n          \"engine://engine/:engine/variable-instance/\" +\n            info.variable.id +\n            \"/data\"\n        );\n      };\n\n      $scope.deleteVariable = function(info) {\n        var promise = $q.defer();\n\n        var callback = function(error) {\n          if (error) {\n            var errorMessage = { text: \"\", payload: {} };\n\n            if (\n              error.response.body &&\n              error.response.body.type === \"AuthorizationException\"\n            ) {\n              errorMessage.text = \"PLUGIN_VARIABLE_INSTANCES_MESSAGES_ERROR_3\";\n              errorMessage.payload = { message: error.message };\n            } else {\n              errorMessage.text = \"PLUGIN_VARIABLE_INSTANCES_MESSAGES_ERROR_0\";\n              errorMessage.payload = { name: info.variable.name };\n            }\n\n            Notifications.addError({\n              status: $translate.instant(\n                \"PLUGIN_VARIABLE_INSTANCES_STATUS_VARIABLE\"\n              ),\n              message: $translate.instant(\n                errorMessage.text,\n                errorMessage.payload\n              ),\n              exclusive: true,\n              duration: 5000\n            });\n            promise.reject();\n          } else {\n            Notifications.addMessage({\n              status: $translate.instant(\n                \"PLUGIN_VARIABLE_INSTANCES_STATUS_VARIABLE\"\n              ),\n              message: $translate.instant(\n                \"PLUGIN_VARIABLE_INSTANCES_MESSAGES_ADD_0\",\n                { name: info.variable.name }\n              ),\n              duration: 5000\n            });\n            promise.resolve(info.variable);\n          }\n        };\n\n        if (info.original.taskId) {\n          taskService.deleteVariable(\n            {\n              id: info.original.taskId,\n              varId: info.variable.name\n            },\n            callback\n          );\n        } else {\n          executionService.deleteVariable(\n            {\n              id: info.variable.executionId,\n              varId: info.variable.name\n            },\n            callback\n          );\n        }\n\n        return promise.promise;\n      };\n\n      $scope.editVariable = function(info) {\n        var promise = $q.defer();\n\n        $modal\n          .open({\n            template: inspectTemplate.template,\n\n            controller: inspectTemplate.controller,\n\n            windowClass: \"cam-widget-variable-dialog\",\n\n            resolve: {\n              basePath: function() {\n                return getBasePath(info.variable);\n              },\n              history: function() {\n                return false;\n              },\n              readonly: function() {\n                return false;\n              },\n              variable: function() {\n                return info.variable;\n              }\n            },\n            appendTo: angular.element('.angular-app')\n          })\n          .result.then(\n            function() {\n              // updated the variable, need to get the new data\n              // reject the promise anyway\n              promise.reject();\n\n              // but then update the filter to force re-get of variables\n              variableInstanceData.set(\"filter\", angular.copy($scope.filter));\n            },\n            function() {\n              // did not update the variable, reject the promise\n              promise.reject();\n            }\n          );\n\n        return promise.promise;\n      };\n\n      $scope.saveVariable = function(info) {\n        var promise = $q.defer();\n        var variable = info.variable;\n        var modifiedVariable = {};\n\n        var newValue = variable.value;\n        var newType = variable.type;\n\n        if (newType === \"Date\") {\n          newValue = fixDate(newValue);\n        }\n\n        var newVariable = { value: newValue, type: newType };\n        modifiedVariable[variable.name] = newVariable;\n\n        var callback = function(error) {\n          if (error) {\n            var errorMessage = { text: \"\", payload: {} };\n\n            if (\n              error.response.body &&\n              error.response.body.type === \"AuthorizationException\"\n            ) {\n              errorMessage.text = \"PLUGIN_VARIABLE_INSTANCES_MESSAGES_ERROR_2\";\n              errorMessage.payload = { message: error.message };\n            } else {\n              errorMessage.text = \"PLUGIN_VARIABLE_INSTANCES_MESSAGES_ERROR_1\";\n              errorMessage.payload = { name: variable.name };\n            }\n\n            Notifications.addError({\n              status: $translate.instant(\n                \"PLUGIN_VARIABLE_INSTANCES_STATUS_VARIABLE\"\n              ),\n              message: $translate.instant(\n                errorMessage.text,\n                errorMessage.payload\n              ),\n              exclusive: true,\n              duration: 5000\n            });\n            variableInstanceIdexceptionMessageMap[variable.id] = error.data;\n            promise.reject();\n          } else {\n            Notifications.addMessage({\n              status: $translate.instant(\n                \"PLUGIN_VARIABLE_INSTANCES_STATUS_VARIABLE\"\n              ),\n              message: $translate.instant(\n                \"PLUGIN_VARIABLE_INSTANCES_MESSAGES_ADD_1\",\n                { name: variable.name }\n              ),\n              duration: 5000\n            });\n\n            if (newVariable.type === \"Date\") {\n              newVariable.value = unfixDate(newVariable.value);\n            }\n\n            angular.extend(variable, newVariable);\n            promise.resolve(info.variable);\n          }\n        };\n\n        if (info.original.taskId) {\n          taskService.modifyVariables(\n            {\n              id: info.original.taskId,\n              modifications: modifiedVariable\n            },\n            callback\n          );\n        } else {\n          executionService.modifyVariables(\n            {\n              id: variable.executionId,\n              modifications: modifiedVariable\n            },\n            callback\n          );\n        }\n\n        return promise.promise;\n      };\n\n      function getBasePath(variable) {\n        return (\n          \"engine://engine/:engine/execution/\" +\n          variable.executionId +\n          \"/localVariables/\" +\n          variable.name\n        );\n      }\n\n      function updateView(\n        instanceIdToInstanceMap,\n        variableQuery,\n        pages,\n        sortObj\n      ) {\n        $scope.pagesObj = pages || $scope.pagesObj;\n        sortObj = sortObj || $scope.sortObj;\n\n        var page = $scope.pagesObj.current,\n          count = $scope.pagesObj.size,\n          firstResult = (page - 1) * count;\n\n        var defaultParams = {\n          processInstanceIdIn: [processInstance.id]\n        };\n\n        // Add default sorting param\n        if (sortObj) {\n          defaultParams.sorting = [sortObj];\n          saveLocal(sortObj);\n        }\n\n        var pagingParams = {\n          firstResult: firstResult,\n          maxResults: count,\n          deserializeValues: false\n        };\n        var countParams = angular.extend({}, defaultParams, variableQuery);\n        var params = angular.extend(\n          {},\n          pagingParams,\n          defaultParams,\n          variableQuery\n        );\n\n        $scope.variables = null;\n        $scope.loadingState = \"LOADING\";\n\n        variableInstanceIdexceptionMessageMap = {};\n        variableCopies = {};\n\n        params = angular.extend({}, params, pagingParams);\n\n        // get the 'count' of variables\n        return variableService\n          .count(countParams)\n          .then(function(response) {\n            $scope.total = response.count;\n            // get variables objects\n            return variableService\n              .instances(params)\n              .then(function(response) {\n                var data = response;\n\n                $scope.variables = data.map(function(item) {\n                  var instance =\n                    instanceIdToInstanceMap[item.activityInstanceId];\n                  item.instance = instance;\n                  variableCopies[item.id] = angular.copy(item);\n\n                  if (item.type === \"Date\") {\n                    item.value = unfixDate(item.value);\n                  }\n\n                  // prevents the list to throw an error when the activity instance is missing\n                  var activityInstanceLink = \"\";\n                  if (instance) {\n                    activityInstanceLink =\n                      '<a ng-href=\"#/process-instance/' +\n                      processInstance.id +\n                      \"/runtime\" +\n                      \"?detailsTab=variables-tab&\" +\n                      $scope.getSearchQueryForSearchType(instance.id) +\n                      '\" title=\"' +\n                      instance.id +\n                      '\">' +\n                      escapeHtml.escape(instance.name) +\n                      \"</a>\";\n                  }\n\n                  return {\n                    variable: {\n                      id: item.id,\n                      name: item.name,\n                      type: item.type,\n                      value: item.value,\n                      valueInfo: item.valueInfo,\n                      executionId: item.executionId\n                    },\n                    original: item,\n                    additions: {\n                      scope: {\n                        html: activityInstanceLink,\n                        scopeVariables: {\n                          processData: $scope.processData\n                        }\n                      }\n                    }\n                  };\n                });\n                $scope.loadingState = data.length ? \"LOADED\" : \"EMPTY\";\n                return $scope.total;\n              })\n              .catch(angular.noop);\n          })\n          .catch(angular.noop);\n      }\n\n      function saveLocal(sortObj) {\n        localConf.set(\"sortHistVarInstTab\", sortObj);\n      }\n\n      function loadLocal(defaultValue) {\n        return localConf.get(\"sortHistVarInstTab\", defaultValue);\n      }\n    }\n  ]);\n\n  var Configuration = function PluginConfiguration(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.processInstance.runtime.tab\", {\n      id: \"variables-tab\",\n      label: \"PLUGIN_VARIABLE_INSTANCES_LABEL\",\n      template: instancesTemplate,\n      controller: \"VariableInstancesController\",\n      priority: 20\n    });\n  };\n\n  Configuration.$inject = [\"ViewsProvider\"];\n  ngModule.config(Configuration);\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/variable-instances-tab.html -->\n<div cam-searchable-area\n     config=\"searchConfig\"\n     array-types=\"['activityInstanceIdIn']\"\n     variable-types=\"['variableValues']\"\n     on-search-change=\"onSearchChange(query, pages,sortObj)\"\n     loading-state=\"loadingState\"\n     text-empty=\"{{ 'PLUGIN_VARIABLE_NO_PROCESS_VARIABLES' | translate }}\"\n     blocked=\"!instanceIdToInstanceMap\"\n     storage-group=\"'VI'\">\n\n      <div cam-widget-variables-table\n           on-save=\"saveVariable\"\n           on-edit=\"editVariable\"\n           on-upload=\"uploadVariable\"\n           on-delete=\"deleteVariable\"\n           on-download=\"downloadVariable\"\n           on-sort-change=\"onSortChange(query, pages,sortObj)\"\n           default-sort = \"sortObj\"\n           cam-variables=\"variables\"\n           cam-editable=\"['type', 'value']\"\n           cam-headers=\"headColumns\">\n      </div>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/variable-instances-tab.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nvar template = require(\"./variable-inspect-dialog.html.js\");\n\nvar Controller = [\n  \"$http\",\n  \"$uibModalInstance\",\n  \"$scope\",\n  \"Notifications\",\n  \"Uri\",\n  \"basePath\",\n  \"history\",\n  \"readonly\",\n  \"variable\",\n  \"$translate\",\n  function(\n    $http,\n    $modalInstance,\n    $scope,\n    Notifications,\n    Uri,\n    basePath,\n    history,\n    readonly,\n    variable,\n    $translate\n  ) {\n    var BEFORE_CHANGE = \"beforeChange\",\n      CONFIRM_CHANGE = \"confirmChange\",\n      CHANGE_SUCCESS = \"changeSuccess\";\n\n    /**\n     * Check if the json/xml field is valid\n     */\n    function isValidJsonXml() {\n      return angular.element('[name=\"jsonXmlForm\"]').scope().jsonXmlForm.$valid;\n    }\n\n    $scope.selectedTab = \"serialized\";\n    $scope.status = BEFORE_CHANGE;\n\n    $scope.variable = angular.copy(variable);\n    $scope.isJsonOrXml =\n      variable.type &&\n      (variable.type.toLowerCase() === \"json\" ||\n        variable.type.toLowerCase() === \"xml\");\n    $scope.readonly = readonly;\n\n    $scope.currentValue = angular.copy(variable.value);\n\n    var initialDeserializedValue;\n\n    $scope.isChangeDisabled = function() {\n      return (\n        ($scope.isJsonOrXml\n          ? !isValidJsonXml()\n          : $scope.status !== \"beforeChange\") || !hasChanged()\n      );\n    };\n\n    $scope.$on(\"$routeChangeStart\", function() {\n      $modalInstance.dismiss();\n    });\n\n    $scope.selectTab = function(tab) {\n      $scope.selectedTab = tab;\n      // reset changed state\n      $scope.currentValue = angular.copy($scope.variable.value);\n      $scope.currentDeserializedValue = angular.copy(initialDeserializedValue);\n      $scope.status = BEFORE_CHANGE;\n    };\n\n    $scope.typeIn = function(formScope, type) {\n      if (isSerializedTab(type)) {\n        $scope.currentValue = formScope.currentValue;\n      } else {\n        $scope.currentDeserializedValue = formScope.currentDeserializedValue;\n      }\n\n      $scope.status = hasChanged(type) ? CONFIRM_CHANGE : BEFORE_CHANGE;\n    };\n\n    var hasChanged = ($scope.hasChanged = function(type) {\n      if ($scope.isJsonOrXml || isSerializedTab(type)) {\n        return $scope.variable.value !== $scope.currentValue;\n      } else {\n        return initialDeserializedValue !== $scope.currentDeserializedValue;\n      }\n    });\n\n    $scope.change = function() {\n      var updateDeserialized = !isSerializedTab($scope.selectedTab);\n      var newValue = updateDeserialized\n        ? $scope.currentDeserializedValue\n        : $scope.currentValue;\n      if ($scope.isJsonOrXml) {\n        newValue = $scope.variable.value;\n      }\n\n      if (\n        variable.valueInfo.serializationDataFormat === \"application/json\" ||\n        updateDeserialized\n      ) {\n        try {\n          // check whether the user provided valid JSON.\n          JSON.parse(newValue);\n        } catch (e) {\n          $scope.status = BEFORE_CHANGE;\n          Notifications.addError({\n            status: $translate.instant(\"VARIABLE_INSPECT_VARIABLE\"),\n            message: $translate.instant(\"VARIABLE_INSPECT_MESSAGE_ERR_1\", {\n              exception: e.message\n            }),\n            exclusive: true\n          });\n          return;\n        }\n      }\n\n      !updateDeserialized\n        ? updateValue($scope.variable, newValue)\n        : updateDeserializedValue($scope.variable, newValue);\n    };\n\n    // load deserialized value:\n    if (!$scope.isJsonOrXml) {\n      loadDeserializedValue();\n    }\n\n    function isSerializedTab(tab) {\n      return tab === \"serialized\";\n    }\n\n    function updateValue(variable, newValue) {\n      var variableUpdate = {\n        type: variable.type,\n        value: newValue,\n        valueInfo: variable.valueInfo\n      };\n\n      if (!$scope.isJsonOrXml) {\n        variableUpdate.valueInfo = variable.valueInfo;\n      }\n\n      $http({\n        method: \"PUT\",\n        url: Uri.appUri(basePath),\n        data: variableUpdate\n      })\n        .then(function() {\n          $scope.status = CHANGE_SUCCESS;\n          updateVariable();\n          addMessage(variable);\n        })\n        .catch(function() {\n          $scope.status = BEFORE_CHANGE;\n          addError(variable);\n        });\n    }\n\n    function updateDeserializedValue(variable, newValue) {\n      // update deserialized\n      // create HTML 5 form upload\n      var fd = new FormData();\n      fd.append(\"data\", new Blob([newValue], { type: \"application/json\" }));\n      fd.append(\"type\", variable.valueInfo.objectTypeName);\n\n      $http\n        .post(Uri.appUri(basePath + \"/data\"), fd, {\n          transformRequest: angular.identity,\n          headers: { \"Content-Type\": undefined }\n        })\n        .then(function() {\n          $scope.status = CHANGE_SUCCESS;\n          updateVariable();\n          addMessage(variable);\n        });\n    }\n\n    function updateVariable() {\n      $http({\n        method: \"GET\",\n        url: Uri.appUri(basePath + \"?deserializeValue=false\")\n      })\n        .then(function(res) {\n          variable.value = res.data.value;\n        })\n        .catch(angular.noop);\n    }\n\n    function loadDeserializedValue() {\n      $http({\n        method: \"GET\",\n        url: Uri.appUri(\n          \"engine://engine/:engine/\" +\n            (history ? \"history/\" : \"\") +\n            \"variable-instance/\" +\n            variable.id\n        )\n      })\n        .then(function(data) {\n          data = data.data;\n          if (!data.errorMessage) {\n            initialDeserializedValue = JSON.stringify(data.value);\n            $scope.currentDeserializedValue = angular.copy(\n              initialDeserializedValue\n            );\n          } else {\n            $scope.deserializationError = data.errorMessage;\n          }\n        })\n        .catch(function(err) {\n          $scope.deserializationError = err.message;\n        });\n    }\n\n    function addError(variable) {\n      Notifications.addError({\n        status: $translate.instant(\"VARIABLE_INSPECT_VARIABLE\"),\n        message: $translate.instant(\"VARIABLE_INSPECT_MESSAGE_ERR_2\", {\n          name: variable.name\n        }),\n        exclusive: true\n      });\n    }\n\n    function addMessage(variable) {\n      Notifications.addMessage({\n        status: $translate.instant(\"VARIABLE_INSPECT_VARIABLE\"),\n        message: $translate.instant(\"VARIABLE_INSPECT_MESSAGE_ADD\", {\n          name: variable.name\n        })\n      });\n    }\n  }\n];\n\nmodule.exports = {\n  template: template,\n  controller: Controller\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-inspect-modal.html -->\n<div class=\"modal-header\">\n  <h3 translate=\"VARIABLE_INSPECT_MODAL_TITLE\"\n      translate-values=\"{ name: variable.name }\"></h3>\n</div>\n\n\n<div class=\"modal-body variable-inspect\">\n\n  <div notifications-panel></div>\n\n  <div ng-show=\"status === 'beforeChange' || status === 'confirmChange'\">\n\n    <div ng-if=\"!isJsonOrXml\" class=\"form-group\">\n      <label>{{ 'VARIABLE_INSPECT_OBJECT_TYPE_NAME' | translate }}</label>\n      <code class=\"form-control-static\"\n            cam-widget-clipboard=\"variable.valueInfo.objectTypeName\">{{ variable.valueInfo.objectTypeName }}</code>\n    </div>\n\n    <div ng-if=\"!isJsonOrXml\" class=\"form-group\">\n      <label>{{ 'VARIABLE_INSPECT_SERIALIZATION_DATA' | translate }}</label>\n      <code class=\"form-control-static\"\n            cam-widget-clipboard=\"variable.valueInfo.serializationDataFormat\">{{ variable.valueInfo.serializationDataFormat }}</code>\n    </div>\n\n    <div ng-if=\"!isJsonOrXml\" class=\"form-group\">\n\n      <ul class=\"nav nav-tabs\">\n        <li ng-class=\"{ active: selectedTab === 'serialized' }\">\n          <a href ng-click=\"selectTab('serialized')\">{{ 'VARIABLE_INSPECT_SERIALIZED' | translate }}</a>\n        </li>\n        <li ng-class=\"{ active: selectedTab === 'deserialized' }\">\n          <a href ng-click=\"selectTab('deserialized')\">{{ 'VARIABLE_INSPECT_DESERIALIZED' | translate }}</a>\n        </li>\n      </ul>\n\n      <textarea ng-if=\"selectedTab === 'serialized'\"\n                name=\"currentValue\"\n                ng-readonly=\"readonly\"\n                ng-model=\"currentValue\"\n                ng-keyup=\"typeIn(this, 'serialized')\"\n                rows=\"10\"\n                class=\"form-control\">\n      </textarea>\n\n      <div ng-if=\"selectedTab === 'deserialized'\">\n        <div uib-alert class=\"alert alert-danger\"\n             ng-show=\"deserializationError\">\n          <strong>{{ 'VARIABLE_INSPECT_DESERIALIZED_ERROR' | translate }}</strong>\n          {{deserializationError}}\n        </div>\n\n        <div ng-show=\"!deserializationError\">\n          <textarea name=\"currentDeserializedValue\"\n                    ng-readonly=\"readonly\"\n                    ng-model=\"currentDeserializedValue\"\n                    ng-keyup=\"typeIn(this, 'deserialized')\"\n                    rows=\"10\"\n                    class=\"form-control\">\n          </textarea>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-if=\"isJsonOrXml\"\n         class=\"form-group\">\n        <form name=\"jsonXmlForm\">\n          <label for=\"value\"\n                 cam-widget-clipboard=\"variable.value\"\n                 no-tooltip\n                 ng-class=\"{hovered: hovered === 'var-value'}\">\n            {{ 'CAM_WIDGET_STRING_DIALOG_LABEL_VALUE' | translate }}\n          </label>\n          <div variable=\"variable\"\n               readonly=\"readonly\"\n               form=\"jsonXmlForm\">\n          </div>\n        </form>\n\n    </div>\n\n  </div>\n\n  <div uib-alert class=\"alert alert-warning\"\n       ng-show=\"status === 'confirmChange'\">\n    <span class=\"glyphicon glyphicon-alert\"></span>\n    <strong>{{ 'VARIABLE_INSPECT_WARNING' | translate }}</strong>\n    {{ 'VARIABLE_INSPECT_WARNING_MESSAGE' | translate }}\n  </div>\n\n</div>\n\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"$dismiss()\"\n          ng-hide=\"status === 'changeSuccess'\">\n    {{ 'VARIABLE_INSPECT_CLOSE' | translate }}\n  </button>\n\n  <![if gt IE 9]>\n    <button class=\"btn btn-primary\"\n            ng-click=\"$close()\"\n            ng-show=\"!readlonly && status === 'changeSuccess'\">\n      {{ 'VARIABLE_INSPECT_OK' | translate }}\n    </button>\n\n    <button class=\"btn btn-primary\"\n            ng-click=\"change()\"\n            ng-disabled=\"isChangeDisabled()\"\n            ng-hide=\"readonly || status !== 'beforeChange'\">\n      {{ 'VARIABLE_INSPECT_CHANGE' | translate }}\n    </button>\n\n    <button class=\"btn btn-warning\"\n            ng-click=\"change()\"\n            ng-hide=\"readonly || status !== 'confirmChange'\">\n      {{ 'VARIABLE_INSPECT_CONFIRM_CHANGE' | translate }}\n    </button>\n  <![endif]>\n</div>\n<!-- / CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-inspect-modal.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nvar template = require(\"./variable-upload-dialog.html.js\");\n\nvar Controller = [\n  \"$uibModalInstance\",\n  \"$scope\",\n  \"Notifications\",\n  \"Uri\",\n  \"basePath\",\n  \"variable\",\n  \"$translate\",\n  \"$cookies\",\n  \"$http\",\n  function(\n    $modalInstance,\n    $scope,\n    Notifications,\n    Uri,\n    basePath,\n    variable,\n    $translate,\n    $cookies,\n    $http\n  ) {\n    var BEFORE_UPLOAD = \"beforeUpload\",\n      PERFORM_UPLOAD = \"performUpload\",\n      UPLOAD_SUCCESS = \"uploadSuccess\",\n      UPLOAD_FAILED = \"uploadFailed\";\n\n    $scope.status = BEFORE_UPLOAD;\n\n    $scope.variable = variable;\n\n    var file;\n\n    $scope.$on(\"$routeChangeStart\", function() {\n      $modalInstance.dismiss();\n    });\n\n    $scope.upload = function() {\n      // progress listeners\n\n      function uploadProgress(evt) {\n        $scope.status = PERFORM_UPLOAD;\n        if (evt.lengthComputable) {\n          $scope.progress = Math.round((evt.loaded * 100) / evt.total);\n        }\n      }\n\n      function uploadComplete(xhr) {\n        if (xhr.status === 204) {\n          $scope.status = UPLOAD_SUCCESS;\n          Notifications.addMessage({\n            status: $translate.instant(\"VARIABLE_UPLOAD_FILE\"),\n            message: $translate.instant(\"VARIABLE_UPLOAD_MESSAGE_ADD\")\n          });\n        } else {\n          $scope.status = UPLOAD_FAILED;\n          Notifications.addError({\n            status: $translate.instant(\"VARIABLE_UPLOAD_FILE\"),\n            message: $translate.instant(\"VARIABLE_UPLOAD_MESSAGE_ERR\"),\n            exclusive: true\n          });\n        }\n      }\n\n      function uploadFailed() {\n        $scope.status = UPLOAD_FAILED;\n        Notifications.addError({\n          status: $translate.instant(\"VARIABLE_UPLOAD_FILE\"),\n          message: $translate.instant(\"VARIABLE_UPLOAD_MESSAGE_ERR\"),\n          exclusive: true\n        });\n      }\n\n      // perform HTML 5 file opload (not supported by IE 9)\n      var fd = new FormData();\n      fd.append(\"data\", file);\n      fd.append(\"valueType\", variable.type);\n\n      $http\n        .post(Uri.appUri(basePath + \"/data\"), fd, {\n          transformRequest: angular.identity,\n          headers: { \"Content-Type\": undefined },\n          uploadEventHandlers: {\n            progress: uploadProgress\n          }\n        })\n        .then(uploadComplete)\n        .catch(uploadFailed);\n    };\n\n    $scope.setFile = function(element) {\n      file = element.files[0];\n    };\n  }\n];\n\nmodule.exports = {\n  template: template,\n  controller: Controller\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-upload-modal.html -->\n<div class=\"modal-header\">\n  <h3>{{ 'VARIABLE_UPLOAD_MODAL_TITLE' | translate }}</h3>\n</div>\n\n<!--[if lt IE 10]>\n\nThis feature is unsupported in your Browser.\n\n<![endif]-->\n\n<![if gt IE 9]>\n\n<div class=\"modal-body variable-upload\">\n\n  <div notifications-panel></div>\n\n  <div ng-show=\"status === 'beforeUpload'\">\n\n    <p>{{ 'VARIABLE_UPLOAD_SELECT_FILE' | translate }}:</p>\n\n    <p>\n      <input name=\"data\"\n             type=\"file\"\n             size=\"50\"\n             maxlength=\"100000\"\n             accept=\"*/*\"\n             onchange=\"angular.element(this).scope().setFile(this)\" />\n    </p>\n\n  </div>\n\n  <div ng-show=\"status === 'performUpload'\"\n       translate=\"VARIABLE_UPLOAD_PROGRESS\"\n       translate-values=\"{progress: progress}\">\n  </div>\n\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"$dismiss()\"\n          ng-hide=\"status === 'uploadSuccess' || status === 'uploadFailed'\">\n    {{ 'VARIABLE_UPLOAD_CLOSE' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"$close()\"\n          ng-show=\"status === 'uploadSuccess' || status === 'uploadFailed'\">\n    {{ 'VARIABLE_UPLOAD_OK' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"upload()\"\n          ng-disabled=\"status !== 'beforeUpload'\"\n          ng-hide=\"status === 'uploadSuccess' || status === 'uploadFailed'\">\n    {{ 'VARIABLE_UPLOAD_UPLOAD' | translate }}\n  </button>\n</div>\n\n<![endif]>\n\n<!-- / CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-upload-modal.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar incidentsTemplate = require(\"./incidents-tab.html.js\");\n\nvar Configuration = function PluginConfiguration(ViewsProvider) {\n  ViewsProvider.registerDefaultView(\"cockpit.processInstance.runtime.tab\", {\n    id: \"incidents-tab\",\n    label: \"PLUGIN_INCIDENTS_LABEL\",\n    template: incidentsTemplate,\n    priority: 15\n  });\n};\n\nConfiguration.$inject = [\"ViewsProvider\"];\n\nmodule.exports = Configuration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<incidents-tab\n  process-data=\"processData\"\n  process-instance=\"processInstance\" />\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar searchWidgetUtils = require(\"../../../../../common/scripts/util/search-widget-utils\");\nvar angular = require(\"angular\");\n\nvar template = require(\"./called-process-instance-table.html.js\");\n\nmodule.exports = function(ngModule) {\n  ngModule.controller(\"CalledProcessInstanceController\", [\n    \"$scope\",\n    \"PluginProcessInstanceResource\",\n    \"$translate\",\n    \"localConf\",\n    function($scope, PluginProcessInstanceResource, $translate, localConf) {\n      // input: processInstance, processData\n\n      var calledProcessInstanceData = $scope.processData.newChild($scope);\n\n      // var processInstance = $scope.processInstance;\n\n      // prettier-ignore\n      $scope.headColumns = [\n        { class: 'state', request: 'incidents', sortable: true, content: 'State' },\n        { class: 'called-process-instance', request: 'id', sortable: true, content: $translate.instant('PLUGIN_CALLED_PROCESS_PROCESS_INSTANCE')},\n        { class: 'process-definition', request: 'processDefinitionLabel', sortable: true, content: $translate.instant('PLUGIN_CALLED_PROCESS_PROCESS_DEFINITION')},\n        { class: 'activity', request: 'instance.name', sortable: true, content: $translate.instant('PLUGIN_CALLED_PROCESS_ACTIVITY')}\n      ];\n\n      // Default sorting\n      $scope.sortObj = loadLocal({\n        sortBy: \"processDefinitionLabel\",\n        sortOrder: \"asc\",\n        sortReverse: false\n      });\n\n      $scope.onSortChange = function(sortObj) {\n        sortObj = sortObj || $scope.sortObj;\n        // sortReverse required by anqular-sorting;\n        sortObj.sortReverse = sortObj.sortOrder !== \"asc\";\n        saveLocal(sortObj);\n        $scope.sortObj = sortObj;\n      };\n\n      function saveLocal(sortObj) {\n        localConf.set(\"sortCalledProcessInstTab\", sortObj);\n      }\n      function loadLocal(defaultValue) {\n        return localConf.get(\"sortCalledProcessInstTab\", defaultValue);\n      }\n\n      var filter = null;\n\n      $scope.getSearchQueryForSearchType = searchWidgetUtils.getSearchQueryForSearchType.bind(\n        null,\n        \"activityInstanceIdIn\"\n      );\n\n      calledProcessInstanceData.observe(\n        [\"filter\", \"instanceIdToInstanceMap\"],\n        function(newFilter, instanceIdToInstanceMap) {\n          updateView(newFilter, instanceIdToInstanceMap);\n        }\n      );\n\n      function updateView(newFilter, instanceIdToInstanceMap) {\n        filter = angular.copy(newFilter);\n\n        delete filter.page;\n        delete filter.activityIds;\n        delete filter.scrollToBpmnElement;\n\n        // fix missmatch -> activityInstanceIds -> activityInstanceIdIn\n        filter.activityInstanceIdIn = filter.activityInstanceIds;\n        delete filter.activityInstanceIds;\n\n        $scope.calledProcessInstances = null;\n\n        $scope.loadingState = \"LOADING\";\n        PluginProcessInstanceResource.processInstances(\n          {\n            id: $scope.processInstance.id\n          },\n          filter\n        )\n          .$promise.then(function(response) {\n            // angular.forEach(response.data, function (calledInstance) {\n            angular.forEach(response, function(calledInstance) {\n              var instance =\n                instanceIdToInstanceMap[calledInstance.callActivityInstanceId];\n              calledInstance.instance = instance;\n              calledInstance.processDefinitionLabel =\n                calledInstance.processDefinitionName ||\n                calledInstance.processDefinitionKey;\n            });\n\n            $scope.loadingState = response.length ? \"LOADED\" : \"EMPTY\";\n            $scope.calledProcessInstances = response;\n          })\n          .catch(angular.noop);\n      }\n    }\n  ]);\n\n  var Configuration = function PluginConfiguration(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.processInstance.runtime.tab\", {\n      id: \"called-process-instances-tab\",\n      label: \"PLUGIN_CALLED_PROCESS_INSTANCE_LABEL\",\n      template: template,\n      controller: \"CalledProcessInstanceController\",\n      priority: 10\n    });\n  };\n\n  Configuration.$inject = [\"ViewsProvider\"];\n\n  ngModule.config(Configuration);\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/called-process-instance-table.html -->\n<div cam-widget-loader\n     loading-state=\"{{ loadingState }}\"\n     text-empty=\"{{ 'PLUGIN_CALLED_PROCESS_NO_PROCESS_INSTANCES' | translate }}\">\n  <table class=\"called-process-instance cam-table\">\n\n    <thead sortable-table-head\n           head-columns=\"headColumns\"\n           on-sort-change=\"onSortChange(sortObj)\"\n           default-sort=\"sortObj\">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat=\"calledProcessInstance in calledProcessInstances | orderBy:sortObj.sortBy:sortObj.sortReverse\">\n        <td class=\"state\">\n          <div ng-if=\"calledProcessInstance.incidents.length > -1\" state-circle incidents=\"calledProcessInstance.incidents\"></div>\n          <div ng-if=\"calledProcessInstance.incidents == undefined\">\n            <span class=\"glyphicon glyphicon-refresh animate-spin\"></span>\n          </div>\n        </td>\n        <td class=\"called-process-instance\"\n            cam-widget-clipboard=\"calledProcessInstance.id\">\n          <a href=\"#/process-instance/{{ calledProcessInstance.id }}/runtime\">\n            {{ calledProcessInstance.id }}\n          </a>\n        </td>\n\n        <td class=\"process-definition\"\n            cam-widget-clipboard=\"calledProcessInstance.processDefinitionId\">\n          <a href=\"#/process-definition/{{ calledProcessInstance.processDefinitionId }}/runtime?parentProcessDefinitionId={{ processInstance.definitionId }}\">\n            {{ calledProcessInstance.processDefinitionLabel}}\n          </a>\n        </td>\n\n        <td class=\"activity\">\n          <span ng-if=\"!!calledProcessInstance.instance\"\n                cam-widget-clipboard=\"calledProcessInstance.instance.id\">\n            <a ng-href=\"#/process-instance/{{ processInstance.id }}/runtime?tab=called-process-instances-tab&{{ getSearchQueryForSearchType(calledProcessInstance.instance.id) }}\">\n              {{ calledProcessInstance.instance.name }}\n            </a>\n          </span>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/called-process-instance-table.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar searchWidgetUtils = require(\"../../../../../common/scripts/util/search-widget-utils\");\nvar angular = require(\"angular\");\n\nvar identityLinksTemplate = require(\"./identity-links-modal.html.js\");\nvar userTasksTemplate = require(\"./user-tasks-table.html.js\");\n\nmodule.exports = function(ngModule) {\n  /**\n     * @name userTaskTable\n     * @memberof cam.cockpit.plugin.base.views\n     * @description ---\n     * @example\n        TODO\n     */\n\n  /**\n   * Map an array with a callback - similar to {@link http://underscorejs.org/#map|_.map()}\n   *\n   * @param {array} array   - the array on which iteration has to be performed\n   * @param {function} cb   - the function returning the new value for each array value\n   * @returns {array}       - a new array with the values produced\n   */\n  function map(array, cb) {\n    var newArray = [];\n    angular.forEach(array, function(val, key) {\n      newArray[key] = cb(val, key);\n    });\n    return newArray;\n  }\n\n  /**\n   * Removes \"empty\" values of an array - {@link http://underscorejs.org/#compact|_.compact()}\n   *\n   * @param {array} array   - the original array\n   * @returns {array}       - a new array with the values produced\n   */\n  function compact(array) {\n    var newArray = [];\n    angular.forEach(array, function(val) {\n      if (val) {\n        newArray.push(val);\n      }\n    });\n    return newArray;\n  }\n\n  /**\n   * Ensure a function\n   *\n   * @param {?function} func - the original function\n   * @returns {function}     - a function\n   */\n  function ensureCallback(func) {\n    return angular.isFunction(func) ? func : angular.noop;\n  }\n\n  ngModule.controller(\"UserTaskController\", [\n    \"$scope\",\n    \"search\",\n    \"camAPI\",\n    \"TaskResource\",\n    \"Notifications\",\n    \"$uibModal\",\n    \"$translate\",\n    \"localConf\",\n    \"Uri\",\n    function(\n      $scope,\n      search,\n      camAPI,\n      TaskResource,\n      Notifications,\n      $modal,\n      $translate,\n      localConf,\n      Uri\n    ) {\n      // input: processInstance, processData\n\n      var userTaskData = $scope.processData.newChild($scope),\n        processInstance = $scope.processInstance,\n        taskIdIdToExceptionMessageMap,\n        taskCopies;\n\n      var DEFAULT_PAGES = { size: 50, total: 0, current: 1 };\n\n      // reset Page when changing Tabs\n      $scope.$on(\"$destroy\", function() {\n        search(\"page\", null);\n      });\n\n      var pages = ($scope.pages = angular.copy(DEFAULT_PAGES));\n\n      var filter = null;\n      var executionIdToInstanceMap = null;\n\n      var Task = camAPI.resource(\"task\");\n\n      var sorting = ($scope.sorting = loadLocal({\n        sortBy: \"created\",\n        sortOrder: \"desc\"\n      }));\n\n      $scope.getSearchQueryForSearchType = searchWidgetUtils.getSearchQueryForSearchType.bind(\n        null,\n        \"activityInstanceIdIn\"\n      );\n\n      // prettier-ignore\n      $scope.headColumns = [\n        { class: 'activity uuid', request: 'nameCaseInsensitive', sortable: true, content: $translate.instant('PLUGIN_USER_TASKS_ACTIVITY') },\n        { class: 'assignee', request: 'assignee', sortable: true, content: $translate.instant('PLUGIN_USER_TASKS_ASSIGNEE') },\n        { class: 'owner', request: '', sortable: false, content: $translate.instant('PLUGIN_USER_TASKS_OWNER') },\n        { class: 'created', request: 'created', sortable: true, content: $translate.instant('PLUGIN_USER_TASKS_CREATED_DATE') },\n        { class: 'due', request: 'dueDate', sortable: true, content: $translate.instant('PLUGIN_USER_TASKS_DUE_DATE') },\n        { class: 'follow-up', request: 'followUpDate', sortable: true, content: $translate.instant('PLUGIN_USER_TASKS_FOLLOW_UP_DATE') },\n        { class: 'priority', request: 'priority', sortable: true, content: $translate.instant('PLUGIN_USER_TASKS_PRIORITY') },\n        { class: 'delegation-state', request: '', sortable: false, content: $translate.instant('PLUGIN_USER_TASKS_DELEGATION_STATE') },\n        { class: 'task-id uuid', request: 'id', sortable: true, content: $translate.instant('PLUGIN_USER_TASKS_TASK_ID') },\n        { class: 'action', request: '', sortable: false, content: $translate.instant('PLUGIN_USER_TASKS_ACTION') }\n      ];\n\n      $scope.$watch(\"pages.current\", function(newValue, oldValue) {\n        if (newValue === oldValue) {\n          return;\n        }\n\n        search(\"page\", !newValue || newValue === 1 ? null : newValue);\n      });\n\n      userTaskData.observe([\"filter\", \"executionIdToInstanceMap\"], function(\n        newFilter,\n        newExecutionIdToInstanceMap\n      ) {\n        pages.current = newFilter.page || 1;\n        executionIdToInstanceMap = newExecutionIdToInstanceMap;\n\n        updateView(newFilter, newExecutionIdToInstanceMap, sorting);\n      });\n\n      function loadLocal(defaultValue) {\n        return localConf.get(\"sortPIUserTaskTab\", defaultValue);\n      }\n\n      function saveLocal(sorting) {\n        localConf.set(\"sortPIUserTaskTab\", sorting);\n      }\n\n      function updateView(newFilter, executionIdToInstanceMap, sorting) {\n        filter = angular.copy(newFilter);\n\n        delete filter.page;\n        delete filter.activityIds;\n        delete filter.scrollToBpmnElement;\n\n        var page = pages.current,\n          count = pages.size,\n          firstResult = (page - 1) * count;\n\n        var defaultParams = {\n          processInstanceId: processInstance.id,\n          processDefinitionId: processInstance.definitionId,\n          sorting: [\n            {\n              sortBy: sorting.sortBy,\n              sortOrder: sorting.sortOrder\n            }\n          ]\n        };\n\n        var pagingParams = {\n          firstResult: firstResult,\n          maxResults: count\n        };\n\n        var params = angular.extend({}, filter, defaultParams);\n\n        // fix missmatch -> activityInstanceIds -> activityInstanceIdIn\n        params.activityInstanceIdIn = params.activityInstanceIds;\n        delete params.activityInstanceIds;\n\n        $scope.userTasks = null;\n        $scope.loadingState = \"LOADING\";\n\n        taskIdIdToExceptionMessageMap = {};\n        taskCopies = {};\n\n        TaskResource.count(params)\n          .$promise.then(function(response) {\n            pages.total = response.count;\n          })\n          .catch(angular.noop);\n\n        TaskResource.query(pagingParams, params)\n          .$promise.then(function(response) {\n            for (var i = 0, task; (task = response[i]); i++) {\n              task.instance = executionIdToInstanceMap[task.executionId];\n              taskCopies[task.id] = angular.copy(task);\n            }\n\n            $scope.userTasks = response;\n            $scope.loadingState = response.length ? \"LOADED\" : \"EMPTY\";\n          })\n          .catch(angular.noop);\n      }\n\n      $scope.onSortChange = function(_sorting) {\n        sorting = _sorting;\n        saveLocal(sorting);\n        updateView(filter, executionIdToInstanceMap, sorting);\n      };\n\n      $scope.getHref = function(userTask) {\n        if (userTask.instance) {\n          return (\n            \"#/process-instance/\" +\n            processInstance.id +\n            \"/runtime?tab=user-tasks-tab&\" +\n            $scope.getSearchQueryForSearchType(userTask.instance.id)\n          );\n        }\n\n        return \"\";\n      };\n\n      $scope.getTasklistHref = function(userTask) {\n        return Uri.appUri(\"tasklistbase://:engine/#/?task=\" + userTask.id);\n      };\n\n      $scope.submitAssigneeChange = function(editForm, cb) {\n        cb = ensureCallback(cb);\n\n        var userTask = editForm.context;\n        var copy = taskCopies[userTask.id];\n        var defaultParams = { id: userTask.id };\n        var params = { userId: editForm.value || null };\n\n        TaskResource.setAssignee(defaultParams, params).$promise.then(\n          // success\n          function(response) {\n            var assignee = (copy.assignee = userTask.assignee =\n              response.userId);\n\n            var message;\n            if (assignee) {\n              message = $translate.instant(\"PLUGIN_USER_TASKS_MESSAGE_1\", {\n                name: userTask.instance.name,\n                assignee: copy.assignee\n              });\n            } else {\n              message = $translate.instant(\"PLUGIN_USER_TASKS_MESSAGE_2\", {\n                name: userTask.instance.name\n              });\n            }\n\n            Notifications.addMessage({\n              status: $translate.instant(\"PLUGIN_USER_TASKS_STATUS_ASSIGNEE\"),\n              message: message,\n              duration: 5000\n            });\n\n            cb();\n          },\n\n          // error\n          function(error) {\n            var message;\n            if (userTask.assignee) {\n              message = $translate.instant(\"PLUGIN_USER_TASKS_MESSAGE_3\", {\n                name: userTask.instance.name,\n                assignee: userTask.assignee,\n                error: error.data.message\n              });\n            } else {\n              message = $translate.instant(\"PLUGIN_USER_TASKS_MESSAGE_4\", {\n                name: userTask.instance.name,\n                error: error.data.message\n              });\n            }\n\n            var err = {\n              status: $translate.instant(\"PLUGIN_USER_TASKS_STATUS_ASSIGNEE\"),\n              message: message,\n              exclusive: true\n            };\n\n            userTask.assignee = copy.assignee;\n\n            Notifications.addError(err);\n            taskIdIdToExceptionMessageMap[userTask.id] = error.data;\n            cb(err);\n          }\n        );\n      };\n\n      $scope.openDialog = function(userTask, decorator) {\n        // 1. load the identityLinks\n        Task.identityLinks(userTask.id, function(err, response) {\n          // 2. filter the response.data to exclude links\n          var identityLinks = compact(\n            map(response, function(item) {\n              var ok =\n                item[decorator.key] &&\n                item.type !== \"assignee\" &&\n                item.type !== \"owner\";\n              return ok ? item : null;\n            })\n          );\n\n          // 3. open a dialog\n          $modal\n            .open({\n              resolve: {\n                userTask: function() {\n                  return userTask;\n                },\n                identityLinks: function() {\n                  return identityLinks;\n                },\n                decorator: function() {\n                  return decorator;\n                }\n              },\n              controller: \"IdentityLinksController\",\n              template: identityLinksTemplate,\n              windowClass: \"identity-link-modal\",\n              appendTo: angular.element('.angular-app')\n            })\n            .result.catch(angular.noop);\n        });\n      };\n\n      $scope.changeGroupIdentityLinks = function() {\n        var userTask = this.userTask;\n\n        $scope.openDialog(userTask, {\n          title: $translate.instant(\"PLUGIN_USER_TASKS_MANAGE_GROUPS\"),\n          table: {\n            label: $translate.instant(\"PLUGIN_USER_TASKS_CURRENT_GROUPS\"),\n            id: $translate.instant(\"PLUGIN_USER_TASKS_GROUP_ID\")\n          },\n          add: {\n            label: $translate.instant(\"PLUGIN_USER_TASKS_ADD_GROUP\")\n          },\n          notifications: {\n            remove: $translate.instant(\n              \"PLUGIN_USER_TASKS_NOTIFICATION_REMOVE_GROUP\"\n            ),\n            add: $translate.instant(\"PLUGIN_USER_TASKS_NOTIFICATION_ADD_GROUP\")\n          },\n          key: \"groupId\"\n        });\n      };\n\n      $scope.changeUserIdentityLinks = function() {\n        var userTask = this.userTask;\n\n        $scope.openDialog(userTask, {\n          title: $translate.instant(\"PLUGIN_USER_TASKS_MANAGE_USERS\"),\n          table: {\n            label: $translate.instant(\"PLUGIN_USER_TASKS_CURRENT_USERS\"),\n            id: $translate.instant(\"PLUGIN_USER_TASKS_USER_ID\")\n          },\n          add: {\n            label: $translate.instant(\"PLUGIN_USER_TASKS_ADD_USER\")\n          },\n          notifications: {\n            remove: $translate.instant(\n              \"PLUGIN_USER_TASKS_NOTIFICATION_REMOVE_USER\"\n            ),\n            add: $translate.instant(\"PLUGIN_USER_TASKS_NOTIFICATION_ADD_USER\")\n          },\n          key: \"userId\"\n        });\n      };\n\n      $scope.getExceptionForUserTask = function(userTask) {\n        return taskIdIdToExceptionMessageMap[userTask.id];\n      };\n\n      // translate\n      $scope.translate = function(token, object) {\n        return $translate.instant(token, object);\n      };\n    }\n  ]);\n\n  ngModule.controller(\"IdentityLinksController\", [\n    \"$uibModalInstance\",\n    \"camAPI\",\n    \"$scope\",\n    \"Notifications\",\n    \"userTask\",\n    \"identityLinks\",\n    \"decorator\",\n    function(\n      $modalInstance,\n      camAPI,\n      $scope,\n      Notifications,\n      userTask,\n      identityLinks,\n      decorator\n    ) {\n      var Task = camAPI.resource(\"task\");\n\n      $scope.identityLinks = identityLinks;\n      $scope.decorator = decorator;\n\n      $scope.title = decorator.title;\n      var key = ($scope.key = decorator.key);\n\n      $scope.$on(\"$routeChangeStart\", function() {\n        $modalInstance.close();\n      });\n\n      $scope.removeItem = function() {\n        var delta = this.delta;\n\n        Task.identityLinksDelete(userTask.id, this.identityLink, function(err) {\n          if (err) {\n            return Notifications.addError({\n              status: decorator.notifications.remove,\n              message: err.message,\n              exclusive: true\n            });\n          }\n\n          // deleting an entry is not enough, we need to \"rebuild\" the identiy links\n          identityLinks = $scope.identityLinks = compact(\n            map(identityLinks, function(g, d) {\n              return delta !== d ? g : false;\n            })\n          );\n        });\n      };\n\n      $scope.invalid = function() {\n        var editForm = this.editForm;\n\n        if (editForm.$invalid) {\n          return true;\n        }\n\n        var exists;\n        var newItem = editForm.newItem.$modelValue;\n        angular.forEach(identityLinks, function(identityLink) {\n          exists = exists || identityLink[key] === newItem;\n        });\n\n        return exists;\n      };\n\n      $scope.addItem = function() {\n        var editForm = this;\n\n        var newIdentityLink = {\n          type: \"candidate\"\n        };\n\n        newIdentityLink[key] = editForm.newItem;\n\n        Task.identityLinksAdd(userTask.id, newIdentityLink, function(err) {\n          if (err) {\n            return Notifications.addError({\n              status: decorator.notifications.add,\n              message: err.message,\n              exclusive: true\n            });\n          }\n\n          identityLinks.push(newIdentityLink);\n          editForm.newItem = \"\";\n        });\n      };\n    }\n  ]);\n\n  var Configuration = function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.processInstance.runtime.tab\", {\n      id: \"user-tasks-tab\",\n      label: \"PLUGIN_USER_TASKS_LABEL\",\n      template: userTasksTemplate,\n      controller: \"UserTaskController\",\n      priority: 5\n    });\n  };\n\n  Configuration.$inject = [\"ViewsProvider\"];\n\n  ngModule.config(Configuration);\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/identity-links-modal.html -->\n<div class=\"modal-header\">\n  <h3 class=\"modal-title\">{{ title | translate }}</h3>\n</div>\n\n<div class=\"identity-links modal-body\">\n  <div notifications-panel></div>\n\n  <form name=\"editForm\"\n        ng-submit=\"!invalid() && addItem()\">\n    <fieldset ng-show=\"identityLinks.length\">\n      <legend>{{ decorator.table.label }}</legend>\n\n      <table class=\"table cam-table\">\n        <thead>\n          <tr>\n            <th class=\"id\">{{ decorator.table.id }}</th>\n            <th class=\"action text-right\">{{ 'PLUGIN_IDENTITY_LINKS_ACTION' | translate }}</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr ng-repeat=\"(delta, identityLink) in identityLinks\">\n            <td class=\"id\">\n              <span cam-widget-clipboard=\"identityLink[key]\">{{ identityLink[key] }}</span>\n            </td>\n            <td class=\"action text-right\">\n              <span class=\"btn btn-default action-button\"\n                    ng-click=\"removeItem()\">\n                <span class=\"glyphicon glyphicon-ban-circle\"></span>\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </fieldset>\n\n    <fieldset>\n      <legend>{{ decorator.add.label }}</legend>\n\n      <div class=\"input-group\">\n        <input class=\"form-control\"\n               type=\"text\"\n               ng-model=\"newItem\"\n               name=\"newItem\"\n               required />\n        <span class=\"btn btn-primary input-group-addon\"\n              ng-click=\"addItem()\"\n              ng-disabled=\"invalid()\">\n          <span class=\"glyphicon glyphicon-plus\"></span>\n        </span>\n      </div>\n    </fieldset>\n  </form>\n</div>\n\n<div class=\"modal-footer\">\n  <button ng-click=\"$dismiss()\"\n          class=\"btn btn-default\">\n    {{ 'PLUGIN_IDENTITY_LINKS_CLOSE' | translate }}\n  </button>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/identity-links-modal.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/user-tasks-table.html -->\n<div cam-widget-loader\n     loading-state=\"{{ loadingState }}\"\n     text-empty=\"{{ 'PLUGIN_USER_TASKS_NO_USER_TASKS' | translate }}\">\n  <table class=\"process-instance user-tasks cam-table\">\n    <thead sortable-table-head\n           head-columns=\"headColumns\"\n           on-sort-change=\"onSortChange(sortObj)\"\n           default-sort=\"sorting\">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat=\"userTask in userTasks\">\n        <td class=\"activity\">\n          <a ng-href=\"{{ getHref(userTask) }}\">{{ userTask.instance.name || userTask.instance.id }}</a>\n        </td>\n\n        <td class=\"assignee\">\n          <cam-in-place-text-field\n            submit=\"submitAssigneeChange\"\n            context=\"userTask\"\n            property=\"assignee\" />\n        </td>\n\n        <td class=\"owner\">\n          {{ userTask.owner }}\n        </td>\n\n        <td class=\"created\">\n          {{ userTask.created | camDate }}\n        </td>\n        <td class=\"due\">\n          {{ userTask.due | camDate }}\n        </td>\n        <td class=\"follow-up\">\n          {{ userTask.followUp | camDate }}\n        </td>\n        <td class=\"priority\">\n          {{ userTask.priority }}\n        </td>\n        <td class=\"delegation-state\">\n          {{ userTask.delegationState }}\n        </td>\n        <td class=\"task-id uuid\"\n            cam-widget-clipboard=\"userTask.id\">\n          <a ng-href=\"{{ getTasklistHref(userTask) }}\"\n             uib-tooltip=\"{{ 'PLUGIN_USER_TASKS_LINK_TO_TASKLIST' | translate }}\">{{ userTask.id }}</a>\n        </td>\n\n        <td class=\"action\">\n          <a ng-click=\"changeGroupIdentityLinks()\"\n             ng-model=\"userTask\"\n             class=\"btn btn-default action-button change-group-identity-links\"\n             tooltip-placement=\"left\"\n             uib-tooltip=\"{{ translate('PLUGIN_USER_TASKS_MANAGE_GROUP_TOOLTIP', { value: userTask.name || userTask.id }) }}\">\n            <span class=\"glyphicon glyphicon-th\"></span>\n          </a>\n          <a ng-click=\"changeUserIdentityLinks()\"\n             ng-model=\"userTask\"\n             class=\"btn btn-default action-button change-user-identity-links\"\n             tooltip-placement=\"left\"\n             uib-tooltip=\"{{ translate('PLUGIN_USER_TASKS_MANAGE_USER_TOOLTIP', { value: userTask.name || userTask.id }) }}\">\n            <span class=\"glyphicon glyphicon-user\"></span>\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n\n  <ul uib-pagination ng-if=\"pages.total > pages.size\"\n              class=\"pagination-sm\"\n\n              page=\"pages.current\"\n              ng-model=\"pages.current\"\n\n              total-items=\"pages.total\"\n              items-per-page=\"pages.size\"\n\n              max-size=\"7\"\n              boundary-links=\"true\"></ul>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/user-tasks-table.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar dialogTemplate = require(\"./job-retry-bulk-dialog.html.js\");\nvar actionTemplate = require(\"./job-retry-bulk-action.html.js\");\n\nvar angular = require(\"angular\");\n\nmodule.exports = function(ngModule) {\n  ngModule.controller(\"JobRetryActionController\", [\n    \"$scope\",\n    \"$uibModal\",\n    function($scope, $modal) {\n      $scope.openDialog = function() {\n        $modal\n          .open({\n            resolve: {\n              processData: function() {\n                return $scope.processData;\n              },\n              processInstance: function() {\n                return $scope.processInstance;\n              }\n            },\n            size: \"lg\",\n            controller: \"JobRetriesController\",\n            template: dialogTemplate,\n            appendTo: angular.element('.angular-app')\n          })\n          .result.catch(function() {});\n      };\n    }\n  ]);\n\n  var Configuration = function PluginConfiguration(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\n      \"cockpit.processInstance.runtime.action\",\n      {\n        id: \"job-retry-action\",\n        label: \"Job Retry Action\",\n        template: actionTemplate,\n        controller: \"JobRetryActionController\",\n        priority: 15\n      }\n    );\n  };\n\n  Configuration.$inject = [\"ViewsProvider\"];\n\n  ngModule.config(Configuration);\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/job-retry-bulk-dialog.html -->\n<div class=\"modal-header\">\n  <h3>{{ 'PLUGIN_JOB_RETRY_BULK_INCREMENT_RETRIES' | translate }}</h3>\n</div>\n\n<div class=\"job-retry-bulk modal-body\">\n  <div notifications-panel></div>\n\n  <form name=\"selectFailedJobsForm\"\n        ng-hide=\"status === 'finished' || status === 'performing'\">\n    <fieldset>\n      <p>{{ 'PLUGIN_JOB_RETRY_BULK_SELECT_FAILED_JOB' | translate }}</p>\n      <div cam-widget-loader\n           loading-state=\"{{ loadingState }}\"\n           text-empty=\"{{ 'PLUGIN_JOB_RETRY_BULK_THERE_ARE_NO_FAILED_JOBS' | translate }}\">\n        <table class=\"cam-table\">\n          <thead>\n            <tr>\n              <th class=\"row-select\">\n                <input type=\"checkbox\"\n                       title=\"Select all\"\n                       ng-model=\"allJobsSelected\"\n                       ng-change=\"selectAllJobs(allJobsSelected)\">\n              </th>\n              <th class=\"job-id uuid\">{{ 'PLUGIN_JOB_RETRY_BULK_ID' | translate }}</th>\n              <th class=\"scope\">{{ 'PLUGIN_JOB_RETRY_BULK_SCOPE' | translate }}</th>\n              <th class=\"exception\">{{ 'PLUGIN_JOB_RETRY_BULK_EXCEPTION' | translate }}</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr ng-repeat=\"job in failedJobs\">\n              <td class=\"row-select\">\n                <input type=\"checkbox\"\n                       ng-model=\"job.selected\"\n                       ng-change=\"selectFailedJob(job)\">\n              </td>\n\n              <td class=\"job-id uuid\">{{ job.id }}</td>\n\n              <td class=\"scope\">{{ job.instance.name }}</td>\n\n              <td class=\"exception\">{{ job.exceptionMessage }}</td>\n            </tr>\n          </tbody>\n        </table>\n\n\n        <ul uib-pagination ng-if=\"jobPages.total > jobPages.size\"\n                    class=\"pagination-sm\"\n\n                    page=\"jobPages.current\"\n                    ng-model=\"jobPages.current\"\n\n                    total-items=\"jobPages.total\"\n                    items-per-page=\"jobPages.size\"\n\n                    max-size=\"7\"\n                    boundary-links=\"true\"></ul>\n      </div>\n    </fieldset>\n  </form>\n\n  <div ng-show=\"status === 'finished' || status === 'performing'\">\n\n    <table class=\"cam-table\">\n      <thead>\n        <tr>\n          <th class=\"job-id uuid\">{{ 'PLUGIN_JOB_RETRY_BULK_ID' | translate }}</th>\n          <th class=\"scope\">{{ 'PLUGIN_JOB_RETRY_BULK_SCOPE' | translate }}</th>\n          <th class=\"status\">{{ 'PLUGIN_JOB_RETRY_BULK_STATUS' | translate }}</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr ng-repeat=\"job in showJobsRetried\">\n          <td class=\"job-id uuid\">{{ job.id }}</td>\n\n          <td class=\"scope\">{{ job.instance.name }}</td>\n\n          <td class=\"status\">\n            <span ng-show=\"job.status && job.status === 'performing'\">\n              <span class=\"glyphicon glyphicon-loading\"></span>\n            </span>\n            <span ng-show=\"job.status && job.status === 'successful'\">\n              <span class=\"glyphicon glyphicon-ok\"></span>&nbsp;{{ 'PLUGIN_JOB_RETRY_BULK_SUCCESSFUL' | translate }}\n            </span>\n            <span ng-show=\"job.status && job.status === 'failed'\">\n              <span class=\"glyphicon glyphicon-remove\"></span>&nbsp;{{ 'PLUGIN_JOB_RETRY_BULK_FAILED' | translate }}\n            </span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n\n    <ul uib-pagination ng-if=\"summarizePages.total > summarizePages.size\"\n                class=\"pagination-sm\"\n\n                page=\"summarizePages.current\"\n                ng-model=\"summarizePages.current\"\n\n                total-items=\"summarizePages.total\"\n                items-per-page=\"summarizePages.size\"\n\n                max-size=\"7\"\n                boundary-links=\"true\"></ul>\n  </div>\n\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"close()\"\n          ng-hide=\"status === 'finished' || status === 'performing'\">\n    {{ 'PLUGIN_JOB_RETRY_BULK_CLOSE' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"retryFailedJobs(selectedFailedJobIds)\"\n          ng-disabled=\"!failedJobs || !failedJobs.length || !selectedFailedJobIds.length\"\n          ng-hide=\"status === 'finished' || status === 'performing'\">\n    {{ 'PLUGIN_JOB_RETRY_BULK_RETRY' | translate }}\n    <span ng-if=\"selectedFailedJobIds.length > 1\"\n          translate=\"PLUGIN_JOB_RETRY_BULK_JOBS\"\n          translate-values=\"{count: selectedFailedJobIds.length}\"></span>\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close()\"\n          ng-disabled=\"status === 'performing'\"\n          ng-show=\"status === 'performing' || status === 'finished'\">\n    {{ 'PLUGIN_JOB_RETRY_BULK_OK' | translate }}\n  </button>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/job-retry-bulk-dialog.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/job-retry-bulk-action.html -->\n<a class=\"btn btn-default btn-toolbar\"\n   href\n   ng-click=\"openDialog()\"\n   uib-tooltip=\"{{ 'PLUGIN_JOB_RETRY_BULK_RETRIES_FAILED_JOB' | translate }}\"\n   tooltip-placement=\"left\">\n  <span class=\"glyphicon glyphicon-repeat\"></span>\n</a>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/job-retry-bulk-action.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nmodule.exports = [\n  \"$scope\",\n  \"$q\",\n  \"Notifications\",\n  \"JobResource\",\n  \"$uibModalInstance\",\n  \"processData\",\n  \"processInstance\",\n  \"$translate\",\n  function(\n    $scope,\n    $q,\n    Notifications,\n    JobResource,\n    $modalInstance,\n    processData,\n    processInstance,\n    $translate\n  ) {\n    var jobRetriesData = processData.newChild($scope);\n\n    var jobPages = ($scope.jobPages = { size: 5, total: 0 });\n    var summarizePages = ($scope.summarizePages = { size: 5, total: 0 });\n\n    var jobIdToFailedJobMap = {};\n    var selectedFailedJobIds = ($scope.selectedFailedJobIds = []);\n\n    var finishedWithFailures = false;\n\n    $scope.allJobsSelected = false;\n\n    var FINISHED = \"finished\",\n      PERFORM = \"performing\",\n      SUCCESS = \"successful\",\n      FAILED = \"failed\";\n\n    var executionIdToInstanceMap = jobRetriesData.observe(\n      \"executionIdToInstanceMap\",\n      function(executionMap) {\n        executionIdToInstanceMap = executionMap;\n      }\n    );\n\n    $scope.$on(\"$routeChangeStart\", function() {\n      $modalInstance.close($scope.status);\n    });\n\n    $scope.$watch(\"jobPages.current\", function(newValue, oldValue) {\n      if (!newValue) {\n        jobPages.current = 1;\n        return;\n      }\n\n      if (newValue === oldValue) {\n        return;\n      }\n\n      jobPages.current = newValue;\n      updateJobTable(newValue);\n    });\n\n    function updateJobTable(page) {\n      $scope.failedJobs = null;\n      $scope.allJobsSelected = false;\n      $scope.loadingState = \"LOADING\";\n\n      var count = jobPages.size;\n      var firstResult = (page - 1) * count;\n\n      JobResource.count({\n        processInstanceId: processInstance.id,\n        withException: true,\n        noRetriesLeft: true\n      })\n        .$promise.then(function(data) {\n          jobPages.total = data.count;\n\n          if (!jobPages.total) {\n            $scope.loadingState = \"EMPTY\";\n            return;\n          }\n\n          JobResource.query(\n            {\n              firstResult: firstResult,\n              maxResults: count\n            },\n            {\n              processInstanceId: processInstance.id,\n              withException: true,\n              noRetriesLeft: true\n            }\n          )\n            .$promise.then(function(response) {\n              for (var i = 0, job; (job = response[i]); i++) {\n                jobIdToFailedJobMap[job.id] = job;\n                var instance = executionIdToInstanceMap[job.executionId];\n                job.instance = instance;\n                job.selected = selectedFailedJobIds.indexOf(job.id) > -1;\n              }\n\n              $scope.failedJobs = response;\n              $scope.loadingState = \"LOADED\";\n\n              if (jobPages.total <= count) {\n                $scope.allJobsSelected = true;\n                $scope.selectAllJobs(true);\n              }\n            })\n            .catch(angular.noop);\n        })\n        .catch(angular.noop);\n    }\n\n    $scope.$watch(\"summarizePages.current\", function(newValue) {\n      if (!newValue) {\n        return;\n      }\n\n      updateSummarizeTable(newValue);\n    });\n\n    function updateSummarizeTable(page) {\n      var count = summarizePages.size;\n      var firstResult = (page - 1) * count;\n\n      var showJobsRetried = ($scope.showJobsRetried = []);\n\n      for (var i = 0; i < count; i++) {\n        var jobId = selectedFailedJobIds[i + firstResult];\n        var job = jobIdToFailedJobMap[jobId];\n        if (job) {\n          showJobsRetried.push(job);\n        }\n      }\n    }\n\n    $scope.selectAllJobs = function(allJobsSelected) {\n      angular.forEach($scope.failedJobs, function(job) {\n        job.selected = allJobsSelected;\n        selectFailedJob(job);\n      });\n    };\n\n    var selectFailedJob = ($scope.selectFailedJob = function(failedJob) {\n      var index = selectedFailedJobIds.indexOf(failedJob.id);\n\n      if (failedJob.selected === true) {\n        if (index === -1) {\n          selectedFailedJobIds.push(failedJob.id);\n        }\n        return;\n      }\n\n      if (failedJob.selected === false) {\n        selectedFailedJobIds.splice(index, 1);\n        if ($scope.allJobsSelected === true) {\n          $scope.allJobsSelected = false;\n        }\n        return;\n      }\n    });\n\n    $scope.retryFailedJobs = function(selectedFailedJobIds) {\n      $scope.status = PERFORM;\n\n      summarizePages.total = selectedFailedJobIds.length;\n      summarizePages.current = 1;\n\n      doRetry(selectedFailedJobIds)\n        .then(function() {\n          if (!finishedWithFailures) {\n            Notifications.addMessage({\n              status: $translate.instant(\"PLUGIN_JOB_RETRY_STATUS_FINISHED\"),\n              message: $translate.instant(\"PLUGIN_JOB_RETRY_MESSAGE_2\"),\n              exclusive: true\n            });\n          } else {\n            Notifications.addError({\n              status: $translate.instant(\"PLUGIN_JOB_RETRY_STATUS_FINISHED\"),\n              message: $translate.instant(\"PLUGIN_JOB_RETRY_ERROR_2\"),\n              exclusive: true\n            });\n          }\n\n          $scope.status = FINISHED;\n        })\n        .catch(angular.noop);\n    };\n\n    function doRetry(selectedFailedJobIds) {\n      var deferred = $q.defer();\n\n      var count = selectedFailedJobIds.length;\n\n      function retryJob(job) {\n        job.status = PERFORM;\n        JobResource.setRetries(\n          {\n            id: job.id\n          },\n          {\n            retries: 1\n          },\n          function() {\n            job.status = SUCCESS;\n\n            // we want to show a summarize, when all requests\n            // responded, that's why we uses a counter\n            count = count - 1;\n            if (count === 0) {\n              deferred.resolve();\n            }\n          },\n          function(error) {\n            finishedWithFailures = true;\n\n            job.status = FAILED;\n            job.retryError = error;\n\n            // we want to show a summarize, when all requests\n            // responded, that's why we uses a counter\n            count = count - 1;\n            if (count === 0) {\n              deferred.resolve();\n            }\n          }\n        );\n      }\n\n      for (var i = 0, jobId; (jobId = selectedFailedJobIds[i]); i++) {\n        var job = jobIdToFailedJobMap[jobId];\n        retryJob(job);\n      }\n\n      return deferred.promise;\n    }\n\n    $scope.close = function(status) {\n      $modalInstance.close(status);\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$scope\",\n  \"$location\",\n  \"Notifications\",\n  \"JobResource\",\n  \"$uibModalInstance\",\n  \"incident\",\n  \"$translate\",\n  function(\n    $scope,\n    $location,\n    Notifications,\n    JobResource,\n    $modalInstance,\n    incident,\n    $translate\n  ) {\n    var FINISHED = \"finished\",\n      PERFORM = \"performing\",\n      FAILED = \"failed\";\n\n    $scope.$on(\"$routeChangeStart\", function() {\n      $modalInstance.close($scope.status);\n    });\n\n    $scope.incrementRetry = function() {\n      $scope.status = PERFORM;\n\n      JobResource.setRetries(\n        {\n          id: incident.configuration\n        },\n        {\n          retries: 1\n        },\n        function() {\n          $scope.status = FINISHED;\n\n          Notifications.addMessage({\n            status: $translate.instant(\"PLUGIN_JOB_RETRY_STATUS_FINISHED\"),\n            message: $translate.instant(\"PLUGIN_JOB_RETRY_MESSAGE_1\"),\n            exclusive: true\n          });\n        },\n        function(error) {\n          $scope.status = FAILED;\n          Notifications.addError({\n            status: $translate.instant(\"PLUGIN_JOB_RETRY_STATUS_FINISHED\"),\n            message: $translate.instant(\"PLUGIN_JOB_RETRY_ERROR_1\", {\n              message: error.data.message\n            }),\n            exclusive: true\n          });\n        }\n      );\n    };\n\n    $scope.close = function(status) {\n      $modalInstance.close(status);\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$scope\",\n  \"$location\",\n  \"Notifications\",\n  \"camAPI\",\n  \"$uibModalInstance\",\n  \"incident\",\n  \"$translate\",\n  function(\n    $scope,\n    $location,\n    Notifications,\n    camAPI,\n    $modalInstance,\n    incident,\n    $translate\n  ) {\n    var FINISHED = \"finished\",\n      PERFORM = \"performing\",\n      FAILED = \"failed\";\n\n    var ExternalTask = camAPI.resource(\"external-task\");\n\n    $scope.$on(\"$routeChangeStart\", function() {\n      $modalInstance.close($scope.status);\n    });\n\n    $scope.incrementRetry = function() {\n      $scope.status = PERFORM;\n\n      ExternalTask.retries(\n        {\n          id: incident.configuration,\n          retries: 1\n        },\n        function(error) {\n          if (!error) {\n            $scope.status = FINISHED;\n            Notifications.addMessage({\n              status: $translate.instant(\n                \"PLUGIN_EXTERNAL_TASK_STATUS_FINISHED\"\n              ),\n              message: $translate.instant(\"PLUGIN_EXTERNAL_TASK_MESSAGE_1\"),\n              exclusive: true\n            });\n          } else {\n            $scope.status = FAILED;\n            Notifications.addError({\n              status: $translate.instant(\n                \"PLUGIN_EXTERNAL_TASK_STATUS_FINISHED\"\n              ),\n              message: $translate.instant(\"PLUGIN_EXTERNAL_TASK_MESSAGE_2\", {\n                message: error.message\n              }),\n              exclusive: true\n            });\n          }\n        }\n      );\n    };\n\n    $scope.close = function(status) {\n      $modalInstance.close(status);\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar dialogTemplate = require(\"./cancel-process-instance-dialog.html.js\");\nvar actionTemplate = require(\"./cancel-process-instance-action.html.js\");\n\nvar angular = require(\"angular\");\n\nmodule.exports = function(ngModule) {\n  ngModule.controller(\"CancelProcessInstanceActionController\", [\n    \"$scope\",\n    \"search\",\n    \"Uri\",\n    \"$uibModal\",\n    function($scope, search, Uri, $modal) {\n      $scope.openDialog = function() {\n        $modal\n          .open({\n            resolve: {\n              processData: function() {\n                return $scope.processData;\n              },\n              processInstance: function() {\n                return $scope.processInstance;\n              }\n            },\n            controller: \"CancelProcessInstanceController\",\n            template: dialogTemplate,\n            appendTo: angular.element('.angular-app')\n          })\n          .result.catch(function() {});\n      };\n    }\n  ]);\n\n  var Configuration = function PluginConfiguration(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\n      \"cockpit.processInstance.runtime.action\",\n      {\n        id: \"cancel-process-instance-action\",\n        label: \"PLUGIN_CANCEL_PROCESS_DELETE_ACTION\",\n        template: actionTemplate,\n        controller: \"CancelProcessInstanceActionController\",\n        priority: 20\n      }\n    );\n  };\n\n  Configuration.$inject = [\"ViewsProvider\"];\n\n  ngModule.config(Configuration);\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/cancel-process-instance-dialog.html -->\n<div class=\"modal-header\">\n  <h3>{{ 'PLUGIN_CANCEL_PROCESS_DELETE_PROCESS_INSTANCE' | translate }}</h3>\n</div>\n\n<div class=\"cancel-process-instance modal-body\">\n  <div notifications-panel></div>\n\n  <div ng-hide=\"status === 'cancellationSuccess' || status === 'cancellationFailed' || status === 'beforeCancellation' || status === 'loadingFailed'\">\n    <span class=\"glyphicon glyphicon-loading\"></span>\n    {{ 'PLUGIN_CANCEL_PROCESS_LOADING_INFORMATION' | translate }}\n  </div>\n\n  <p ng-show=\"status === 'loadingFailed'\">\n    {{ 'PLUGIN_CANCEL_PROCESS_LOADING_FAILED' | translate }}\n  </p>\n\n  <div ng-show=\"status === 'beforeCancellation'\">\n    <div ng-show=\"subProcessInstances.length > 0\">\n      <p>\n        {{ 'PLUGIN_CANCEL_PROCESS_BEFORE_DELETION' | translate }}\n      </p>\n\n      <table class=\"table cam-table\">\n        <thead>\n          <tr>\n            <th class=\"instance-id uuid\">{{ 'PLUGIN_CANCEL_PROCESS_ID' | translate }}</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr ng-repeat=\"subProcessInstance in subProcessInstances\">\n            <td class=\"instance-id uuid\">\n              <a target=\"_blank\"\n                 ng-href=\"#/process-instance/{{ subProcessInstance.id }}\">\n                {{ subProcessInstance.id }}\n              </a>\n            </td>\n          </tr>\n\n          <tr>\n            <td ng-hide=\"subProcessInstances.length === subProcessInstancesCount\">\n             <span translate=\"PLUGIN_CANCEL_PROCESS_OTHER_PROCESS_INSTANCES\"\n                   translate-values=\"{count: subProcessInstancesCount - subProcessInstances.length}\"></span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <form class=\"form-horizontal\"\n          name=\"cancelProcessInstanceForm\"\n          novalidate\n          request-aware>\n      <div  ng-hide=\"hideSkipCustomListeners\"\n            class=\"form-group skip-custom-listener\">\n\n        <label class=\"control-label col-xs-5\"\n               for=\"skipCustomListeners\">\n          {{ 'PLUGIN_CANCEL_PROCESS_SKIP_CUSTOM_LISTENERS' | translate }}\n          <span class=\"glyphicon glyphicon-question-sign\"\n                uib-tooltip=\"{{ 'PLUGIN_CANCEL_PROCESS_TOOLTIP_VALUE_ENABLED' | translate }}\"\n                tooltip-placement=\"right\">\n          </span>\n        </label>\n\n        <div class=\"col-xs-7\">\n          <label class=\"checkbox\">\n            <input name=\"skipCustomListeners\"\n                   type=\"checkbox\"\n                   ng-model=\"options.skipCustomListeners\">\n          </label>\n        </div>\n\n      </div>\n\n      <div class=\"form-group skip-custom-listener\"\n           ng-hide=\"SKIP_IO_MAPPINGS.hidden\">\n\n        <label class=\"control-label col-xs-5\"\n               for=\"skipIoMappings\">\n          {{ 'PLUGIN_CANCEL_PROCESS_SKIP_IO_MAPPINGS' | translate }}\n          <span class=\"glyphicon glyphicon-question-sign\"\n                uib-tooltip=\"{{ 'PLUGIN_CANCEL_PROCESS_TOOLTIP_VALUE_ENABLED_IO' | translate }}\"\n                tooltip-placement=\"right\">\n          </span>\n        </label>\n\n        <div class=\"col-xs-7\">\n          <label class=\"checkbox\">\n            <input name=\"skipIoMappings\"\n                   type=\"checkbox\"\n                   ng-model=\"options.skipIoMappings\">\n          </label>\n        </div>\n\n      </div>\n    </form>\n\n    <p>{{ 'PLUGIN_CANCEL_PROCESS_DELETE_CONFIRM' | translate }}</p>\n  </div>\n\n  <div ng-show=\"status === 'cancellationSuccess'\">\n    <p>{{ 'PLUGIN_CANCEL_PROCESS_DELETE_SUCCESS_1' | translate }}</p>\n    <p>{{ 'PLUGIN_CANCEL_PROCESS_DELETE_SUCCESS_2' | translate }}</p>\n  </div>\n\n  <div ng-show=\"status === 'cancellationFailed'\">\n    <p>{{ 'PLUGIN_CANCEL_PROCESS_DELETE_FAILED_1' | translate }}</p>\n    <p>{{ 'PLUGIN_CANCEL_PROCESS_DELETE_FAILED_2' | translate }}</p>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'performCancellation'\"\n          ng-hide=\"status === 'cancellationSuccess' || status === 'cancellationFailed' || status === 'loadingFailed'\">\n    {{ 'PLUGIN_CANCEL_PROCESS_CLOSE' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'cancellationSuccess' || status === 'cancellationFailed' || status === 'loadingFailed'\">\n    {{ 'PLUGIN_CANCEL_PROCESS_OK' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"cancelProcessInstance()\"\n          ng-disabled=\"status !== 'beforeCancellation'\"\n          ng-hide=\"status === 'cancellationSuccess' || status === 'cancellationFailed' || status === 'loadingFailed'\">\n    {{ 'PLUGIN_CANCEL_PROCESS_DELETE_PROCESS_INSTANCE' | translate }}\n  </button>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/cancel-process-instance-dialog.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/cancel-process-instance-action.html -->\n<a class=\"btn btn-default btn-toolbar\"\n   href\n   ng-click=\"openDialog()\"\n   uib-tooltip=\"{{ 'PLUGIN_CANCEL_PROCESS_RUNNING_PROCESS_INSTANCE' | translate }}\"\n   tooltip-placement=\"left\">\n  <span class=\"glyphicon glyphicon-remove\"></span>\n</a>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/cancel-process-instance-action.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$scope\",\n  \"$location\",\n  \"Notifications\",\n  \"ProcessInstanceResource\",\n  \"$uibModalInstance\",\n  \"processInstance\",\n  \"processData\",\n  \"Views\",\n  \"$translate\",\n  \"configuration\",\n  function(\n    $scope,\n    $location,\n    Notifications,\n    ProcessInstanceResource,\n    $modalInstance,\n    processInstance,\n    processData,\n    Views,\n    $translate,\n    configuration\n  ) {\n    var BEFORE_CANCEL = \"beforeCancellation\",\n      PERFORM_CANCEL = \"performCancellation\",\n      CANCEL_SUCCESS = \"cancellationSuccess\",\n      CANCEL_FAILED = \"cancellationFailed\";\n\n    var SKIP_CUSTOM_LISTENERS = configuration.getSkipCustomListeners();\n    var SKIP_IO_MAPPINGS = ($scope.SKIP_IO_MAPPINGS = configuration.getSkipIoMappings());\n\n    $scope.processInstance = processInstance;\n\n    var cancelProcessInstanceData = processData.newChild($scope);\n\n    $scope.options = {\n      skipCustomListeners: SKIP_CUSTOM_LISTENERS.default,\n      skipIoMappings: SKIP_IO_MAPPINGS.default\n    };\n\n    $scope.hideSkipCustomListeners = SKIP_CUSTOM_LISTENERS.hidden;\n\n    $scope.$on(\"$routeChangeStart\", function() {\n      $modalInstance.close($scope.status);\n    });\n\n    cancelProcessInstanceData.provide(\"subProcessInstances\", function() {\n      return ProcessInstanceResource.query(\n        {\n          firstResult: 0,\n          maxResults: 5\n        },\n        {\n          superProcessInstance: processInstance.id\n        }\n      ).$promise;\n    });\n\n    cancelProcessInstanceData.provide(\"subProcessInstancesCount\", function() {\n      return ProcessInstanceResource.count({\n        superProcessInstance: processInstance.id\n      }).$promise;\n    });\n\n    cancelProcessInstanceData.observe(\n      [\"subProcessInstancesCount\", \"subProcessInstances\"],\n      function(subProcessInstancesCount, subProcessInstances) {\n        $scope.subProcessInstancesCount = subProcessInstancesCount.count;\n        $scope.subProcessInstances = subProcessInstances;\n\n        $scope.status = BEFORE_CANCEL;\n      }\n    );\n\n    $scope.cancelProcessInstance = function() {\n      $scope.status = PERFORM_CANCEL;\n\n      $scope.processInstance.$delete(\n        $scope.options,\n        function() {\n          // success\n          $scope.status = CANCEL_SUCCESS;\n          Notifications.addMessage({\n            status: $translate.instant(\"PLUGIN_CANCEL_PROCESS_STATUS_DELETED\"),\n            message: $translate.instant(\"PLUGIN_CANCEL_PROCESS_MESSAGE_1\")\n          });\n        },\n        function(err) {\n          // failure\n          $scope.status = CANCEL_FAILED;\n          Notifications.addError({\n            status: $translate.instant(\"PLUGIN_CANCEL_PROCESS_STATUS_FAILED\"),\n            message: $translate.instant(\"PLUGIN_CANCEL_PROCESS_MESSAGE_2\", {\n              message: err.data.message\n            }),\n            exclusive: [\"type\"]\n          });\n        }\n      );\n    };\n\n    $scope.close = function(status) {\n      $modalInstance.close(status);\n\n      // if the cancellation of the process instance was successful,\n      if (status === CANCEL_SUCCESS) {\n        var historyProvider = Views.getProvider({\n          id: \"history\",\n          component: \"cockpit.processInstance.view\"\n        });\n\n        var path;\n        var search;\n\n        if (historyProvider) {\n          // redirect to the corresponding historic process instance view\n          // keep search params\n          search = $location.search();\n          path = \"/process-instance/\" + processInstance.id + \"/history\";\n        } else {\n          // or redirect to the corresponding process definition overview.\n          path = \"/process-definition/\" + processInstance.definitionId;\n        }\n\n        $location.path(path);\n        $location.search(search || {});\n        $location.replace();\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nvar actionTemplate = require(\"./add-variable-action.html.js\");\nvar addTemplate = require(\"../../../../../client/scripts/components/variables/variable-add-dialog\");\n\nvar Configuration = function PluginConfiguration(ViewsProvider) {\n  ViewsProvider.registerDefaultView(\"cockpit.processInstance.runtime.action\", {\n    id: \"add-variable-action\",\n    label: \"Add Variable Action\",\n    template: actionTemplate,\n    controller: [\n      \"$scope\",\n      \"$uibModal\",\n      \"$rootScope\",\n      function($scope, $modal, $rootScope) {\n        $scope.openDialog = function() {\n          var dialog = $modal.open({\n            scope: $scope,\n            resolve: {\n              operation: false,\n              instance: function() {\n                return $scope.processInstance;\n              },\n              isProcessInstance: function() {\n                return true;\n              }\n            },\n            controller: addTemplate.controller,\n            template: addTemplate.template,\n            appendTo: angular.element(\".angular-app\")\n          });\n\n          dialog.result\n            .then(function(result) {\n              // dialog closed. YEA!\n              if (result === \"SUCCESS\") {\n                // refresh filter and all views\n                $scope.processData.set(\n                  \"filter\",\n                  angular.extend({}, $scope.filter)\n                );\n                $rootScope.$broadcast(\n                  \"cam-common:cam-searchable:query-force-change\"\n                );\n              }\n            })\n            .catch(angular.noop);\n        };\n      }\n    ],\n    priority: 10\n  });\n};\n\nConfiguration.$inject = [\"ViewsProvider\"];\n\nmodule.exports = Configuration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/add-variable-action.html -->\n<a class=\"btn btn-default btn-toolbar\"\n   href\n   ng-click=\"openDialog()\"\n   uib-tooltip=\"{{ 'PLUGIN_ADD_VARIABLE_NEW_VARIABLE' | translate }}\"\n   tooltip-placement=\"left\">\n  <span class=\"glyphicon glyphicon-plus\"></span>\n</a>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/add-variable-action.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nvar template = require(\"./variable-add-dialog.html.js\");\n\nvar Controller = [\n  \"$uibModalInstance\",\n  \"$scope\",\n  \"Notifications\",\n  \"Uri\",\n  \"instance\",\n  \"isProcessInstance\",\n  \"fixDate\",\n  \"$translate\",\n  \"camAPI\",\n  \"operation\",\n  function(\n    $modalInstance,\n    $scope,\n    Notifications,\n    Uri,\n    instance,\n    isProcessInstance,\n    fixDate,\n    $translate,\n    camAPI,\n    operation\n  ) {\n    $scope.isProcessInstance = isProcessInstance;\n    $scope.isBatchOperation = !!operation;\n\n    $scope.variableTypes = [\n      \"String\",\n      \"Boolean\",\n      \"Short\",\n      \"Integer\",\n      \"Long\",\n      \"Double\",\n      \"Date\",\n      \"Null\",\n      \"Object\",\n      \"Json\",\n      \"Xml\"\n    ];\n\n    var newVariable = ($scope.newVariable = {\n      name: null,\n      type: \"String\",\n      value: null\n    });\n\n    var PERFORM_SAVE = \"PERFORM_SAVE\",\n      SUCCESS = \"SUCCESS\",\n      FAIL = \"FAIL\";\n\n    var processInstance = camAPI.resource(\"process-instance\");\n    var caseInstance = camAPI.resource(\"case-instance\");\n\n    $scope.$on(\"$routeChangeStart\", function() {\n      $modalInstance.close($scope.status);\n    });\n\n    $scope.close = function() {\n      $modalInstance.close($scope.status);\n    };\n\n    var isValid = ($scope.isValid = function() {\n      // that's a pity... I do not get why,\n      // but getting the form scope is.. kind of random\n      // m2c: it has to do with the `click event`\n      // Hate the game, not the player\n      var formScope = angular.element('[name=\"addVariableForm\"]').scope();\n      return formScope && formScope.addVariableForm\n        ? formScope.addVariableForm.$valid\n        : false;\n    });\n\n    $scope.save = function() {\n      if (!isValid()) {\n        return;\n      }\n\n      $scope.status = PERFORM_SAVE;\n\n      var data = angular.extend({}, newVariable);\n\n      if (operation.variables) {\n        operation.variables = operation.variables.filter(variable => {\n          return data.name !== variable.variable.name;\n        });\n\n        operation.variables.push({\n          variable: data,\n          valid: true,\n          changed: false\n        });\n\n        $scope.$root.$broadcast(\"variable.added\");\n\n        $scope.status = SUCCESS;\n      } else {\n        if (data.type === \"Date\") {\n          data.value = fixDate(data.value);\n        }\n\n        var instanceAPI = isProcessInstance ? processInstance : caseInstance;\n        instanceAPI\n          .setVariable(instance.id, data)\n          .then(function() {\n            $scope.status = SUCCESS;\n\n            Notifications.addMessage({\n              status: $translate.instant(\n                \"VARIABLE_ADD_MESSAGE_STATUS_FINISHED\"\n              ),\n              message: $translate.instant(\"VARIABLE_ADD_MESSAGE_MESSAGE_ADD\", {\n                name: data.name\n              }),\n              exclusive: true\n            });\n          })\n          .catch(function(data) {\n            $scope.status = FAIL;\n\n            Notifications.addError({\n              status: $translate.instant(\n                \"VARIABLE_ADD_MESSAGE_STATUS_FINISHED\"\n              ),\n              message: $translate.instant(\n                \"VARIABLE_ADD_MESSAGE_MESSAGE_ERROR\",\n                {\n                  message: data.message\n                }\n              ),\n              exclusive: true\n            });\n          });\n      }\n    };\n  }\n];\n\nmodule.exports = {\n  template: template,\n  controller: Controller\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-add-dialog.html -->\n<div class=\"modal-header\">\n  <h3>\n    {{ isProcessInstance && !isBatchOperation ? 'VARIABLE_ADD_MODAL_TITLE_PROCESS' : '' | translate }}\n    {{ isBatchOperation ? 'VARIABLE_ADD_MODAL_TITLE_BATCH' : '' | translate }}\n    {{ !isProcessInstance && !isBatchOperation ? 'VARIABLE_ADD_MODAL_TITLE_CASE' : '' | translate }}\n  </h3>\n</div>\n\n<div class=\"modal-body add-variable-dialog\">\n  <div notifications-panel></div>\n\n  <form class=\"form-horizontal\"\n        name=\"addVariableForm\"\n        novalidate\n        ng-submit=\"save()\"\n        ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\"\n        request-aware>\n    <fieldset>\n\n      <div class=\"form-group variable-name\">\n        <label class=\"control-label col-xs-4\"\n               for=\"variableName\">{{ 'VARIABLE_ADD_VARIABLE_NAME' | translate }}</label>\n        <div class=\"col-xs-8\">\n          <input id=\"variableNameId\"\n                 name=\"variableName\"\n                 class=\"form-control\"\n                 type=\"text\"\n                 ng-model=\"newVariable.name\"\n                 autofocus\n                 required />\n        </div>\n      </div>\n\n      <div class=\"form-group variable-type\">\n        <label class=\"control-label col-xs-4\"\n               for=\"variableType\">{{ 'VARIABLE_ADD_VARIABLE_TYPE' | translate }}</label>\n        <div class=\"col-xs-8\">\n          <select id=\"variableTypeId\"\n                  name=\"variableType\"\n                  class=\"form-control\"\n                  ng-options=\"variableType for variableType in variableTypes\"\n                  ng-model=\"newVariable.type\">\n          </select>\n        </div>\n      </div>\n\n      <div class=\"form-group variable-value\">\n        <label class=\"control-label col-xs-4\"\n               for=\"variableValue\">{{ 'VARIABLE_ADD_VARIABLE_VALUE' | translate }}</label>\n        <div class=\"col-xs-8\">\n          <div variable=\"newVariable\" form=\"addVariableForm\"></div>\n\n          <p class=\"invalid\"\n             ng-show=\"this.addVariableForm.editDateValue.$error.datePattern\">\n            {{ 'VARIABLE_ADD_VARIABLE_SUPPORTED' | translate }}\n          </p>\n\n          <p class=\"invalid\"\n             ng-show=\"this.addVariableForm.editDateValue.$error.dateValue\">\n            Invalid Date Value.\n          </p>\n\n          <p class=\"invalid\"\n             ng-show=\"this.addVariableForm.editIntegerValue.$error.numeric || this.addVariableForm.editFloatValue.$error.numeric\"\n             translate=\"VARIABLE_ADD_VARIABLE_ONLY\"\n             translate-values=\"{ type : newVariable.type }\">\n          </p>\n        </div>\n      </div>\n\n    </fieldset>\n  </form>\n\n  <div ng-if=\"status === 'SUCCESS' && isBatchOperation\"\n       translate=\"VARIABLE_ADD_STATUS_SUCCESS_BATCH\"\n       translate-values=\"{ name: newVariable.name }\">\n  </div>\n\n  <div ng-if=\"status === 'SUCCESS' && isProcessInstance && !isBatchOperation\"\n       translate=\"VARIABLE_ADD_STATUS_SUCCESS_PROCESS\"\n       translate-values=\"{ name: newVariable.name }\">\n  </div>\n\n  <div ng-if=\"status === 'SUCCESS' && !isProcessInstance && !isBatchOperation\"\n       translate=\"VARIABLE_ADD_STATUS_SUCCESS_CASE\"\n       translate-values=\"{ name: newVariable.name }\">\n  </div>\n\n  <div ng-show=\"status === 'FAIL' && isProcessInstance && !isBatchOperation\"\n       translate=\"VARIABLE_ADD_STATUS_FAIL_PROCESS\"\n       translate-values=\"{ name: newVariable.name }\">\n  </div>\n\n  <div ng-show=\"status === 'FAIL' && !isProcessInstance && !isBatchOperation\"\n       translate=\"VARIABLE_ADD_STATUS_FAIL_CASE\"\n       translate-values=\"{ name: newVariable.name }\">\n  </div>\n\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-link\"\n          ng-click=\"close()\"\n          ng-disabled=\"status === 'PERFORM_SAVE'\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\">{{ 'VARIABLE_ADD_CLOSE' | translate }}</button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"save()\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\"\n          ng-disabled=\"!isValid()\">{{ 'VARIABLE_ADD_ADD' | translate }}</button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close()\"\n          ng-show=\"status === 'SUCCESS' || status === 'FAIL'\">{{ 'VARIABLE_ADD_OK' | translate }}</button>\n</div>\n<!-- / CE - camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-add-dialog.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar actionTemplate = require(\"./update-suspension-state-action.html.js\");\nvar dialogTemplate = require(\"./update-suspension-state-dialog.html.js\");\nvar angular = require(\"angular\");\n\nvar Configuration = function PluginConfiguration(ViewsProvider) {\n  ViewsProvider.registerDefaultView(\"cockpit.processInstance.runtime.action\", {\n    id: \"update-suspension-state-action\",\n    label: \"PLUGIN_UPDATE_SUSPENSION_STATE\",\n    template: actionTemplate,\n    controller: [\n      \"$scope\",\n      \"$rootScope\",\n      \"$uibModal\",\n      function($scope, $rootScope, $modal) {\n        $scope.openDialog = function() {\n          var dialog = $modal.open({\n            resolve: {\n              processData: function() {\n                return $scope.processData;\n              },\n              processInstance: function() {\n                return $scope.processInstance;\n              }\n            },\n            controller: \"UpdateProcessInstanceSuspensionStateController\",\n            template: dialogTemplate,\n            appendTo: angular.element('.angular-app')\n          });\n\n          dialog.result\n            .then(function(result) {\n              // dialog closed. YEA!\n              if (result.status === \"SUCCESS\") {\n                $scope.processInstance.suspended = result.suspended;\n                $rootScope.$broadcast(\n                  \"$processInstance.suspensionState.changed\",\n                  $scope.processInstance\n                );\n\n                $scope.processData.set(\n                  \"filter\",\n                  angular.extend({}, $scope.filter)\n                );\n              }\n            })\n            .catch(angular.noop);\n        };\n      }\n    ],\n    priority: 5\n  });\n};\n\nConfiguration.$inject = [\"ViewsProvider\"];\n\nmodule.exports = Configuration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/update-suspension-state-action.html -->\n<a class=\"btn btn-default btn-toolbar btn-suspend-action\"\n   href\n   ng-click=\"openDialog()\"\n   uib-tooltip=\"{{ 'PLUGIN_UPDATE_ACTION_TOOLTIP_1' | translate }}\"\n   tooltip-placement=\"left\"\n   ng-show=\"!processInstance.suspended\">\n  <span class=\"glyphicon glyphicon-pause\"></span>\n</a>\n<a class=\"btn btn-default btn-toolbar\"\n   href\n   ng-click=\"openDialog()\"\n   uib-tooltip=\"{{ 'PLUGIN_UPDATE_ACTION_TOOLTIP_2' | translate }}\"\n   tooltip-placement=\"left\"\n   ng-hide=\"!processInstance.suspended\">\n  <span class=\"glyphicon glyphicon-play\"></span>\n</a>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/update-suspension-state-action.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/update-suspension-state-dialog.html -->\n<div class=\"modal-header\">\n  <h3>{{ (processInstance.suspended ? 'PLUGIN_UPDATE_DIALOG_ACTIVATE' : 'PLUGIN_UPDATE_DIALOG_SUSPEND' | translate) }}</h3>\n</div>\n\n<div class=\"process-instance update-suspension-state modal-body\">\n  <div notifications-panel></div>\n\n  <div ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\">\n\n    <div ng-show=\"processInstance.suspended\">\n      <!-- activation -->\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_1' | translate}} <i>{{ 'PLUGIN_UPDATE_DIALOG_LEGEND_2' | translate }}</i> {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_3' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_4' | translate}}\n      </p>\n\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_5' | translate}}\n      </p>\n\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_6' | translate}}\n      </p>\n\n      <p>{{ 'PLUGIN_UPDATE_DIALOG_LEGEND_7' | translate}}</p>\n    </div>\n\n    <div ng-hide=\"processInstance.suspended\">\n      <!-- suspension -->\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_8' | translate }} <i>{{ 'PLUGIN_UPDATE_DIALOG_LEGEND_9' | translate }}</i> {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_10' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_11' | translate }}\n        <ul>\n          <li>{{ 'PLUGIN_UPDATE_DIALOG_CLAIMING' | translate }}</li>\n          <li>{{ 'PLUGIN_UPDATE_DIALOG_COMPLETING' | translate }}</li>\n          <li>{{ 'PLUGIN_UPDATE_DIALOG_DELEGATION' | translate }}</li>\n          <li>{{ 'PLUGIN_UPDATE_DIALOG_CHANGES_IN' | translate }}</li>\n        </ul>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_12' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_13' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_14' | translate }}\n      </p>\n\n      <p>{{ 'PLUGIN_UPDATE_DIALOG_LEGEND_15' | translate }}</p>\n    </div>\n\n  </div>\n\n  <div ng-show=\"status === 'SUCCESS'\">\n    <p ng-show=\"processInstance.suspended\">\n      {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_16' | translate }}\n    </p>\n    <p ng-hide=\"processInstance.suspended\">\n      {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_17' | translate }}\n    </p>\n  </div>\n\n  <div ng-show=\"status === 'FAIL'\">\n    <p ng-show=\"processInstance.suspended\">\n      {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_18' | translate }}\n    </p>\n    <p ng-hide=\"processInstance.suspended\">\n      {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_19' | translate }}\n    </p>\n  </div>\n\n</div>\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'PERFORM_UDPATE'\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\">{{ 'PLUGIN_UPDATE_DIALOG_BTN_CLOSE' | translate }}</button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"updateSuspensionState()\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\"\n          ng-disabled=\"status === 'PERFORM_UDPATE'\">\n    {{ (processInstance.suspended ? 'PLUGIN_UPDATE_DIALOG_BTN_ACTIVATE' : 'PLUGIN_UPDATE_DIALOG_BTN_SUSPEND' | translate) }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'SUCCESS' || status === 'FAIL'\">{{ 'PLUGIN_UPDATE_DIALOG_BTN_OK' | translate }}</button>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/update-suspension-state-dialog.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$scope\",\n  \"$http\",\n  \"$filter\",\n  \"Uri\",\n  \"Notifications\",\n  \"$uibModalInstance\",\n  \"processInstance\",\n  \"$translate\",\n  function(\n    $scope,\n    $http,\n    $filter,\n    Uri,\n    Notifications,\n    $modalInstance,\n    processInstance,\n    $translate\n  ) {\n    var BEFORE_UPDATE = \"BEFORE_UPDATE\",\n      PERFORM_UPDATE = \"PERFORM_UDPATE\",\n      UPDATE_SUCCESS = \"SUCCESS\",\n      UPDATE_FAILED = \"FAIL\";\n\n    $scope.processInstance = processInstance;\n\n    $scope.status = BEFORE_UPDATE;\n\n    $scope.$on(\"$routeChangeStart\", function() {\n      $modalInstance.close($scope.status);\n    });\n\n    $scope.updateSuspensionState = function() {\n      $scope.status = PERFORM_UPDATE;\n\n      var data = {};\n\n      data.suspended = !processInstance.suspended;\n\n      $http\n        .put(\n          Uri.appUri(\n            \"engine://engine/:engine/process-instance/\" +\n              processInstance.id +\n              \"/suspended/\"\n          ),\n          data\n        )\n        .then(function() {\n          $scope.status = UPDATE_SUCCESS;\n\n          Notifications.addMessage({\n            status: $translate.instant(\"PLUGIN_UPDATE_DIALOG_STATUS_FINISHED\"),\n            message: $translate.instant(\"PLUGIN_UPDATE_DIALOG_MESSAGES_1\"),\n            exclusive: true\n          });\n        })\n        .catch(function(data) {\n          $scope.status = UPDATE_FAILED;\n\n          Notifications.addError({\n            status: $translate.instant(\"PLUGIN_UPDATE_DIALOG_STATUS_FINISHED\"),\n            message: $translate.instant(\"PLUGIN_UPDATE_DIALOG_ERROR_1\", {\n              message: data.data.message\n            }),\n            exclusive: true\n          });\n        });\n    };\n\n    $scope.close = function(status) {\n      var response = {};\n\n      response.status = status;\n      response.suspended = !processInstance.suspended;\n\n      $modalInstance.close(response);\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\nvar actionTemplate = require(\"./incident-job-retry-action.html.js\");\nvar dialogTemplate = require(\"./job-retry-dialog.html.js\");\n\nvar Configuration = function PluginConfiguration(ViewsProvider) {\n  ViewsProvider.registerDefaultView(\"cockpit.incident.action\", {\n    id: \"increase-incident-job-retry\",\n    template: actionTemplate,\n    controller: [\n      \"$scope\",\n      \"$rootScope\",\n      \"search\",\n      \"$uibModal\",\n      function($scope, $rootScope, search, $modal) {\n        $scope.openJobRetryDialog = function(incident) {\n          var dialog = $modal.open({\n            resolve: {\n              incident: function() {\n                return incident;\n              }\n            },\n            controller: \"JobRetryController\",\n            template: dialogTemplate,\n            appendTo: angular.element('.angular-app')\n          });\n\n          dialog.result\n            .then(function(result) {\n              if (result === \"finished\") {\n                // refresh filter and all views\n                $scope.processData.set(\n                  \"filter\",\n                  angular.extend({}, $scope.filter)\n                );\n              }\n            })\n            .catch(angular.noop);\n        };\n      }\n    ],\n    priority: 50\n  });\n};\n\nConfiguration.$inject = [\"ViewsProvider\"];\n\nmodule.exports = Configuration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/incident-job-retry-action.html -->\n<a class=\"btn btn-default action-button\"\n   ng-click=\"openJobRetryDialog(incident)\"\n   ng-show=\"incident.incidentType === 'failedJob' && incident.configuration\"\n   uib-tooltip=\"{{ 'PLUGIN_INC_JOB_RETRY_TOOLTIP_RETRIES' | translate }}\"\n   tooltip-placement=\"left\">\n  <span class=\"glyphicon glyphicon-repeat\"></span>\n</a>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/incident-job-retry-action.html -->`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\nvar actionTemplate = require(\"./incident-external-task-action.html.js\");\nvar dialogTemplate = require(\"./job-retry-dialog.html.js\");\n\nvar Configuration = function PluginConfiguration(ViewsProvider) {\n  ViewsProvider.registerDefaultView(\"cockpit.incident.action\", {\n    id: \"increase-incident-external-task-retry\",\n    template: actionTemplate,\n    controller: [\n      \"$scope\",\n      \"$rootScope\",\n      \"search\",\n      \"$uibModal\",\n      function($scope, $rootScope, search, $modal) {\n        $scope.openExternalTaskRetryDialog = function(incident) {\n          var dialog = $modal.open({\n            resolve: {\n              incident: function() {\n                return incident;\n              }\n            },\n            controller: \"ExternalTaskRetryController\",\n            template: dialogTemplate,\n            appendTo: angular.element('.angular-app')\n          });\n\n          dialog.result\n            .then(function(result) {\n              if (result === \"finished\") {\n                // refresh filter and all views\n                $scope.processData.set(\n                  \"filter\",\n                  angular.extend({}, $scope.filter)\n                );\n              }\n            })\n            .catch(angular.noop);\n        };\n      }\n    ],\n    priority: 50\n  });\n};\n\nConfiguration.$inject = [\"ViewsProvider\"];\n\nmodule.exports = Configuration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/incident-external-task-retry-action.html -->\n<a class=\"btn btn-default action-button\"\n   ng-click=\"openExternalTaskRetryDialog(incident)\"\n   ng-show=\"incident.incidentType === 'failedExternalTask' && incident.configuration\"\n   uib-tooltip=\"{{ 'PLUGIN_INC_EXTERNAL_TOOLTIP_RETRIES' | translate }}\"\n   tooltip-placement=\"left\">\n  <span class=\"glyphicon glyphicon-repeat\"></span>\n</a>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/incident-external-task-retry-action.html -->`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\nvar moment = require(\"../../../../../camunda-commons-ui/vendor/moment\");\n\nvar jobsTemplate = require(\"./jobs-tab.html.js\");\nvar jobRescheduleTemplate = require(\"./jobs-reschedule-modal.html.js\");\n\nvar Configuration = function PluginConfiguration(ViewsProvider) {\n  ViewsProvider.registerDefaultView(\"cockpit.processInstance.runtime.tab\", {\n    id: \"jobs-tab\",\n    label: \"PLUGIN_JOBS_LABEL\",\n    template: jobsTemplate,\n    priority: 0,\n    controller: [\n      \"$scope\",\n      \"camAPI\",\n      \"Notifications\",\n      \"$translate\",\n      \"$uibModal\",\n      \"localConf\",\n      \"$q\",\n      function(\n        $scope,\n        camAPI,\n        Notifications,\n        $translate,\n        $modal,\n        localConf,\n        $q\n      ) {\n        var jobProvider = camAPI.resource(\"job\");\n        var jobDefinitionProvider = camAPI.resource(\"job-definition\");\n        var processInstance = $scope.processInstance;\n\n        $scope.pages = { size: 50, total: 0, current: 1 };\n        $scope.bpmnElements = [];\n\n        var sorting = ($scope.sorting = loadLocal({\n          sortBy: \"jobId\",\n          sortOrder: \"desc\"\n        }));\n\n        // prettier-ignore\n        $scope.headColumns = [\n          { class: 'id', request: 'jobId', sortable: true, content: $translate.instant('PLUGIN_JOBS_ID') },\n          { class: 'dueDate', request: 'jobDueDate', sortable: true, content: $translate.instant('PLUGIN_JOBS_DATE') },\n          { class: 'createTime', request: 'createTime', sortable: false, content: $translate.instant('PLUGIN_JOBS_CREATION_DATE') },\n          { class: 'retries', request: 'jobRetries', sortable: true, content: $translate.instant('PLUGIN_JOBS_RETRIES') },\n          { class: 'activityName', request: 'activityName', sortable: false, content: $translate.instant('PLUGIN_JOBS_ACTIVITY') },\n          { class: 'failedActivityId', request: 'failedActivityId', sortable: false, content: $translate.instant('PLGN_HIST_FAILING_ACTIVITY') },\n          { class: 'action', request: '', sortable: false, content: $translate.instant('PLUGIN_JOBS_ACTION') }\n        ];\n\n        function loadLocal(defaultValue) {\n          return localConf.get(\"sortPIJobsTab\", defaultValue);\n        }\n\n        $scope.onSortChange = function(sortObj) {\n          sorting = sortObj;\n          saveLocal(sorting);\n          updateView(sorting);\n        };\n\n        function saveLocal(sorting) {\n          localConf.set(\"sortPIJobsTab\", sorting);\n        }\n\n        $scope.onPaginationChange = function(pages) {\n          $scope.pages.current = pages.current;\n          updateView(sorting);\n        };\n\n        var updateView = function(sorting) {\n          var page = $scope.pages.current,\n            count = $scope.pages.size,\n            firstResult = (page - 1) * count;\n\n          var queryParams = {\n            processInstanceId: processInstance.id,\n            firstResult: firstResult,\n            maxResults: count,\n            sorting: [\n              {\n                sortBy: sorting.sortBy,\n                sortOrder: sorting.sortOrder\n              }\n            ]\n          };\n\n          //get 'count' of jobs\n          jobProvider.count(queryParams, function(error, response) {\n            $scope.pages.total = response;\n          });\n\n          //get current page and display it\n          $scope.loadingState = \"LOADING\";\n          jobProvider.list(queryParams, jobCallback);\n        };\n\n        var jobCallback = function(err, res) {\n          if (err) {\n            Notifications.addError({\n              status: $translate.instant(\"PLUGIN_JOBS\"),\n              message: $translate.instant(\"PLUGIN_JOBS_LOADING_ERROR\")\n            });\n          } else {\n            //Load Job definitions\n            $scope.jobs = res;\n\n            var jobDefinitionIds = $scope.jobs.reduce(function(\n              accumulate,\n              current\n            ) {\n              // IE11 - Sets return undefined after .add()\n              if (current.jobDefinitionId) {\n                accumulate.add(current.jobDefinitionId);\n              }\n              return accumulate;\n            },\n            new Set());\n\n            var promises = [];\n            jobDefinitionIds.forEach(function(id) {\n              promises.push(jobDefinitionProvider.get(id));\n            });\n\n            $q.all(promises).then(function(res) {\n              var processDefinitions = res;\n              $scope.jobs = $scope.jobs.map(function(job) {\n                var definition = processDefinitions.filter(function(\n                  definition\n                ) {\n                  return definition.id === job.jobDefinitionId;\n                })[0];\n\n                if (definition) {\n                  job.activityId = definition.activityId;\n                }\n                return job;\n              });\n\n              updateActivityNames();\n              $scope.loadingState = $scope.jobs.length ? \"LOADED\" : \"EMPTY\";\n            });\n          }\n        };\n\n        var recalculateDate = function(job, useCreationDate) {\n          jobProvider.recalculateDuedate(\n            { id: job.id, creationDateBased: useCreationDate },\n            function(err) {\n              if (err) {\n                Notifications.addError({\n                  status: $translate.instant(\"PLUGIN_JOBS_RECALCULATE_ERROR\"),\n                  message: $translate.instant(\n                    \"PLUGIN_JOBS_RECALCULATE_ERROR_MESSAGE\"\n                  ),\n                  exclusive: true\n                });\n              } else {\n                Notifications.addMessage({\n                  status: $translate.instant(\"PLUGIN_JOBS_RECALCULATE_SUCCESS\"),\n                  message: $translate.instant(\n                    \"PLUGIN_JOBS_RECALCULATE_SUCCESS_MESSAGE\"\n                  ),\n                  exclusive: true\n                });\n                updateJob(job);\n              }\n            }\n          );\n        };\n\n        var setDuedate = function(job, date, cascade) {\n          jobProvider.setDuedate(\n            { id: job.id, duedate: date, cascade: cascade },\n            function(err) {\n              if (err) {\n                Notifications.addError({\n                  status: $translate.instant(\"PLUGIN_JOBS_RECALCULATE_ERROR\"),\n                  message: $translate.instant(\n                    \"PLUGIN_JOBS_SET_DUEDATE_ERROR_MESSAGE\"\n                  ),\n                  exclusive: true\n                });\n              } else {\n                Notifications.addMessage({\n                  status: $translate.instant(\"PLUGIN_JOBS_RECALCULATE_SUCCESS\"),\n                  message: $translate.instant(\n                    \"PLUGIN_JOBS_SET_DUEDATE_SUCCESS_MESSAGE\"\n                  ),\n                  exclusive: true\n                });\n                updateJob(job);\n              }\n            }\n          );\n        };\n\n        var updateJob = function(job) {\n          jobProvider.get(job.id, function(err, res) {\n            if (res) {\n              //use cached activityName to avoid unnecessary requests\n              res.activityName = job.activityName;\n              res.activityId = job.activityId;\n              $scope.jobs[$scope.jobs.indexOf(job)] = res;\n            }\n          });\n        };\n\n        $scope.openRecalculationWindow = function(job) {\n          $modal\n            .open({\n              controller: [\n                \"$scope\",\n                \"$filter\",\n                function($scope, $filter) {\n                  var dateFilter = $filter(\"date\"),\n                    dateFormat = \"yyyy-MM-dd'T'HH:mm:ss\";\n\n                  $scope.cascade = true;\n                  $scope.date = dateFilter(Date.now(), dateFormat);\n                  $scope.submit = function() {\n                    switch ($scope.recalculationType) {\n                      case \"specific\":\n                        setDuedate(\n                          job,\n                          moment($scope.date, moment.ISO_8601).format(\n                            \"YYYY-MM-DDTHH:mm:ss.SSSZZ\"\n                          ),\n                          $scope.cascade\n                        );\n                        break;\n                      case \"now\":\n                        recalculateDate(job, false);\n                        break;\n                      case \"creation\":\n                        recalculateDate(job, true);\n                        break;\n                      default:\n                        console.log(\"invalid or no recalculation type set\");\n                    }\n                    $scope.status = \"DONE\";\n                  };\n\n                  $scope.isValid = function() {\n                    return $scope.recalculationType === \"specific\"\n                      ? this.rescheduleJobDuedateForm.$valid\n                      : true;\n                  };\n                }\n              ],\n              template: jobRescheduleTemplate,\n              appendTo: angular.element('.angular-app')\n            })\n            .result.catch(angular.noop);\n        };\n\n        $scope.toggleSuspension = function(job) {\n          jobProvider.suspended(\n            { id: job.id, suspended: !job.suspended },\n            function(err) {\n              if (err) {\n                Notifications.addError({\n                  status: $translate.instant(\"PLUGIN_JOBS_ERROR\"),\n                  message: $translate.instant(\"PLUGIN_JOBS_SUSPEND_FAILURE\"),\n                  exclusive: false,\n                  duration: 5000\n                });\n              } else {\n                job.suspended = !job.suspended;\n                Notifications.addMessage({\n                  status: $translate.instant(\"PLUGIN_JOBS_SUCCESS\"),\n                  message: $translate.instant(\"PLUGIN_JOBS_SUSPEND_SUCCESS\"),\n                  exclusive: false,\n                  duration: 5000\n                });\n              }\n            }\n          );\n        };\n\n        var updateActivityNames = function() {\n          //map job names to bpmn element name\n          angular.forEach($scope.jobs, function(job) {\n            var activityId = job.activityId,\n              bpmnElement = $scope.bpmnElements[activityId];\n\n            job.activityName =\n              (bpmnElement && (bpmnElement.name || bpmnElement.id)) ||\n              activityId;\n\n            var failedActivityId = job.failedActivityId;\n            var failedElement = $scope.bpmnElements[failedActivityId];\n            job.failedActivityName =\n              (failedElement && (failedElement.name || failedElement.id)) ||\n              failedActivityId;\n          });\n        };\n\n        $scope.processData.observe([\"bpmnElements\"], function(bpmnElements) {\n          $scope.bpmnElements = bpmnElements;\n          updateActivityNames();\n        });\n\n        $scope.loadingState = \"LOADING\";\n      }\n    ]\n  });\n};\n\nConfiguration.$inject = [\"ViewsProvider\"];\n\nmodule.exports = Configuration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/jobs-tab.html -->\n\n<div cam-widget-loader\nloading-state=\"{{ loadingState }}\"\ntext-empty=\"{{ 'PLUGIN_JOBS_NO_JOBS' | translate }}\">\n\n  <table class=\"jobs-tab cam-table\">\n\n    <thead sortable-table-head\n      head-columns=\"headColumns\"\n      on-sort-change=\"onSortChange(sortObj)\"\n      default-sort=\"sorting\">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat=\"job in jobs\">\n        <td class=\"id\">\n            <span cam-widget-clipboard=\"job.id\">{{job.id}}</span>\n        </td>\n        <td class=\"date\">\n            <span ng-if=\"job.dueDate\" cam-widget-clipboard=\"job.dueDate | camDate\">{{job.dueDate | camDate}}</span>\n            <span ng-if=\"!job.dueDate\" class=\"null-value\">null</span>\n        </td>\n        <td>\n            <span cam-widget-clipboard=\"job.createTime | camDate\">{{job.createTime | camDate}}</span>\n        </td>\n        <td>\n          {{job.retries}}\n        </td>\n        <td>\n          <a ng-href=\"#/process-instance/{{ processInstance.id }}/runtime?activityIds={{job.activityId}}&amp;tab=jobs-tab\">\n            {{job.activityName}}\n          </a>\n        </td>\n        <td>\n          <span ng-if=\"job.failedActivityId\"\n          cam-widget-clipboard=\"job.failedActivityId\">\n            {{ job.failedActivityName }}\n          </span>\n        </td>\n        <td>\n            <a class=\"btn btn-sm btn-default action-button\"\n               ng-click=\"toggleSuspension(job)\"\n               ng-if=\"job.suspended\"\n               uib-tooltip=\"{{ 'PLUGIN_JOBS_RESUME_TOOLTIP' | translate }}\"\n               tooltip-placement=\"left\">\n\n              <span class=\"glyphicon glyphicon-play\"></span>\n            </a>\n            <a class=\"btn btn-sm btn-default action-button\"\n               ng-click=\"toggleSuspension(job)\"\n               ng-if=\"!job.suspended\"\n               uib-tooltip=\"{{ 'PLUGIN_JOBS_SUSPEND_TOOLTIP' | translate }}\"\n               tooltip-placement=\"left\">\n\n              <span class=\"glyphicon glyphicon-pause\"></span>\n            </a>\n            <a class=\"btn btn-sm btn-default action-button\"\n               ng-click=\"openRecalculationWindow(job)\"\n               ng-if=\"job.dueDate\"\n               uib-tooltip=\"{{ 'PLUGIN_JOB_RECALCULATE_TOOLTIP' | translate }}\"\n               tooltip-placement=\"left\">\n\n              <span class=\"glyphicon glyphicon-time\"></span>\n            </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div cam-pagination=\"onPaginationChange(pages)\" total=\"pages.total\"></div>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/jobs-tab.html -->`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/ui/cockpit/plugins/base/app/views/processInstance/jobs-reschedule-modal.html -->\n<div class=\"modal-header\">\n  <h3 class=\"modal-title\">{{ 'PLUGIN_JOBS_MODAL_TITLE' | translate  }}</h3>\n</div>\n\n<div class=\"modal-body\">\n  <div notifications-panel></div>\n\n\n  <div ng-hide=\"status === 'DONE'\">\n    <p class=\"\">{{ 'PLUGIN_JOBS_MODAL_DESCRIPTION' | translate }}</p>\n    <form name=\"rescheduleJobDuedateForm\" class=\"form-horizontal\">\n      <fieldset>\n        <div class=\"form-group\">\n          <label class=\"control-label col-xs-4\">\n                  {{'PLUGIN_JOBS_RECALCULATE' | translate}}\n\n            <span uib-tooltip=\"{{'PLUGIN_JOBS_RECALCULATE_TOOLTIP' | translate}}\"\n                  tooltip-placement=\"right\">\n              <span class=\"glyphicon glyphicon-question-sign\"></span>\n            </span>\n          </label>\n\n          <div class=\"col-xs-8\">\n              <label class=\"radio\">\n                <input type=\"radio\" ng-model=\"recalculationType\" value=\"creation\">\n                {{ 'PLUGIN_JOBS_FROM_CREATION' | translate }}\n              </label>\n\n            <label class=\"radio\">\n                <input type=\"radio\" ng-model=\"recalculationType\" value=\"now\">\n                {{ 'PLUGIN_JOBS_FROM_NOW' | translate }}\n            </label>\n          </div>\n        </div>\n\n        <div class=\"form-group\">\n          <label class=\"control-label col-xs-4\">\n                  {{'PLUGIN_JOBS_SPECIFIC_DATE' | translate}}\n\n            <span uib-tooltip=\"{{'PLUGIN_JOBS_SPECIFIC_DATE_TOOLTIP' | translate}}\"\n                  tooltip-placement=\"right\">\n              <span class=\"glyphicon glyphicon-question-sign\"></span>\n            </span>\n          </label>\n\n          <div class=\"col-xs-8\">\n              <label class=\"radio\">\n                <input type=\"radio\" ng-model=\"recalculationType\" value=\"specific\">\n              </label>\n          </div>\n        </div>\n        <div class=\"form-group\"\n            ng-show=\"recalculationType==='specific'\">\n          <label class=\"control-label col-xs-4\">\n            {{'PLUGIN_JOBS_CASCADE' | translate}}\n\n          <span uib-tooltip=\"{{'PLUGIN_JOBS_CASCADE_TOOLTIP' | translate}}\"\n                tooltip-placement=\"right\">\n            <span class=\"glyphicon glyphicon-question-sign\"></span>\n          </span>\n          </label>\n\n          <div class=\"col-xs-8\">\n            <label class=\"checkbox\">\n                <input type=\"checkbox\" ng-model=\"cascade\">\n            </label>\n          </div>\n\n          <label class=\"control-label col-xs-4\">\n            {{'PLUGIN_JOBS_DATE_INPUT' | translate}}\n          </label>\n\n          <div class=\"col-xs-8\">\n            <input date type=\"text\" ng-model=\"date\" name=\"dateValue\" ng-disabled=\"recalculationType!=='specific'\" class=\"form-control\">\n            <p class=\"invalid\" ng-show=\"this.rescheduleJobDuedateForm.$error.datePattern\">\n              {{ 'PLUGIN_JOBS_VALID_PATTERN' | translate }}\n            </p>\n          </div>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n   <button ng-click=\"$dismiss()\"\n          class=\"btn btn-default\">\n    {{ 'PLUGIN_JOBS_CLOSE' | translate }}\n  </button>\n  <button ng-click=\"submit()\"\n          class=\"btn btn-primary\"\n          ng-disabled=\"!isValid()\"\n          ng-hide=\"status === 'DONE'\">\n\n    {{ 'PLUGIN_JOBS_CHANGE' | translate }}\n  </button>\n</div>\n<!-- / CE - camunda-bpm-webapp/ui/cockpit/plugins/base/app/views/processInstance/jobs-reschedule-modal.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\"),\n  processDefinition = require(\"./processDefinition\"),\n  processInstance = require(\"./processInstance\");\n\nvar ngModule = angular.module(\"cockpit.plugin.base.resources\", []);\n\nngModule.factory(\"PluginProcessDefinitionResource\", processDefinition);\nngModule.factory(\"PluginProcessInstanceResource\", processInstance);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$resource\",\n  \"Uri\",\n  function($resource, Uri) {\n    return $resource(\n      Uri.appUri(\"plugin://base/:engine/process-definition/:id/:action\"),\n      { id: \"@id\" },\n      {\n        getCalledProcessDefinitions: {\n          method: \"POST\",\n          isArray: true,\n          params: { action: \"called-process-definitions\" }\n        }\n      }\n    );\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$resource\",\n  \"Uri\",\n  function($resource, Uri) {\n    return $resource(\n      Uri.appUri(\"plugin://base/:engine/process-instance/:id/:action\"),\n      { id: \"@id\" },\n      {\n        query: {\n          method: \"POST\",\n          isArray: true\n        },\n\n        delete: {\n          url: Uri.appUri(\"engine://engine/:engine/process-instance/:id\"),\n          method: \"DELETE\"\n        },\n\n        count: {\n          method: \"POST\",\n          isArray: false,\n          params: { id: \"count\" }\n        },\n\n        processInstances: {\n          method: \"POST\",\n          isArray: true,\n          params: {\n            action: \"called-process-instances\"\n          }\n        },\n\n        // deprecated\n        getCalledProcessInstances: {\n          method: \"POST\",\n          isArray: true,\n          params: {\n            action: \"called-process-instances\"\n          }\n        }\n      }\n    );\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\"),\n  processDefinition = require(\"./dashboard/processDefinitionStatisticsData\");\n\nvar ngModule = angular.module(\"cockpit.plugin.base.data\", []);\n\nngModule.config(processDefinition);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nvar Controller = [\n  \"$scope\",\n  \"processData\",\n  \"ProcessDefinitionResource\",\n  function($scope, processData, ProcessDefinitionResource) {\n    processData.provide(\"processDefinitionsWithRootIncidents\", function() {\n      return ProcessDefinitionResource.queryStatistics({\n        rootIncidents: true\n      }).$promise;\n    });\n\n    processData.provide(\"processDefinitions\", function() {\n      return ProcessDefinitionResource.queryStatistics({\n        incidents: true\n      }).$promise;\n    });\n\n    processData.provide(\"processDefinitionStatistics\", [\n      \"processDefinitions\",\n      function(processDefinitions) {\n        return aggregateStatistics(processDefinitions);\n      }\n    ]);\n\n    processData.provide(\"processDefinitionWithRootIncidentsStatistics\", [\n      \"processDefinitionsWithRootIncidents\",\n      function(processDefinitions) {\n        return aggregateStatistics(processDefinitions);\n      }\n    ]);\n\n    /**\n     * Returns an aggregated list over the statistics.\n     *\n     * Summarize the statistics of process definitions\n     * which have the same process definition key and\n     * tenant id to one item. This item contains the\n     * latest process definition name (if there does not\n     * exist a name the process definition key will be\n     * used as the process definition name).\n     *\n     * Furthermore, the number of instances, failed jobs\n     * and incidents will be aggregated over all versions\n     * of a process definition key and tenant id.\n     *\n     */\n    var aggregateStatistics = function(statistics) {\n      // represents a map which contains to definition key and tenant id\n      // the corresponding statistics.\n      var statisticsResult = [];\n      // the result to return\n      var result = [];\n\n      // iterate over assigned statistics\n      angular.forEach(statistics, function(currentStatistic) {\n        // get the statistics to the definition key of the current item\n        var statisticsForDefinition =\n          statisticsResult[currentStatistic.definition.key];\n\n        if (!statisticsForDefinition) {\n          // create an array for tenants if not exists\n          statisticsResult[currentStatistic.definition.key] = [];\n        }\n\n        // get the statistic for the tenant id of the current item\n        var statistic =\n          statisticsResult[currentStatistic.definition.key][\n            currentStatistic.definition.tenantId\n          ];\n\n        if (!statistic) {\n          // if there does not exists a statistic to the definition key\n          // then create a copy of the current item (currentStatistic).\n          statistic = angular.copy(currentStatistic);\n\n          if (!statistic.definition.name) {\n            // if there does not exist a name then set definition key\n            // as the name of the definition.\n            statistic.definition.name = statistic.definition.key;\n          }\n\n          // put the statistic into the map of statistics\n          statisticsResult[statistic.definition.key][\n            currentStatistic.definition.tenantId\n          ] = statistic;\n\n          // add the statistic to the result set\n          result.push(statistic);\n        } else {\n          if (\n            currentStatistic.definition.version > statistic.definition.version\n          ) {\n            // if the version of the current statistic, then create copy from them.\n            statistic.definition = currentStatistic.definition;\n            statistic.id = currentStatistic.id;\n\n            // if there does not exist a name then set definition key\n            // as the name of the definition.\n            statistic.definition.name =\n              statistic.definition.name || statistic.definition.key;\n          }\n\n          // Add the saved values to the corresponding values of the current statistic\n          statistic.instances += currentStatistic.instances;\n          statistic.failedJobs += currentStatistic.failedJobs;\n\n          angular.forEach(currentStatistic.incidents, function(incident) {\n            var incidentType = incident.incidentType;\n            var incidentCount = incident.incidentCount;\n\n            var newIncident = true;\n            for (var i = 0; i < statistic.incidents.length; i++) {\n              var statisticIncident = statistic.incidents[i];\n              if (statisticIncident.incidentType === incidentType) {\n                statisticIncident.incidentCount =\n                  incidentCount + statisticIncident.incidentCount;\n                newIncident = false;\n              }\n            }\n\n            if (newIncident) {\n              // merge the incidents\n              statistic.incidents.push(incident);\n            }\n          });\n        }\n      });\n\n      return result;\n    };\n  }\n];\n\nvar Configuration = function PluginConfiguration(DataProvider) {\n  DataProvider.registerData(\"cockpit.dashboard.data\", {\n    id: \"process-definition-statistics-data\",\n    controller: Controller\n  });\n};\n\nConfiguration.$inject = [\"DataProvider\"];\n\nmodule.exports = Configuration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @namespace cam.cockpit.plugin\n */\n\n/**\n * @namespace cam.cockpit.plugin.decisionList\n */\n\nvar angular = require(\"angular\"),\n  viewsModule = require(\"./views/main\");\n\nmodule.exports = angular.module(\"cockpit.plugin.decisionList\", [\n  viewsModule.name\n]);\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\"),\n  dashboard = require(\"./dashboard\"),\n  // decision definition\n  decisionInstanceTable = require(\"./decisionDefinition/decisionInstanceTable\"),\n  // decision instance\n  inputTable = require(\"./decisionInstance/inputTable\"),\n  outputTable = require(\"./decisionInstance/outputTable\"),\n  // decision instance table\n  highlightRules = require(\"./decisionInstance/highlightRules\"),\n  realInput = require(\"./decisionInstance/realInput\"),\n  realOutput = require(\"./decisionInstance/realOutput\");\n\nvar ngModule = angular.module(\"cockpit.plugin.decisionList.views\", [\n  dashboard.name\n]);\n\nngModule.config(decisionInstanceTable);\nngModule.config(inputTable);\nngModule.config(outputTable);\nngModule.config(highlightRules);\nngModule.config(realInput);\nngModule.config(realOutput);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\nvar camCommon = require(\"cam-common\");\nvar decisionList = require(\"./views/decision-list\");\nvar DecisionListController = require(\"./controllers/decision-list\");\nvar decisionListService = require(\"./services/decision-list\");\nvar decisionsTableComponent = require(\"./components/decisions-table\");\n\nvar ngModule = angular.module(\"cockpit.plugin.decisionList.views.dashboard\", [\n  camCommon.name\n]);\n\nngModule.config(decisionList);\n\nngModule.factory(\"decisionList\", decisionListService);\n\nngModule.controller(\"DecisionListController\", DecisionListController);\n\nngModule.directive(\"decisionsTable\", decisionsTableComponent);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./decision-list.html.js\");\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.decisions.dashboard\", {\n      id: \"decision-list\",\n      label: \"Deployed Decision Tables\",\n      template: template,\n      controller: \"DecisionListController\",\n      priority: -5 // display below the process definition list\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/dashboard/decision-list.html -->\n<div class=\"deployed-decisions\"\n     cam-widget-loader\n     loading-state=\"{{ loadingState }}\"\n     text-error=\"{{ loadingError }}\">\n\n  <div decisions-table\n       decisions=\"decisions\"\n       decision-count=\"decisionCount\"\n       is-drd-available=\"isDrdDashboardAvailable\"\n       pagination=\"paginationController\">\n  </div>\n\n  <view provider=\"drdDashboard\"\n        vars=\"drdDashboardVars\">\n  </view>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/dashboard/decision-list.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nmodule.exports = [\n  \"$scope\",\n  \"decisionList\",\n  \"Views\",\n  \"localConf\",\n  \"$location\",\n  \"search\",\n  function($scope, decisionList, Views, localConf, $location, search) {\n    $scope.loadingState = \"LOADING\";\n    $scope.drdDashboard = Views.getProvider({\n      component: \"cockpit.plugin.drd.dashboard\"\n    });\n    $scope.isDrdDashboardAvailable = !!$scope.drdDashboard;\n\n    var initialSearch = $location.search();\n\n    var pages = ($scope.paginationController = {\n      decisionPages: {\n        size: 50,\n        total: 0,\n        current: initialSearch.decisionPage || 1\n      },\n      drdPages: { size: 50, total: 0, current: initialSearch.drdPage || 1 },\n      changeDecisionPage: changeDecisionPage,\n      changeDecisionSorting: changeDecisionSorting,\n      changeDrdPage: changeDrdPage,\n      changeDrdSorting: changeDrdSorting\n    });\n\n    var decisionSorting = localConf.get(\"sortDecDefTable\", {\n      sortBy: \"name\",\n      sortOrder: \"asc\"\n    });\n    var drdSorting = localConf.get(\"sortDRDTab\", {\n      sortBy: \"name\",\n      sortOrder: \"asc\"\n    });\n\n    function changeDrdPage(pages) {\n      $scope.loadingState = \"LOADING\";\n      search.updateSilently({ drdPage: pages.current });\n      $scope.paginationController.drdPages.current = pages.current;\n      updateDrdPage();\n    }\n\n    function changeDecisionSorting(sorting) {\n      decisionSorting = sorting;\n      localConf.set(\"sortDecDefTable\", sorting);\n      updateDecisionPage();\n    }\n\n    function changeDrdSorting(sorting) {\n      drdSorting = sorting;\n      localConf.set(\"sortDRDTab\", sorting);\n      updateDrdPage();\n    }\n\n    function changeDecisionPage(pages) {\n      $scope.loadingState = \"LOADING\";\n      search.updateSilently({ decisionPage: pages.current });\n      $scope.paginationController.decisionPages.current = pages.current;\n      updateDecisionPage();\n    }\n\n    function updateDrdPage() {\n      decisionList\n        .getDrds(\n          angular.extend(\n            {},\n            {\n              firstResult: (pages.drdPages.current - 1) * pages.drdPages.size,\n              maxResults: pages.drdPages.size\n            },\n            drdSorting\n          )\n        )\n        .then(function(data) {\n          $scope.loadingState = \"LOADED\";\n\n          $scope.drds = data;\n        });\n    }\n\n    function updateDecisionPage() {\n      decisionList\n        .getDecisions(\n          angular.extend(\n            {},\n            {\n              firstResult:\n                (pages.decisionPages.current - 1) * pages.decisionPages.size,\n              maxResults: pages.decisionPages.size\n            },\n            decisionSorting\n          )\n        )\n        .then(function(data) {\n          $scope.loadingState = \"LOADED\";\n\n          $scope.decisions = data;\n        });\n    }\n\n    decisionList\n      .getDecisionsLists(\n        angular.extend(\n          {},\n          {\n            firstResult:\n              (pages.decisionPages.current - 1) * pages.decisionPages.size,\n            maxResults: pages.decisionPages.size\n          },\n          decisionSorting\n        ),\n        angular.extend(\n          {},\n          {\n            firstResult: (pages.drdPages.current - 1) * pages.drdPages.size,\n            maxResults: pages.drdPages.size\n          },\n          drdSorting\n        )\n      )\n      .then(function(data) {\n        $scope.loadingState = \"LOADED\";\n\n        pages.decisionPages.total = $scope.decisionCount = data.decisionsCount;\n        $scope.decisions = data.decisions;\n\n        pages.drdPages.total = $scope.drdsCount = data.drdsCount;\n\n        $scope.drds = data.drds;\n      })\n      .catch(function(err) {\n        $scope.loadingError = err.message;\n        $scope.loadingState = \"ERROR\";\n\n        throw err;\n      });\n\n    $scope.drdDashboardVars = {\n      read: [\"drdsCount\", \"drds\", \"paginationController\"]\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$q\",\n  \"camAPI\",\n  function($q, camAPI) {\n    var decisionDefinitionService = camAPI.resource(\"decision-definition\");\n    var drdService = camAPI.resource(\"drd\");\n\n    var drds, decisions;\n\n    var defaultParams = {\n      latestVersion: true,\n      sortBy: \"name\",\n      sortOrder: \"asc\",\n      firstResult: 0,\n      maxResults: 50\n    };\n\n    function getDecisions(params) {\n      return decisionDefinitionService\n        .list(Object.assign({}, defaultParams, params))\n        .then(function(result) {\n          decisions = result;\n\n          if (drds) result = connectDrdsToDecisionDefinitions(drds, result);\n\n          return result;\n        });\n    }\n\n    function getDrds(params) {\n      return drdService\n        .list(Object.assign({}, defaultParams, params))\n        .then(function(result) {\n          drds = result;\n\n          if (decisions)\n            result = connectDrdsToDecisionDefinitions(drds, result);\n\n          return result;\n        });\n    }\n\n    function getDecisionsLists(decParams, drdParams) {\n      var decisionsProm = decisionDefinitionService.list(\n        Object.assign({}, defaultParams, decParams)\n      );\n\n      var decisionsCountProm = decisionDefinitionService.count({\n        latestVersion: true\n      });\n\n      var drdsProm = drdService.list(\n        Object.assign({}, defaultParams, drdParams)\n      );\n\n      var drdsCountProm = drdService.count({\n        latestVersion: true\n      });\n\n      return $q\n        .all({\n          decisions: decisionsProm,\n          decisionsCount: decisionsCountProm,\n          drds: drdsProm,\n          drdsCount: drdsCountProm\n        })\n        .then(function(results) {\n          drds = results.drds;\n          decisions = results.decisions;\n\n          decisions = results.decisions = connectDrdsToDecisionDefinitions(\n            results.drds,\n            results.decisions\n          );\n          results.drdsCount = results.drdsCount.count;\n\n          return results;\n        })\n        .catch(function() {});\n    }\n\n    function connectDrdsToDecisionDefinitions(drds, decisions) {\n      return decisions.map(function(decision) {\n        if (decision.decisionRequirementsDefinitionId) {\n          decision.drd = findDrdById(\n            drds,\n            decision.decisionRequirementsDefinitionId\n          ) || {\n            key: decision.decisionRequirementsDefinitionKey,\n            id: decision.decisionRequirementsDefinitionId\n          };\n        }\n\n        return decision;\n      });\n    }\n\n    function findDrdById(drds, id) {\n      return drds.filter(function(drd) {\n        return drd.id === id;\n      })[0];\n    }\n\n    return {\n      getDecisionsLists: getDecisionsLists,\n      getDecisions: getDecisions,\n      getDrds: getDrds\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./decisions-table.html.js\");\n\nmodule.exports = function() {\n  return {\n    restrict: \"A\",\n    template: template,\n    scope: {\n      decisionCount: \"=\",\n      decisions: \"=\",\n      isDrdAvailable: \"=\",\n      pagination: \"=\"\n    },\n    controller: [\n      \"$scope\",\n      \"localConf\",\n      \"$translate\",\n      function($scope, localConf, $translate) {\n        // prettier-ignore\n        $scope.headColumns = [\n          {class: 'name', request: 'name', sortable: true, content: $translate.instant('PLUGIN_DECISION_TABLE_NAME')},\n          {class: 'tenant-id', request: 'tenantId', sortable: true, content: $translate.instant('PLUGIN_DECISION_TABLE_TENANT_ID')},\n          {class: 'drd', request: 'decisionRequirementsDefinitionKey', sortable: true, content: $translate.instant('PLUGIN_DECISION_TABLE_DECISION_REQUIREMENTS'), condition: $scope.isDrdAvailable}\n        ];\n\n        // Default sorting\n        var defaultValue = {\n          sortBy: \"name\",\n          sortOrder: \"asc\"\n        };\n        $scope.sortObj = loadLocal(defaultValue);\n\n        // Update Table\n        $scope.onSortChange = function(sortObj) {\n          sortObj = sortObj || $scope.sortObj;\n          $scope.sortObj = sortObj;\n\n          $scope.pagination.changeDecisionSorting(sortObj);\n        };\n\n        function loadLocal(defaultValue) {\n          return localConf.get(\"sortDecDefTable\", defaultValue);\n        }\n      }\n    ]\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<section>\n  <div class=\"inner\">\n    <header ng-if=\"decisionCount\">\n      <h1 class=\"section-title\"\n          ng-if=\"decisionCount > 1\"\n          translate=\"PLUGIN_DECISION_TABLE_TITLE_DEFINITIONS\"\n          translate-values='{count: decisionCount}'></h1>\n\n      <h1 class=\"section-title\"\n          ng-if=\"decisionCount <= 1\"\n          translate=\"PLUGIN_DECISION_TABLE_TITLE_DEFINITION\"\n          translate-values='{count: decisionCount}'></h1>\n    </header>\n\n    <header class='header-empty' ng-if=\"!decisionCount\">\n      <h1 class=\"section-title\">{{ 'PLUGIN_DECISION_TABLE_NO_DECISION_TABLES_DEPLOYED' | translate }}</h1>\n    </header>\n\n    <table class=\"decision-definitions-list cam-table\"\n           ng-if=\"decisionCount\">\n\n      <thead sortable-table-head\n             head-columns=\"headColumns\"\n             on-sort-change=\"onSortChange(sortObj)\"\n             default-sort=\"sortObj\">\n      </thead>\n\n      <tbody>\n      <tr ng-repeat=\"decision in decisions\">\n        <td class=\"name\">\n          <a href=\"#/decision-definition/{{ decision.id }}\">\n            {{ decision.name || decision.key }}\n          </a>\n        </td>\n        <td class=\"tenant-id\">\n          {{ decision.tenantId }}\n        </td>\n        <td class=\"drd\" ng-if=\"isDrdAvailable\">\n          <a href=\"#/decision-requirement/{{ decision.drd.id }}\">\n            {{ decision.drd.name || decision.drd.key }}\n          </a>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n\n    <ul uib-pagination ng-if=\"pagination.decisionPages.total > pagination.decisionPages.size\"\n      class=\"pagination-sm\"\n\n      page=\"pagination.decisionPages.current\"\n      ng-model=\"pagination.decisionPages.current\"\n      ng-change=\"pagination.changeDecisionPage(pagination.decisionPages)\"\n\n      total-items=\"pagination.decisionPages.total\"\n      items-per-page=\"pagination.decisionPages.size\"\n\n      max-size=\"7\"\n      boundary-links=\"true\"></ul>\n\n  </div>\n</section>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nconst decisionSearchConfig = require(\"./decision-instance-search-config.json\");\n\nvar template = require(\"./decision-instance-table.html.js\");\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.decisionDefinition.tab\", {\n      id: \"decision-instances-table\",\n      label: \"DECISION_DEFINITION_LABEL\",\n      template: template,\n      controller: [\n        \"$scope\",\n        \"$location\",\n        \"search\",\n        \"routeUtil\",\n        \"camAPI\",\n        \"Views\",\n        \"$translate\",\n        \"localConf\",\n        function(\n          $scope,\n          $location,\n          search,\n          routeUtil,\n          camAPI,\n          Views,\n          $translate,\n          localConf\n        ) {\n          // prettier-ignore\n          $scope.headColumns = [\n          { class: 'instance-id',    request: ''          , sortable: false, content: $translate.instant('PLUGIN_DECISION_ID')},\n          { class: 'start-time',     request: 'evaluationTime'     , sortable: true, content: $translate.instant('PLUGIN_DECISION_EVALUATION_TIME')},\n          { class: 'definition-key', request: '', sortable: false, content: $translate.instant('PLUGIN_DECISION_CALLING_PROCESS_CASE')},\n          { class: 'instance-id',    request: '', sortable: false, content: $translate.instant('PLUGIN_DECISION_CALLING_INSTANCE_ID')},\n          { class: 'activity-id',    request: '', sortable: false, content: $translate.instant('PLUGIN_DECISION_ACTIVITY_ID')}\n        ];\n\n          // Default sorting\n          var defaultValue = { sortBy: \"evaluationTime\", sortOrder: \"desc\" };\n          $scope.sortObj = loadLocal(defaultValue);\n\n          var processInstancePlugins = Views.getProviders({\n            component: \"cockpit.processInstance.view\"\n          });\n          var hasHistoryPlugin =\n            processInstancePlugins.filter(function(plugin) {\n              return plugin.id === \"history\";\n            }).length > 0;\n\n          $scope.hasCasePlugin = false;\n          try {\n            $scope.hasCasePlugin = !!angular.module(\"cockpit.plugin.case\");\n          } catch (e) {\n            // do nothing\n          }\n\n          $scope.getProcessDefinitionLink = function(decisionInstance) {\n            if (hasHistoryPlugin) {\n              return (\n                \"#/process-definition/\" +\n                decisionInstance.processDefinitionId +\n                \"/history\"\n              );\n            } else {\n              return (\n                \"#/process-definition/\" + decisionInstance.processDefinitionId\n              );\n            }\n          };\n\n          $scope.getProcessInstanceLink = function(decisionInstance) {\n            if (hasHistoryPlugin) {\n              return (\n                \"#/process-instance/\" +\n                decisionInstance.processInstanceId +\n                \"/history\" +\n                \"?activityInstanceIds=\" +\n                decisionInstance.activityInstanceId +\n                \"&activityIds=\" +\n                decisionInstance.activityId\n              );\n            } else {\n              return \"#/process-instance/\" + decisionInstance.processInstanceId;\n            }\n          };\n\n          $scope.getActivitySearch = function(decisionInstance) {\n            return JSON.stringify([\n              {\n                type: \"caseActivityIdIn\",\n                operator: \"eq\",\n                value: decisionInstance.activityId\n              }\n            ]);\n          };\n\n          $scope.searchConfig = angular.copy(decisionSearchConfig);\n\n          var historyService = camAPI.resource(\"history\");\n\n          $scope.onSearchChange = updateView;\n          $scope.onSortChange = updateView;\n\n          function updateView(searchQuery, pages, sortObj) {\n            $scope.pagesObj = pages || $scope.pagesObj;\n            $scope.sortObj = sortObj || $scope.sortObj;\n\n            // Add default sorting param\n            if (sortObj) {\n              saveLocal(sortObj);\n            }\n\n            var page = $scope.pagesObj.current,\n              count = $scope.pagesObj.size,\n              firstResult = (page - 1) * count;\n\n            $scope.decisionInstances = null;\n            $scope.loadingState = \"LOADING\";\n\n            var decisionInstanceQuery = angular.extend(\n              {\n                decisionDefinitionId: $scope.decisionDefinition.id,\n                firstResult: firstResult,\n                maxResults: count,\n                sortBy: $scope.sortObj.sortBy,\n                sortOrder: $scope.sortObj.sortOrder\n              },\n              searchQuery\n            );\n\n            var countQuery = angular.extend(\n              {\n                decisionDefinitionId: $scope.decisionDefinition.id\n              },\n              searchQuery\n            );\n\n            return historyService\n              .decisionInstanceCount(countQuery)\n              .then(function(data) {\n                var total = data.count;\n\n                return historyService\n                  .decisionInstance(decisionInstanceQuery)\n                  .then(function(data) {\n                    $scope.decisionInstances = data;\n                    $scope.loadingState = data.length ? \"LOADED\" : \"EMPTY\";\n\n                    return total;\n                  })\n                  .catch(angular.noop);\n              })\n              .catch(angular.noop);\n          }\n\n          function saveLocal(sortObj) {\n            localConf.set(\"sortDecInstTab\", sortObj);\n          }\n          function loadLocal(defaultValue) {\n            return localConf.get(\"sortDecInstTab\", defaultValue);\n          }\n        }\n      ],\n      priority: 10\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionDefinition/decision-instance-table.html -->\n<div cam-searchable-area\n     config=\"searchConfig\"\n     array-types=\"['activityIdIn', 'activityInstanceIdIn']\"\n     variable-types=\"['variableValues']\"\n     on-search-change=\"onSearchChange(query, pages)\"\n     loading-state=\"loadingState\"\n     text-empty=\"{{ 'PLUGIN_DECISION_TABLE_NOT_FOUND' | translate }}\"\n     storage-group=\"'DI'\">\n\n  <table class=\"decision-instances cam-table cam-fixed-layout\">\n\n    <thead sortable-table-head\n           head-columns=\"headColumns\"\n           on-sort-change=\"onSortChange(searchQuery, pages, sortObj)\"\n           default-sort=\"sortObj\">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat=\"decisionInstance in decisionInstances\">\n        <td class=\"instance-id\"\n            cam-widget-clipboard=\"decisionInstance.id\">\n          <a ng-href=\"#/decision-instance/{{ decisionInstance.id }}\" title=\"{{ decisionInstance.id }}\">\n            {{ decisionInstance.id }}\n          </a>\n        </td>\n\n        <td class=\"start-time\"\n            cam-widget-clipboard=\"decisionInstance.evaluationTime | camDate\">\n          {{ decisionInstance.evaluationTime | camDate }}\n        </td>\n\n        <td class=\"definition-key\"\n            ng-if=\"decisionInstance.processDefinitionKey\"\n            cam-widget-clipboard=\"decisionInstance.processDefinitionKey\">\n          <a ng-href=\"{{ getProcessDefinitionLink(decisionInstance) }}\">\n            {{ decisionInstance.processDefinitionKey }}\n          </a>\n        </td>\n        <td class=\"definition-key\"\n            ng-if=\"decisionInstance.caseDefinitionKey\"\n            cam-widget-clipboard=\"decisionInstance.caseDefinitionKey\">\n          <a ng-if=\"hasCasePlugin\"\n             ng-href=\"#/case-definition/{{ decisionInstance.caseDefinitionId }}?searchQuery={{ getActivitySearch(decisionInstance) }}\">\n            {{ decisionInstance.caseDefinitionKey }}\n          </a>\n          <span ng-if=\"!hasCasePlugin\">\n            {{ decisionInstance.caseDefinitionKey }}\n          </span>\n        </td>\n        <td class=\"definition-key\"\n            ng-if=\"!decisionInstance.processDefinitionKey && !decisionInstance.caseDefinitionKey\">\n        </td>\n\n        <td class=\"instance-id\"\n            ng-if=\"decisionInstance.processInstanceId\"\n            cam-widget-clipboard=\"decisionInstance.processInstanceId\">\n          <a ng-href=\"{{ getProcessInstanceLink(decisionInstance) }}\">\n            {{ decisionInstance.processInstanceId }}\n          </a>\n        </td>\n        <td class=\"instance-id\"\n            ng-if=\"decisionInstance.caseInstanceId\"\n            cam-widget-clipboard=\"decisionInstance.caseInstanceId\">\n          <a ng-if=\"hasCasePlugin\"\n             ng-href=\"#/case-instance/{{ decisionInstance.caseInstanceId }}?searchQuery={{ getActivitySearch(decisionInstance) }}\">\n            {{ decisionInstance.caseInstanceId }}\n          </a>\n          <span ng-if=\"!hasCasePlugin\">\n            {{ decisionInstance.caseInstanceId }}\n          </span>\n        </td>\n        <td class=\"instance-id\"\n            ng-if=\"!decisionInstance.processInstanceId && !decisionInstance.caseInstanceId\">\n        </td>\n\n        <td class=\"activity-id\"\n            ng-if=\"decisionInstance.activityId\"\n            cam-widget-clipboard=\"decisionInstance.activityId\">\n          {{ decisionInstance.activityId }}\n        </td>\n        <td class=\"activity-id\"\n            ng-if=\"!decisionInstance.activityId\">\n        </td>\n\n      </tr>\n    </tbody>\n  </table>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionDefinition/decision-instance-table.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./input-variable-table.html.js\");\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.decisionInstance.tab\", {\n      id: \"decision-input-table\",\n      label: \"PLUGIN_INPUT_TABLE_LABEL\",\n      template: template,\n      controller: [\n        \"$scope\",\n        \"$translate\",\n        \"localConf\",\n        \"orderByFilter\",\n        function($scope, $translate, localConf, orderBy) {\n          $scope.loadingState =\n            $scope.decisionInstance.inputs.length > 0 ? \"LOADED\" : \"EMPTY\";\n          $scope.variables = $scope.decisionInstance.inputs.map(function(\n            variable\n          ) {\n            return {\n              variable: {\n                type: variable.type,\n                value: variable.value,\n                name: variable.clauseName || variable.clauseId,\n                valueInfo: variable.valueInfo\n              }\n            };\n          });\n\n          // prettier-ignore\n          $scope.headColumns = [\n          { class: 'name',  request: 'variable.name', sortable: true, content: $translate.instant('PLUGIN_VARIABLE_NAME')},\n          { class: 'type',  request: 'variable.type', sortable: true, content: $translate.instant('PLUGIN_VARIABLE_TYPE')},\n          { class: 'value', request: '', sortable: false, content: $translate.instant('PLUGIN_VARIABLE_VALUE')}\n        ];\n\n          // Default sorting\n          $scope.sortObj = loadLocal({\n            sortBy: \"variable.name\",\n            sortOrder: \"asc\",\n            sortReverse: false\n          });\n\n          $scope.onSortChange = function(sortObj) {\n            sortObj = sortObj || $scope.sortObj;\n            sortObj.sortReverse = sortObj.sortOrder !== \"asc\";\n            saveLocal(sortObj);\n            // Angular filter function\n            $scope.variables = orderBy(\n              $scope.variables,\n              sortObj.sortBy,\n              sortObj.sortReverse\n            );\n          };\n\n          function saveLocal(sortObj) {\n            localConf.set(\"sortDecisionInputTab\", sortObj);\n          }\n\n          function loadLocal(defaultValue) {\n            return localConf.get(\"sortDecisionInputTab\", defaultValue);\n          }\n        }\n      ],\n      priority: 20\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionInstance/input-variable-table.html -->\n<!-- <div ng-repeat=\"variable in variables\"\n     cam-widget-variable\n     cam-variable=\"variable\"\n     display=\"true\">\n</div> -->\n\n<div cam-widget-loader loading-state=\"{{loadingState}}\" text-empty=\"{{ 'PLUGIN_DECISION_LIS_NO_INPUT_TEXT' | translate }}\">\n  <div cam-widget-variables-table\n       cam-editable=\"[]\"\n       cam-variables=\"variables\"\n       default-sort = \"sortObj\"\n       on-sort-change=\"onSortChange(sortObj)\"\n       cam-headers=\"headColumns\"></div>\n</div>\n\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionInstance/input-variable-table.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./output-variable-table.html.js\");\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.decisionInstance.tab\", {\n      id: \"decision-input-table\",\n      label: \"PLUGIN_OUTPUT_TABLE_LABEL\",\n      template: template,\n      controller: [\n        \"$scope\",\n        \"$translate\",\n        \"localConf\",\n        \"orderByFilter\",\n        function($scope, $translate, localConf, orderBy) {\n          $scope.variables = $scope.decisionInstance.outputs.map(function(\n            variable\n          ) {\n            return {\n              variable: {\n                type: variable.type,\n                value: variable.value,\n                name:\n                  variable.clauseName ||\n                  variable.clauseId ||\n                  variable.variableName,\n                valueInfo: variable.valueInfo\n              }\n            };\n          });\n\n          // prettier-ignore\n          $scope.headColumns = [\n          { class: 'name',  request: 'variable.name', sortable: true, content: $translate.instant('PLUGIN_VARIABLE_NAME')},\n          { class: 'type',  request: 'variable.type', sortable: true, content: $translate.instant('PLUGIN_VARIABLE_TYPE')},\n          { class: 'value', request: '', sortable: false, content: $translate.instant('PLUGIN_VARIABLE_VALUE')}\n        ];\n\n          // Default sorting\n          $scope.sortObj = loadLocal({\n            sortBy: \"variable.name\",\n            sortOrder: \"asc\",\n            sortReverse: false\n          });\n\n          $scope.onSortChange = function(sortObj) {\n            sortObj = sortObj || $scope.sortObj;\n            sortObj.sortReverse = sortObj.sortOrder !== \"asc\";\n            saveLocal(sortObj);\n            // Angular filter function\n            $scope.variables = orderBy(\n              $scope.variables,\n              sortObj.sortBy,\n              sortObj.sortReverse\n            );\n          };\n\n          function saveLocal(sortObj) {\n            localConf.set(\"sortDecisionInputTab\", sortObj);\n          }\n\n          function loadLocal(defaultValue) {\n            return localConf.get(\"sortDecisionInputTab\", defaultValue);\n          }\n        }\n      ],\n      priority: 10\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionInstance/output-variable-table.html -->\n<!-- <div ng-repeat=\"variable in variables\"\n     cam-widget-variable\n     cam-variable=\"variable\"\n     display=\"true\">\n</div> -->\n\n<div cam-widget-variables-table\n     cam-editable=\"[]\"\n     cam-variables=\"variables\"\n     default-sort = \"sortObj\"\n     on-sort-change=\"onSortChange(sortObj)\"\n     cam-headers=\"headColumns\"></div>\n</div>\n\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionInstance/output-variable-table.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.decisionInstance.table\", {\n      id: \"highlightRules\",\n      initialize: function(data) {\n        data.decisionInstance.outputs.forEach(function(output) {\n          if (output.ruleId) {\n            data.tableControl.highlightRow(output.ruleId, \"highlight\");\n          }\n        });\n      }\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.decisionInstance.table\", {\n      id: \"realInput\",\n      initialize: function(data) {\n        var realInput, dataEl;\n        var inputHeaders = angular.element(\"th[data-col-id]\");\n\n        inputHeaders &&\n          inputHeaders.each(function(idx, inputHeader) {\n            dataEl = data.decisionInstance.inputs.filter(function(inputObject) {\n              return (\n                inputObject.clauseId === inputHeader.getAttribute(\"data-col-id\")\n              );\n            })[0];\n\n            if (dataEl) {\n              realInput = document.createElement(\"span\");\n              if (\n                dataEl.type !== \"Object\" &&\n                dataEl.type !== \"Bytes\" &&\n                dataEl.type !== \"File\"\n              ) {\n                realInput.className = \"dmn-input\";\n                realInput.textContent = \" = \" + dataEl.value;\n              } else {\n                realInput.className = \"dmn-input-object\";\n                realInput.setAttribute(\n                  \"title\",\n                  \"Variable value of type \" + dataEl.type + \" is not shown\"\n                );\n                realInput.textContent = \" = [\" + dataEl.type + \"]\";\n              }\n              inputHeader.firstChild.appendChild(realInput);\n            }\n          });\n      }\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.decisionInstance.table\", {\n      id: \"realOutput\",\n      initialize: function(data) {\n        var outputCell, selector, realOutput;\n\n        data.decisionInstance.outputs.forEach(function(output) {\n          selector =\n            \".output-cell[data-col-id=\" +\n            output.clauseId +\n            \"][data-row-id=\" +\n            output.ruleId +\n            \"]\";\n          outputCell = angular.element(selector)[0];\n          realOutput = document.createElement(\"span\");\n          if (\n            output.type !== \"Object\" &&\n            output.type !== \"Bytes\" &&\n            output.type !== \"File\"\n          ) {\n            realOutput.className = \"dmn-output\";\n            realOutput.textContent = \" = \" + output.value;\n          } else {\n            realOutput.className = \"dmn-output-object\";\n            realOutput.setAttribute(\n              \"title\",\n              \"Variable value of type \" + output.type + \" is not shown\"\n            );\n            realOutput.textContent = \" = [\" + output.type + \"]\";\n          }\n          outputCell.appendChild(realOutput);\n        });\n      }\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\"),\n  viewsModule = require(\"./views/main\"),\n  actionsModule = require(\"./actions/main\");\n\nmodule.exports = angular.module(\"cockpit.plugin.jobDefinition\", [\n  viewsModule.name,\n  actionsModule.name\n]);\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\"),\n  jobDefinitionTable = require(\"./processDefinition/jobDefinitionTable\"),\n  jobDefinitionSuspensionState = require(\"./processDefinition/jobDefinitionSuspensionState\"),\n  // jobDefinitionSuspensionOverlay = require('./processDefinition/jobDefinitionSuspensionOverlay'),\n  suspensionStateAction = require(\"./processDefinition/suspensionStateAction\"),\n  diagramPlugins = require(\"./processDefinition/diagramPlugins\");\n\nvar ngModule = angular.module(\"cockpit.plugin.jobDefinition.views\", [\n  diagramPlugins.name\n]);\n\nngModule.config(jobDefinitionTable);\nngModule.controller(\n  \"JobDefinitionSuspensionStateController\",\n  jobDefinitionSuspensionState\n);\n// ngModule.config(jobDefinitionSuspensionOverlay);\nngModule.config(suspensionStateAction);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\nvar searchWidgetUtils = require(\"../../../../../common/scripts/util/search-widget-utils\");\n\nvar template = require(\"./job-definition-table.html.js\");\n\nvar Controller = [\n  \"$scope\",\n  \"Views\",\n  \"$translate\",\n  \"localConf\",\n  \"camAPI\",\n  \"search\",\n  function($scope, Views, $translate, localConf, camAPI, search) {\n    // prettier-ignore\n    $scope.headColumns = [\n      { class: 'state',         request: 'suspended'     , sortable: true, content: $translate.instant('PLUGIN_JOBDEFINITION_STATE')},\n      { class: 'activity',      request: 'activityName'     , sortable: true, content: $translate.instant('PLUGIN_JOBDEFINITION_ACTIVITY')},\n      { class: 'type',          request: 'jobType'         , sortable: true, content: $translate.instant('PLUGIN_JOBDEFINITION_TYPE')},\n      { class: 'configuration', request: 'jobConfiguration', sortable: true, content: $translate.instant('PLUGIN_JOBDEFINITION_CONFIGURATION')},\n      { class: 'overriding-job-priority', request: 'overridingJobPriority', sortable: true, content: $translate.instant('PLUGIN_JOBDEFINITION_JOB_PRIORITY')},\n      { class: 'action',        request: 'action', sortable: false, content: $translate.instant('PLUGIN_JOBDEFINITION_ACTION')}\n    ];\n\n    // Default sorting\n    $scope.sortObj = loadLocal({\n      sortBy: \"suspended\",\n      sortOrder: \"asc\",\n      sortReverse: false\n    });\n\n    $scope.onSortChange = function(sortObj) {\n      sortObj = sortObj || $scope.sortObj;\n      // sortReverse required by anqular-sorting;\n      sortObj.sortReverse = sortObj.sortOrder !== \"asc\";\n      saveLocal(sortObj);\n      $scope.sortObj = sortObj;\n    };\n\n    function saveLocal(sortObj) {\n      localConf.set(\"sortJobDefTab\", sortObj);\n    }\n    function loadLocal(defaultValue) {\n      return localConf.get(\"sortJobDefTab\", defaultValue);\n    }\n\n    var processData = $scope.processData.newChild($scope);\n\n    var processDefinition;\n    var jobDefinitions,\n      bpmnElements = [];\n\n    var JobProvider = camAPI.resource(\"job-definition\");\n\n    $scope.pages = {\n      total: 0,\n      current: parseInt(search().page || 1, 10),\n      size: 50\n    };\n\n    $scope.$on(\"$destroy\", function() {\n      search(\"page\", null);\n    });\n\n    $scope.$watch(\"pages.current\", function(newValue, oldValue) {\n      newValue !== oldValue && loadJobDefinitions();\n      search(\"page\", !newValue || newValue === 1 ? null : newValue);\n    });\n\n    processData.observe([\"filter\"], function(filter) {\n      updateView(filter);\n    });\n\n    var updateTaskNames = function() {\n      angular.forEach(jobDefinitions, function(jobDefinition) {\n        var activityId = jobDefinition.activityId,\n          bpmnElement = bpmnElements[activityId];\n        jobDefinition.activityName =\n          (bpmnElement && (bpmnElement.name || bpmnElement.id)) || activityId;\n      });\n    };\n\n    processData.observe([\"bpmnElements\", \"processDefinition\"], function(\n      newElements,\n      newProcessDefinition\n    ) {\n      bpmnElements = newElements;\n      processDefinition = newProcessDefinition;\n\n      JobProvider.count({\n        processDefinitionId: processDefinition.id\n      }).then(function(count) {\n        $scope.pages.total = count;\n      });\n\n      loadJobDefinitions();\n    });\n\n    function loadJobDefinitions() {\n      $scope.jobDefinitions = null;\n\n      JobProvider.list({\n        processDefinitionId: processDefinition.id,\n        maxResults: $scope.pages.size,\n        firstResult: ($scope.pages.current - 1) * $scope.pages.size\n      }).then(function(res) {\n        jobDefinitions = res;\n\n        updateTaskNames();\n        updateView({});\n      });\n    }\n\n    $scope.$on(\n      \"$processDefinition.suspensionState.changed\",\n      loadJobDefinitions\n    );\n\n    function updateView(filter) {\n      $scope.jobDefinitions = null;\n\n      var activityIds = filter.activityIds;\n\n      if (!activityIds || !activityIds.length) {\n        $scope.jobDefinitions = jobDefinitions;\n        return;\n      }\n\n      var jobDefinitionSelection = [];\n\n      angular.forEach(jobDefinitions, function(jobDefinition) {\n        var activityId = jobDefinition.activityId;\n\n        if (activityIds.indexOf(activityId) !== -1) {\n          jobDefinitionSelection.push(jobDefinition);\n        }\n      });\n\n      $scope.jobDefinitions = jobDefinitionSelection;\n    }\n\n    $scope.jobDefinitionVars = {\n      read: [\"jobDefinition\", \"processData\", \"filter\"]\n    };\n    $scope.jobDefinitionActions = Views.getProviders({\n      component: \"cockpit.jobDefinition.action\"\n    });\n\n    $scope.getSearchQueryForSearchType = searchWidgetUtils.getSearchQueryForSearchType.bind(\n      null,\n      \"activityIdIn\"\n    );\n  }\n];\n\nvar Configuration = function PluginConfiguration(ViewsProvider) {\n  ViewsProvider.registerDefaultView(\"cockpit.processDefinition.runtime.tab\", {\n    id: \"job-definition-table\",\n    label: \"PLUGIN_JOB_DEFINITION_LABEL\",\n    template: template,\n    controller: Controller,\n    priority: 2\n  });\n};\n\nConfiguration.$inject = [\"ViewsProvider\"];\n\nmodule.exports = Configuration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/views/processDefinition/job-definition-table.html -->\n<table class=\"job-definition cam-table\">\n\n  <thead sortable-table-head\n         head-columns=\"headColumns\"\n         on-sort-change=\"onSortChange(sortObj)\"\n         default-sort=\"sortObj\">\n  </thead>\n  <tbody>\n    <tr ng-repeat=\"jobDefinition in jobDefinitions | orderBy:sortObj.sortBy:sortObj.sortReverse\">\n      <td class=\"state\">\n        <span ng-show=\"jobDefinition.suspended\">\n          {{ 'PLUGIN_JOBDEFINITION_SUSPENDED' | translate }}\n        </span>\n        <span ng-hide=\"jobDefinition.suspended\">\n          {{ 'PLUGIN_JOBDEFINITION_ACTIVE' | translate }}\n        </span>\n      </td>\n      <td class=\"activity\"\n          cam-widget-clipboard=\"jobDefinition.activityId\">\n        <a ng-href=\"#/process-definition/{{ processDefinition.id }}/runtime?{{ getSearchQueryForSearchType(jobDefinition.activityId) }}&amp;detailsTab=job-definition-table\">\n          {{ jobDefinition.activityName }}\n        </a>\n      </td>\n      <td class=\"type\"\n          cam-widget-clipboard=\"jobDefinition.jobType\">\n        {{ jobDefinition.jobType }}\n      </td>\n      <td class=\"configuration\">\n        {{ jobDefinition.jobConfiguration }}\n      </td>\n      <td class=\"overriding-job-priority\">\n        {{ jobDefinition.overridingJobPriority }}\n      </td>\n      <td class=\"action\">\n        <span ng-repeat=\"actionProvider in jobDefinitionActions\">\n          <view provider=\"actionProvider\" vars=\"jobDefinitionVars\"/>\n        </span>\n      </td>\n    </tr>\n\n    <tr ng-if=\"!jobDefinitions\">\n      <td colspan=\"6\">\n        <span class=\"glyphicon glyphicon-loading\"></span>\n        {{ 'PLUGIN_JOBDEFINITION_LOADING_JOB' | translate }}\n      </td>\n    </tr>\n\n    <tr ng-if=\"jobDefinitions && !jobDefinitions.length\">\n      <td colspan=\"6\">\n        {{ 'PLUGIN_JOBDEFINITION_NO_JOB_DEFINITION' | translate }}\n      </td>\n    </tr>\n\n  </tbody>\n</table>\n<ul uib-pagination ng-if=\"pages.total > pages.size && jobDefinitions && jobDefinitions.length\"\n    class=\"pagination-sm\"\n\n    page=\"pages.current\"\n    ng-model=\"pages.current\"\n\n    total-items=\"pages.total\"\n    items-per-page=\"pages.size\"\n\n    max-size=\"7\"\n    boundary-links=\"true\"></ul>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/views/processDefinition/job-definition-table.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nmodule.exports = [\n  \"$scope\",\n  \"$http\",\n  \"$filter\",\n  \"Uri\",\n  \"Notifications\",\n  \"$uibModalInstance\",\n  \"jobDefinition\",\n  \"$translate\",\n  \"fixDate\",\n  \"$rootScope\",\n  function(\n    $scope,\n    $http,\n    $filter,\n    Uri,\n    Notifications,\n    $modalInstance,\n    jobDefinition,\n    $translate,\n    fixDate,\n    $rootScope\n  ) {\n    var BEFORE_UPDATE = \"BEFORE_UPDATE\",\n      PERFORM_UPDATE = \"PERFORM_UDPATE\",\n      UPDATE_SUCCESS = \"SUCCESS\",\n      UPDATE_FAILED = \"FAIL\";\n\n    var dateFilter = $filter(\"date\"),\n      dateFormat = \"yyyy-MM-dd'T'HH:mm:ss\";\n\n    $scope.jobDefinition = jobDefinition;\n\n    $scope.status = BEFORE_UPDATE;\n\n    $scope.data = {\n      includeJobs: true,\n      executeImmediately: true,\n      executionDate: dateFilter(Date.now(), dateFormat)\n    };\n\n    $scope.$on(\"$routeChangeStart\", function() {\n      $modalInstance.close($scope.status);\n    });\n\n    $scope.updateSuspensionState = function() {\n      $scope.status = PERFORM_UPDATE;\n\n      var data = {};\n      data.suspended = !jobDefinition.suspended;\n      data.includeJobs = $scope.data.includeJobs;\n      data.executionDate = !$scope.data.executeImmediately\n        ? fixDate($scope.data.executionDate)\n        : null;\n\n      $http\n        .put(\n          Uri.appUri(\n            \"engine://engine/:engine/job-definition/\" +\n              jobDefinition.id +\n              \"/suspended/\"\n          ),\n          data\n        )\n        .then(function() {\n          $scope.status = UPDATE_SUCCESS;\n\n          if ($scope.data.executeImmediately) {\n            $rootScope.$broadcast(\n              \"$processDefinition.suspensionState.changed\",\n              jobDefinition\n            );\n            Notifications.addMessage({\n              status: $translate.instant(\"PLUGIN_JOBDEFINITION_STATE_STATUS\"),\n              message: $translate.instant(\n                \"PLUGIN_JOBDEFINITION_STATE_MESSAGES_1\"\n              ),\n              exclusive: true\n            });\n          } else {\n            Notifications.addMessage({\n              status: $translate.instant(\"PLUGIN_JOBDEFINITION_STATE_STATUS\"),\n              message: $translate.instant(\n                \"PLUGIN_JOBDEFINITION_STATE_MESSAGES_2\"\n              ),\n              exclusive: true\n            });\n          }\n        })\n        .catch(function(data) {\n          $scope.status = UPDATE_FAILED;\n\n          if ($scope.data.executeImmediately) {\n            Notifications.addError({\n              status: $translate.instant(\"PLUGIN_JOBDEFINITION_STATE_STATUS\"),\n              message: $translate.instant(\"PLUGIN_JOBDEFINITION_STATE_ERR_1\", {\n                message: data.data.message\n              }),\n              exclusive: true\n            });\n          } else {\n            Notifications.addError({\n              status: $translate.instant(\"PLUGIN_JOBDEFINITION_STATE_STATUS\"),\n              message: $translate.instant(\"PLUGIN_JOBDEFINITION_STATE_ERR_2\", {\n                message: data.data.message\n              }),\n              exclusive: true\n            });\n          }\n        });\n    };\n\n    $scope.isValid = function() {\n      var formScope = angular\n        .element('[name=\"updateSuspensionStateForm\"]')\n        .scope();\n      return formScope && formScope.updateSuspensionStateForm\n        ? formScope.updateSuspensionStateForm.$valid\n        : false;\n    };\n\n    $scope.close = function(status) {\n      var response = {};\n\n      response.status = status;\n      response.suspended = !jobDefinition.suspended;\n      response.executeImmediately = $scope.data.executeImmediately;\n      response.executionDate = $scope.data.executionDate;\n\n      $modalInstance.close(response);\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\nvar actionTemplate = require(\"./suspension-state-action.html.js\");\nvar dialogTemplate = require(\"./job-definition-suspension-state-dialog.html.js\");\n\nvar Configuration = function PluginConfiguration(ViewsProvider) {\n  ViewsProvider.registerDefaultView(\"cockpit.jobDefinition.action\", {\n    id: \"update-suspension-state\",\n    template: actionTemplate,\n    controller: [\n      \"$scope\",\n      \"$uibModal\",\n      function($scope, $modal) {\n        $scope.openSuspensionStateDialog = function(jobDefinition) {\n          var dialog = $modal.open({\n            resolve: {\n              jobDefinition: function() {\n                return jobDefinition;\n              }\n            },\n            controller: \"JobDefinitionSuspensionStateController\",\n            template: dialogTemplate,\n            appendTo: angular.element('.angular-app')\n          });\n\n          dialog.result\n            .then(function(result) {\n              // dialog closed. YEA!\n              if (result.status === \"SUCCESS\") {\n                if (result.executeImmediately) {\n                  jobDefinition.suspended = result.suspended;\n                }\n\n                $scope.processData.set(\n                  \"filter\",\n                  angular.extend({}, $scope.filter)\n                );\n              }\n            })\n            .catch(angular.noop);\n        };\n      }\n    ],\n    priority: 50\n  });\n};\n\nConfiguration.$inject = [\"ViewsProvider\"];\n\nmodule.exports = Configuration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/views/processDefinition/suspension-state-action.html -->\n<a class=\"btn btn-default action-button\"\n   ng-click=\"openSuspensionStateDialog(jobDefinition)\"\n   ng-show=\"jobDefinition.suspended\"\n   uib-tooltip=\"{{ 'PLUGIN_JOBDEFINITION_STATE_ACTION_TOOLTIP_1' | translate }}\"\n   tooltip-placement=\"left\">\n  <span class=\"glyphicon glyphicon-play\"></span>\n</a>\n<a class=\"btn btn-default action-button\"\n   ng-click=\"openSuspensionStateDialog(jobDefinition)\"\n   ng-hide=\"jobDefinition.suspended\"\n   uib-tooltip=\"{{ 'PLUGIN_JOBDEFINITION_STATE_ACTION_TOOLTIP_2' | translate }}\"\n   tooltip-placement=\"left\">\n  <span class=\"glyphicon glyphicon-pause\"></span>\n</a>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/views/processDefinition/suspension-state-action.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/views/processDefinition/job-definition-suspension-state-dialog.html -->\n<div class=\"modal-header\">\n  <h3>{{ (jobDefinition.suspended ? 'PLUGIN_JOBDEFINITION_ACTIVE_JOB_DEFINITION' : 'PLUGIN_JOBDEFINITION_SUSPEND_JOB_DEFINITION' | translate) }}</h3>\n</div>\n\n<div class=\"job-definition-suspension-state modal-body\">\n  <div notifications-panel></div>\n\n  <div ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\">\n\n    <p ng-show=\"jobDefinition.suspended\">\n      <!-- activation -->\n      {{ 'PLUGIN_JOBDEFINITION_LEGEND_ACTIVE' | translate }}\n    </p>\n\n    <p ng-hide=\"jobDefinition.suspended\">\n      <!-- suspension -->\n      {{ 'PLUGIN_JOBDEFINITION_LEGEND_SUSPEND' | translate }}\n    </p>\n\n    <form class=\"form-horizontal\"\n          name=\"updateSuspensionStateForm\"\n          novalidate\n          request-aware\n          ng-submit=\"updateSuspensionState()\">\n\n      <fieldset>\n        <div class=\"form-group\">\n          <label class=\"col-xs-4 control-label\"\n                 for=\"includeJobsValue\">\n            {{ 'PLUGIN_JOBDEFINITION_INCLUDE_EXISTING_JOB' | translate }}\n            <!-- activation -->\n            <span class=\"glyphicon glyphicon-question-sign\"\n                  uib-tooltip=\"{{ 'PLUGIN_JOBDEFINITION_INCLUDE_EXISTING_JOB_TOOLTIP_1' | translate }}\"\n                  tooltip-placement=\"right\"\n                  ng-show=\"jobDefinition.suspended\">\n            </span>\n\n            <!-- suspension -->\n            <span class=\"glyphicon glyphicon-question-sign\"\n                  uib-tooltip=\"{{ 'PLUGIN_JOBDEFINITION_INCLUDE_EXISTING_JOB_TOOLTIP_2' | translate }}\"\n                  tooltip-placement=\"right\"\n                  ng-hide=\"jobDefinition.suspended\">\n            </span>\n          </label>\n\n\n          <div class=\"col-xs-8 checkbox\">\n            <label>\n              <input id=\"includeJobsValueId\"\n                     name=\"includeJobsValue\"\n                     type=\"checkbox\"\n                     ng-model=\"data.includeJobs\" />\n            </label>\n          </div>\n        </div>\n\n        <div class=\"form-group\">\n          <label class=\"col-xs-4 control-label\"\n                 for=\"executeImmediately\">\n            {{ 'PLUGIN_JOBDEFINITION_EXECUTE' | translate }}\n            <span class=\"glyphicon glyphicon-question-sign\"\n                  uib-tooltip=\"{{ 'PLUGIN_JOBDEFINITION_EXECUTE_TOOLTIP_1' | translate }}\"\n                  tooltip-placement=\"right\"\n                  ng-show=\"jobDefinition.suspended\">\n            </span>\n\n            <span class=\"glyphicon glyphicon-question-sign\"\n                  uib-tooltip=\"{{ 'PLUGIN_JOBDEFINITION_EXECUTE_TOOLTIP_2' | translate }}\"\n                  tooltip-placement=\"right\"\n                  ng-hide=\"jobDefinition.suspended\">\n            </span>\n          </label>\n\n          <div class=\"col-xs-8\">\n            <div class=\"radio\">\n              <label>\n                <input ng-model=\"data.executeImmediately\"\n                       ng-value=\"true\"\n                       type=\"radio\"\n                       name=\"execute\" />\n                {{ 'PLUGIN_JOBDEFINITION_IMMEDIATELY' | translate }}\n              </label>\n            </div>\n\n            <div class=\"radio\">\n              <label>\n                <input ng-model=\"data.executeImmediately\"\n                       ng-value=\"false\"\n                       type=\"radio\"\n                       name=\"execute\" />\n                {{ 'PLUGIN_JOBDEFINITION_DELAYED' | translate }}\n              </label>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"form-group\"\n             ng-show=\"!data.executeImmediately\">\n          <label class=\"col-xs-4 control-label\"\n                 for=\"executionDateValue\">\n            {{ 'PLUGIN_JOBDEFINITION_SCHEDULE_AT' | translate }}\n          </label>\n\n          <div class=\"col-xs-8\">\n            <input name=\"executionDateValue\"\n                   ng-model=\"data.executionDate\"\n                   class=\"form-control\"\n                   type=\"text\"\n                   date\n                   required />\n\n            <p class=\"invalid\"\n               ng-show=\"this.updateSuspensionStateForm.executionDateValue.$error.datePattern\">\n              {{ 'PLUGIN_JOBDEFINITION_SUPPORTED_PATTERN' | translate }}\n            </p>\n\n            <p class=\"invalid\"\n               ng-show=\"this.updateSuspensionStateForm.executionDateValue.$error.dateValue\">\n              {{ 'PLUGIN_JOBDEFINITION_INVALID_DATE_VALUE' | translate }}\n            </p>\n\n          </div>\n        </div>\n\n      </fieldset>\n    </form>\n\n    <p>\n      {{ (jobDefinition.suspended ? 'PLUGIN_JOBDEFINITION_DO_ACTIVATE' : 'PLUGIN_JOBDEFINITION_DO_SUSPEND' | translate ) }}\n    </p>\n\n  </div>\n\n  <div ng-show=\"status === 'SUCCESS'\">\n    <p ng-show=\"jobDefinition.suspended && data.executeImmediately\">\n      {{ 'PLUGIN_JOBDEFINITION_LEGEND_1' | translate }}\n    </p>\n    <p ng-show=\"jobDefinition.suspended && !data.executeImmediately\"\n       translate=\"PLUGIN_JOBDEFINITION_LEGEND_2\"\n       translate-values=\"{ data: (data.executionDate | camDate) }\">\n    </p>\n    <p ng-show=\"!jobDefinition.suspended && data.executeImmediately\">\n      {{ 'PLUGIN_JOBDEFINITION_LEGEND_3' | translate }}\n    </p>\n    <p ng-show=\"!jobDefinition.suspended && !data.executeImmediately\"\n       translate=\"PLUGIN_JOBDEFINITION_LEGEND_4\"\n       translate-values=\"{ data: (data.executionDate | camDate) }\">\n    </p>\n  </div>\n\n  <div ng-show=\"status === 'FAIL'\">\n    <p ng-show=\"jobDefinition.suspended && data.executeImmediately\">\n      {{ 'PLUGIN_JOBDEFINITION_LEGEND_5' | translate }}\n    </p>\n    <p ng-show=\"jobDefinition.suspended && !data.executeImmediately\"\n       translate=\"PLUGIN_JOBDEFINITION_LEGEND_6\"\n       translate-values=\"{ data: (data.executionDate | camDate) }\">\n    </p>\n    <p ng-show=\"!jobDefinition.suspended && data.executeImmediately\">\n      {{ 'PLUGIN_JOBDEFINITION_LEGEND_7' | translate }}\n    </p>\n    <p ng-show=\"!jobDefinition.suspended && !data.executeImmediately\"\n       translate=\"PLUGIN_JOBDEFINITION_LEGEND_8\"\n       translate-values=\"{ data: (data.executionDate | camDate) }\">\n    </p>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-link\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'PERFORM_UDPATE'\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\">\n    {{ 'PLUGIN_JOBDEFINITION_CLOSE' | translate }}\n  </button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"updateSuspensionState()\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\"\n          ng-disabled=\"!isValid() || status === 'PERFORM_UDPATE'\">\n    {{ (jobDefinition.suspended ? 'PLUGIN_JOBDEFINITION_ACTIVATE' : 'PLUGIN_JOBDEFINITION_SUSPEND' | translate) }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'SUCCESS' || status === 'FAIL'\">\n    {{ 'PLUGIN_JOBDEFINITION_OK' | translate }}\n  </button>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/views/processDefinition/job-definition-suspension-state-dialog.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\nvar jobSuspension = require(\"./jobSuspension\");\n\nvar ngModule = angular.module(\n  \"cockpit.plugin.jobDefinition.views.diagramPlugins\",\n  []\n);\n\nngModule.config(jobSuspension);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nvar template = require(\"./jobSuspension.html.js\");\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\n      \"cockpit.processDefinition.diagram.plugin\",\n      {\n        id: \"activity-instance-statistics-overlay\",\n        overlay: [\n          \"$scope\",\n          \"control\",\n          \"processData\",\n          \"processDiagram\",\n          \"camAPI\",\n          function($scope, control, processData, processDiagram, camAPI) {\n            var viewer = control.getViewer();\n            var overlays = viewer.get(\"overlays\");\n            var elementRegistry = viewer.get(\"elementRegistry\");\n\n            var overlaysNodes = {};\n\n            $scope.$on(\n              \"$processDefinition.suspensionState.changed\",\n              function() {\n                loadJobDefinitions();\n              }\n            );\n\n            var processDefinition = null;\n\n            var loadJobDefinitions = function(_processDefinition) {\n              processDefinition = _processDefinition || processDefinition;\n\n              if (!processDefinition) return;\n\n              camAPI\n                .resource(\"job-definition\")\n                .list({\n                  processDefinitionId: processDefinition.id,\n                  firstResult: 0,\n                  maxResults: 2000\n                })\n                .then(function(jobDefinitions) {\n                  elementRegistry.forEach(function(shape) {\n                    var element =\n                      processDiagram.bpmnElements[shape.businessObject.id];\n                    var definitionsForElement = getElementDefinitions(\n                      element,\n                      jobDefinitions\n                    );\n\n                    if (definitionsForElement.length > 0) {\n                      element.isSelectable = true;\n                    }\n\n                    function isSuspended() {\n                      return definitionsForElement.some(function(definition) {\n                        return definition.suspended;\n                      });\n                    }\n\n                    $scope.$watch(isSuspended, function(suspended) {\n                      var node = overlaysNodes[element.id];\n\n                      if (!node && suspended) {\n                        node = angular.element(template);\n\n                        overlays.add(element.id, {\n                          position: {\n                            top: 0,\n                            right: 0\n                          },\n                          show: {\n                            minZoom: -Infinity,\n                            maxZoom: +Infinity\n                          },\n                          html: node[0]\n                        });\n\n                        overlaysNodes[element.id] = node;\n                      }\n\n                      if (node) {\n                        if (suspended) {\n                          node.show();\n                          node.tooltip({\n                            container: \"body\",\n                            title: \"Suspended Job Definition\",\n                            placement: \"top\"\n                          });\n                        } else {\n                          node.hide();\n                        }\n                      }\n                    });\n                  });\n                });\n            };\n\n            processData.observe(\"processDefinition\", loadJobDefinitions);\n\n            function getElementDefinitions(element, jobDefinitions) {\n              return jobDefinitions.filter(function(definition) {\n                return definition.activityId === element.id;\n              });\n            }\n          }\n        ]\n      }\n    );\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<span class=\"badge badge-warning activity-top-right-position\"\n      uib-tooltip=\"Suspended Job Definition\"\n      tooltip-placement=\"top\">\n  <span class=\"glyphicon glyphicon-pause\"></span>\n</span>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\"),\n  // override job priority action\n  overrideJobPriorityAction = require(\"./override-job-priority/override-job-priority-action\"),\n  overrideJobPriorityDialog = require(\"./override-job-priority/override-job-priority-dialog\"),\n  // bulk override job priority action\n  bulkOverrideJobPriorityAction = require(\"./bulk-override-job-priority/bulk-override-job-priority-action\"),\n  bulkOverrideJobPriorityDialog = require(\"./bulk-override-job-priority/bulk-override-job-priority-dialog\");\n\nvar ngModule = angular.module(\"cockpit.plugin.jobDefinition.actions\", []);\n\n// override job priority action\nngModule.config(overrideJobPriorityAction);\nngModule.controller(\n  \"JobDefinitionOverrideJobPriorityController\",\n  overrideJobPriorityDialog\n);\n\n// bulk override job priority action\nngModule.config(bulkOverrideJobPriorityAction);\nngModule.controller(\n  \"BulkJobDefinitionOverrideJobPriorityController\",\n  bulkOverrideJobPriorityDialog\n);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\nvar actionTemplate = require(\"./override-job-priority-action.html.js\");\nvar dialogTemplate = require(\"./override-job-priority-dialog.html.js\");\n\nvar Configuration = function PluginConfiguration(ViewsProvider) {\n  ViewsProvider.registerDefaultView(\"cockpit.jobDefinition.action\", {\n    id: \"job-definition-override-job-priority-action\",\n    template: actionTemplate,\n    controller: [\n      \"$scope\",\n      \"$rootScope\",\n      \"$uibModal\",\n      function($scope, $rootScope, $modal) {\n        $scope.openDialog = function(jobDefinition) {\n          var dialog = $modal.open({\n            resolve: {\n              jobDefinition: function() {\n                return jobDefinition;\n              }\n            },\n            controller: \"JobDefinitionOverrideJobPriorityController\",\n            template: dialogTemplate,\n            appendTo: angular.element('.angular-app')\n          });\n\n          dialog.result\n            .then(function(result) {\n              // dialog closed. YEA!\n              if (result.status === \"SUCCESS\") {\n                $scope.processData.changed(\"jobDefinitions\");\n                $scope.processData.set(\n                  \"filter\",\n                  angular.extend({}, $scope.filter)\n                );\n              }\n            })\n            .catch(angular.noop);\n        };\n      }\n    ],\n    priority: 10\n  });\n};\n\nConfiguration.$inject = [\"ViewsProvider\"];\n\nmodule.exports = Configuration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/override-job-priority/override-job-priority-action.html -->\n<a class=\"btn btn-default action-button\"\n   ng-click=\"openDialog(jobDefinition)\"\n   uib-tooltip=\"{{ 'PLUGIN_JOBDEFINITION_ACTION_OVERRIDE_TOOLTIP_CHANGE' | translate }}\"\n   tooltip-placement=\"left\">\n  <span class=\"glyphicon glyphicon-cog\"></span>\n</a>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/override-job-priority/override-job-priority-action.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/override-job-priority/override-job-priority-dialog.html -->\n<div class=\"modal-header\">\n  <h3>{{ 'PLUGIN_JOBDEFINITION_ACTION_OVERRIDE_JP' | translate }}</h3>\n</div>\n\n<div class=\"job-definition-override-job-priority modal-body\">\n  <div notifications-panel></div>\n\n  <div ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\">\n\n    <p>{{ 'PLUGIN_JOBDEFINITION_ACTION_OVERRIDE_TEXT' | translate }}</p>\n\n    <form class=\"form-horizontal\"\n          name=\"overrideJobPriorityForm\"\n          novalidate\n          request-aware\n          ng-submit=\"isValid() && submit()\">\n\n      <fieldset>\n\n        <div class=\"form-group\" ng-show=\"hasOverridingJobPriority()\">\n          <label class=\"col-xs-4 control-label\"\n                 for=\"execute\">\n            {{ 'PLUGIN_JOBDEFINITION_ACTION_EXECUTE' | translate }}\n            <span class=\"glyphicon glyphicon-question-sign\"\n                  uib-tooltip=\"{{ 'PLUGIN_JOBDEFINITION_ACTION_EXECUTE_TOOLTIP' | translate }}\"\n                  tooltip-placement=\"right\">\n            </span>\n          </label>\n\n          <div class=\"col-xs-8\">\n            <div class=\"radio\">\n              <label>\n                <input ng-model=\"setJobPriority\"\n                       ng-value=\"false\"\n                       type=\"radio\"\n                       name=\"execute\" />\n                {{ 'PLUGIN_JOBDEFINITION_ACTION_CLEAR_OVERR' | translate }}\n              </label>\n            </div>\n\n            <div class=\"radio\">\n              <label>\n                <input ng-model=\"setJobPriority\"\n                       ng-value=\"true\"\n                       type=\"radio\"\n                       name=\"execute\" />\n                {{ 'PLUGIN_JOBDEFINITION_ACTION_SET_OVERR' | translate }}\n              </label>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"form-group\" ng-show=\"setJobPriority\">\n          <label class=\"col-xs-4 control-label\"\n                 for=\"priority\">\n            {{ 'PLUGIN_JOBDEFINITION_ACTION_PRIORITY' | translate }}\n            <span class=\"glyphicon glyphicon-question-sign\"\n                  uib-tooltip=\"{{ 'PLUGIN_JOBDEFINITION_ACTION_PRIORITY_TOOLTIP' | translate }}\"\n                  tooltip-placement=\"right\">\n            </span>\n          </label>\n\n          <div class=\"col-xs-8\">\n            <input name=\"priority\"\n                   ng-model=\"data.priority\"\n                   class=\"form-control\"\n                   numeric integer=\"true\"\n                   required />\n            <p class=\"invalid\"\n               ng-show=\"this.overrideJobPriorityForm.priority.$error.numeric\">\n              {{ 'PLUGIN_JOBDEFINITION_ACTION_INVALID_VALUE' | translate }}\n            </p>\n          </div>\n        </div>\n\n        <div class=\"form-group\" ng-show=\"setJobPriority\">\n          <label class=\"col-xs-4 control-label\"\n                 for=\"includeJobsPriority\">\n            {{ 'PLUGIN_JOBDEFINITION_ACTION_INCLUDE_EXISTING_JOB' | translate }}\n            <span class=\"glyphicon glyphicon-question-sign\"\n                  uib-tooltip=\"{{ 'PLUGIN_JOBDEFINITION_ACTION_INCLUDE_EXISTING_JOB_TOOLTIP' | translate }}\"\n                  tooltip-placement=\"right\">\n            </span>\n          </label>\n\n          <div class=\"col-xs-8 checkbox\">\n            <label>\n              <input name=\"includeJobsPriority\"\n                     type=\"checkbox\"\n                     ng-model=\"data.includeJobs\" />\n            </label>\n          </div>\n        </div>\n\n      </fieldset>\n    </form>\n\n    <p>\n      {{ 'PLUGIN_JOBDEFINITION_ACTION_TEXT_1' | translate }}\n    </p>\n\n  </div>\n\n  <div ng-show=\"status === 'SUCCESS'\">\n    <p ng-show=\"setJobPriority\"\n       translate=\"PLUGIN_JOBDEFINITION_ACTION_TEXT_2\"\n       translate-values=\"{data: data.priority}\">\n    </p>\n    <p ng-hide=\"setJobPriority\">\n      {{ 'PLUGIN_JOBDEFINITION_ACTION_TEXT_3' | translate }}\n    </p>\n  </div>\n\n  <div ng-show=\"status === 'FAIL'\">\n    <p ng-show=\"setJobPriority\"\n       translate=\"PLUGIN_JOBDEFINITION_ACTION_TEXT_4\"\n       translate-values=\"{data: data.priority}\">\n    </p>\n    <p ng-hide=\"setJobPriority\">\n      {{ 'PLUGIN_JOBDEFINITION_ACTION_TEXT_5' | translate }}\n    </p>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-link\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'PERFORM_UDPATE'\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\">\n    {{ 'PLUGIN_JOBDEFINITION_ACTION_CLOSE' | translate }}\n  </button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"submit()\"\n          ng-hide=\"setJobPriority || status === 'SUCCESS' || status === 'FAIL'\"\n          ng-disabled=\"!isValid() || status === 'PERFORM_UDPATE'\">\n    {{ 'PLUGIN_JOBDEFINITION_ACTION_CLEAR' | translate }}\n  </button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"submit()\"\n          ng-hide=\"!setJobPriority || status === 'SUCCESS' || status === 'FAIL'\"\n          ng-disabled=\"!isValid() || status === 'PERFORM_UDPATE'\">\n    {{ 'PLUGIN_JOBDEFINITION_ACTION_OVERRIDE' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'SUCCESS' || status === 'FAIL'\">\n    {{ 'PLUGIN_JOBDEFINITION_ACTION_OK' | translate }}\n  </button>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/override-job-priority/override-job-priority-dialog.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nmodule.exports = [\n  \"$scope\",\n  \"$q\",\n  \"Notifications\",\n  \"JobDefinitionResource\",\n  \"$uibModalInstance\",\n  \"jobDefinition\",\n  \"$translate\",\n  function(\n    $scope,\n    $q,\n    Notifications,\n    JobDefinitionResource,\n    $modalInstance,\n    jobDefinition,\n    $translate\n  ) {\n    var SUCCESS = \"SUCCESS\",\n      FAILED = \"FAIL\";\n\n    $scope.setJobPriority = true;\n\n    var data = ($scope.data = {\n      priority: jobDefinition.overridingJobPriority,\n      includeJobs: false\n    });\n\n    $scope.$on(\"$routeChangeStart\", function() {\n      var response = {};\n      response.status = $scope.status;\n      $modalInstance.close(response);\n    });\n\n    $scope.hasOverridingJobPriority = function() {\n      return (\n        jobDefinition.overridingJobPriority !== null &&\n        jobDefinition.overridingJobPriority !== undefined\n      );\n    };\n\n    $scope.submit = function() {\n      var setJobPriority = $scope.setJobPriority;\n      if (!setJobPriority) {\n        data = {};\n      }\n\n      JobDefinitionResource.setJobPriority(\n        { id: jobDefinition.id },\n        data,\n\n        function() {\n          $scope.status = SUCCESS;\n          if (setJobPriority) {\n            Notifications.addMessage({\n              status: $translate.instant(\n                \"PLUGIN_JOBDEFINITION_ACTION_STATUS_FINISHED\"\n              ),\n              message: $translate.instant(\n                \"PLUGIN_JOBDEFINITION_ACTION_DIALOG_MSN_1\"\n              ),\n              exclusive: true\n            });\n          } else {\n            Notifications.addMessage({\n              status: $translate.instant(\n                \"PLUGIN_JOBDEFINITION_ACTION_STATUS_FINISHED\"\n              ),\n              message: $translate.instant(\n                \"PLUGIN_JOBDEFINITION_ACTION_DIALOG_MSN_2\"\n              ),\n              exclusive: true\n            });\n          }\n        },\n\n        function(error) {\n          $scope.status = FAILED;\n          if (setJobPriority) {\n            Notifications.addError({\n              status: $translate.instant(\n                \"PLUGIN_JOBDEFINITION_ACTION_STATUS_FINISHED\"\n              ),\n              message: $translate.instant(\n                \"PLUGIN_JOBDEFINITION_ACTION_DIALOG_ERR_1\",\n                { message: error.data.message }\n              ),\n              exclusive: true\n            });\n          } else {\n            Notifications.addError({\n              status: $translate.instant(\n                \"PLUGIN_JOBDEFINITION_ACTION_STATUS_FINISHED\"\n              ),\n              message: $translate.instant(\n                \"PLUGIN_JOBDEFINITION_ACTION_DIALOG_ERR_2\",\n                { message: error.data.message }\n              ),\n              exclusive: true\n            });\n          }\n        }\n      );\n    };\n\n    $scope.isValid = function() {\n      var formScope = angular\n        .element('[name=\"overrideJobPriorityForm\"]')\n        .scope();\n      return (\n        !$scope.setJobPriority ||\n        (formScope && formScope.overrideJobPriorityForm\n          ? formScope.overrideJobPriorityForm.$valid\n          : false)\n      );\n    };\n\n    $scope.close = function(status) {\n      var response = {};\n      response.status = status;\n      $modalInstance.close(response);\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\nvar actionTemplate = require(\"./bulk-override-job-priority-action.html.js\");\nvar dialogTemplate = require(\"./bulk-override-job-priority-dialog.html.js\");\n\nvar Configuration = function PluginConfiguration(ViewsProvider) {\n  ViewsProvider.registerDefaultView(\n    \"cockpit.processDefinition.runtime.action\",\n    {\n      id: \"bulk-job-definition-override-job-priority-action\",\n      template: actionTemplate,\n      controller: [\n        \"$scope\",\n        \"$rootScope\",\n        \"$uibModal\",\n        function($scope, $rootScope, $modal) {\n          var processData = $scope.processData.newChild($scope);\n\n          var jobDefinitions;\n\n          $scope.openDialog = function() {\n            var dialog = $modal.open({\n              resolve: {\n                jobDefinitions: function() {\n                  return jobDefinitions;\n                },\n                processData: function() {\n                  return processData;\n                }\n              },\n              controller: \"BulkJobDefinitionOverrideJobPriorityController\",\n              template: dialogTemplate,\n              appendTo: angular.element('.angular-app')\n            });\n\n            dialog.result\n              .then(function(result) {\n                // dialog closed. YEA!\n                if (result.status === \"FINISHED\") {\n                  processData.changed(\"jobDefinitions\");\n                  processData.set(\"filter\", angular.extend({}, $scope.filter));\n                }\n              })\n              .catch(angular.noop);\n          };\n        }\n      ],\n      priority: 10\n    }\n  );\n};\n\nConfiguration.$inject = [\"ViewsProvider\"];\n\nmodule.exports = Configuration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/bulk-override-job-priority/bulk-override-job-priority-action.html -->\n<a class=\"btn btn-default action-button\"\n   ng-click=\"openDialog()\"\n   uib-tooltip=\"{{ 'BULK_OVERRIDE_TOOLTIP_CHANGE_OVRR' | translate }}\"\n   tooltip-placement=\"left\">\n  <span class=\"glyphicon glyphicon-cog\"></span>\n</a>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/bulk-override-job-priority/bulk-override-job-priority-action.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/bulk-override-job-priority/bulk-override-job-priority-dialog.html -->\n<div class=\"modal-header\">\n  <h3>{{ 'BULK_OVERRIDE_CHANGE_JOB_TEXT' | translate }}</h3>\n</div>\n\n<div class=\"job-definition-override-job-priority modal-body\">\n  <div notifications-panel></div>\n\n  <div ng-hide=\"status === 'FINISHED' || hasNoJobDefinitions\">\n\n    <p>{{ 'BULK_OVERRIDE_CHANGE_JOB_LEGEND' | translate }}</p>\n\n    <form class=\"form-horizontal\"\n          name=\"overrideJobPriorityForm\"\n          novalidate\n          request-aware\n          ng-submit=\"isValid() && submit()\">\n\n      <fieldset>\n\n        <div class=\"form-group\">\n          <label class=\"col-xs-4 control-label\"\n                 for=\"execute\">\n            {{ 'BULK_OVERRIDE_EXECUTE' | translate }}\n            <span class=\"glyphicon glyphicon-question-sign\"\n                  uib-tooltip=\"{{ 'BULK_OVERRIDE_EXECUTE_TOOLTIP' | translate }}\"\n                  tooltip-placement=\"right\">\n            </span>\n          </label>\n\n          <div class=\"col-xs-8\">\n            <div class=\"radio\">\n              <label>\n                <input ng-model=\"setJobPriority\"\n                       ng-value=\"false\"\n                       type=\"radio\"\n                       name=\"execute\" />\n                {{ 'BULK_OVERRIDE_CLEAR_OVRR' | translate }}\n              </label>\n            </div>\n\n            <div class=\"radio\">\n              <label>\n                <input ng-model=\"setJobPriority\"\n                       ng-value=\"true\"\n                       type=\"radio\"\n                       name=\"execute\" />\n                {{ 'BULK_OVERRIDE_SET_OVRR' | translate }}\n              </label>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"form-group\" ng-show=\"setJobPriority\">\n          <label class=\"col-xs-4 control-label\"\n                 for=\"priority\">\n            {{ 'BULK_OVERRIDE_PRIORITY' | translate }}\n            <span class=\"glyphicon glyphicon-question-sign\"\n                  uib-tooltip=\"{{ 'BULK_OVERRIDE_PRIORITY_TOOLTIP' | translate }}\"\n                  tooltip-placement=\"right\">\n            </span>\n          </label>\n\n          <div class=\"col-xs-8\">\n            <input name=\"priority\"\n                   ng-model=\"data.priority\"\n                   class=\"form-control\"\n                   numeric integer=\"true\"\n                   required />\n            <p class=\"invalid\"\n               ng-show=\"this.overrideJobPriorityForm.priority.$error.numeric\">\n              {{ 'BULK_OVERRIDE_INVALID_VALUE' | translate }}\n            </p>\n          </div>\n        </div>\n\n        <div class=\"form-group\" ng-show=\"setJobPriority\">\n          <label class=\"col-xs-4 control-label\"\n                 for=\"includeJobsPriority\">\n            {{ 'BULK_OVERRIDE_INCLUDE_EXISTING_JOB' | translate }}\n            <span class=\"glyphicon glyphicon-question-sign\"\n                  uib-tooltip=\"{{ 'BULK_OVERRIDE_INCLUDE_EXISTING_JOB_TOOLTIP' | translate }}\"\n                  tooltip-placement=\"right\">\n            </span>\n          </label>\n\n          <div class=\"col-xs-8 checkbox\">\n            <label>\n              <input name=\"includeJobsPriority\"\n                     type=\"checkbox\"\n                     ng-model=\"data.includeJobs\" />\n            </label>\n          </div>\n        </div>\n\n      </fieldset>\n    </form>\n\n    <p>\n      {{ 'BULK_OVERRIDE_DO_YOU_REALLY' | translate }}\n    </p>\n\n  </div>\n\n  <div ng-show=\"status === 'FINISHED' || status === 'PERFORMING'\">\n\n    <table class=\"cam-table\">\n      <thead>\n        <tr>\n          <th class=\"job-id uuid\">{{ 'BULK_OVERRIDE_ACTIVITY' | translate }}</th>\n          <th class=\"scope\">{{ 'BULK_OVERRIDE_TYPE' | translate }}</th>\n          <th class=\"status\">{{ 'BULK_OVERRIDE_STATUS' | translate }}</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr ng-repeat=\"jobDefinition in showJobDefinitions\">\n          <td class=\"activity\">\n            {{ jobDefinition.activityName || jobDefinition.activityId }}\n          </td>\n          <td class=\"type\">\n            {{ jobDefinition.jobType }}\n          </td>\n          <td class=\"status\">\n            <span ng-show=\"jobDefinition.status && jobDefinition.status === 'PERFORMING'\">\n              <span class=\"glyphicon glyphicon-loading\"></span>\n            </span>\n            <span ng-show=\"jobDefinition.status && jobDefinition.status === 'SUCCESS'\">\n              <span class=\"glyphicon glyphicon-ok\"></span>&nbsp;{{ 'BULK_OVERRIDE_SUCCESSFUL' | translate }}\n            </span>\n            <span ng-show=\"jobDefinition.status && jobDefinition.status === 'FAILED'\">\n              <span class=\"glyphicon glyphicon-remove\"></span>&nbsp;{{ 'BULK_OVERRIDE_FAILED' | translate }}\n            </span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <ul uib-pagination ng-if=\"summarizePages.total > summarizePages.size\"\n                class=\"pagination-sm\"\n\n                page=\"summarizePages.current\"\n                ng-model=\"summarizePages.current\"\n\n                total-items=\"summarizePages.total\"\n                items-per-page=\"summarizePages.size\"\n\n                max-size=\"7\"\n                boundary-links=\"true\"></ul>\n  </div>\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-link\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'PERFORMING'\"\n          ng-hide=\"status === 'FINISHED' || hasNoJobDefinitions\">\n    {{ 'BULK_OVERRIDE_CLOSE' | translate }}\n  </button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"submit()\"\n          ng-hide=\"setJobPriority || status === 'FINISHED'\"\n          ng-disabled=\"!isValid() || status === 'PEFORMING'\">\n    {{ 'BULK_OVERRIDE_CLEAR' | translate }}\n  </button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"submit()\"\n          ng-hide=\"!setJobPriority || status === 'FINISHED' || hasNoJobDefinitions\"\n          ng-disabled=\"!isValid() || status === 'PERFORMING'\">\n    {{ 'BULK_OVERRIDE_OVERRIDE' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'FINISHED' || hasNoJobDefinitions\">\n    {{ 'BULK_OVERRIDE_OK' | translate }}\n  </button>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/bulk-override-job-priority/bulk-override-job-priority-dialog.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nmodule.exports = [\n  \"$scope\",\n  \"$q\",\n  \"Notifications\",\n  \"JobDefinitionResource\",\n  \"$uibModalInstance\",\n  \"$timeout\",\n  \"$translate\",\n  \"processData\",\n  \"camAPI\",\n  function(\n    $scope,\n    $q,\n    Notifications,\n    JobDefinitionResource,\n    $modalInstance,\n    $timeout,\n    $translate,\n    processData,\n    camAPI\n  ) {\n    var jobDefinitions = [];\n\n    processData.observe([\n      \"processDefinition\",\n      \"bpmnElements\",\n      function(processDefinition, bpmnElements) {\n        // Load Job Definitions\n        function fetchDefinitions(firstResult) {\n          camAPI\n            .resource(\"job-definition\")\n            .list({\n              processDefinitionId: processDefinition.id,\n              firstResult: firstResult,\n              maxResults: 2000\n            })\n            .then(function(res) {\n              jobDefinitions = jobDefinitions.concat(\n                res.map(function(jobDef) {\n                  jobDef.activityName =\n                    bpmnElements[jobDef.activityId] &&\n                    bpmnElements[jobDef.activityId].name;\n                  return jobDef;\n                })\n              );\n              summarizePages.total = jobDefinitions.length;\n\n              if (!jobDefinitions.length) {\n                $scope.hasNoJobDefinitions = true;\n\n                $modalInstance.opened\n                  .then(\n                    $timeout(function() {\n                      Notifications.addError({\n                        status: \"Error\",\n                        message:\n                          \"This process definition has no job definitions associated with. The job priority cannot be overridden.\",\n                        exclusive: true\n                      });\n                    }, 0)\n                  )\n                  .catch(angular.noop);\n                return;\n              }\n\n              updateSummarizeTable(1);\n\n              if (res.length === 2000) {\n                fetchDefinitions(firstResult + 2000);\n              }\n            });\n        }\n        fetchDefinitions(0);\n      }\n    ]);\n\n    var FINISHED = \"FINISHED\",\n      PERFORM = \"PERFORMING\",\n      SUCCESS = \"SUCCESS\",\n      FAILED = \"FAILED\";\n\n    var finishedWithFailures = false;\n\n    var summarizePages = ($scope.summarizePages = {\n      size: 5,\n      total: 0,\n      current: 1\n    });\n\n    var data = ($scope.data = {\n      priority: null,\n      includeJobs: false\n    });\n\n    $scope.setJobPriority = true;\n\n    $scope.$on(\"$routeChangeStart\", function() {\n      var response = {};\n      response.status = $scope.status;\n      $modalInstance.close(response);\n    });\n\n    $scope.$watch(\"summarizePages.current\", function(newValue) {\n      if (!newValue) {\n        return;\n      }\n\n      updateSummarizeTable(newValue);\n    });\n\n    function updateSummarizeTable(page) {\n      var count = summarizePages.size;\n      var firstResult = (page - 1) * count;\n\n      var showJobDefinitions = ($scope.showJobDefinitions = []);\n\n      for (var i = 0; i < count; i++) {\n        var jobDefinition = jobDefinitions[i + firstResult];\n        if (jobDefinition) {\n          showJobDefinitions.push(jobDefinition);\n        }\n      }\n    }\n\n    $scope.submit = function() {\n      var setJobPriority = $scope.setJobPriority;\n      if (!setJobPriority) {\n        data = {};\n      }\n\n      overrideJobPriority(jobDefinitions);\n    };\n\n    function overrideJobPriority(jobDefinitions) {\n      $scope.status = PERFORM;\n\n      doOverride(jobDefinitions)\n        .then(function() {\n          if (!finishedWithFailures) {\n            if ($scope.setJobPriority) {\n              Notifications.addMessage({\n                status: $translate.instant(\"BULK_OVERRIDE_STATUS_FINISHED\"),\n                message: $translate.instant(\"BULK_OVERRIDE_MESSAGE\"),\n                exclusive: true\n              });\n            } else {\n              Notifications.addMessage({\n                status: $translate.instant(\"BULK_OVERRIDE_STATUS_FINISHED\"),\n                message: $translate.instant(\"BULK_OVERRIDE_CLEARING_MESSAGE\"),\n                exclusive: true\n              });\n            }\n          } else {\n            if ($scope.setJobPriority) {\n              Notifications.addError({\n                status: $translate.instant(\"BULK_OVERRIDE_STATUS_FINISHED\"),\n                message: $translate.instant(\"BULK_OVERRIDE_ERROR_1\"),\n                exclusive: true\n              });\n            } else {\n              Notifications.addError({\n                status: $translate.instant(\"BULK_OVERRIDE_STATUS_FINISHED\"),\n                message: $translate.instant(\"BULK_OVERRIDE_ERROR_2\"),\n                exclusive: true\n              });\n            }\n          }\n\n          $scope.status = FINISHED;\n        })\n        .catch(angular.noop);\n    }\n\n    function doOverride(jobDefinitions) {\n      var deferred = $q.defer();\n\n      var count = jobDefinitions.length;\n\n      function setJobPriority(jobDefinition) {\n        jobDefinition.status = PERFORM;\n        JobDefinitionResource.setJobPriority(\n          {\n            id: jobDefinition.id\n          },\n          data,\n          function() {\n            jobDefinition.status = SUCCESS;\n\n            // we want to show a summarize, when all requests\n            // responded, that's why we uses a counter\n            count = count - 1;\n            if (count === 0) {\n              deferred.resolve();\n            }\n          },\n          function(error) {\n            finishedWithFailures = true;\n\n            jobDefinition.status = FAILED;\n            jobDefinition.error = error;\n\n            // we want to show a summarize, when all requests\n            // responded, that's why we uses a counter\n            count = count - 1;\n            if (count === 0) {\n              deferred.resolve();\n            }\n          }\n        );\n      }\n\n      for (var i = 0, jobDefinition; (jobDefinition = jobDefinitions[i]); i++) {\n        setJobPriority(jobDefinition);\n      }\n\n      return deferred.promise;\n    }\n\n    $scope.isValid = function() {\n      var formScope = angular\n        .element('[name=\"overrideJobPriorityForm\"]')\n        .scope();\n      return (\n        !$scope.setJobPriority ||\n        (formScope && formScope.overrideJobPriorityForm\n          ? formScope.overrideJobPriorityForm.$valid\n          : false)\n      );\n    };\n\n    $scope.close = function(status) {\n      var response = {};\n      response.status = status;\n      $modalInstance.close(response);\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @namespace cam.cockpit.plugin.tasks\n */\n\nvar angular = require(\"angular\"),\n  viewsModule = require(\"./views/main\");\n\nmodule.exports = angular.module(\"cockpit.plugin.tasks\", [viewsModule.name]);\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\"),\n  // dashboard\n  taskDashboard = require(\"./dashboard/task-dashboard\"),\n  ngModule = angular.module(\"cockpit.plugin.tasks.views\", []);\n\nngModule.config(taskDashboard);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./task-dashboard.html.js\");\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.tasks.dashboard\", {\n      id: \"task-dashboard\",\n      label: \"PLUGIN_TASK_DASHBOARD_TITLE\",\n      template: template,\n      controller: [\n        \"$scope\",\n        \"$q\",\n        \"Views\",\n        \"camAPI\",\n        \"dataDepend\",\n        \"search\",\n        \"Notifications\",\n        \"$translate\",\n        function(\n          $scope,\n          $q,\n          Views,\n          camAPI,\n          dataDepend,\n          search,\n          Notifications,\n          $translate\n        ) {\n          var tasksPluginData = dataDepend.create($scope);\n\n          var HistoryResource = camAPI.resource(\"history\"),\n            TaskReportResource = camAPI.resource(\"task-report\");\n\n          $scope.taskStatistics = [\n            {\n              // assigned to users\n              state: undefined,\n              label: $translate.instant(\"PLUGIN_TASK_ASSIGNED_TO_USER\"),\n              count: 0,\n              search: \"openAssignedTasks\"\n            },\n            {\n              // assigned to groups\n              state: undefined,\n              label: $translate.instant(\"PLUGIN_TASK_ASSIGNED_TO_ONE\"),\n              count: 0,\n              search: \"openGroupTasks\"\n            },\n            {\n              // assigned neither to groups nor to users\n              state: undefined,\n              label: $translate.instant(\"PLUGIN_TASK_ASSIGNED_UNASSIGNED\"),\n              count: 0,\n              search: \"openUnassignedTasks\"\n            }\n          ];\n\n          // -- provide task data --------------\n          var provideResourceData = function(\n            resourceName,\n            resource,\n            method,\n            params\n          ) {\n            var deferred = $q.defer();\n\n            var getErrorStatus = function() {\n              if (method === \"countByCandidateGroup\") {\n                return $translate.instant(\"PLUGIN_TASK_ERROR_COUNT\");\n              }\n\n              return $translate.instant(\"PLUGIN_TASK_ERROR_FETCH\", {\n                res: resourceName\n              });\n            };\n\n            var resourceCallback = function(err, res) {\n              if (err) {\n                Notifications.addError({\n                  status: $translate.instant(\n                    \"PLUGIN_TASK_ASSIGNED_ERR_COULD_NOT\",\n                    { err: getErrorStatus() }\n                  ),\n                  message: err.toString()\n                });\n                deferred.reject(err);\n              } else {\n                deferred.resolve(res);\n              }\n            };\n\n            if (params === undefined || params === null) {\n              resource[method](resourceCallback);\n            } else {\n              resource[method](params, resourceCallback);\n            }\n\n            return deferred.promise;\n          };\n\n          var defaultParameter = function() {\n            return {\n              unfinished: true\n            };\n          };\n\n          tasksPluginData.provide(\"openTaskCount\", function() {\n            return provideResourceData(\n              $translate.instant(\"PLUGIN_TASK_ERROR_OPEN_TASKS\"),\n              HistoryResource,\n              \"taskCount\",\n              defaultParameter()\n            );\n          });\n\n          tasksPluginData.provide(\"assignedToUserCount\", function() {\n            var params = defaultParameter();\n            params.assigned = true;\n            return provideResourceData(\n              $translate.instant(\"PLUGIN_TASK_ERROR_ASSIGNED_TO_USERS\"),\n              HistoryResource,\n              \"taskCount\",\n              params\n            );\n          });\n\n          tasksPluginData.provide(\"assignedToGroupCount\", function() {\n            var params = defaultParameter();\n            params.unassigned = true;\n            params.withCandidateGroups = true;\n            return provideResourceData(\n              $translate.instant(\"PLUGIN_TASK_ERROR_ASSIGNED_TO_GROUPS\"),\n              HistoryResource,\n              \"taskCount\",\n              params\n            );\n          });\n\n          tasksPluginData.provide(\"notAssignedCount\", function() {\n            var params = defaultParameter();\n            params.unassigned = true;\n            params.withoutCandidateGroups = true;\n            return provideResourceData(\n              $translate.instant(\"PLUGIN_TASK_ERROR_UNASSIGNED\"),\n              HistoryResource,\n              \"taskCount\",\n              params\n            );\n          });\n\n          tasksPluginData.provide(\"countByCandidateGroup\", function() {\n            return provideResourceData(\n              $translate.instant(\"PLUGIN_TASK_ERROR_PER_GROUP\"),\n              TaskReportResource,\n              \"countByCandidateGroup\"\n            ).then(function(candidateGroups) {\n              var groupIds = candidateGroups.map(function(group) {\n                return group.groupName;\n              });\n\n              // Filter falsy values\n              groupIds = groupIds.filter(Boolean);\n\n              return camAPI\n                .resource(\"group\")\n                .list({\n                  idIn: groupIds,\n                  maxResults: groupIds.length\n                })\n                .then(function(groupDefinitions) {\n                  return candidateGroups.map(function(group) {\n                    group.id = group.groupName;\n\n                    var groupDef = groupDefinitions.filter(function(def) {\n                      return def.id === group.groupName;\n                    })[0];\n\n                    if (groupDef) {\n                      group.groupName = groupDef.name;\n                    }\n\n                    return group;\n                  });\n                })\n                .catch(function() {\n                  // When the query fails, still display the IDs\n                  return candidateGroups.map(function(group) {\n                    group.id = group.groupName;\n                    return group;\n                  });\n                });\n            });\n          });\n\n          // -- observe task data --------------\n\n          $scope.openTasksState = tasksPluginData.observe(\n            [\"openTaskCount\"],\n            function(_count) {\n              $scope.openTasksCount = _count.count || 0;\n            }\n          );\n\n          $scope.taskStatistics[0].state = tasksPluginData.observe(\n            [\"assignedToUserCount\"],\n            function(_userCount) {\n              $scope.taskStatistics[0].count = _userCount.count || 0;\n            }\n          );\n\n          $scope.taskStatistics[1].state = tasksPluginData.observe(\n            [\"assignedToGroupCount\"],\n            function(_groupCount) {\n              $scope.taskStatistics[1].count = _groupCount.count || 0;\n            }\n          );\n\n          $scope.taskStatistics[2].state = tasksPluginData.observe(\n            [\"notAssignedCount\"],\n            function(_notAssignedCount) {\n              $scope.taskStatistics[2].count = _notAssignedCount.count || 0;\n            }\n          );\n\n          $scope.taskGroupState = tasksPluginData.observe(\n            [\"countByCandidateGroup\"],\n            function(_candidateGroupCounts) {\n              $scope.taskGroups = _candidateGroupCounts;\n            }\n          );\n\n          $scope.formatGroupName = function(name) {\n            return name == null\n              ? $translate.instant(\"PLUGIN_TASK_ASSIGNED_WITHOUT_GROUP\")\n              : name;\n          };\n\n          var taskDashboardPlugins = Views.getProviders({\n            component: \"cockpit.tasks.dashboard\"\n          });\n          var hasSearchPlugin = ($scope.hasSearchPlugin =\n            taskDashboardPlugins.filter(function(plugin) {\n              return plugin.id === \"search-tasks\";\n            }).length > 0);\n\n          // -- SEARCH PLUGIN REQUIRED ------\n          if (hasSearchPlugin) {\n            var addTermToSearch = function(type, operator, value) {\n              if (arguments.length < 3) {\n                operator = \"eq\";\n                value = \"\";\n              }\n\n              return {\n                type: type,\n                operator: operator,\n                value: value,\n                name: \"\"\n              };\n            };\n\n            // we take all data from unfinished tasks for the open task dashboard\n            var resetSearch = function() {\n              return [addTermToSearch(\"unfinished\")];\n            };\n\n            var searchLinks = resetSearch();\n\n            $scope.createSearch = function(identifier, group) {\n              if (group === \"statistics\") {\n                switch (identifier) {\n                  case \"openAssignedTasks\":\n                    searchLinks.push(addTermToSearch(\"assigned\"));\n                    break;\n                  case \"openGroupTasks\":\n                    searchLinks.push(addTermToSearch(\"withCandidateGroups\"));\n                    searchLinks.push(addTermToSearch(\"unassigned\"));\n                    break;\n                  case \"openUnassignedTasks\":\n                    searchLinks.push(addTermToSearch(\"withoutCandidateGroups\"));\n                    searchLinks.push(addTermToSearch(\"unassigned\"));\n                    break;\n                  default:\n                    console.log(\"invalid or no identifier specified\");\n                    break;\n                }\n              } else {\n                if (identifier !== null) {\n                  searchLinks.push(\n                    addTermToSearch(\"taskHadCandidateGroup\", \"eq\", identifier)\n                  );\n                } else {\n                  // without group!\n                  searchLinks.push(addTermToSearch(\"withoutCandidateGroups\"));\n                  searchLinks.push(addTermToSearch(\"unassigned\"));\n                }\n              }\n\n              search.updateSilently(\n                { searchQuery: JSON.stringify(searchLinks) },\n                true\n              );\n              searchLinks = resetSearch();\n            };\n          }\n        }\n      ],\n\n      priority: 0\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - ui/cockpit/plugins/tasks/app/views/dashboard/task-dashboard.html -->\n<div class=\"dashboard-row\">\n  <section class=\"col-xs-12 col-md-6\">\n    <div class=\"inner\">\n      <header>\n        <h1 class=\"section-title\">{{ 'PLUGIN_TASK_ASSIGNMENT_BY_TYPE' | translate }}</h1>\n      </header>\n      <table class=\"cam-table values-left\" id=\"open-task-statistics\">\n        <thead>\n          <tr>\n            <th>{{ 'PLUGIN_TASK_TASKS' | translate }}</th>\n            <th>{{ 'PLUGIN_TASK_TYPES' | translate }}</th>\n          </tr>\n        </thead>\n\n        <tfoot>\n          <tr>\n            <th>\n              <span ng-if=\"!openTasksState.$loaded\" class=\"glyphicon glyphicon-refresh animate-spin\"></span>\n              <span ng-if=\"openTasksState.$loaded && !hasSearchPlugin\">{{ openTasksCount }}</span>\n              <span ng-if=\"openTasksState.$loaded && hasSearchPlugin\">\n                <a class=\"search-link\" ng-click=\"createSearch('allOpenTasks', 'statistics')\">{{ openTasksCount }}</a>\n              </span>\n            </th>\n            <th>{{ 'PLUGIN_TASK_TOTAL' | translate }}</th>\n          </tr>\n        </tfoot>\n\n        <tbody>\n          <tr ng-repeat=\"taskStatistic in taskStatistics\">\n            <th>\n              <span ng-if=\"!taskStatistic.state.$loaded\" class=\"glyphicon glyphicon-refresh animate-spin\"></span>\n              <span ng-if=\"taskStatistic.state.$loaded && !hasSearchPlugin\">{{ taskStatistic.count }}</span>\n              <span ng-if=\"taskStatistic.state.$loaded && hasSearchPlugin\">\n                <a class=\"search-link\" ng-click=\"createSearch(taskStatistic.search, 'statistics')\"> {{ taskStatistic.count }}</a>\n              </span>\n            </th>\n            <td>{{ taskStatistic.label }}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </section>\n\n  <section class=\"col-xs-12 col-md-6\">\n    <div class=\"inner\">\n      <header>\n        <h1 class=\"section-title\">{{ 'PLUGIN_TASK_ASSIGNMENT_BY_GROUP' | translate }}</h1>\n      </header>\n      <table class=\"cam-table values-left\" id=\"task-group-counts\">\n        <thead>\n          <tr>\n            <th>{{ 'PLUGIN_TASK_TASKS' | translate }}</th>\n            <th>{{ 'PLUGIN_TASK_GROUP' | translate }}</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr ng-if=\"!taskGroupState.$loaded && !taskGroupState.$error\">\n            <td colspan=\"2\"><span class=\"glyphicon glyphicon-refresh animate-spin\"></span></td>\n          </tr>\n          <tr ng-if=\"taskGroupState.$loaded\" ng-repeat=\"taskGroup in taskGroups\">\n            <td ng-if=\"!hasSearchPlugin\">{{ taskGroup.taskCount }}</td>\n            <td ng-if=\"hasSearchPlugin\">\n              <a class=\"search-link\" ng-click=\"createSearch(taskGroup.id, 'group')\">{{ taskGroup.taskCount }}</a>\n            </td>\n            <td>{{ formatGroupName(taskGroup.groupName) }}</td>\n          </tr>\n        </tbody>\n      </table>\n      <p id=\"multiple-groups-info\" ng-if=\"taskGroupState.$loaded\">\n        <span class=\"glyphicon glyphicon-info-sign\"></span>\n        {{ 'PLUGIN_TASK_LEGEND_FOOTER' | translate }}\n      </p>\n    </div>\n  </section>\n</div>\n<!-- / CE - ui/cockpit/plugins/tasks/app/views/dashboard/task-dashboard.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../camunda-commons-ui/vendor/angular\");\nvar camCommon = require(\"cam-common\");\n\nvar externalTasks = require(\"./services/external-tasks\");\n\nvar ProcessInstanceRuntimeTabController = require(\"./controllers/process-instance-runtime-external-tasks-controller\");\n\nvar viewConfig = require(\"./view-provider.config\");\n\nvar ngModule = angular.module(\"cockpit.plugin.process-instance-runtime-tab\", [\n  camCommon.name\n]);\n\nngModule.factory(\"externalTasks\", externalTasks);\n\nngModule.controller(\n  \"ProcessInstanceRuntimeTabController\",\n  ProcessInstanceRuntimeTabController\n);\n\nngModule.config(viewConfig);\n\nmodule.exports = ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = [\n  \"camAPI\",\n  \"createListQueryFunction\",\n  function(camAPI, createListQueryFunction) {\n    var externalTasks = camAPI.resource(\"external-task\");\n    var getExternalTasks = createListQueryFunction(\n      externalTasks.count.bind(externalTasks),\n      externalTasks.list.bind(externalTasks)\n    );\n\n    return {\n      getActiveExternalTasksForProcess: getActiveExternalTasksForProcess\n    };\n\n    function getActiveExternalTasksForProcess(\n      processId,\n      pages,\n      sorting,\n      otherParams\n    ) {\n      var countParams = { processInstanceId: processId };\n      var sortParams = { sorting: [sorting] };\n      return getExternalTasks(\n        angular.extend(countParams, otherParams),\n        pages,\n        sortParams\n      );\n    }\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$scope\",\n  \"exposeScopeProperties\",\n  \"externalTasks\",\n  \"observeBpmnElements\",\n  \"$translate\",\n  \"localConf\",\n  ProcessInstanceRuntimeTab\n];\n\nfunction ProcessInstanceRuntimeTab(\n  $scope,\n  exposeScopeProperties,\n  externalTasks,\n  observeBpmnElements,\n  $translate,\n  localConf\n) {\n  exposeScopeProperties($scope, this, [\"processInstance\", \"processData\"]);\n  observeBpmnElements($scope, this);\n\n  this.translate = $translate;\n  this.localConf = localConf;\n  this.externalTasks = externalTasks;\n  this.query = null;\n  this.pages = null;\n  this.activityIds = null;\n\n  this.sorting = this._loadLocal({ sortBy: \"taskPriority\", sortOrder: \"asc\" });\n\n  this.headColumns = [\n    {\n      class: \"state\",\n      request: \"\",\n      sortable: false,\n      content: this.translate.instant(\"PLUGIN_EXT_EXTERNAL_TASK_ID\")\n    },\n    {\n      class: \"activity\",\n      request: \"\",\n      sortable: false,\n      content: this.translate.instant(\"PLUGIN_EXT_ACTIVITY\")\n    },\n    {\n      class: \"retries\",\n      request: \"\",\n      sortable: false,\n      content: this.translate.instant(\"PLUGIN_EXT_RETRIES\")\n    },\n    {\n      class: \"worker-id\",\n      request: \"\",\n      sortable: false,\n      content: this.translate.instant(\"PLUGIN_EXT_WORKER_ID\")\n    },\n    {\n      class: \"expiration\",\n      request: \"\",\n      sortable: false,\n      content: this.translate.instant(\"PLUGIN_EXT_LOCK_EXPIRATION_TIME\")\n    },\n    {\n      class: \"topic\",\n      request: \"\",\n      sortable: false,\n      content: this.translate.instant(\"PLUGIN_EXT_TOPIC\")\n    },\n    {\n      class: \"priority\",\n      request: \"taskPriority\",\n      sortable: true,\n      content: this.translate.instant(\"PLUGIN_EXT_PRIORITY\")\n    }\n  ];\n}\n\nProcessInstanceRuntimeTab.prototype._loadLocal = function(defaultValue) {\n  return this.localConf.get(\"sortExternalTaskRuntimeTab\", defaultValue);\n};\n\nProcessInstanceRuntimeTab.prototype._saveLocal = function(sorting) {\n  return this.localConf.set(\"sortExternalTaskRuntimeTab\", sorting);\n};\n\nProcessInstanceRuntimeTab.prototype.onSortChange = function(sorting) {\n  this.sorting = sorting;\n  this._saveLocal(this.sorting);\n  this.onLoad();\n};\n\nProcessInstanceRuntimeTab.prototype.onLoad = function(pages, activityIds) {\n  this.pages = pages || this.pages;\n  this.activityIds = activityIds || this.activityIds;\n\n  return this.externalTasks\n    .getActiveExternalTasksForProcess(\n      this.processInstance.id,\n      this.pages,\n      this.sorting,\n      this.getActivityParams(this.activityIds)\n    )\n    .then(\n      function(data) {\n        this.tasks = data.list;\n\n        return data;\n      }.bind(this)\n    )\n    .catch(function() {});\n};\n\nProcessInstanceRuntimeTab.prototype.getActivityParams = function(activityIds) {\n  if (!activityIds || !activityIds.length) {\n    return {};\n  }\n\n  return {\n    activityIdIn: activityIds\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./process-instance-runtime-external-tasks.html.js\");\n\nmodule.exports = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.processInstance.runtime.tab\", {\n      id: \"external-tasks-process-instance-runtime\",\n      label: \"PLUGIN_EXTERNAL_TASKS_LABEL\",\n      template: template,\n      controller: \"ProcessInstanceRuntimeTabController as RuntimeTab\"\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - ui/cockpit/plugins/external-tasks-process-instance-runtime-tab/process-instance-runtime-external-tasks.html -->\n<div external-tasks-tab=\"RuntimeTab.onLoad(pages, activityIds)\"\n     process-data=\"RuntimeTab.processData\">\n  <table class=\"history-job-log cam-table\">\n\n    <thead sortable-table-head\n           head-columns=\"RuntimeTab.headColumns\"\n           on-sort-change=\"RuntimeTab.onSortChange(RuntimeTab.sorting)\"\n           default-sort=\"RuntimeTab.sorting\">\n    </thead>\n    <tbody>\n      <tr ng-repeat=\"task in RuntimeTab.tasks track by task.id\">\n        <td class=\"state\"\n            cam-widget-clipboard=\"task.id\">{{task.id}}</td>\n        <td class=\"activity\">\n          <span external-task-activity-link=\"task.activityId\"\n                bpmn-elements=\"RuntimeTab.bpmnElements\">\n          </span>\n        </td>\n        <td class=\"retries\">{{task.retries}}</td>\n        <td class=\"worker-id\">{{task.workerId}}</td>\n        <td class=\"expiration\">{{task.lockExpirationTime}}</td>\n        <td class=\"topic\">{{task.topicName}}</td>\n        <td class=\"priority\">{{task.priority}}</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<!-- / CE - ui/cockpit/plugins/external-tasks-process-instance-runtime-tab/process-instance-runtime-external-tasks.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar BpmnIO = require(\"bpmn-js/lib/NavigatedViewer\").default;\n\nvar Service = [\n  \"$q\",\n  \"configuration\",\n  function($q, configuration) {\n    return {\n      transformBpmn20Xml: function(bpmn20Xml) {\n        var deferred = $q.defer();\n\n        BpmnIO.prototype.options = {};\n        var moddle = BpmnIO.prototype._createModdle({\n          moddleExtensions: configuration.getBpmnJs().moddleExtensions || {}\n        });\n        moddle.fromXML(bpmn20Xml, \"bpmn:Definitions\", function(\n          err,\n          definitions,\n          context\n        ) {\n          deferred.resolve({\n            definitions: definitions,\n            bpmnElements: context.elementsById\n          });\n        });\n\n        return deferred.promise;\n      }\n    };\n  }\n];\nmodule.exports = Service;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar VariablesFactory = [\n  \"$translate\",\n  function($translate) {\n    // variable specific stuff //////////////\n\n    function reverse(hash) {\n      var result = {};\n\n      for (var key in hash) {\n        result[hash[key]] = key;\n      }\n\n      return result;\n    }\n\n    function keys(hash) {\n      var keys = [];\n\n      for (var key in hash) {\n        keys.push(key);\n      }\n\n      return keys;\n    }\n\n    var OPS = {\n      eq: \"=\",\n      neq: \"!=\",\n      gt: \">\",\n      gteq: \">=\",\n      lt: \"<\",\n      lteq: \"<=\",\n      like: \" like \"\n    };\n\n    var SYM_TO_OPS = reverse(OPS);\n\n    function operatorName(op) {\n      return OPS[op];\n    }\n\n    var PATTERN = new RegExp(\n      \"^(\\\\w+)\\\\s*(\" + keys(SYM_TO_OPS).join(\"|\") + \")\\\\s*([^!=<>]+)$\"\n    );\n\n    /**\n     * Tries to guess the type of the input string\n     * and returns the appropriate representation\n     * in the guessed type.\n     *\n     * @param value {string}\n     * @return value {string|boolean|number} the interpolated value\n     */\n    function typed(value) {\n      // is a string ( \"asdf\" )\n      if (/^\".*\"\\s*$/.test(value)) {\n        return value.substring(1, value.length - 1);\n      }\n\n      if (parseFloat(value) + \"\" === value) {\n        return parseFloat(value);\n      }\n\n      if (value === \"true\" || value === \"false\") {\n        return value === \"true\";\n      }\n\n      throw new Error(\n        $translate.instant(\"VARIABLE_ERROR_INFER_TYPE\", { value: value })\n      );\n    }\n\n    function typedString(value) {\n      if (!value) {\n        return value;\n      }\n\n      if (typeof value === \"string\") {\n        return '\"' + value + '\"';\n      }\n\n      if (typeof value === \"boolean\") {\n        return value ? \"true\" : \"false\";\n      }\n\n      if (typeof value === \"number\") {\n        return value;\n      }\n\n      throw new Error(\n        $translate.instant(\"VARIABLE_ERROR_INFER_TYPE\", { value: value })\n      );\n    }\n\n    /**\n     * Public API of Variables utility\n     */\n    return {\n      /**\n       * Parse a string into a variableFilter { name: ..., operator: ..., value: ... }\n       * @param  {string} str the string to parse\n       * @return {object}     the parsed variableFilter object\n       */\n      parse: function(str) {\n        var match = PATTERN.exec(str),\n          value;\n\n        if (!match) {\n          throw new Error(\n            $translate.instant(\"VARIABLE_ERROR_VARIABLE_SYNTAX\", {\n              message: str\n            })\n          );\n        }\n\n        value = typed(match[3]);\n\n        return {\n          name: match[1],\n          operator: SYM_TO_OPS[match[2]],\n          value: value\n        };\n      },\n\n      toString: function(variable) {\n        if (!variable) {\n          return \"\";\n        }\n\n        return (\n          variable.name +\n          operatorName(variable.operator) +\n          typedString(variable.value)\n        );\n      },\n\n      operators: keys(SYM_TO_OPS)\n    };\n  }\n];\nmodule.exports = VariablesFactory;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"ProcessDefinitionResource\",\n  \"page\",\n  function(ProcessDefinitionResource, page) {\n    function breadcrumbTrails(\n      processInstance,\n      fetchSuperInstance,\n      trail,\n      index,\n      urlSuffix\n    ) {\n      trail = trail || [];\n\n      function handleSuperProcessInstance(err, superProcessInstance) {\n        if (!superProcessInstance) {\n          page.breadcrumbsInsertAt(index, trail);\n          return;\n        }\n\n        // ... and fetch its process definition\n        ProcessDefinitionResource.get({\n          // TODO: CAM-2017 API definition cleanup\n          id:\n            superProcessInstance.processDefinitionId ||\n            superProcessInstance.definitionId\n        })\n          .$promise.then(function(response) {\n            // var superProcessDefinition = response.data;\n            var superProcessDefinition = response;\n\n            // ... PREpend the breadcrumbs\n            trail = [\n              {\n                href:\n                  \"#/process-definition/\" +\n                  superProcessDefinition.id +\n                  (urlSuffix ? \"/\" + urlSuffix : \"\"),\n                label: superProcessDefinition.name || superProcessDefinition.key\n              },\n              {\n                divider: \":\",\n                href:\n                  \"#/process-instance/\" +\n                  superProcessInstance.id +\n                  (urlSuffix ? \"/\" + urlSuffix : \"\"),\n                label: superProcessInstance.id.slice(0, 8) + \"\"\n              }\n            ].concat(trail);\n\n            breadcrumbTrails(\n              superProcessInstance,\n              fetchSuperInstance,\n              trail,\n              index,\n              urlSuffix\n            );\n          })\n          .catch(function() {});\n      }\n\n      fetchSuperInstance(processInstance, handleSuperProcessInstance);\n    }\n\n    return breadcrumbTrails;\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nmodule.exports = [\n  \"$q\",\n  function($q) {\n    function queryMaxResults(queryParams, query, count) {\n      var deferred = $q.defer();\n\n      query(queryParams)\n        .then(data => {\n          deferred.resolve(data);\n        })\n        .catch(error => {\n          if (error.status === 400) {\n            count(queryParams).then(data => {\n              query(angular.extend({ maxResults: data.count }, queryParams))\n                .then(data => {\n                  deferred.resolve(data);\n                })\n                .catch(error => {\n                  if (error.status === 400) {\n                    var maxResults = 50;\n                    query(\n                      angular.extend(\n                        {\n                          maxResults: maxResults\n                        },\n                        queryParams\n                      )\n                    )\n                      .then(data => {\n                        deferred.resolve(data);\n                      })\n                      .catch(error => {\n                        deferred.reject(error);\n                      });\n                  }\n                });\n            });\n          }\n        });\n\n      return deferred.promise;\n    }\n\n    return queryMaxResults;\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar routeUtil = require(\"./../util/routeUtil\");\n\n/**\n * A wrapper to use the cockpit/util/routeUtil as a angular service\n\n * @name routeUtil\n * @memberof cam.cockpit.services\n * @type angular.service\n *\n * @module cam.cockpit.services.routeUtil\n */\nmodule.exports = [\n  function() {\n    return {\n      redirectToRuntime: function(params, currentPath, currentSearch) {\n        return routeUtil.redirectToRuntime(params, currentPath, currentSearch);\n      },\n\n      replaceLastPathFragment: function(\n        replacement,\n        currentPath,\n        currentSearch,\n        keepSearchParams\n      ) {\n        return routeUtil.replaceLastPathFragment(\n          replacement,\n          currentPath,\n          currentSearch,\n          keepSearchParams\n        );\n      },\n\n      redirectTo: function(redirectUrl, currentSearch, keepSearchParams) {\n        return routeUtil.redirectTo(\n          redirectUrl,\n          currentSearch,\n          keepSearchParams\n        );\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\");\n\n/**\n * A service to manage a page page.\n *\n * @name page\n * @memberof cam.cockpit.services\n * @type angular.service\n *\n * @module cam.cockpit.services.page\n */\n\nmodule.exports = [\n  \"$rootScope\",\n  \"$location\",\n  \"camAPI\",\n  function($rootScope, $location, camAPI) {\n    var page = {\n      title: \"Camunda\",\n      breadcrumbs: []\n    };\n\n    var headTitle = angular.element(document.querySelector(\"head title\"));\n\n    // add a listener to the $rootScope to propagate the changes in the page title\n    // sure... we could put that in the titleSet() function\n    // or elsewhere but it's almost philosophical\n    $rootScope.$on(\"page.title.changed\", function() {\n      headTitle.text([\"Camunda Cockpit\", page.title].join(\" | \"));\n    });\n\n    $rootScope.isActivePage = function(pageName) {\n      return $location.path().indexOf(\"/\" + pageName) === 0 ? \"active\" : \"\";\n    };\n\n    function getUserProfile(auth) {\n      if (!auth || !auth.name) {\n        $rootScope.userFullName = null;\n        return;\n      }\n\n      var userService = camAPI.resource(\"user\");\n      userService.profile(auth.name, function(err, info) {\n        if (err) {\n          $rootScope.userFullName = null;\n          throw err;\n        }\n        $rootScope.userFullName = info.firstName + \" \" + info.lastName;\n      });\n    }\n    $rootScope.$on(\"authentication.changed\", function(ev, auth) {\n      getUserProfile(auth);\n    });\n    getUserProfile($rootScope.authentication);\n\n    return {\n      /**\n       * Set the document/page title\n       *\n       * @param {sring} newTitle          - the new document/page title\n       *\n       * @returns {angular.Service} this  - the service\n       */\n      titleSet: function(newTitle) {\n        page.title = newTitle;\n        $rootScope.$broadcast(\"page.title.changed\", page.title);\n        return this;\n      },\n\n      /**\n       * Get the document/page title\n       *\n       * @returns {string} - the document/page title\n       */\n      titleGet: function() {\n        return page.title;\n      },\n\n      /**\n       * Adds one or more page\n       *\n       * @param {(Object.<string, *>|Object[])} crumb - a breadcrumb object or an array of breadcrumb objects\n       *\n       * @returns {angular.Service} this  - the service\n       */\n      breadcrumbsAdd: function(crumb) {\n        if (angular.isArray(crumb)) {\n          return angular.forEach(crumb, this.breadcrumbsAdd);\n        }\n\n        if (angular.isFunction(crumb)) {\n          var callback = crumb;\n          crumb = {\n            callback: callback\n          };\n        }\n\n        crumb.label = crumb.label || \"\";\n\n        page.breadcrumbs.push(crumb);\n\n        $rootScope.$broadcast(\"page.breadcrumbs.changed\", page.breadcrumbs);\n        return this;\n      },\n\n      /**\n       * Insert a link (or array of links) at a given index\n       *\n       * @param {integer} index          - the position at which the new\n       *                                   element(s) will be insert\n       *\n       * @param {(Object|Array)} crumb   - the new element(s) to insert\n       *\n       * @return {angular.Service} this  - the service\n       */\n      breadcrumbsInsertAt: function(index, crumb) {\n        page.breadcrumbs = page.breadcrumbs\n          .slice(0, index)\n          .concat(angular.isArray(crumb) ? crumb : [crumb])\n          .concat(page.breadcrumbs.slice(index + 1));\n\n        $rootScope.$broadcast(\"page.breadcrumbs.changed\", page.breadcrumbs);\n        return this;\n      },\n\n      /**\n       * Get the page breadcrumbs\n       *\n       * @param {(integer|string)} index  - can be an integer\n       *                                    or \"last\" (as shortcut for breadcrumbs[breadcrumbs.length - 1])\n       *\n       * @returns {(Array|Object)}        - an array of breadcrumb objects\n       *                                    or 1 breadcrumb object when the index is given\n       */\n      breadcrumbsGet: function(index) {\n        if (index) {\n          if (index === \"last\") {\n            index = page.length - 1;\n          }\n          return page.breadcrumbs[index];\n        }\n        return page.breadcrumbs;\n      },\n\n      /**\n       * Clears the breadcrumb (remove all items)\n       *\n       * @returns {angular.Service} this  - the service\n       */\n      breadcrumbsClear: function() {\n        page.breadcrumbs = [];\n\n        $rootScope.$broadcast(\"page.breadcrumbs.changed\", page.breadcrumbs);\n        return this;\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar CamSDK = require(\"../../../camunda-bpm-sdk-js/lib/angularjs/index\");\n\nmodule.exports = [\n  \"Uri\",\n  \"camAPIHttpClient\",\n  function(Uri, camAPIHttpClient) {\n    return new CamSDK.Client({\n      HttpClient: camAPIHttpClient,\n      apiUri: Uri.appUri(\"engine://\"),\n      engine: Uri.appUri(\":engine\")\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"Views\",\n  function(Views) {\n    return function(pluginPoint, pluginId) {\n      return !!Views.getProviders({ component: pluginPoint }).filter(function(\n        plugin\n      ) {\n        return plugin.id === pluginId;\n      }).length;\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar typeUtils = require(\"../../../camunda-bpm-sdk-js\").utils.typeUtils;\n\nmodule.exports = function() {\n  return typeUtils;\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @namespace CamSDK */\n\nmodule.exports = {\n  Client: require(\"./api-client\"),\n  utils: require(\"./utils\")\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  function() {\n    return {\n      escape: function(html) {\n        var text = document.createTextNode(html);\n        var div = document.createElement(\"div\");\n        div.appendChild(text);\n        return div.innerHTML;\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Resource = [\n  \"$resource\",\n  \"Uri\",\n  function($resource, Uri) {\n    return $resource(\n      Uri.appUri(\"engine://engine/:engine/process-definition/:id/:action\"),\n      {\n        id: \"@id\"\n      },\n      {\n        queryStatistics: {\n          method: \"GET\",\n          isArray: true,\n          params: {\n            id: \"statistics\"\n          }\n        },\n        queryActivityStatistics: {\n          method: \"GET\",\n          isArray: true,\n          params: {\n            action: \"statistics\"\n          }\n        },\n        getBpmn20Xml: {\n          method: \"GET\",\n          params: { action: \"xml\" },\n          cache: true\n        },\n        count: {\n          method: \"GET\",\n          params: { action: \"count\" }\n        }\n      }\n    );\n  }\n];\n\nmodule.exports = Resource;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Resource = [\n  \"$resource\",\n  \"Uri\",\n  function($resource, Uri) {\n    return $resource(\n      Uri.appUri(\"engine://engine/:engine/incident/:action\"),\n      {},\n      {\n        count: { method: \"GET\", isArray: false, params: { count: \"count\" } }\n      }\n    );\n  }\n];\nmodule.exports = Resource;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$resource\",\n  \"Uri\",\n  function($resource, Uri) {\n    return $resource(\n      Uri.appUri(\"engine://engine/:engine/process-instance/:id/:action/\"),\n      { id: \"@id\" },\n      {\n        query: {\n          method: \"POST\",\n          isArray: true\n        },\n\n        count: {\n          method: \"POST\",\n          isArray: false,\n          params: { id: \"count\" }\n        },\n\n        activityInstances: {\n          method: \"GET\",\n          isArray: false,\n          params: {\n            action: \"activity-instances\"\n          }\n        }\n      }\n    );\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Resource = [\n  \"$resource\",\n  \"Uri\",\n  function($resource, Uri) {\n    return $resource(\n      Uri.appUri(\n        \"engine://engine/:engine/execution/:executionId/localVariables/:localVariableName\"\n      ),\n      {},\n      {\n        updateVariables: { method: \"POST\" }\n      }\n    );\n  }\n];\nmodule.exports = Resource;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Resource = [\n  \"$resource\",\n  \"Uri\",\n  function($resource, Uri) {\n    return $resource(\n      Uri.appUri(\"engine://engine/:engine/job/:id/:action\"),\n      { id: \"@id\" },\n      {\n        query: { method: \"POST\", isArray: true },\n        count: { method: \"POST\", isArray: false, params: { id: \"count\" } },\n        setRetries: { method: \"PUT\", params: { action: \"retries\" } }\n      }\n    );\n  }\n];\n\nmodule.exports = Resource;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar TaskResource = [\n  \"$resource\",\n  \"Uri\",\n  function($resource, Uri) {\n    var endpoint = Uri.appUri(\n      \"engine://engine/:engine/task/:id/:action/:subAction\"\n    );\n    var endpointParams = { id: \"@id\" };\n\n    return $resource(endpoint, endpointParams, {\n      query: {\n        method: \"POST\",\n        isArray: true\n      },\n      count: {\n        method: \"POST\",\n        isArray: false,\n        params: { id: \"count\" }\n      },\n\n      getIdentityLinks: {\n        method: \"GET\",\n        isArray: true,\n        params: { action: \"identity-links\" }\n      },\n      addIdentityLink: {\n        method: \"POST\",\n        params: { action: \"identity-links\" }\n      },\n      deleteIdentityLink: {\n        method: \"POST\",\n        params: {\n          action: \"identity-links\",\n          subAction: \"delete\"\n        }\n      },\n\n      setAssignee: {\n        method: \"POST\",\n        params: { action: \"assignee\" }\n      }\n    });\n  }\n];\n\nmodule.exports = TaskResource;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Resource = [\n  \"$resource\",\n  \"Uri\",\n  function($resource, Uri) {\n    return $resource(\n      Uri.appUri(\"engine://engine/:engine/job-definition/:id/:action\"),\n      { id: \"@id\" },\n      {\n        query: { method: \"POST\", isArray: true },\n        count: { method: \"POST\", isArray: false, params: { id: \"count\" } },\n        setRetries: { method: \"PUT\", params: { action: \"retries\" } },\n        setJobPriority: { method: \"PUT\", params: { action: \"jobPriority\" } }\n      }\n    );\n  }\n];\n\nmodule.exports = Resource;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar ShortenFilter = function() {\n  return function(input, length) {\n    return input.length > length ? input.substring(0, length) + \"...\" : input;\n  };\n};\nmodule.exports = ShortenFilter;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n  Defines a filter to convert given milliseconds into\n  human readable time lapse.\n\n  @name duration\n  @memberof cam.cockpit.filter\n  @type angular.filter\n\n  @author Roman Smirnov <roman.smirnov@camunda.com>\n */\n\nvar Filter = function() {\n  return function(duration) {\n    if (!duration) {\n      return;\n    }\n\n    var x = duration;\n    var milliseconds = Math.floor(x % 1000);\n    x /= 1000;\n    var seconds = Math.floor(x % 60);\n    x /= 60;\n    var minutes = Math.floor(x % 60);\n    x /= 60;\n    var hours = Math.floor(x % 24);\n    x /= 24;\n    var days = Math.floor(x);\n\n    var result = [];\n\n    addValue(days, \"day\", result);\n    addValue(hours, \"hour\", result);\n    addValue(minutes, \"minute\", result);\n    addValue(seconds, \"second\", result);\n\n    if (result.length === 0) {\n      addValue(milliseconds, \"millisecond\", result);\n    }\n\n    return result.join(\", \");\n  };\n\n  function addValue(value, unit, array) {\n    if (value) {\n      var result = [];\n      result.push(value);\n      result.push(value === 1 ? unit : unit + \"s\");\n      array.push(result.join(\" \"));\n    }\n  }\n};\nmodule.exports = Filter;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./breadcrumbs.html.js\");\n\nmodule.exports = [\n  \"$location\",\n  \"routeUtil\",\n  function($location, routeUtil) {\n    return {\n      scope: {\n        divider: \"@\"\n      },\n\n      restrict: \"A\",\n\n      template: template,\n\n      link: function(scope) {\n        // event triggered by the breadcrumbs service when the breadcrumbs are alterated\n        scope.$on(\"page.breadcrumbs.changed\", function(ev, breadcrumbs) {\n          scope.breadcrumbs = breadcrumbs;\n        });\n\n        scope.getHref = function(crumb) {\n          return routeUtil.redirectTo(\n            crumb.href,\n            $location.search(),\n            crumb.keepSearchParams\n          );\n        };\n\n        scope.selectChoice = function(evt, choice) {\n          evt.preventDefault();\n          $location.path(choice.href.substr(1));\n        };\n\n        scope.getActiveChoice = function(choices) {\n          var label;\n          choices.forEach(function(choice) {\n            if (choice.active) {\n              label = choice.label;\n            }\n          });\n          return label || \"Options\";\n        };\n\n        scope.sortedChoices = function(choices) {\n          return choices.sort(function(a, b) {\n            return a.active ? -1 : b.active ? 1 : 0;\n          });\n        };\n      },\n\n      controller: [\n        \"$scope\",\n        \"page\",\n        function($scope, page) {\n          // initialize the $scope breadcrumbs from the service\n          $scope.breadcrumbs = page.breadcrumbsGet();\n        }\n      ]\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/ui/common/scripts/directives/breadcrumbs.html -->\n<ul class=\"cam-breadcrumb\">\n  <li ng-class=\"{ active: !breadcrumbs || !breadcrumbs.length }\">\n    <a href=\"#/\"\n       class=\"text\">{{ 'DASHBOARD_DASHBOARD' | translate }}</a>\n  </li>\n\n  <li ng-repeat=\"(index, crumb) in breadcrumbs\"\n      ng-class=\"{ active: !!$last }\"\n      data-index=\"{{ index }}\">\n    <span class=\"divider\" ng-click=\"crumb.hidden = !crumb.hidden\">{{ crumb.divider || divider }}</span>\n\n    <!-- using ng-show to separate logic of creating breadcrumbs elements from\n         logic of dynamically showing and hidding them -->\n    <a ng-if=\"!!crumb.href && !$last\"\n       ng-show=\"!crumb.hidden\"\n       href=\"{{ getHref(crumb) }}\"\n       class=\"text\">{{ crumb.label | translate }}</a>\n\n    <span ng-if=\"!!crumb.href && !!$last\"\n          ng-show=\"!crumb.hidden\"\n          class=\"text\">{{ crumb.label }}</span>\n\n    <a ng-if=\"!crumb.href && !!crumb.callback\"\n       ng-show=\"!crumb.hidden\"\n       ng-click=\"crumb.callback(index, breadcrumbs)\"\n       href\n       class=\"text\">{{ crumb.label }}</a>\n\n    <span ng-if=\"!crumb.href && !crumb.callback\"\n          ng-show=\"!crumb.hidden\"\n          class=\"text\">{{ crumb.label | translate }}</span>\n\n    <span ng-if=\"(crumb.type === 'processDefinition' && crumb.processDefinition.suspended) || (crumb.type === 'processInstance' && crumb.processInstance.suspended)\"\n          ng-show=\"!crumb.hidden\"\n          class=\"badge badge-warning badge-suspended\"\n          uib-tooltip=\"{{ 'BREAD_CRUMBS_CURRENTLY_SUSPENDED' | translate }}\"\n          tooltip-placement=\"bottom\">\n      <span class=\"glyphicon glyphicon-pause white\"></span>\n    </span>\n\n    <span ng-if=\"!!crumb.choices && crumb.choices.length === 1\" ng-show=\"!crumb.hidden\">\n      <span class=\"divider\">:</span>\n      {{ getActiveChoice(crumb.choices) | translate }}\n    </span>\n\n    <span ng-if=\"!!crumb.choices && crumb.choices.length === 2\"\n          class=\"switcher\"\n          ng-show=\"!crumb.hidden\"\n          ng-init=\"choices = sortedChoices(crumb.choices)\">\n      <span class=\"divider\">:</span>\n\n      <span class=\"current\">{{ choices[0].label | translate}}</span>\n      <span class=\"divider\">|</span>\n      <a href ng-click=\"selectChoice($event, choices[1])\">{{ choices[1].label | translate}}</a>\n    </span>\n\n    <span ng-if=\"!!crumb.choices && crumb.choices.length > 2\"\n          ng-show=\"!crumb.hidden\"\n          class=\"dropdown\"\n          uib-dropdown>\n      <span class=\"divider\">:</span>\n\n      <a class=\"dropdown-toggle\"\n         uib-dropdown-toggle\n         ng-show=\"!crumb.hidden\"\n         href>\n        {{ getActiveChoice(crumb.choices) }}\n        <span class=\"caret\"></span>\n      </a>\n\n      <ul class=\"dropdown-menu dropdown-menu-right\" ng-show=\"!crumb.hidden\" uib-dropdown-menu>\n        <li ng-repeat=\"choice in crumb.choices\"\n            ng-class=\"{active: choice.active}\">\n          <a href ng-click=\"selectChoice($event, choice)\">{{ choice.label }}</a>\n        </li>\n      </ul>\n    </span>\n  </li>\n</ul>\n<!-- / CE - camunda-bpm-webapp/ui/common/scripts/directives/breadcrumbs.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Directive = function() {\n  return {\n    restrict: \"A\",\n    require: \"ngModel\",\n    link: function(scope, element, attrs, model) {\n      var pattern = attrs.integer\n        ? /^-?[\\d]+$/\n        : /^(0|(-?(((0|[1-9]\\d*)\\.\\d+)|([1-9]\\d*))))([eE][-+]?[0-9]+)?$/;\n\n      var numberParser = function(value) {\n        var isValid = pattern.test(value);\n        model.$setValidity(\"numeric\", isValid);\n\n        return isValid ? parseFloat(value, 10) : value;\n      };\n\n      model.$parsers.push(numberParser);\n\n      var numberFormatter = function(value) {\n        // if the value is not set,\n        // then ignore it!\n        if (value === undefined || value === null) {\n          return;\n        }\n\n        // test the pattern\n        var isValid = pattern.test(value);\n        model.$setValidity(\"numeric\", isValid);\n\n        if (isValid) {\n          // if the value is valid, then return the\n          // value as a number\n          return parseFloat(value, 10);\n        } else {\n          // if the value is invalid, then\n          // set $pristine to false and set $dirty to true,\n          // that means the user has interacted with the controller.\n          model.$pristine = false;\n          model.$dirty = true;\n\n          // add 'ng-dirty' as class to the element\n          element.addClass(\"ng-dirty\");\n\n          return value;\n        }\n      };\n\n      model.$formatters.push(numberFormatter);\n    }\n  };\n};\n\nmodule.exports = Directive;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function() {\n  return {\n    restrict: \"A\",\n    require: \"ngModel\",\n    link: function(scope, element, attrs, model) {\n      var pattern = /^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\\.[0-9]{0,4})$/;\n\n      var dateParser = function(value) {\n        var isValidPattern = pattern.test(value);\n        var isValidValue = isValidPattern\n          ? !isNaN(new Date(value).getTime())\n          : true;\n        model.$setValidity(\"datePattern\", isValidPattern);\n        model.$setValidity(\"dateValue\", isValidValue);\n        return value;\n      };\n\n      model.$parsers.push(dateParser);\n\n      var dateFormatter = function(value) {\n        // if the value is not set,\n        // then ignore it!\n        if (!value) {\n          return;\n        }\n\n        var isValidValue = !isNaN(new Date(value).getTime());\n        var isValidPattern = pattern.test(value);\n        var isValid = isValidValue && isValidPattern;\n        model.$setValidity(\"datePattern\", isValidPattern);\n        model.$setValidity(\"dateValue\", isValidValue);\n\n        if (!isValid) {\n          // if the value is invalid, then\n          // set $pristine to false and set $dirty to true,\n          // that means the user has interacted with the controller.\n          model.$pristine = false;\n          model.$dirty = true;\n\n          // add 'ng-dirty' as class to the element\n          element.addClass(\"ng-dirty\");\n        }\n\n        return value;\n      };\n\n      model.$formatters.push(dateFormatter);\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./processDiagram.html.js\");\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\");\n\nvar DirectiveController = [\n  \"$scope\",\n  \"$compile\",\n  \"$injector\",\n  \"Views\",\n  \"configuration\",\n  function($scope, $compile, $injector, Views, configuration) {\n    $scope.bpmnJsConf = configuration.getBpmnJs();\n\n    $scope.vars = {\n      read: [\"processData\", \"bpmnElement\", \"pageData\", \"viewer\"]\n    };\n    var diagramPlugins = $scope.diagramProviderComponent\n      ? Views.getProviders({ component: $scope.diagramProviderComponent })\n      : [];\n\n    $scope.overlayProviders = Views.getProviders({\n      component: $scope.overlayProviderComponent\n    });\n\n    var overlay =\n      '<div class=\"bpmn-overlay\"><div view ng-repeat=\"overlayProvider in overlayProviders\" provider=\"overlayProvider\" vars=\"vars\"></div></div>';\n    var actions =\n      '<div class=\"action\"><div view ng-repeat=\"actionProvider in actionProviders\" provider=\"actionProvider\" vars=\"vars\"></div></div>';\n\n    var bpmnElements, selection;\n\n    $scope.$on(\"$destroy\", function() {\n      $scope.processDiagram = null;\n      $scope.overlayProviders = null;\n\n      var control = $scope.control;\n      var viewer = control.getViewer();\n      var canvas = viewer.get(\"canvas\");\n      var elementRegistry = viewer.get(\"elementRegistry\");\n\n      elementRegistry.forEach(function(shape) {\n        var bo = shape.businessObject;\n        if (bo.$instanceOf(\"bpmn:FlowNode\")) {\n          canvas.removeMarker(bo.id, \"selectable\");\n          control.clearHighlight(bo.id);\n        }\n      });\n    });\n\n    $scope.control = {};\n\n    $scope.$on(\"resize\", function() {\n      if ($scope.control.refreshZoom) {\n        $scope.control.refreshZoom();\n      }\n    });\n\n    /**\n     * If the process diagram changes, then the diagram will be rendered.\n     */\n    $scope.$watch(\"processDiagram\", function(newValue) {\n      if (newValue && newValue.$loaded !== false) {\n        bpmnElements = newValue.bpmnElements;\n        $scope.diagramData = newValue.bpmnDefinition;\n      }\n    });\n\n    $scope.diagramLoaded = false;\n    $scope.diagramEnabled = false;\n    $scope.$watch(\"collapsed\", function(collapsed) {\n      $scope.diagramEnabled = $scope.diagramLoaded || !collapsed;\n    });\n\n    $scope.onLoad = function() {\n      $scope.diagramLoaded = true;\n      $scope.viewer = $scope.control.getViewer();\n      decorateDiagram($scope.processDiagram.bpmnElements);\n\n      if ($scope.actionProviderComponent) {\n        addActions();\n      }\n\n      // update selection in case it has been provided earlier\n      updateSelection(selection);\n\n      //Apply diagram provider plugins\n      diagramPlugins.forEach(function(plugin) {\n        $injector.invoke(plugin.overlay, null, {\n          control: $scope.control,\n          processData: $scope.processData,\n          processDiagram: $scope.processDiagram,\n          pageData: $scope.pageData,\n          $scope: $scope\n        });\n      });\n    };\n\n    var isElementSelectable = function(element) {\n      return (\n        element.isSelectable ||\n        ($scope.selectAll && element.$instanceOf(\"bpmn:FlowNode\"))\n      );\n    };\n\n    $scope.onClick = function(element, $event) {\n      safeApply(function() {\n        if (\n          bpmnElements[element.businessObject.id] &&\n          isElementSelectable(bpmnElements[element.businessObject.id])\n        ) {\n          $scope.onElementClick({\n            id: element.businessObject.id,\n            $event: $event\n          });\n        } else {\n          $scope.onElementClick({ id: null, $event: $event });\n        }\n      });\n    };\n\n    function safeApply(fn) {\n      if (!$scope.$$phase) {\n        $scope.$apply(fn);\n      } else {\n        fn();\n      }\n    }\n\n    $scope.onMouseEnter = function(element) {\n      if (\n        bpmnElements[element.businessObject.id] &&\n        isElementSelectable(bpmnElements[element.businessObject.id])\n      ) {\n        $scope.control\n          .getViewer()\n          .get(\"canvas\")\n          .addMarker(element.businessObject.id, \"selectable\");\n        $scope.control.highlight(element.businessObject.id);\n      }\n    };\n\n    $scope.onMouseLeave = function(element) {\n      if (\n        bpmnElements[element.businessObject.id] &&\n        isElementSelectable(bpmnElements[element.businessObject.id]) &&\n        (!selection || selection.indexOf(element.businessObject.id) === -1) &&\n        (!selection ||\n          selection.indexOf(\n            element.businessObject.id + \"#multiInstanceBody\"\n          ) === -1)\n      ) {\n        $scope.control\n          .getViewer()\n          .get(\"canvas\")\n          .removeMarker(element.businessObject.id, \"selectable\");\n        $scope.control.clearHighlight(element.businessObject.id);\n      }\n    };\n\n    /*------------------- Decorate diagram ---------------------*/\n\n    function decorateDiagram(bpmnElements) {\n      angular.forEach(bpmnElements, decorateBpmnElement);\n    }\n\n    function decorateBpmnElement(bpmnElement) {\n      var elem = $scope.control.getElement(bpmnElement.id);\n\n      if (elem && $scope.overlayProviders && $scope.overlayProviders.length) {\n        var childScope = $scope.$new();\n\n        childScope.bpmnElement = bpmnElement;\n\n        var newOverlay = angular.element(overlay);\n\n        newOverlay.css({\n          width: elem.width,\n          height: elem.height\n        });\n\n        $compile(newOverlay)(childScope);\n\n        try {\n          $scope.control.createBadge(bpmnElement.id, {\n            html: newOverlay,\n            position: {\n              top: 0,\n              left: 0\n            }\n          });\n        } catch (exception) {\n          // do nothing\n        }\n      }\n    }\n\n    /*------------------- Add actions ------------------------------------*/\n\n    function addActions() {\n      $scope.actionProviders = Views.getProviders({\n        component: $scope.actionProviderComponent\n      });\n      var actionElement = angular.element(actions);\n      var childScope = $scope.$new();\n      $compile(actionElement)(childScope);\n      $scope.control.addAction({\n        html: actionElement\n      });\n    }\n\n    /*------------------- Handle selected activity id---------------------*/\n\n    $scope.$watch(\"selection.activityIds\", function(newValue) {\n      updateSelection(newValue);\n    });\n\n    function updateSelection(newSelection) {\n      if ($scope.control.isLoaded && $scope.control.isLoaded()) {\n        if (selection) {\n          angular.forEach(selection, function(elementId) {\n            if (\n              elementId.indexOf(\"#multiInstanceBody\") !== -1 &&\n              elementId.indexOf(\"#multiInstanceBody\") === elementId.length - 18\n            ) {\n              elementId = elementId.substr(0, elementId.length - 18);\n            }\n            if (bpmnElements[elementId]) {\n              $scope.control.clearHighlight(elementId);\n            }\n          });\n        }\n\n        if (newSelection) {\n          angular.forEach(newSelection, function(elementId) {\n            if (\n              elementId.indexOf(\"#multiInstanceBody\") !== -1 &&\n              elementId.indexOf(\"#multiInstanceBody\") === elementId.length - 18\n            ) {\n              elementId = elementId.substr(0, elementId.length - 18);\n            }\n            if (bpmnElements[elementId]) {\n              $scope.control.highlight(elementId);\n            }\n          });\n        }\n      }\n\n      $scope.$root.$emit(\"instance-diagram-selection-change\", newSelection);\n\n      selection = newSelection;\n    }\n\n    /*------------------- Handle scroll to bpmn element ---------------------*/\n\n    $scope.$watch(\"selection.scrollToBpmnElement\", function(newValue) {\n      if (newValue) {\n        scrollToBpmnElement(newValue);\n      }\n    });\n\n    function scrollToBpmnElement(bpmnElementId) {\n      if (\n        $scope.control.isLoaded &&\n        $scope.control.isLoaded() &&\n        bpmnElementId\n      ) {\n        scrollTo(bpmnElementId);\n      }\n    }\n\n    function scrollTo(elementId) {\n      if (bpmnElements[elementId]) {\n        $scope.control.scrollToElement(elementId);\n      }\n    }\n  }\n];\n\nvar Directive = function() {\n  return {\n    restrict: \"EAC\",\n    scope: {\n      processDiagram: \"=\",\n      key: \"@\",\n      processDiagramOverlay: \"=\",\n      onElementClick: \"&\",\n      selection: \"=\",\n      processData: \"=\",\n      pageData: \"=\",\n      overlayProviderComponent: \"@\",\n      actionProviderComponent: \"@\",\n      diagramProviderComponent: \"@\",\n      selectAll: \"&\",\n      collapsed: \"=\"\n    },\n    controller: DirectiveController,\n    template: template,\n    link: function($scope) {\n      $scope.selectAll = $scope.$eval($scope.selectAll);\n    }\n  };\n};\n\nmodule.exports = Directive;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div ng-if=\"diagramEnabled\" style=\"position: relative; height: 100%\">\n  <div diagram-statistics-loader>\n  </div>\n  <div cam-widget-bpmn-viewer\n    diagram-data='diagramData'\n    key='{{key}}'\n    control='control'\n    on-load='onLoad()'\n    on-click='onClick(element, $event)'\n    on-mouse-enter='onMouseEnter(element, $event)'\n    on-mouse-leave='onMouseLeave(element, $event)'\n    bpmn-js-conf=\"bpmnJsConf\"\n    style='height: 100%'>\n  </div>\n</div>\n<div ng-if=\"!diagramEnabled\" class=\"placeholder-container\">\n  <div class=\"placeholder-content\">\n    <span class=\"glyphicon glyphicon-refresh animate-spin\"></span>\n    <span class=\"loading-text\">Loading diagram</span>\n  </div>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./decisionTable.html.js\");\n\nvar DirectiveController = [\n  \"$scope\",\n  function($scope) {\n    $scope.control = {};\n  }\n];\n\nvar Directive = function() {\n  return {\n    restrict: \"EAC\",\n    scope: {\n      decisionTable: \"=\",\n      control: \"=?\",\n      table: \"@\",\n      onLoad: \"&\"\n    },\n    controller: DirectiveController,\n    template: template,\n\n    link: function() {}\n  };\n};\n\nmodule.exports = Directive;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div cam-widget-dmn-viewer\n  xml=\"decisionTable\"\n  table=\"{{table}}\"\n  control=\"control\"\n  on-load=\"onLoad()\"\n  style=\"height: 100%; margin: 10px; overflow-y: auto;\">\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./processDiagramPreview.html.js\");\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = [\n  \"ProcessDefinitionResource\",\n  \"debounce\",\n  function(ProcessDefinitionResource, debounce) {\n    return {\n      restrict: \"EAC\",\n      template: template,\n      controller: [\n        \"$scope\",\n        \"configuration\",\n        function($scope, configuration) {\n          $scope.bpmnJsConf = configuration.getBpmnJs();\n          $scope.control = {};\n        }\n      ],\n      link: function(scope, element, attrs) {\n        scope.$watch(attrs.processDefinitionId, function(processDefinitionId) {\n          if (processDefinitionId) {\n            // set the element id to processDiagram_*\n            var elementId =\n              \"processDiagram_\" + processDefinitionId.replace(/[.|:]/g, \"_\");\n            element.attr(\"id\", elementId);\n\n            ProcessDefinitionResource.getBpmn20Xml({ id: processDefinitionId })\n              .$promise.then(function(response) {\n                scope.diagramXML = response.bpmn20Xml;\n                element.find(\"[cam-widget-bpmn-viewer]\").css({\n                  width: parseInt(element.parent().width(), 10),\n                  height: element.parent().height()\n                });\n\n                var debouncedZoom = debounce(function() {\n                  // Zoom is only correct after resetting twice.\n                  // See: https://github.com/bpmn-io/diagram-js/issues/85\n\n                  scope.control.resetZoom();\n                  scope.control.resetZoom();\n                }, 500);\n                angular.element(window).on(\"resize\", function() {\n                  element.find(\"[cam-widget-bpmn-viewer]\").css({\n                    width: parseInt(element.parent().width(), 10),\n                    height: element.parent().height()\n                  });\n                  debouncedZoom();\n                });\n              })\n              .catch(angular.noop);\n          }\n        });\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<span ng-hide=\"diagramXML\">\n  <i class=\"glyphicon glyphicon-loading\"></i> {{ 'PROGRESS_DIAGRAM_LOADING' | translate}}\n</span>\n<div ng-show=\"diagramXML\">\n  <div cam-widget-bpmn-viewer\n    diagram-data='diagramXML'\n    control='control'\n    disable-navigation='true'\n    bpmn-js-conf=\"bpmnJsConf\">\n  </div>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./activity-instance-tree.html.js\");\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\");\n\n// QUESTION: Shouldn't we use the templateUrl property instead?\n\nfunction dashed(str) {\n  return (str || \"\").replace(/([A-Z])/g, function($1) {\n    return \"-\" + $1.toLowerCase();\n  });\n}\n\nvar iconNames = {\n  \"start-event\": \"start-event-none\",\n  \"error-start-event\": \"start-event-error\",\n  \"cancel-end-event\": \"end-event-cancel\",\n  \"error-end-event\": \"end-event-error\",\n  \"none-end-event\": \"end-event-none\",\n  \"parallel-gateway\": \"gateway-parallel\",\n  \"exclusive-gateway\": \"gateway-xor\",\n  \"intermediate-compensation-throw-event\":\n    \"intermediate-event-throw-compensation\"\n};\n\nvar Directive = [\n  \"$compile\",\n  \"$filter\",\n  function($compile, $filter) {\n    return {\n      restrict: \"EAC\",\n\n      scope: {\n        node: \"=activityInstanceTree\",\n        onElementClick: \"&\",\n        selection: \"=\",\n        quickFilters: \"=\",\n        orderChildrenBy: \"&\"\n      },\n\n      link: function(scope, element) {\n        scope.symbolIconName = function(str) {\n          var name = dashed(str);\n          name = iconNames[name] ? iconNames[name] : name;\n          return \"icon-\" + name;\n        };\n\n        var $nodeElement = element,\n          nodeSelectedEventName = \"node.selected\",\n          nodeOpenedEventName = \"node.opened\";\n\n        var orderChildrenBy = scope.orderChildrenBy();\n\n        function withTemplate(fn) {\n          fn(template);\n        }\n\n        scope.$watch(\"node\", function(newValue) {\n          if (!newValue || newValue.$loaded === false) {\n            return;\n          }\n\n          var children = (newValue.childActivityInstances || []).concat(\n            newValue.childTransitionInstances || []\n          );\n\n          if (orderChildrenBy) {\n            children = $filter(\"orderBy\")(children, orderChildrenBy);\n          }\n\n          newValue.children = children;\n\n          createTreeNode(newValue);\n        });\n\n        scope.$on(nodeOpenedEventName, function($event, value) {\n          handleNodeEvents($event, value);\n        });\n\n        scope.$on(nodeSelectedEventName, function($event, value) {\n          handleNodeEvents($event, value);\n        });\n\n        function handleNodeEvents($event, value) {\n          var node = scope.node,\n            eventName = $event.name;\n\n          if (!node) {\n            return;\n          }\n\n          if (\n            eventName === nodeOpenedEventName ||\n            eventName === nodeSelectedEventName\n          ) {\n            if (node.id === value.parentActivityInstanceId) {\n              node.isOpen = true;\n              if (\n                node.parentActivityInstanceId &&\n                node.id !== node.parentActivityInstanceId\n              ) {\n                fireNodeEvent(nodeOpenedEventName, node);\n              }\n            }\n          }\n        }\n\n        function fireNodeEvent(name, node) {\n          var id = node.id,\n            parentActivityInstanceId = node.parentActivityInstanceId;\n\n          scope.$emit(name, {\n            id: id,\n            parentActivityInstanceId: parentActivityInstanceId\n          });\n        }\n\n        scope.$watch(\"selection.activityInstanceIds\", function(\n          newValue,\n          oldValue\n        ) {\n          var node = scope.node;\n\n          if (!node) {\n            return;\n          }\n\n          if (oldValue && oldValue.indexOf(node.id) !== -1) {\n            node.isSelected = false;\n          }\n\n          if (newValue && newValue.indexOf(node.id) !== -1) {\n            node.isSelected = true;\n\n            if (node.parentActivityInstanceId) {\n              fireNodeEvent(nodeSelectedEventName, node);\n            }\n          }\n        });\n\n        scope.deselect = function($event) {\n          $event.ctrlKey = true;\n          scope.select($event);\n        };\n\n        scope.select = function($event) {\n          var node = scope.node;\n\n          $event.stopPropagation();\n\n          // propagate the change for other directives/controllers\n          scope.$emit(\"instance-tree-selection-change\");\n\n          scope.onElementClick({\n            id: node.id,\n            activityId: node.activityId || node.targetActivityId,\n            $event: $event\n          });\n        };\n\n        function createTreeNode(node) {\n          withTemplate(function(template) {\n            // if finished, show collapsed\n            node.isOpen = node.endTime ? false : true;\n\n            var newElement = angular.element(template);\n            $compile(newElement)(scope);\n            $nodeElement.replaceWith(newElement);\n            $nodeElement = newElement;\n          });\n        }\n\n        scope.propogateSelection = function(id, activityId, $event) {\n          scope.onElementClick({\n            id: id,\n            activityId: activityId,\n            $event: $event\n          });\n        };\n\n        scope.toggleOpen = function() {\n          var node = scope.node;\n          node.isOpen = !node.isOpen;\n        };\n      }\n    };\n  }\n];\n\nmodule.exports = Directive;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-cockpit-ui/client/scripts/directives/activity-instance-tree.html -->\n<div class=\"tree-node\" >\n\n  <div id=\"{{ node.id }}\"\n       ng-class=\"{ 'state-running': !node.endTime, 'state-completed' : node.endTime && !node.canceled, 'state-canceled': node.endTime && node.canceled }\"\n       class=\"tree-node-group\">\n\n    <span class=\"tree-node-label\"\n          ng-class=\"{ 'selected' : node.isSelected, 'has-children': node.children.length }\">\n\n      <button class=\"btn btn-link btn-control-link btn-toggle\"\n              ng-if=\"node.children.length\"\n              ng-click=\"toggleOpen()\">\n        <span class=\"glyphicon\"\n           ng-class=\"{ 'glyphicon-menu-right' : !node.isOpen, 'glyphicon-menu-down' : node.isOpen }\"></span>\n      </button>\n\n      <button class=\"btn btn-link btn-control-link btn-control remove\"\n              ng-click=\"deselect($event)\">\n        <span class=\"glyphicon glyphicon-remove\"></span>\n      </button>\n\n      <span class=\"{{ symbolIconName(node.activityType) }}\"\n            uib-tooltip=\"{{ node.activityType }}\"></span>\n\n      <a ng-click=\"select($event)\"\n         tooltip-placement=\"right\"\n         uib-tooltip=\"{{ node.name }}\">\n        {{ node.name }}\n      </a>\n\n    </span>\n\n    <!-- running -->\n    <span ng-if=\"!node.endTime\"\n          class=\"tree-node-addon activity-instance-running\"\n          uib-tooltip=\"{{ 'ACTIVITY_INSTANCE_TOOLTIP_RUNNING' | translate }}\"\n          tooltip-placement=\"right\">\n      <span class=\"glyphicon glyphicon-adjust\"></span>\n    </span>\n\n    <!-- completed -->\n    <span ng-if=\"node.endTime && !node.canceled\"\n          class=\"tree-node-addon activity-instance-completed\"\n          uib-tooltip=\"{{ 'ACTIVITY_INSTANCE_TOOLTIP_COMPLETED' | translate }}\"\n          tooltip-placement=\"right\">\n      <span class=\"glyphicon glyphicon-ok-circle\"></span>\n    </span>\n\n    <!-- canceled -->\n    <span ng-if=\"node.endTime && node.canceled\"\n          class=\"tree-node-addon activity-instance-canceled\"\n          uib-tooltip=\"{{ 'ACTIVITY_INSTANCE_TOOLTIP_CANCELED' | translate }}\"\n          tooltip-placement=\"right\">\n      <span class=\"glyphicon glyphicon-ban-circle\"></span>\n    </span>\n\n  </div>\n\n  <ul class=\"list-unstyled\" ng-show=\"node.isOpen\" ng-if=\"node.children.length\">\n    <li ng-repeat=\"child in node.children\">\n      <div activity-instance-tree=\"child\"\n           selection=\"selection\"\n           on-element-click=\"propogateSelection(id, activityId, $event)\"\n           order-children-by=\"orderChildrenBy()\">\n      </div>\n    </li>\n  </ul>\n</div>\n<!-- / CE - camunda-cockpit-ui/client/scripts/directives/activity-instance-tree.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar $ = require(\"jquery\");\nvar angular = require(\"../../../camunda-bpm-sdk-js/vendor/angular\");\n\nrequire(\"jquery-ui\");\n\nrequire(\"jquery-ui/ui/widgets/mouse\");\nrequire(\"jquery-ui/ui/data\");\nrequire(\"jquery-ui/ui/plugin\");\nrequire(\"jquery-ui/ui/safe-active-element\");\nrequire(\"jquery-ui/ui/safe-blur\");\nrequire(\"jquery-ui/ui/scroll-parent\");\nrequire(\"jquery-ui/ui/version\");\nrequire(\"jquery-ui/ui/widget\");\n\nrequire(\"jquery-ui/ui/widgets/draggable\");\n\nmodule.exports = [\n  \"localConf\",\n  \"$rootScope\",\n  function(localConf, $rootScope) {\n    return {\n      restrict: \"CA\",\n      link: function(scope, element, attrs) {\n        var container = $(element);\n        var containerId = attrs.ctnCollapsableParent;\n\n        // the element being collapsed\n        var collapsableElement = $(\"[ctn-collapsable]\", container).eq(0);\n        // the direction into which to collapse\n        var direction = collapsableElement.attr(\"ctn-collapsable\") || \"left\";\n        var vertical = direction === \"left\" || direction === \"right\";\n\n        var minWidth = 0;\n        if (attrs.ctnMinWidth) {\n          var minWidthEls = $(\n            \".ctn-\" + containerId + \" \" + attrs.ctnMinWidth,\n            container\n          );\n          minWidthEls.each(function(e, el) {\n            minWidth += $(el).width();\n          });\n\n          // just to avoid half pixels glitches\n          if (minWidth) {\n            minWidth += 10;\n          }\n        }\n\n        var previouslyCollapsed = localConf.get(\n          \"ctnCollapsableParent:collapsed:\" + containerId,\n          \"no\"\n        );\n        var previouslyMaximized = localConf.get(\n          \"ctnCollapsableParent:maximized:\" + containerId,\n          \"no\"\n        );\n\n        // the main element that compensates the collapsing\n        var compensateElement = collapsableElement[\n          direction === \"left\" || direction === \"top\" ? \"next\" : \"prev\"\n        ]();\n\n        // a resize handle\n        var resizeHandle = $('<div class=\"resize-handle\"></div>').appendTo(\n          container\n        );\n\n        /////// init show / hide handles ////////\n\n        var showHandle = compensateElement\n          .children(\".show-collapsable\")\n          .addClass(\"expand-collapse\")\n          .append(\n            '<i class=\"glyphicon glyphicon-menu-' +\n              (vertical ? \"right\" : \"down\") +\n              '\"></i>'\n          );\n\n        var hideHandle = collapsableElement\n          .children(\".hide-collapsable\")\n          .addClass(\"expand-collapse\")\n          .append(\n            '<i class=\"glyphicon glyphicon-menu-' +\n              (vertical ? \"left\" : \"up\") +\n              '\"></i>'\n          );\n\n        var maximizeHandle = collapsableElement\n          .children(\".maximize-collapsable\")\n          .addClass(\"expand-collapse\")\n          .append('<i class=\"glyphicon glyphicon-resize-full\"></i>');\n\n        var maximizeDirection = maximizeHandle.attr(\n          \"maximize-parent-direction\"\n        );\n\n        var restoreHandle = collapsableElement\n          .children(\".restore-collapsable\")\n          .addClass(\"expand-collapse\")\n          .append('<i class=\"glyphicon glyphicon-resize-small\"></i>');\n\n        /**\n         * Toggle show / hide handles\n         */\n        function setCollapsed(collapsed, maximized) {\n          updateCollapsedClass(collapsed);\n\n          if (collapsed) {\n            hideHandle.hide();\n            maximizeHandle.hide();\n            restoreHandle.hide();\n            showHandle.css(\"display\", \"block\");\n          } else {\n            showHandle.hide();\n            hideHandle.css(\"display\", \"block\");\n          }\n\n          if (maximized) {\n            maximizeHandle.hide();\n            restoreHandle.css(\"display\", \"block\");\n          } else if (!collapsed) {\n            maximizeHandle.css(\"display\", \"block\");\n            restoreHandle.hide();\n          }\n\n          localConf.set(\n            \"ctnCollapsableParent:collapsed:\" + containerId,\n            collapsed ? \"yes\" : \"no\"\n          );\n          localConf.set(\n            \"ctnCollapsableParent:maximized:\" + containerId,\n            maximized ? \"yes\" : \"no\"\n          );\n        }\n\n        function initResize() {\n          var changeAttr = vertical ? \"width\" : \"height\";\n          var resizeHandleAttachAttr = vertical ? \"left\" : \"top\";\n          var changeAxis = vertical ? \"x\" : \"y\";\n\n          /**\n           * Create a { direction: i } object\n           */\n          function createOffset(i) {\n            var style = {};\n            style[direction] = i;\n\n            return style;\n          }\n\n          /**\n           * Create a { changeAttr: i } object\n           */\n          function createSize(i) {\n            var style = {};\n            style[changeAttr] = i;\n\n            return style;\n          }\n\n          resizeHandle.addClass(vertical ? \"vertical\" : \"horizontal\");\n\n          var originalCollapsableSize = collapsableElement[changeAttr]();\n\n          originalCollapsableSize = localConf.get(\n            \"ctnCollapsableParent:size:\" + containerId,\n            originalCollapsableSize\n          );\n\n          originalCollapsableSize = Math.max(minWidth, originalCollapsableSize);\n\n          if (previouslyCollapsed === \"yes\") {\n            collapsableElement.css(changeAttr, 0);\n            compensateElement.css(direction, 0);\n          } else {\n            collapsableElement.css(changeAttr, originalCollapsableSize);\n            compensateElement.css(direction, originalCollapsableSize + \"px\");\n          }\n\n          if (previouslyMaximized === \"yes\") {\n            var maxSize = element[changeAttr]();\n\n            setCollapsed(false, true);\n\n            resizeHandle.css(createOffset(maxSize));\n            collapsableElement.css(createSize(maxSize));\n            compensateElement.css(createOffset(maxSize));\n          }\n\n          function updateResizeHandlePosition() {\n            var collapsableSize = collapsableElement[changeAttr]();\n            var collapsablePosition = collapsableElement.position();\n\n            if (direction === \"left\" || direction === \"top\") {\n              resizeHandle.css(resizeHandleAttachAttr, collapsableSize);\n            } else {\n              resizeHandle.css(\n                resizeHandleAttachAttr,\n                collapsablePosition[resizeHandleAttachAttr]\n              );\n            }\n          }\n\n          $(resizeHandle)\n            .draggable({ axis: changeAxis, containment: \"parent\" })\n            .on(\"drag\", function() {\n              var pos = getPos();\n              var collapsed = isCollapsed();\n\n              // update collapsed state on drag\n              setCollapsed(collapsed, isCurrentlyMaximized());\n\n              collapsableElement.css(changeAttr, pos);\n              compensateElement.css(direction, pos);\n\n              localConf.set(\"ctnCollapsableParent:size:\" + containerId, pos);\n            })\n            .on(\"dragstop\", function() {\n              updateResizeHandlePosition();\n\n              var collapsed = isCollapsed();\n\n              updateCollapsedClass(collapsed);\n\n              $rootScope.$broadcast(\"resize\", {\n                direction: direction,\n                collapsed: collapsed\n              });\n            });\n\n          hideHandle.click(function() {\n            var targetSize = isCurrentlyMaximized()\n              ? minWidth || originalCollapsableSize\n              : 0;\n\n            setCollapsed(targetSize === 0, false);\n\n            resizeHandle.animate(createOffset(targetSize));\n            collapsableElement.animate(createSize(targetSize), function() {\n              $rootScope.$broadcast(\"resize\", {\n                direction: direction,\n                collapsed: true\n              });\n\n              updateCollapsedClass(targetSize === 0);\n            });\n            compensateElement.animate(createOffset(targetSize));\n          });\n\n          showHandle.click(function() {\n            setCollapsed(false, false);\n\n            resizeHandle.animate(\n              createOffset(minWidth || originalCollapsableSize)\n            );\n            collapsableElement.animate(\n              createSize(minWidth || originalCollapsableSize),\n              function() {\n                $rootScope.$broadcast(\"resize\", {\n                  direction: direction,\n                  collapsed: false\n                });\n\n                updateCollapsedClass(false);\n              }\n            );\n            compensateElement.animate(\n              createOffset(minWidth || originalCollapsableSize)\n            );\n          });\n\n          maximizeHandle.click(function() {\n            $rootScope.$broadcast(\"maximize\", {\n              source: element,\n              direction: maximizeDirection\n            });\n\n            maximize(\n              $rootScope.$broadcast.bind($rootScope, \"resize\", {\n                direction: direction,\n                collapsed: false\n              })\n            );\n          });\n\n          restoreHandle.click(function() {\n            $rootScope.$broadcast(\"restore\", {\n              source: element\n            });\n\n            restore(\n              $rootScope.$broadcast.bind($rootScope, \"resize\", {\n                direction: direction,\n                collapsed: false\n              })\n            );\n          });\n\n          function maximize(callback) {\n            callback = typeof callback === \"function\" ? callback : angular.noop;\n            var maxSize = element[changeAttr]();\n\n            setCollapsed(false, true);\n\n            resizeHandle.animate(createOffset(maxSize));\n            collapsableElement.animate(createSize(maxSize), function() {\n              callback();\n              updateCollapsedClass(false);\n            });\n            compensateElement.animate(createOffset(maxSize));\n          }\n\n          function minimize(callback) {\n            callback = typeof callback === \"function\" ? callback : angular.noop;\n            var minSize = 0;\n\n            setCollapsed(true, false);\n\n            resizeHandle.animate(createOffset(minSize));\n            collapsableElement.animate(createSize(minSize), function() {\n              callback();\n              updateCollapsedClass(true);\n            });\n            compensateElement.animate(createOffset(minSize));\n          }\n\n          function restore(callback) {\n            callback = typeof callback === \"function\" ? callback : angular.noop;\n            setCollapsed(false, false);\n\n            resizeHandle.animate(\n              createOffset(minWidth || originalCollapsableSize)\n            );\n            collapsableElement.animate(\n              createSize(minWidth || originalCollapsableSize),\n              function() {\n                callback();\n                updateCollapsedClass(false);\n              }\n            );\n            compensateElement.animate(\n              createOffset(minWidth || originalCollapsableSize)\n            );\n          }\n\n          $(window).on(\"resize\", updateResizeHandlePosition);\n\n          scope.$on(\"$destroy\", function() {\n            $(window).off(\"resize\", updateResizeHandlePosition);\n            removeRestoreListner();\n            removeMaximizeListener();\n            removeResizeListener();\n          });\n\n          var removeRestoreListner = $rootScope.$on(\"restore\", function(\n            event,\n            data\n          ) {\n            if (element !== data.source) {\n              restore();\n            }\n          });\n\n          var removeMaximizeListener = $rootScope.$on(\"maximize\", function(\n            event,\n            data\n          ) {\n            if (element !== data.source) {\n              if (data.direction === direction) {\n                minimize();\n              } else {\n                maximize();\n              }\n            }\n          });\n\n          var removeResizeListener = $rootScope.$on(\"resize\", function(\n            event,\n            data\n          ) {\n            if (data.direction === maximizeDirection) {\n              setCollapsed(\n                isCollapsed(),\n                data.collapsed && isCurrentlyMaximized()\n              );\n            }\n          });\n\n          function isCurrentlyMaximized() {\n            var pos = getPos();\n            var maxSize = element[changeAttr]();\n\n            return maxSize - Math.ceil(pos) < 10;\n          }\n\n          function isCollapsed() {\n            var pos = getPos();\n\n            return pos < 10;\n          }\n\n          updateResizeHandlePosition();\n\n          function getPos() {\n            var position = resizeHandle.position();\n            var pos = position[direction];\n\n            if (direction === \"right\") {\n              pos = container.width() - position.left;\n            }\n\n            if (direction === \"bottom\") {\n              pos = container.height() - position.top;\n            }\n\n            if (pos < minWidth) {\n              pos = 0;\n            }\n\n            return pos;\n          }\n        }\n\n        function updateCollapsedClass(collapsed) {\n          if (collapsed) {\n            collapsableElement.addClass(\"collapsed\");\n          } else {\n            collapsableElement.removeClass(\"collapsed\");\n          }\n        }\n\n        setCollapsed(\n          previouslyCollapsed === \"yes\",\n          previouslyMaximized === \"yes\"\n        );\n        initResize();\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function() {\n  return {\n    restrict: \"EAC\",\n    link: function(scope, element, attrs) {\n      element.addClass(\"circle\");\n\n      scope.$watch(attrs.incidents, function() {\n        updateStateCircle();\n      });\n\n      scope.$watch(attrs.running, function() {\n        updateStateCircle();\n      });\n\n      function updateStateCircle() {\n        var incidents = scope.$eval(attrs.incidents);\n        var running = scope.$eval(attrs.running);\n        var incidentsForTypes = scope.$eval(attrs.incidentsForTypes) || [];\n\n        if (running) {\n          return setStateToBlue();\n        }\n\n        if (!!incidents && incidents.length > 0) {\n          // In that case 'incidentsForTypes.length === 0' means\n          // that the state has to be set to red independent\n          // from the incident type.\n          // Note: incidents.length is greater than zero.\n          if (incidentsForTypes.length === 0) {\n            setStateToRed();\n            return;\n          }\n\n          // In the other case we check whether there exist\n          // at least one incident to one of the incident types.\n          for (var i = 0; i < incidents.length; i++) {\n            var incident = incidents[i];\n\n            if (incident.incidentType.indexOf(incidentsForTypes) !== -1) {\n              if (incident.incidentCount > 0) {\n                setStateToRed();\n                return;\n              }\n            }\n          }\n        }\n        // If there does not exist any incident, the state is green.\n        setStateToGreen();\n      }\n\n      function setStateToGreen() {\n        element\n          .removeClass(\"circle-red\")\n          .removeClass(\"circle-blue\")\n          .removeClass(\"animate-spin\")\n          .addClass(\"circle-green\");\n      }\n\n      function setStateToRed() {\n        element\n          .removeClass(\"circle-green\")\n          .removeClass(\"circle-blue\")\n          .removeClass(\"animate-spin\")\n          .addClass(\"circle-red\");\n      }\n\n      function setStateToBlue() {\n        element\n          .removeClass(\"circle-green\")\n          .removeClass(\"circle-red\")\n          .addClass(\"circle-blue\")\n          .addClass(\"animate-spin\");\n      }\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/*\n  DEPRECATION WARNING:\n  this directive should not be used anymore, see cam-widget-variable instead\n*/\n\nvar angular = require(\"angular\");\n\nvar template = require(\"./variable.html.js\");\n\nmodule.exports = [\n  \"typeUtils\",\n  function(typeUtils) {\n    return {\n      restrict: \"EAC\",\n      scope: {\n        variable: \"=\",\n        form: \"@\",\n        readonly: \"=\"\n      },\n      replace: true,\n      template: template,\n      link: function(scope, element) {\n        var inPlaceEdit = element.attr(\"inline-edit\") !== undefined,\n          oldVariableValue,\n          oldVariableValueBoolean = true;\n\n        var getForm = function() {\n          return angular.element('[name=\"' + scope.form + '\"]').scope()[\n            scope.form\n          ];\n        };\n\n        var customJsonXmlValidator = function(type, value) {\n          var valid = typeUtils.isType(value, type);\n          getForm().$setValidity(\"customValidation\", valid);\n        };\n\n        scope.changeVariableValue = function() {\n          var type = scope.variable.type;\n          var newValue = scope.variable.value;\n          if ([\"Json\", \"Xml\"].indexOf(type) > -1) {\n            return customJsonXmlValidator(type, newValue);\n          }\n        };\n\n        scope.autofocus = !!(element.attr(\"autofocus\") !== undefined);\n\n        scope.isBoolean = function(variable) {\n          return variable.type.toLowerCase() === \"boolean\";\n        };\n\n        scope.isInteger = function(variable) {\n          return variable.type.toLowerCase() === \"integer\";\n        };\n\n        scope.isShort = function(variable) {\n          return variable.type.toLowerCase() === \"short\";\n        };\n\n        scope.isLong = function(variable) {\n          return variable.type.toLowerCase() === \"long\";\n        };\n\n        scope.isDouble = function(variable) {\n          return variable.type.toLowerCase() === \"double\";\n        };\n\n        scope.isFloat = function(variable) {\n          return variable.type.toLowerCase() === \"float\";\n        };\n\n        scope.isString = function(variable) {\n          return variable.type.toLowerCase() === \"string\";\n        };\n\n        scope.isDate = function(variable) {\n          return variable.type.toLowerCase() === \"date\";\n        };\n\n        scope.isNull = function(variable) {\n          return variable.type.toLowerCase() === \"null\";\n        };\n\n        scope.isObject = function(variable) {\n          return variable.type.toLowerCase() === \"object\";\n        };\n\n        scope.isInPlaceEdit = function() {\n          return inPlaceEdit;\n        };\n\n        scope.isJSON = function(variable) {\n          return variable.type.toLowerCase() === \"json\";\n        };\n\n        scope.isXML = function(variable) {\n          return variable.type.toLowerCase() === \"xml\";\n        };\n\n        scope.$watch(\"variable.type\", function(newValue, oldValue) {\n          if (oldValue === newValue) {\n            return;\n          }\n\n          if ([\"Json\", \"Xml\"].indexOf(newValue) > -1) {\n            return customJsonXmlValidator(newValue, scope.variable.value);\n          }\n\n          if (newValue.toLowerCase() === \"boolean\") {\n            oldVariableValue = scope.variable.value;\n\n            scope.variable.value = oldVariableValueBoolean;\n            return;\n          }\n\n          if (oldValue.toLowerCase() === \"boolean\") {\n            oldVariableValueBoolean = scope.variable.value;\n\n            scope.variable.value = oldVariableValue;\n            return;\n          }\n\n          if (newValue.toLowerCase() === \"null\") {\n            scope.variable.value = null;\n          }\n\n          if (newValue.toLowerCase() === \"object\") {\n            scope.variable.valueInfo = scope.variable.valueInfo || {};\n          }\n        });\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div>\n  <!-- # CE - camunda-cockpit-ui/client/scripts/directives/variable.html -->\n\n  <div ng-if=\"isBoolean(variable)\">\n    <label class=\"radio\">\n      <input ng-model=\"variable.value\"\n             ng-value=\"true\"\n             type=\"radio\"\n             name=\"booleanValue\">\n       true\n    </label>\n\n    <label class=\"radio\">\n      <input ng-model=\"variable.value\"\n             ng-value=\"false\"\n             type=\"radio\"\n             name=\"booleanValue\">\n       false\n    </label>\n  </div>\n\n  <input ng-if=\"isInteger(variable) || isShort(variable) || isLong(variable)\"\n         class=\"form-control\"\n         name=\"editIntegerValue\"\n         type=\"text\"\n         numeric\n         integer=\"true\"\n         ng-model=\"variable.value\"\n         ng-class=\"{'in-place-edit': isInPlaceEdit() }\"\n         autofocus=\"autofocus\"\n         required />\n\n  <input ng-if=\"isDouble(variable) || isFloat(variable)\"\n         class=\"form-control\"\n         name=\"editFloatValue\"\n         type=\"text\"\n         numeric\n         ng-model=\"variable.value\"\n         ng-class=\"{'in-place-edit': isInPlaceEdit() }\"\n         autofocus=\"autofocus\"\n         required />\n\n  <span cam-widget-inline-field\n        class=\"form-control-static\"\n        type=\"datetime\"\n        value=\"variable.value\"\n        ng-if=\"isDate(variable)\"\n        flexible=\"true\"\n        required>\n           <a>{{variable.value || 'VARIABLE_SELECT_DATE' | translate}}</a>\n  </span>\n\n  <textarea ng-if=\"isString(variable) || isJSON(variable) || isXML(variable)\"\n            id=\"value\"\n            rows=\"5\"\n            ng-readonly=\"readonly\"\n            ng-model=\"variable.value\"\n            ng-change=\"changeVariableValue()\"\n            class=\"form-control variable-type-string\"\n            ng-class=\"{'in-place-edit': isInPlaceEdit() }\"\n            autofocus=\"autofocus\"\n            required></textarea>\n\n  <div ng-if=\"isObject(variable)\">\n      <label class=\"control-label\"\n             for=\"objectTypeName\">{{ 'VARIABLE_OBJECT_TYPE_NAME' | translate }}</label>\n        <input id=\"objectTypeName\"\n               name=\"objectTypeName\"\n               class=\"form-control\"\n               type=\"text\"\n               ng-model=\"variable.valueInfo.objectTypeName\"\n               autofocus\n               required />\n      <label class=\"control-label\"\n             for=\"serializationDataFormat\">{{ 'VARIABLE_SERIALIZATION_DATA_FORMAT' | translate }}</label>\n        <input id=\"serializationDataFormat\"\n               name=\"serializationDataFormat\"\n               class=\"form-control\"\n               type=\"text\"\n               ng-model=\"variable.valueInfo.serializationDataFormat\"\n               required />\n      <label class=\"control-label\"\n             for=\"serializedValue\">{{ 'VARIABLE_SERIALIZED_VALUE' | translate }}</label>\n        <textarea rows=\"5\"\n                  ng-model=\"variable.value\"\n                  class=\"form-control\"\n                  ></textarea>\n  </div>\n  <!-- / CE - camunda-cockpit-ui/client/scripts/directives/variable.html -->\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar FocusDirective = function() {\n  return {\n    restrict: \"A\",\n    link: function(scope, element, attrs) {\n      var focus = attrs[\"focus\"];\n\n      if (focus) {\n        element.focus();\n      }\n    }\n  };\n};\n\nmodule.exports = FocusDirective;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  function() {\n    var ViewPillsController = [\n      \"$scope\",\n      \"Views\",\n      \"$location\",\n      \"routeUtil\",\n      function($scope, Views, $location, routeUtil) {\n        var providers = Views.getProviders({ component: $scope.id });\n        $scope.providers = providers;\n\n        var isActive = ($scope.isActive = function(provider) {\n          return $location.path().indexOf(\"/\" + provider.id) !== -1;\n        });\n\n        $scope.getUrl = function(provider) {\n          var replacement = provider.id,\n            currentPath = $location.path(),\n            currentSearch = $location.search(),\n            keepSearchParams = !isActive(provider)\n              ? provider.keepSearchParams\n              : true;\n\n          return (\n            \"#\" +\n            routeUtil.replaceLastPathFragment(\n              replacement,\n              currentPath,\n              currentSearch,\n              keepSearchParams\n            )\n          );\n        };\n      }\n    ];\n\n    return {\n      restrict: \"EAC\",\n      scope: {\n        id: \"@\"\n      },\n      template:\n        '<ul class=\"nav nav-pills\">' +\n        '  <li ng-repeat=\"provider in providers\" ng-class=\"{ active: isActive(provider) }\" class=\"{{ provider.id }}\">' +\n        '    <a ng-href=\"{{ getUrl(provider) }}\">{{ provider.label }}</a>' +\n        \"  </li>\" +\n        \"</ul>\",\n      replace: true,\n      controller: ViewPillsController\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar throttle = require(\"lodash\").throttle;\n\nfunction PieChart(options, $translate) {\n  this.canvas = options.canvas || document.createElement(\"canvas\");\n\n  this.resize(\n    options.width || this.canvas.width,\n    options.height || this.canvas.height\n  );\n\n  this.rulersColor = options.rulersColor || \"#666\";\n\n  this.lineWidth = options.lineWidth || 1;\n\n  this.missingData = [\n    {\n      color: \"#959595\",\n      label: $translate.instant(\"PIE_CHART_NO_DATA\"),\n      value: 1\n    }\n  ];\n\n  this.setData(this.missingData);\n}\n\nvar proto = PieChart.prototype;\n\nproto.resize = function(width, height) {\n  this.canvas.width = width;\n  this.canvas.height = height;\n  this.ctx = this.canvas.getContext(\"2d\");\n\n  this.offCanvas = this.offCanvas || document.createElement(\"canvas\");\n  this.offCanvas.width = width;\n  this.offCanvas.height = height;\n  this.offCtx = this.offCanvas.getContext(\"2d\");\n  this.x = this.canvas.width * 0.5;\n  this.y = this.canvas.height * 0.5;\n\n  this.radius = Math.max(20, Math.min(this.x - 15, this.y - 15));\n\n  return this;\n};\n\nproto.setData = function(data) {\n  this.data = data;\n  if (!this.data.length || (!this.data[0].value && this.data[0].value !== 0)) {\n    this.data = this.missingData;\n  }\n\n  this.total = this.data.reduce(function(prev, curr) {\n    return prev + curr.value;\n  }, 0);\n\n  return this.draw();\n};\n\nproto.punchPie = function(ctx) {\n  ctx.strokeStyle = ctx.fillStyle = \"#fff\";\n  ctx.moveTo(this.x, this.y);\n  ctx.beginPath();\n  ctx.arc(this.x, this.y, this.radius * 0.65, 0, Math.PI * 2);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.fill();\n};\n\nproto.hoveredSlice = function(px, py) {\n  var ctx = this.offCtx;\n  ctx.font = this.fontSize + \"px sans-serif\";\n  var data = this.data || this.missingData;\n\n  var x = this.x;\n  var y = this.y;\n  var r = this.radius;\n  var tt = this.total;\n  var prev = Math.PI;\n  var rad = Math.PI * 2;\n\n  this.punchPie(ctx);\n  if (ctx.isPointInPath(px, py)) {\n    return false;\n  }\n\n  for (var d in data) {\n    var item = data[d];\n    var angle = (item.value / tt) * rad;\n    ctx.beginPath();\n\n    ctx.moveTo(x, y);\n    ctx.arc(x, y, r, prev, prev + angle);\n\n    ctx.closePath();\n    ctx.stroke();\n    if (ctx.isPointInPath(px, py)) {\n      return item;\n    }\n\n    prev += angle;\n  }\n  return false;\n};\n\nproto.draw = function() {\n  var ctx = this.ctx;\n  var data = this.data || this.missingData;\n\n  ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n  var x = this.x;\n  var y = this.y;\n  var r = this.radius;\n  var tt = this.total;\n  var prev = Math.PI;\n  var rad = Math.PI * 2;\n  data.forEach(function(item) {\n    var angle = (item.value / tt) * rad;\n\n    ctx.fillStyle = item.color;\n    ctx.strokeStyle = \"#fff\";\n    ctx.beginPath();\n\n    ctx.moveTo(x, y);\n    ctx.arc(x, y, r, prev, prev + angle);\n\n    ctx.closePath();\n    ctx.fill();\n    ctx.stroke();\n\n    prev += angle;\n  });\n\n  this.punchPie(ctx);\n\n  return this;\n};\n\nmodule.exports = [\n  \"$location\",\n  \"$window\",\n  \"$translate\",\n  function($location, $window, $translate) {\n    return {\n      restrict: \"A\",\n\n      transclude: true,\n\n      scope: {\n        values: \"=\",\n        placeholder: \"@\"\n      },\n\n      link: function($scope, $element) {\n        var container =\n          $element[0].querySelector(\".canvas-holder\") || $element[0];\n\n        var pieChart = new PieChart(\n          {\n            canvas: $element[0].querySelector(\"canvas\"),\n            lineColors: $scope.colors\n          },\n          $translate\n        );\n\n        function getMousePos(evt) {\n          var rect = pieChart.canvas.getBoundingClientRect();\n          return {\n            x: evt.clientX - rect.left,\n            y: evt.clientY - rect.top\n          };\n        }\n\n        pieChart.canvas.addEventListener(\"mousemove\", function(evt) {\n          $scope.$apply(function() {\n            var pos = getMousePos(evt);\n            $scope.hoveredSlice = pieChart.hoveredSlice(pos.x, pos.y);\n            pieChart.canvas.style.cursor =\n              $scope.hoveredSlice && $scope.hoveredSlice.url\n                ? \"pointer\"\n                : \"default\";\n          });\n        });\n\n        pieChart.canvas.addEventListener(\"click\", function(evt) {\n          $scope.$apply(function() {\n            var pos = getMousePos(evt);\n            var slice = pieChart.hoveredSlice(pos.x, pos.y);\n            if (slice.url) {\n              $location.url(slice.url);\n            }\n          });\n        });\n\n        $scope.$watch(\"values\", function() {\n          if (!$scope.values || !$scope.values.length) {\n            return;\n          }\n          pieChart.setData($scope.values);\n        });\n\n        function resize() {\n          var height = Math.min(\n            Math.max(container.clientWidth * 0.75, 150),\n            220\n          );\n          pieChart.resize(container.clientWidth, height).draw();\n        }\n        resize();\n\n        var _resize = throttle(resize, 100);\n        $window.addEventListener(\"resize\", _resize);\n\n        $scope.$on(\"$destroy\", function() {\n          $window.removeEventListener(\"resize\", _resize);\n        });\n      },\n\n      template:\n        '<div class=\"pie-chart\">' +\n        '<div class=\"canvas-holder\">' +\n        '<canvas width=\"150\" height=\"150\"></canvas>' +\n        \"</div>\" +\n        '<h4 class=\"legend-holder text-center\" ng-if=\"values[0].label !== \\'' +\n        $translate.instant(\"PIE_CHART_NO_DATA\") +\n        \"'\\\">\" +\n        '<span ng-if=\"hoveredSlice.value\" ng-style=\"{color: hoveredSlice.color}\">{{ hoveredSlice.value | abbreviateNumber }}: {{ hoveredSlice.label }}</span>' +\n        '<span ng-if=\"!hoveredSlice.value\">{{ placeholder }}</span>' +\n        \"</h4>\" +\n        \"</div>\"\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function() {\n  return {\n    link: function(scope, element) {\n      var processData = scope.processData;\n      var selectedActivityQuery = element.attr(\"cam-select-activity\");\n\n      if (!processData) {\n        throw new Error(\"No processData defined in scope\");\n      }\n\n      if (!selectedActivityQuery) {\n        throw new Error(\"No activity ID query given in @cam-select-activity\");\n      }\n\n      element.on(\"click\", function(event) {\n        event.preventDefault();\n\n        scope.$apply(function() {\n          // refresh view with selected activity instance id\n          processData.set(\"filter\", {\n            activityIds: [scope.$eval(selectedActivityQuery)]\n          });\n        });\n      });\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function() {\n  return {\n    link: function(scope, element) {\n      var processData = scope.processData;\n      var selectedActivityInstanceQuery = element.attr(\n        \"cam-select-activity-instance\"\n      );\n\n      if (!processData) {\n        throw new Error(\"No processData defined in scope\");\n      }\n\n      if (!selectedActivityInstanceQuery) {\n        throw new Error(\n          \"No activity instance id query given in @cam-select-activity\"\n        );\n      }\n\n      element.on(\"click\", function(event) {\n        event.preventDefault();\n\n        scope.$apply(function() {\n          // refresh view with selected activity instance id\n          processData.set(\"filter\", {\n            activityInstanceIds: [scope.$eval(selectedActivityInstanceQuery)]\n          });\n        });\n      });\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"Variables\",\n  function(Variables) {\n    return {\n      require: \"ngModel\",\n      link: function(scope, element, attrs, ngModel) {\n        function parseText(text) {\n          var variable;\n\n          try {\n            variable = Variables.parse(text);\n          } catch (e) {\n            // ok, failed to parse variable\n          }\n\n          ngModel.$setValidity(\"processVariableFilter\", !!variable);\n          return variable;\n        }\n\n        ngModel.$parsers.push(parseText);\n        ngModel.$formatters.push(Variables.toString);\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n   * Interpolate a given dynamic name which contains markup. The result will be set\n   * as the <code>name</code> attribute on the element.\n   * @memberof cam.cockpit.directives\n   * @name dynamicName\n   * @type angular.Directive\n   * @example\n    <div ng-repeat=\"item in items\">\n      <input cam-dynamic-name=\"anElement{{ $index }}\">\n    </div>\n    <!-- result -->\n    <div>\n      <input name=\"anElement0\">\n      <input name=\"anElement1\">\n      <input name=\"anElement2\">\n      ....\n    </div>\n   */\nmodule.exports = [\n  \"$interpolate\",\n  \"$compile\",\n  function($interpolate, $compile) {\n    return {\n      restrict: \"A\",\n      priority: 9999,\n      terminal: true, //Pause Compilation\n      link: function(scope, element, attr) {\n        element.attr(\"name\", $interpolate(attr.camDynamicName)(scope));\n\n        //Resume compilation at priority 9999 so that our directive doesn't get re-compiled\n        $compile(element, null, 9999)(scope);\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n  Defines a widget to filter activity instances in the activity tree\n\n  @name quickFilter\n  @memberof cam.cockpit.directives\n  @type angular.directive\n\n  @author Valentin Vago <valentin.vago@camunda.com>\n\n  @example\n    <div cam-quick-filter\n         state-filter\n         name-filter\n         holder-selector=\".instance-tree\"\n         label-selector=\".tree-node-group\"\n         item-selector=\".tree-node-group\">\n    </div>\n */\n\nvar template = require(\"./quick-filter.html.js\");\n\nvar $ = require(\"jquery\");\n\nmodule.exports = function() {\n  /**\n      determine if an element has to be schown\n     */\n  function showElement(states, searched, $el) {\n    if ($el.find(\".selected\").length) {\n      return true;\n    }\n\n    if (!!states.canceled || !!states.running || !!states.completed) {\n      if (\n        (!states.canceled && $el.hasClass(\"state-canceled\")) ||\n        (!states.running && $el.hasClass(\"state-running\")) ||\n        (!states.completed && $el.hasClass(\"state-completed\"))\n      ) {\n        return false;\n      }\n    }\n\n    if (!searched) {\n      return true;\n    }\n\n    var exp = new RegExp(searched, \"i\");\n    return exp.test($.trim($el.text()));\n  }\n\n  return {\n    scope: {\n      holderSelector: \"@\",\n      labelSelector: \"@\",\n      itemSelector: \"@\"\n    },\n\n    restrict: \"A\",\n\n    template: template,\n\n    link: function(scope, element, attrs) {\n      if (!scope.holderSelector) {\n        throw new Error(\"A holder-selector attribute must be specified\");\n      }\n      if (!scope.labelSelector) {\n        throw new Error(\"A label-selector attribute must be specified\");\n      }\n      if (!scope.itemSelector) {\n        throw new Error(\"A item-selector attribute must be specified\");\n      }\n\n      function refresh() {\n        setTimeout(scope.search, 200);\n      }\n      scope.$root.$on(\"instance-tree-selection-change\", refresh);\n      scope.$root.$on(\"instance-diagram-selection-change\", refresh);\n\n      var $holder = $(scope.holderSelector);\n\n      // activate (or not) a input (name or state)\n      // if the relevant attribute is present (might be empty)\n      scope.showNameFilter = typeof attrs.nameFilter !== \"undefined\";\n      scope.showStateFilter = typeof attrs.stateFilter !== \"undefined\";\n\n      scope.search = function() {\n        if (\n          scope.quickFilters &&\n          scope.quickFilters.running &&\n          scope.quickFilters.running.$viewValue &&\n          scope.quickFilters.canceled &&\n          scope.quickFilters.canceled.$viewValue &&\n          scope.quickFilters.completed &&\n          scope.quickFilters.completed.$viewValue\n        ) {\n          scope.quickFilters.running.$setViewValue(false);\n          scope.quickFilters.running.$render();\n          scope.quickFilters.canceled.$setViewValue(false);\n          scope.quickFilters.canceled.$render();\n          scope.quickFilters.completed.$setViewValue(false);\n          scope.quickFilters.completed.$render();\n        }\n\n        var searched =\n          scope.showNameFilter && scope.quickFilters.name\n            ? $.trim(scope.quickFilters.name.$viewValue)\n            : \"\";\n\n        var states = {\n          running:\n            !!scope.showStateFilter &&\n            !!scope.quickFilters.running &&\n            !!scope.quickFilters.running.$viewValue,\n          canceled:\n            !!scope.showStateFilter &&\n            !!scope.quickFilters.canceled &&\n            !!scope.quickFilters.canceled.$viewValue,\n          completed:\n            !!scope.showStateFilter &&\n            !!scope.quickFilters.completed &&\n            !!scope.quickFilters.completed.$viewValue\n        };\n\n        $(scope.itemSelector, $holder).each(function() {\n          var $el = $(this);\n          var visible = showElement(states, searched, $el);\n          $el[visible ? \"show\" : \"hide\"]();\n        });\n      };\n\n      scope.clearName = function() {\n        scope.quickFilters.name.$setViewValue(\"\");\n        scope.quickFilters.name.$render();\n        scope.search();\n      };\n    }\n  };\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - src/main/webapp/app/cockpit/directives/quick-filter.html -->\n<form name=\"quickFilters\"\n      class=\"quick-filters\">\n  <div class=\"quick-filter name-filter\"\n       ng-if=\"showNameFilter\">\n    <label class=\"input-group\">\n      <span class=\"input-group-addon\"\n            uib-tooltip=\"{{ 'QUICK_FILTER_TOOLTIP_CLICK_HERE' | translate }}\">\n        <span class=\"glyphicon glyphicon-filter\"\n              ng-click=\"clearName()\"></span>\n      </span>\n      <input ng-keyup=\"search()\"\n             ng-model=\"name\"\n             name=\"name\"\n             type=\"text\"\n             class=\"form-control\" />\n    </label>\n    <button class=\"btn btn-sm btn-link btn-control-link\"\n            type=\"button\"\n            uib-tooltip=\"{{ 'QUICK_FILTER_TOOLTIP_FILTERS_ACTIVITY' | translate }}\">\n      <span class=\"glyphicon glyphicon-question-sign\"></span>\n    </button>\n  </div>\n\n  <div class=\"quick-filter state-filter\"\n       ng-if=\"showStateFilter\">\n    <span class=\"name\">{{ 'QUICK_FILTER_STATE' | translate }}</span>\n\n    <ul class=\"list-inline\">\n      <li>\n        <label class=\"btn btn-default btn-xs running\"\n               uib-tooltip=\"{{ 'QUICK_FILTER_TOOLTIP_RUNNING_ACTIVITY' | translate }}\"\n               tooltip-placement=\"bottom\">\n          <span class=\"glyphicon glyphicon-adjust\"></span>\n          <input ng-change=\"search()\"\n                 ng-model=\"running\"\n                 name=\"running\"\n                 type=\"checkbox\" />\n        </label>\n      </li>\n\n      <li>\n        <label class=\"btn btn-default btn-xs completed\"\n               uib-tooltip=\"{{ 'QUICK_FILTER_TOOLTIP_COMPLETED_ACTIVITY' | translate }}\"\n               tooltip-placement=\"bottom\">\n          <span class=\"glyphicon glyphicon-ok-circle\"></span>\n          <input ng-change=\"search()\"\n                 ng-model=\"completed\"\n                 name=\"completed\"\n                 type=\"checkbox\" />\n        </label>\n      </li>\n\n      <li>\n        <label class=\"btn btn-default btn-xs canceled\"\n               uib-tooltip=\"{{ 'QUICK_FILTER_TOOLTIP_CANCELED_ACTIVITY' | translate }}\"\n               tooltip-placement=\"bottom\">\n          <span class=\"glyphicon glyphicon-ban-circle\"></span>\n          <input ng-change=\"search()\"\n                 ng-model=\"canceled\"\n                 name=\"canceled\"\n                 type=\"checkbox\" />\n        </label>\n      </li>\n    </ul>\n  </div>\n</form>\n<!-- / CE - src/main/webapp/app/cockpit/directives/quick-filter.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./diagram-statistics-loader.html.js\");\n\nmodule.exports = [\n  \"Loaders\",\n  function(Loaders) {\n    return {\n      restrict: \"A\",\n      template: template,\n      scope: true,\n      controller: [\n        \"$scope\",\n        function($scope) {\n          $scope.loadingStatus = \"INITIAL\";\n\n          Loaders.addStatusListener($scope, function(status) {\n            $scope.loadingStatus = status;\n          });\n        }\n      ]\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div cam-widget-loader loading-state=\"{{loadingStatus}}\"></div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./time-to-live.html.js\");\n\nmodule.exports = [\n  \"camAPI\",\n  \"$window\",\n  \"Notifications\",\n  \"$translate\",\n  function(camAPI, $window, Notifications, $translate) {\n    return {\n      restrict: \"A\",\n      template: template,\n      scope: {\n        definition: \"=timeToLive\",\n        customOnChange: \"=onChange\",\n        resource: \"@\"\n      },\n      link: function($scope) {\n        var lastValue = getAndCorrectTimeToLiveValue();\n        var resource = camAPI.resource($scope.resource);\n\n        function customOnChange() {\n          if (typeof $scope.customOnChange === \"function\") {\n            $scope.customOnChange();\n          }\n        }\n\n        $scope.onChange = function() {\n          $window.setTimeout(function() {\n            var timeToLive = getAndCorrectTimeToLiveValue();\n\n            updateValue(timeToLive)\n              .then(customOnChange)\n              .catch(function() {});\n          });\n        };\n\n        $scope.onRemove = function() {\n          updateValue(null)\n            .then(function() {\n              lastValue = null;\n              $scope.definition.historyTimeToLive = null;\n              customOnChange();\n            })\n            .catch(function() {});\n        };\n\n        $scope.format = function(property) {\n          if (property === 1) {\n            return $translate.instant(\"TIME_TO_LIVE_DAY\", { ttl: property });\n          }\n\n          return $translate.instant(\"TIME_TO_LIVE_DAYS\", { ttl: property });\n        };\n\n        function updateValue(timeToLive) {\n          return resource\n            .updateHistoryTimeToLive($scope.definition.id, {\n              historyTimeToLive: timeToLive\n            })\n            .catch(function(error) {\n              $scope.definition.historyTimeToLive = lastValue;\n\n              Notifications.addError({\n                status: $translate.instant(\"TIME_TO_LIVE_MESSAGE_ERR\"),\n                message: error\n              });\n            })\n            .then(function() {\n              lastValue = getAndCorrectTimeToLiveValue();\n            })\n            .catch(function() {});\n        }\n\n        function getAndCorrectTimeToLiveValue() {\n          if ($scope.definition.historyTimeToLive === null) {\n            return null;\n          }\n\n          return +$scope.definition.historyTimeToLive;\n        }\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<span cam-inline-panel-property=\"definition.historyTimeToLive\"\n      format=\"format(property)\"\n      type=\"number\"\n      on-change=\"onChange()\"\n      on-remove=\"onRemove()\"></span>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./change-version.html.js\");\n\nmodule.exports = [\n  \"$timeout\",\n  \"$location\",\n  \"ProcessDefinitionResource\",\n  \"camAPI\",\n  \"Notifications\",\n  \"$translate\",\n  function(\n    $timeout,\n    $location,\n    ProcessDefinitionResource,\n    camAPI,\n    Notifications,\n    $translate\n  ) {\n    return {\n      restrict: \"A\",\n      template: template,\n      scope: {\n        definition: \"=changeVersion\",\n        type: \"@\",\n        history: \"@?\",\n        noRedirect: \"@?\"\n      },\n      link: function($scope, element) {\n        $scope.model = {};\n        $scope.model.newVersion =\n          typeof $scope.definition.version === \"number\"\n            ? $scope.definition.version\n            : 1;\n\n        $scope.isValid = true;\n        $scope.isValidating = true;\n\n        $scope.isActive = false;\n\n        $scope.enableValidating = function() {\n          $scope.isValidating = true;\n        };\n\n        $scope.changeLocation = function() {\n          $scope.isActive = false;\n          $scope.definition.version = parseInt($scope.model.newVersion, 10);\n          element\n            .parent()\n            .find(\".dropdown-toggle\")\n            .show();\n\n          if ($scope.noRedirect === undefined) {\n            $timeout(function() {\n              var path = \"/\";\n              if ($scope.type === \"drd\") {\n                path += \"decision-requirement/\";\n              } else {\n                path += $scope.type + \"-definition/\";\n              }\n\n              path += $scope.newDefinition;\n              if ($scope.history !== undefined) {\n                path += \"/history\";\n              }\n\n              $location.path(path);\n            });\n          }\n        };\n\n        $scope.change = function(form) {\n          $scope.isValid = form.$valid;\n\n          if (\n            $scope.model.newVersion < 1 ||\n            !/^[0-9]{1,7}$/.test($scope.model.newVersion)\n          ) {\n            $scope.isValid = false;\n            return;\n          }\n\n          if ($scope.isValid) {\n            var definition = $scope.definition;\n\n            var queryParams = {\n              key: definition.key,\n              version: $scope.model.newVersion,\n              maxResults: 2\n            };\n\n            if (definition.tenantId) {\n              queryParams.tenantIdIn = [definition.tenantId];\n            } else {\n              queryParams.withoutTenantId = true;\n            }\n\n            var definitions;\n            if ($scope.type === \"process\") {\n              definitions = ProcessDefinitionResource.query(queryParams)\n                .$promise;\n            } else if ($scope.type === \"drd\") {\n              definitions = camAPI.resource(\"drd\").list(queryParams);\n            } else {\n              definitions = camAPI\n                .resource($scope.type + \"-definition\")\n                .list(queryParams);\n            }\n\n            definitions.then(data => {\n              if (data.length > 1) {\n                $scope.isValid = false;\n                $scope.isValidating = false;\n\n                Notifications.addError({\n                  status: $translate.instant(\"NOTIFICATIONS_STATUS_FAILED\"),\n                  message: $translate.instant(\n                    \"DEF_VIEW_CHANGE_VERSION_NOT_UNIQUE\"\n                  )\n                });\n              } else {\n                $scope.isValid = data.length === 1;\n                $scope.isValidating = false;\n\n                if ($scope.isValid) {\n                  $scope.newDefinition = data[0].id;\n                }\n              }\n            });\n          }\n        };\n\n        $scope.open = function() {\n          $scope.model.newVersion =\n            typeof $scope.definition.version === \"number\"\n              ? $scope.definition.version\n              : 1;\n\n          $scope.storedVersion = $scope.model.newVersion;\n          $scope.isActive = true;\n          element\n            .parent()\n            .find(\".dropdown-toggle\")\n            .hide();\n        };\n\n        $scope.close = function(form) {\n          // cancel debounce\n          form.$rollbackViewValue();\n\n          $scope.model.newVersion = $scope.storedVersion;\n          $scope.isActive = false;\n          element\n            .parent()\n            .find(\".dropdown-toggle\")\n            .show();\n        };\n\n        $scope.$watch(\n          \"isActive\",\n          function() {\n            $timeout(function() {\n              if ($scope.isActive) {\n                element\n                  .parent()\n                  .find(\"input\")\n                  .focus();\n              }\n            });\n          },\n          true\n        );\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<form name=\"changeVersionForm\" ng-if=\"isActive\" class=\"change-version\" ng-class=\"{'has-error': !isValid}\">\n  <input type=\"text\"\n         class=\"form-control\"\n         name=\"defVersion\"\n         ng-keydown=\"enableValidating()\"\n         ng-model=\"model.newVersion\"\n         ng-change=\"change(changeVersionForm)\"\n         ng-model-options=\"{debounce: 300}\"\n         required>\n         <button ng-click=\"changeLocation()\"\n          ng-disabled=\"!isValid || isValidating || storedVersion == model.newVersion\"\n          class=\"btn btn-xs btn-default\">\n    <span class=\"glyphicon glyphicon-ok\"></span>\n  </button>\n  <button ng-click=\"close(changeVersionForm)\"\n          class=\"btn btn-xs btn-default\">\n    <span class=\"glyphicon glyphicon-remove\"></span>\n  </button>\n</form>\n<button ng-if=\"!isActive\"\n        ng-click=\"open()\"\n        class=\"btn btn-xs btn-default\">\n  <span>{{ definition.version }}</span>\n</button>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$parse\",\n  \"$rootScope\",\n  function($parse, $rootScope) {\n    return {\n      restrict: \"A\",\n      link: function(scope, element, attrs) {\n        var callbackFunc;\n\n        attrs.$observe(\"isSidebarCollapsed\", function(attribute) {\n          callbackFunc = $parse(attribute);\n          notififyCallback();\n        });\n\n        var removeRestoreListner = $rootScope.$on(\"restore\", notififyCallback);\n        var removeMaximizeListener = $rootScope.$on(\n          \"maximize\",\n          notififyCallback\n        );\n        var removeResizeListener = $rootScope.$on(\"resize\", notififyCallback);\n\n        scope.$on(\"$destroy\", function() {\n          removeRestoreListner();\n          removeMaximizeListener();\n          removeResizeListener();\n        });\n\n        function notififyCallback() {\n          var collapsed = isCollapsed();\n\n          if (callbackFunc && typeof callbackFunc === \"function\") {\n            callbackFunc(scope, {\n              collapsed: collapsed\n            });\n          }\n        }\n\n        function isCollapsed() {\n          return element.hasClass(\"collapsed\");\n        }\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nvar template = require(\"./incidents-tab.html.js\");\nvar inspectTemplate = require(\"./incidents-tab-stacktrace.html.js\");\n\nvar Directive = [\n  \"$http\",\n  \"$q\",\n  \"$uibModal\",\n  \"search\",\n  \"Uri\",\n  \"Views\",\n  \"$translate\",\n  \"localConf\",\n  \"$location\",\n  function(\n    $http,\n    $q,\n    $modal,\n    search,\n    Uri,\n    Views,\n    $translate,\n    localConf,\n    $location\n  ) {\n    var Link = function linkFunction(scope) {\n      // ordered available columns\n      // prettier-ignore\n      var availableColumns = [\n        {class: 'state', request: 'incidentState', sortable: true, content: $translate.instant('PLUGIN_INCIDENTS_TAB_STATE')},\n        {class: 'message', request: 'incidentMessage', sortable: true, content: $translate.instant('PLUGIN_INCIDENTS_TAB_MESSAGE')},\n        {class: 'process-instance', request: 'processInstanceId', sortable: false, content: $translate.instant('PLUGIN_INCIDENTS_TAB_MESSAGE_PROCESS_INSTANCE')},\n        {class: 'create-time', request: 'createTime', sortable: true, content: $translate.instant('PLUGIN_INCIDENTS_TAB_CREATE_TIME')},\n        {class: 'end-time', request: 'endTime', sortable: true, content: $translate.instant('PLUGIN_INCIDENTS_TAB_END_TIME')},\n        {class: 'timestamp', request: 'incidentTimestamp', sortable: true, content: $translate.instant('PLUGIN_INCIDENTS_TAB_TIMESTAMP')},\n        {class: 'activity', request: 'activityId', sortable: true, content: $translate.instant('PLUGIN_INCIDENTS_TAB_ACTIVITY')},\n        {class: 'failedActivityId', request: 'failedActivityId', sortable: false, content: $translate.instant('PLGN_HIST_FAILING_ACTIVITY')},\n        {class: 'cause instance-id uuid', request: 'causeIncidentProcessInstanceId', sortable: false, content: $translate.instant('PLUGIN_INCIDENTS_TAB_CAUSE_INSTANCE_ID')},\n        {class: 'cause-root instance-id uuid', request: 'rootCauseIncidentProcessInstanceId', sortable: false, content: $translate.instant('PLUGIN_INCIDENTS_TAB_CAUSE_ROOT_INSTANCE_ID')},\n        {class: 'type', request: 'incidentType', sortable: true, content: $translate.instant('PLUGIN_INCIDENTS_TAB_TYPE')},\n        {class: 'action', request: '', sortable: false, content: $translate.instant('PLUGIN_INCIDENTS_TAB_ACTION')}\n      ];\n\n      scope.onSortChange = updateView;\n\n      // filter table column based on the view level (definition | instance | history | runtime)\n      var classesToInclude = [\n        \"activity\",\n        \"failedActivityId\",\n        \"cause instance-id uuid\",\n        \"cause-root instance-id uuid\",\n        \"type\",\n        \"action\"\n      ];\n      var PInstanceClass = scope.processDefinition && \"process-instance\";\n      if (scope.incidentsContext === \"history\") {\n        scope.localConfKey = \"sortHistInci\";\n        classesToInclude = [\n          \"state\",\n          \"message\",\n          PInstanceClass,\n          \"create-time\",\n          \"end-time\"\n        ].concat(classesToInclude);\n      } else {\n        scope.localConfKey = \"sortInci\";\n        classesToInclude = [\"message\", PInstanceClass, \"timestamp\"].concat(\n          classesToInclude\n        );\n      }\n\n      scope.headColumns = availableColumns.filter(function(column) {\n        return classesToInclude.indexOf(column.class) !== -1;\n      });\n\n      scope.sortObj = loadLocal({ sortBy: \"incidentType\", sortOrder: \"asc\" });\n\n      var incidentData = scope.processData.newChild(scope);\n\n      var pages = (scope.pages = angular.copy({\n        size: 50,\n        total: 0,\n        current: 1\n      }));\n\n      var baseRuntimeUrl = \"plugin://base/:engine/incident/\";\n      var baseHistoricUrl = \"plugin://history/:engine/incident/\";\n\n      scope.incidents = null;\n\n      scope.onPaginationChange = function onPaginationChange(pages) {\n        scope.pages.current = pages.current;\n        updateView();\n      };\n\n      scope.getIncidentState = function(incident) {\n        var result = \"open\";\n\n        if (incident.resolved) {\n          result = \"resolved\";\n        } else if (incident.deleted) {\n          result = \"deleted\";\n        }\n\n        return result;\n      };\n\n      incidentData.observe(\n        [\"filter\", \"bpmnElements\", \"activityIdToInstancesMap\"],\n        function(newFilter, bpmnElements, activityIdToInstancesMap) {\n          pages.current = newFilter.page || 1;\n          scope.filter = newFilter;\n          scope.bpmnElements = bpmnElements;\n          scope.activityIdToInstancesMap = activityIdToInstancesMap;\n          updateView();\n        }\n      );\n\n      function updateView(query, pages, sortObj) {\n        scope.sortObj = sortObj || scope.sortObj;\n\n        if (\n          !scope.filter ||\n          !scope.bpmnElements ||\n          !scope.activityIdToInstancesMap\n        ) {\n          // return empty promise\n          return $q.when(null);\n        }\n\n        if (pages) {\n          scope.pages = pages;\n        }\n\n        var newFilter = scope.filter;\n        var bpmnElements = scope.bpmnElements;\n        var activityIdToInstancesMap = scope.activityIdToInstancesMap;\n\n        var filter = angular.copy(newFilter);\n\n        delete filter.page;\n        delete filter.activityInstanceIds;\n        delete filter.scrollToBpmnElement;\n\n        var page = scope.pages.current,\n          count = scope.pages.size,\n          firstResult = (page - 1) * count,\n          queryParams = query || {};\n\n        var defaultParams;\n\n        if (scope.processDefinition) {\n          defaultParams = {\n            processDefinitionIdIn: [scope.processDefinition.id]\n          };\n        } else {\n          defaultParams = { processInstanceIdIn: [scope.processInstance.id] };\n        }\n\n        // Add default sorting param\n        if (sortObj) {\n          saveLocal(sortObj);\n        }\n\n        defaultParams.sortBy = scope.sortObj.sortBy;\n        defaultParams.sortOrder = scope.sortObj.sortOrder;\n\n        var pagingParams = {\n          firstResult: firstResult,\n          maxResults: count\n        };\n\n        var params = angular.extend({}, filter, defaultParams, queryParams);\n\n        params.activityIdIn = params.activityIds;\n        delete params.activityIds;\n\n        var baseUrl =\n          scope.incidentsContext === \"history\"\n            ? baseHistoricUrl\n            : baseRuntimeUrl;\n\n        // get the 'count' of incidents\n        $http\n          .post(Uri.appUri(baseUrl + \"count\"), params)\n          .then(function(response) {\n            scope.pages.total = response.data.count;\n          })\n          .catch(angular.noop);\n\n        // get the incidents\n        scope.loadingState = \"LOADING\";\n        return $http\n          .post(Uri.appUri(baseUrl), params, { params: pagingParams })\n          .then(function(res) {\n            var data = res.data;\n            angular.forEach(data, function(incident) {\n              var activityId = incident.activityId;\n              var bpmnElement = bpmnElements[activityId];\n              incident.activityName =\n                (bpmnElement && (bpmnElement.name || bpmnElement.id)) ||\n                activityId;\n\n              var failedActivityId = incident.failedActivityId;\n              var failedElement = bpmnElements[failedActivityId];\n              incident.failedActivityName =\n                (failedElement && (failedElement.name || failedElement.id)) ||\n                failedActivityId;\n\n              incident.linkable =\n                bpmnElements[activityId] &&\n                activityIdToInstancesMap[activityId] &&\n                activityIdToInstancesMap[activityId].length > 0;\n            });\n\n            scope.incidents = data;\n            scope.loadingState = data.length ? \"LOADED\" : \"EMPTY\";\n          })\n          .catch(angular.noop);\n      }\n\n      scope.getIncidentType = function(incident) {\n        if (incident.incidentType === \"failedJob\") {\n          return \"Failed Job\";\n        }\n\n        return incident.incidentType;\n      };\n\n      scope.getJobStacktraceUrl = function(incident) {\n        var basePath = \"engine://engine/:engine\";\n        var id = incident.rootCauseIncidentConfiguration;\n        var resource = \"job\";\n        var stacktraceName = \"stacktrace\";\n\n        if (incident.incidentType === \"failedExternalTask\") {\n          resource = \"external-task\";\n          stacktraceName = \"errorDetails\";\n        }\n\n        if (scope.incidentsContext === \"history\") {\n          basePath = \"engine://engine/:engine/history\";\n          id = incident.historyConfiguration;\n          resource += \"-log\";\n          if (incident.incidentType === \"failedExternalTask\") {\n            stacktraceName = \"error-details\";\n          }\n        }\n\n        return Uri.appUri(`${basePath}/${resource}/${id}/${stacktraceName}`);\n      };\n\n      scope.incidentHasActions = function(incident) {\n        return (\n          scope.incidentsContext !== \"history\" ||\n          (scope.incidentsContext === \"history\" &&\n            incident.incidentType === \"failedJob\" &&\n            !incident.deleted &&\n            !incident.resolved)\n        );\n      };\n      scope.incidentVars = { read: [\"incident\", \"processData\", \"filter\"] };\n      scope.incidentActions = Views.getProviders({\n        component: \"cockpit.incident.action\"\n      });\n\n      function saveLocal(sortObj) {\n        localConf.set(scope.localConfKey, sortObj);\n      }\n\n      function loadLocal(defaultValue) {\n        return localConf.get(scope.localConfKey, defaultValue);\n      }\n\n      scope.viewVariable = function(incident) {\n        $location.search(\n          \"incidentStacktrace\",\n          incident.rootCauseIncidentConfiguration\n        );\n\n        $http({\n          method: \"GET\",\n          url: scope.getJobStacktraceUrl(incident),\n          transformResponse: []\n        }).then(function(res) {\n          $modal\n            .open({\n              template: inspectTemplate,\n              controller: [\n                \"$scope\",\n                \"variable\",\n                function($scope, variable) {\n                  $scope.variable = variable;\n                  $scope.readonly = true;\n                }\n              ],\n              size: \"lg\",\n              resolve: {\n                variable: function() {\n                  return {\n                    value: res.data,\n                    url: scope.getJobStacktraceUrl(incident)\n                  };\n                }\n              },\n              appendTo: angular.element(\".angular-app\")\n            })\n            .result.catch(angular.noop)\n            .finally(function() {\n              $location.search(\"incidentStacktrace\", null);\n            });\n        });\n      };\n\n      if ($location.search().incidentStacktrace) {\n        scope.viewVariable({\n          rootCauseIncidentConfiguration: $location.search().incidentStacktrace\n        });\n      }\n    };\n\n    return {\n      restrict: \"E\",\n      scope: {\n        processData: \"=\",\n        processDefinition: \"=\",\n        processInstance: \"=\",\n        incidentsContext: \"@\"\n      },\n      template: template,\n      link: Link\n    };\n  }\n];\n\nmodule.exports = Directive;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-cockpit-ui/client/scripts/directives/incidents-tab.html -->\n<div cam-widget-loader\n     loading-state=\"{{ loadingState }}\"\n     text-empty=\"{{ 'PLUGIN_INCIDENTS_TAB_NO_INCIDENTS' | translate }}\">\n\n\n<table class=\"incidents-tab cam-table\">\n\n  <thead sortable-table-head\n         head-columns=\"headColumns\"\n         on-sort-change=\"onSortChange(query, pages, sortObj)\"\n         default-sort=\"sortObj\">\n  </thead>\n\n  <tbody>\n    <tr ng-repeat=\"incident in incidents\">\n      <td class=\"state\"\n          ng-if=\"incidentsContext === 'history'\">\n          {{getIncidentState(incident)}}\n      </td>\n      <td class=\"message\"\n          ng-if=\"incident.incidentType === 'failedJob'\">\n        <!--\n          it would be great to be able to copy the stacktrace from here\n          using the clipboard widget but it comes from an API endpoint...\n        -->\n        <a ng-if=\"incident.rootCauseIncidentMessage\"\n           ng-click=\"viewVariable(incident)\"\n           uib-tooltip=\"{{'PLUGIN_INCIDENTS_TAB_TOOLTIP_STACKTRACE'|translate}}\"\n           tooltip-placement=\"top\"\n           class=\"auto-cutoff\">\n          {{ incident.rootCauseIncidentMessage }}\n        </a>\n        <a ng-if=\"!incident.rootCauseIncidentMessage\"\n           ng-click=\"viewVariable(incident)\"\n           uib-tooltip=\"{{'PLUGIN_INCIDENTS_TAB_TOOLTIP_STACKTRACE'|translate}}\"\n           tooltip-placement=\"top\">\n          <i>Message is null.</i>\n        </a>\n      </td>\n      <td class=\"message\"\n          uib-tooltip=\"{{'PLUGIN_INCIDENTS_TAB_TOOLTIP_STACKTRACE'|translate}}\"\n          tooltip-placement=\"top\"\n          ng-if=\"incident.incidentType === 'failedExternalTask'\">\n        <a ng-click=\"viewVariable(incident)\">\n          <span ng-show=\"incident.rootCauseIncidentMessage\">\n            {{ incident.rootCauseIncidentMessage }}\n          </span>\n          <span ng-show=\"!incident.rootCauseIncidentMessage\">\n            <i>Message is null.</i>\n          </span>\n        </a>\n      </td>\n      <td class=\"message\"\n          ng-if=\"['failedExternalTask', 'failedJob'].indexOf(incident.incidentType) === -1 && incident.rootCauseIncidentMessage\">\n        <div class=\"auto-cutoff\"\n             cam-widget-clipboard=\"incident.rootCauseIncidentMessage\">\n          {{ incident.rootCauseIncidentMessage }}\n        </div>\n      </td>\n      <td class=\"message\"\n          ng-if=\"['failedExternalTask', 'failedJob'].indexOf(incident.incidentType) === -1 && !incident.rootCauseIncidentMessage\">\n        <i>Message is null.</i>\n      </td>\n\n      <td ng-if=\"processDefinition && incidentsContext === 'history'\"\n          class=\"process-instance\"\n          cam-widget-clipboard=\"incident.processInstanceId\" >\n        <a href=\"#/process-instance/{{ incident.processInstanceId }}/history\"> {{incident.processInstanceId}} </a>\n      </td>\n\n      <td ng-if=\"processDefinition && incidentsContext !== 'history'\"\n          class=\"process-instance\"\n          cam-widget-clipboard=\"incident.processInstanceId\" >\n        <a href=\"#/process-instance/{{ incident.processInstanceId }}/runtime\"> {{incident.processInstanceId}} </a>\n      </td>\n\n      <td  ng-if=\"incidentsContext !== 'history'\" class=\"timestamp\">\n        {{ incident.incidentTimestamp | camDate }}\n      </td>\n      <td ng-if=\"incidentsContext === 'history'\" class=\"create-time\">\n        {{ incident.createTime | camDate }}\n      </td>\n      <td ng-if=\"incidentsContext === 'history'\" class=\"end-time\">\n        {{ incident.endTime | camDate }}\n      </td>\n      <td class=\"activity\">\n        <span ng-show=\"incident.linkable && processDefinition\"\n              cam-select-activity=\"incident.activityId\"\n              cam-widget-clipboard=\"incident.activityId\">\n          <a ng-href=\"#/process-definition/{{ processDefinition.id }}/runtime?activityIds={{ incident.activityId }}&amp;tab=incidents-tab\">\n            {{ incident.activityName }}\n          </a>\n        </span>\n        <span ng-show=\"incident.linkable && processInstance\"\n              cam-widget-clipboard=\"incident.activityId\">\n          <a ng-href=\"#/process-instance/{{ processInstance.id }}/runtime?activityIds={{ incident.activityId }}&amp;tab=incidents-tab\">\n            {{ incident.activityName }}\n          </a>\n        </span>\n        <span ng-hide=\"incident.linkable\">\n          {{ incident.activityName }}\n        </span>\n      </td>\n\n      <td class=\"failedActivityId\">\n        <span ng-if=\"incident.failedActivityId\"\n              cam-widget-clipboard=\"incident.failedActivityId\">\n          {{ incident.failedActivityName }}\n        </span>\n      </td>\n\n      <td class=\"cause instance-id\">\n        <span ng-show=\"incident.causeIncidentProcessInstanceId !== incident.processInstanceId\"\n              cam-widget-clipboard=\"incident.causeIncidentProcessInstanceId\">\n          <a ng-href=\"#/process-instance/{{incident.causeIncidentProcessInstanceId}}/{{ incidentsContext || 'runtime' }}?activityIds={{ incident.causeIncidentActivityId }}&amp;tab=incidents-tab\">\n            {{ incident.causeIncidentProcessInstanceId }}\n          </a>\n        </span>\n      </td>\n\n      <td class=\"cause-root instance-id\">\n        <span ng-show=\"incident.rootCauseIncidentProcessInstanceId !== incident.processInstanceId\"\n              cam-widget-clipboard=\"incident.rootCauseIncidentProcessInstanceId\">\n          <a ng-href=\"#/process-instance/{{incident.rootCauseIncidentProcessInstanceId}}/{{ incidentsContext || 'runtime' }}?activityIds={{ incident.rootCauseIncidentActivityId }}&amp;tab=incidents-tab\">\n            {{ incident.rootCauseIncidentProcessInstanceId }}\n          </a>\n        </span>\n      </td>\n\n      <td class=\"type\">\n        {{ getIncidentType(incident) }}\n      </td>\n\n      <td class=\"action\">\n        <span ng-if=\"incidentHasActions(incident)\"\n              ng-repeat=\"actionProvider in incidentActions\">\n          <view provider=\"actionProvider\"\n            vars=\"incidentVars\" />\n        </span>\n      </td>\n    </tr>\n  </tbody>\n</table>\n<div cam-pagination=\"onPaginationChange(pages)\" total=\"pages.total\"> </div>\n</div>\n<!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/incidents-tab.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-bpm-webapp/ui/cockpit/client/scripts/directives/incidents-tab-stacktrace.html -->\n<div class=\"modal-header\">\n    <h3>{{ 'PLUGIN_INCIDENTS_TAB_STACKTRACE_HEADER' | translate }}</h3>\n</div>\n\n<div class=\"modal-body\">\n  <div class=\"form-group\">\n    <label for=\"value\"\n            cam-widget-clipboard=\"variable.value\"\n            no-tooltip\n            class=\"hovered\">\n    {{ 'PLUGIN_INCIDENTS_TAB_STACKTRACE_COPY' | translate }}\n    </label>\n    <textarea ng-model=\"variable.value\"\n              id=\"value\"\n              rows=\"20\"\n              class=\"form-control cam-string-variable vertical-resize\"\n              ng-readonly=\"readonly\"\n              ng-mouseenter=\"toggleHover('var-value')\"\n              ng-mouseleave=\"toggleHover()\"></textarea>\n  </div>\n  <span><a target=\"_blank\" rel=\"noopener noreferrer\" ng-href=\"{{variable.url}}\">\n    {{ 'PLUGIN_INCIDENTS_TAB_STACKTRACE_OPEN_NEW_TAB' | translate }}\n  </a></span>\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"$dismiss('close')\">\n    {{ 'CAM_WIDGET_STRING_DIALOG_LABEL_CLOSE' | translate }}\n  </button>\n</div>\n<!-- / CE - camunda-bpm-webapp/ui/cockpit/client/scripts/directives/incidents-tab-stacktrace.html -->`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./sortable-table-head.html.js\");\n\nvar Directive = function() {\n  return {\n    replace: false,\n    restrict: \"AE\",\n    scope: {\n      headColumns: \"=?\",\n      onSortChange: \"&\",\n      defaultSort: \"=?\"\n    },\n    template: template,\n    controller: [\n      \"$scope\",\n      function($scope) {\n        // Order Icons\n        $scope.orderClass = function(forColumn) {\n          forColumn = forColumn || $scope.defaultSort.sortBy;\n          var icons = {\n            none: \"minus\",\n            desc: \"chevron-down\",\n            asc: \"chevron-up\"\n          };\n          return (\n            \"glyphicon-\" +\n            icons[\n              forColumn === $scope.defaultSort.sortBy\n                ? $scope.defaultSort.sortOrder\n                : \"none\"\n            ]\n          );\n        };\n\n        // On-click function to order Columns\n        $scope.changeOrder = function(column) {\n          $scope.defaultSort.sortBy = column;\n          $scope.defaultSort.sortOrder =\n            $scope.defaultSort.sortOrder === \"desc\" ? \"asc\" : \"desc\";\n          $scope.onSortChange({ sortObj: $scope.defaultSort });\n        };\n\n        $scope.evaluateCondition = function(condition) {\n          return typeof condition === \"undefined\" ? true : condition;\n        };\n\n        $scope.formatClassName = function(className) {\n          return className.replace(/\\s/g, \"-\");\n        };\n      }\n    ],\n    link: function() {}\n  };\n};\n\nmodule.exports = Directive;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-cockpit-ui/client/scripts/directives/sortable-table-head.html -->\n<th ng-repeat=\"column in headColumns\" ng-class=\"column.class\" ng-if=\"evaluateCondition(column.condition)\">\n  <span  ng-class=\"formatClassName(column.class) + '-label'\">{{column.content}}</span>\n  <a ng-if=\"column.sortable === true\"\n     ng-click=\"changeOrder(column.request)\">\n    <span class=\"glyphicon\" ng-class=\"orderClass(column.request)\"></span>\n  </a>\n</th>\n<!-- / CE - camunda-cockpit-ui/client/scripts/directives/sortable-table-head.html -->\n\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"angular\");\n\nvar defaultConfig = {\n  dateFormat: {\n    monthName: \"MMMM\",\n    day: \"DD\",\n    abbr: \"lll\",\n    normal: \"LLL\",\n    long: \"LLLL\",\n    short: \"LL\"\n  },\n  locales: {\n    availableLocales: [\"en\"],\n    fallbackLocale: \"en\"\n  },\n  skipCustomListeners: {\n    default: true,\n    hidden: false\n  },\n  skipIoMappings: {\n    default: true,\n    hidden: false\n  },\n  runtimeActivityInstanceMetrics: {\n    display: true\n  },\n  historicActivityInstanceMetrics: {\n    adjustablePeriod: true,\n    period: {\n      unit: \"day\"\n    }\n  },\n  batchOperation: {\n    mode: \"filter\",\n    autoLoadEnded: true\n  },\n  csrfCookieName: \"XSRF-TOKEN\",\n  disableWelcomeMessage: false,\n  userOperationLogAnnotationLength: 4000\n};\n\nmodule.exports = function(config, app) {\n  return [\n    function() {\n      var storage = window.localStorage;\n      var values = JSON.parse(storage.getItem(\"camunda-web\") || \"{}\");\n\n      this.get = function(key, defaultValue) {\n        return typeof values[key] !== \"undefined\" ? values[key] : defaultValue;\n      };\n\n      this.set = function(key, value) {\n        values[key] = value;\n        storage.setItem(\"camunda-web\", JSON.stringify(values));\n      };\n\n      // Removes old translations - default localStorage is limited to 10MB\n      this.clearTranslationData = function() {\n        for (var key in values) {\n          if (key.includes(\"_locales_data_\") && !key.includes(window.bust)) {\n            delete values[key];\n          }\n        }\n\n        window.localStorage.setItem(\"camunda-web\", JSON.stringify(values));\n      };\n\n      this.getDateFormat = function(formatName) {\n        var dateFormatObj = config.dateFormat || defaultConfig.dateFormat;\n        return (\n          dateFormatObj[formatName] || defaultConfig.dateFormat[formatName]\n        );\n      };\n\n      this.getFallbackLocale = function() {\n        if (config.locales && config.locales.fallbackLocale) {\n          return config.locales.fallbackLocale;\n        } else {\n          return defaultConfig.locales.fallbackLocale;\n        }\n      };\n\n      this.getAvailableLocales = function() {\n        if (config.locales && config.locales.availableLocales) {\n          return config.locales.availableLocales;\n        } else {\n          return defaultConfig.locales.availableLocales;\n        }\n      };\n\n      this.getDateLocales = function() {\n        return config.camDateLocales;\n      };\n\n      this.getAppVendor = function() {\n        return config.app && config.app.vendor ? config.app.vendor : \"Camunda\";\n      };\n\n      this.getAppName = function() {\n        return config.app && config.app.name ? config.app.name : app;\n      };\n\n      this.getSkipCustomListeners = function() {\n        return angular.extend(\n          {},\n          defaultConfig.skipCustomListeners,\n          config.skipCustomListeners\n        );\n      };\n\n      this.getSkipIoMappings = function() {\n        return angular.extend(\n          {},\n          defaultConfig.skipIoMappings,\n          config.skipIoMappings\n        );\n      };\n\n      this.getRuntimeActivityInstanceMetrics = function() {\n        var param = \"runtimeActivityInstanceMetrics\";\n        return angular.extend({}, defaultConfig[param], config[param]).display;\n      };\n\n      this.getActivityInstancePeriod = function() {\n        var param = \"historicActivityInstanceMetrics\";\n        return config[param] && config[param].period\n          ? config[param].period\n          : defaultConfig[param].period;\n      };\n\n      this.getActivityInstanceAdjustable = function() {\n        var param = \"historicActivityInstanceMetrics\";\n\n        return config[param] &&\n          typeof config[param].adjustablePeriod !== \"undefined\"\n          ? config[param].adjustablePeriod\n          : defaultConfig[param].adjustablePeriod;\n      };\n\n      this.getBatchOperationMode = function() {\n        var param = \"batchOperation\";\n        return (\n          (config[param] && config[param].mode) || defaultConfig[param].mode\n        );\n      };\n\n      this.getBatchOperationAutoLoadEnded = function() {\n        var param = \"batchOperation\";\n\n        return config[param] &&\n          typeof config[param].autoLoadEnded !== \"undefined\"\n          ? config[param].autoLoadEnded\n          : defaultConfig[param].autoLoadEnded;\n      };\n\n      this.getBpmnJs = function() {\n        return config[\"bpmnJs\"];\n      };\n\n      this.getHistoricProcessInstancesSearch = function() {\n        return (config[\"defaultFilter\"] || {})[\n          \"historicProcessDefinitionInstancesSearch\"\n        ];\n      };\n\n      this.getCsrfCookieName = function() {\n        var param = \"csrfCookieName\";\n        return config[param] || defaultConfig[param];\n      };\n\n      this.getDisableWelcomeMessage = function() {\n        var param = \"disableWelcomeMessage\";\n        return config[param] || defaultConfig[param];\n      };\n\n      this.getUserOperationLogAnnotationLength = function() {\n        var param = \"userOperationLogAnnotationLength\";\n        return config[param] || defaultConfig[param];\n      };\n\n      this.$get = function() {\n        return this;\n      };\n    }\n  ];\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./../templates/cam-cockpit-batch-view.html.js\");\nvar ctrl = require(\"../controllers/view-ctrl\");\n\nmodule.exports = [\n  \"$routeProvider\",\n  function($routeProvider) {\n    $routeProvider.when(\"/batch\", {\n      template: template,\n      controller: ctrl,\n      authentication: \"required\",\n      reloadOnSearch: false\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div class=\"batch-wrapper\">\n  <div class=\"row\">\n    <div class=\"col-md-6\">\n      <h3>{{ 'BATCHES_PROGRESS_IN' | translate }}</h3>\n      <div cam-widget-loader\n           loading-state=\"{{ ctrl.getLoadingState('runtime') }}\"\n           text-empty=\"{{ 'BATCHES_PROGRESS_NO_RUNNING' | translate }}\">\n\n        <table class=\"cam-table\">\n          <thead sortable-table-head\n                 head-columns=\"runtimeHeadColumns\"\n                 on-sort-change=\"ctrl.onBatchSortChange('runtime', sortObj)\"\n                 default-sort=\"ctrl._batches.runtime.sorting\">\n          </thead>\n          <tbody>\n            <tr ng-repeat=\"batch in ctrl.getBatches('runtime')\" ng-class=\"{selected: ctrl.isSelected(batch)}\">\n              <td class=\"uuid\"><a ng-href=\"#/batch?details={{batch.id}}&type=runtime\">{{batch.id}}</a></td>\n              <td class=\"type\">{{batch.type}}</td>\n              <td class=\"failed\">{{ ctrl.getProgressAbsolute(batch, 'failed') }}</td>\n              <td>\n                <uib-progress>\n                  <div class=\"processed\">{{ ctrl.getProgressRoundedPercentage(batch, 'success') }}%</div>\n                  <uib-bar value=\"ctrl.getProgressPercentage(batch, 'success')\"\n                       type=\"success\"\n                       ng-if=\"ctrl.getProgressAbsolute(batch, 'success') > 0\"\n                       class=\"jobs jobs-success\">\n                  </uib-bar>\n                </uib-progress>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <ul uib-pagination ng-if=\"ctrl.getBatchCount('runtime') > ctrl.getPageSize()\"\n                    class=\"pagination-sm\"\n\n                    page=\"ctrl.getCurrentPage('runtime')\"\n                    ng-model=\"ctrl._batches.runtime.currentPage\"\n                    ng-change=\"ctrl.updatePage('runtime')\"\n\n                    total-items=\"ctrl.getBatchCount('runtime')\"\n                    items-per-page=\"ctrl.getPageSize()\"\n\n                    max-size=\"7\"\n                    boundary-links=\"true\"></ul>\n      </div>\n\n      <h3>{{ 'BATCHES_PROGRESS_END' | translate }}</h3>\n\n      <div cam-widget-loader\n           loading-state=\"{{ ctrl.getLoadingState('history') }}\"\n           text-empty=\"{{ 'BATCHES_PROGRESS_NO_FINISHED' | translate }}\"\n           ng-if=\"ctrl.shouldLoadHistory\">\n\n        <table class=\"cam-table\">\n          <thead sortable-table-head\n                 head-columns=\"historyHeadColumns\"\n                 on-sort-change=\"ctrl.onBatchSortChange('history', sortObj)\"\n                 default-sort=\"ctrl._batches.history.sorting\">\n          </thead>\n          <tbody>\n            <tr ng-repeat=\"batch in ctrl.getBatches('history')\" ng-class=\"{selected: ctrl.isSelected(batch)}\">\n              <td class=\"uuid\"><a ng-href=\"#/batch?details={{batch.id}}&type=history\">{{batch.id}}</a></td>\n              <td>{{batch.type}}</td>\n              <td>{{batch.startTime | camDate}}</td>\n              <td>{{batch.endTime | camDate}}</td>\n            </tr>\n          </tbody>\n        </table>\n        <ul uib-pagination ng-if=\"ctrl.getBatchCount('history') > ctrl.getPageSize()\"\n                    class=\"pagination-sm\"\n\n                    page=\"ctrl.getCurrentPage('history')\"\n                    ng-model=\"ctrl._batches.history.currentPage\"\n                    ng-change=\"ctrl.updatePage('history')\"\n\n                    total-items=\"ctrl.getBatchCount('history')\"\n                    items-per-page=\"ctrl.getPageSize()\"\n\n                    max-size=\"7\"\n                    boundary-links=\"true\"></ul>\n      </div>\n      <div class=\"history-loader\" ng-if=\"!ctrl.shouldLoadHistory\">\n        <button class=\"btn btn-default\" ng-click=\"ctrl.loadHistory()\">{{'BATCHES_LOAD_ENDED' | translate}}</button>\n      </div>\n    </div>\n\n    <div class=\"col-md-6\">\n      <div cam-widget-loader\n           loading-state=\"{{ ctrl.getLoadingState('selection') }}\"\n           text-error=\"{{ctrl.getSelection()}}\">\n        <!-- The check below is needed, because you cannot combine ng-if with transclusion in the loader widget. Thanks Angular -->\n        <div ng-if=\"ctrl.getLoadingState('selection') == 'LOADED'\">\n          <div class=\"row\"\n               ng-init=\"selection = ctrl.getSelection()\">\n            <h3 class=\"col-xs-8\">\n              <span ng-if=\"ctrl.getSelectionType() == 'history'\">{{ 'BATCHES_PROGRESS_COMPLETED' | translate }}</span>\n              <span ng-if=\"ctrl.getSelectionType() == 'runtime'\">{{ 'BATCHES_PROGRESS_IN_PROGRESS' | translate }}</span> {{ 'BATCHES_PROGRESS_BATCH_DETAILS' | translate }}\n            </h3>\n\n            <div class=\"col-xs-4 text-right\">\n              <div class=\"btn-group batch-controls\">\n                <a ng-if=\"ctrl.getSelectionType() == 'runtime' && !ctrl.getSuspendedState()\"\n                   ng-click=\"ctrl.toggleSuspension()\"\n                   class=\"btn btn-default\"\n                   uib-tooltip=\"{{ 'BATCHES_PROGRESS_TOOLTIP_SUSPEND_BATCH' | translate }}\">\n                  <span class=\"glyphicon glyphicon-pause\"></span>\n                </a>\n\n                <a ng-if=\"ctrl.getSelectionType() == 'runtime' && ctrl.getSuspendedState()\"\n                   ng-click=\"ctrl.toggleSuspension()\"\n                   class=\"btn btn-default\"\n                   uib-tooltip=\"{{ 'BATCHES_PROGRESS_TOOLTIP_ACTIVATE_BATCH' | translate }}\">\n                  <span class=\"glyphicon glyphicon-play\"></span>\n                </a>\n\n                <a ng-if=\"ctrl.getSelectionType() == 'runtime' && ctrl.getJobs().length > 0\"\n                   class=\"btn btn-default action-button\"\n                   ng-click=\"ctrl.retryAll()\"\n                   uib-tooltip=\"{{ 'BATCHES_PROGRESS_TOOLTIP_INCREMENT_NUMBER' | translate }}\">\n                  <span class=\"glyphicon glyphicon-repeat\"></span>\n                </a>\n\n                <a ng-if=\"ctrl.getSelectionType() == 'runtime'\"\n                   class=\"btn btn-danger action-button\"\n                   ng-click=\"ctrl.openDeleteModal()\"\n                   uib-tooltip=\"{{ 'BATCHES_PROGRESS_TOOLTIP_DELETE_BATCH' | translate }}\">\n                  <span class=\"glyphicon glyphicon-trash\"></span>\n                </a>\n              </div>\n            </div>\n          </div>\n\n          <table class=\"cam-table batch-details\">\n            <thead>\n              <th>{{ 'BATCHES_PROGRESS_PROPERTY' | translate }}</th>\n              <th>{{ 'BATCHES_PROGRESS_VALUE' | translate }}</th>\n            </thead>\n            <tbody>\n              <tr ng-repeat=\"key in ctrl.sortingKeys\"\n                  ng-if=\"selection[key] && key !== 'failedJobs'\"\n                  ng-class=\"key\">\n                <td>{{key}}</td>\n                <td ng-if=\"key !== 'startTime' && key !== 'endTime'\">{{selection[key]}}\n                  <span ng-if=\"key === 'remainingJobs' && selection.failedJobs\"\n                        class=\"failedJobs\"\n                        translate=\"BATCHES_PROGRESS_FAILED\"\n                        translate-values=\"{jobs: selection.failedJobs}\"></span>\n                </td>\n                <td ng-if=\"key === 'startTime' || key == 'endTime'\">{{selection[key] | camDate}}</td>\n              </tr>\n            </tbody>\n          </table>\n          <div ng-if=\"ctrl.getSelectionType() == 'runtime'\">\n            <h3>{{ 'BATCHES_PROGRESS_FAIL_JOBS' | translate }}</h3>\n            <div cam-widget-loader\n                 loading-state=\"{{ ctrl.getLoadingState('jobs') }}\"\n                 text-empty=\"{{ 'BATCHES_PROGRESS_NO_FAILED_JOBS' | translate }}\"\n                 text-error=\"{{ ctrl.getJobs() }}\">\n            <table class=\"cam-table\">\n              <thead sortable-table-head\n                     head-columns=\"jobHeadColumns\"\n                     on-sort-change=\"ctrl.onJobSortChange(sortObj)\"\n                     default-sort=\"ctrl._jobs.sorting\">\n              </thead>\n              <tbody>\n                <tr ng-repeat=\"job in ctrl.getJobs()\">\n                  <td class=\"uuid stack-trace\">{{job.id}}</td>\n                  <td>\n                    {{job.exceptionMessage.substr(0, 120)}}\n                    <a ng-href=\"{{ctrl.getStacktraceUrl(job)}}\"\n                       target=\"_blank\"\n                       uib-tooltip=\"{{ 'BATCHES_PROGRESS_TOOLTIP_OPEN_STACK' | translate }}\">{{ 'BATCHES_PROGRESS_FULL_STACK_TRACE' | translate }}</a>\n                  </td>\n                  <td>\n                    <div class=\"btn-group btn-group-sm\">\n                      <a class=\"btn btn-default action-button\"\n                         ng-click=\"ctrl.retryJob(job)\"\n                         uib-tooltip=\"{{ 'BATCHES_PROGRESS_TOOLTIP_INCREMENT_RETRIES' | translate }}\">\n                        <span class=\"glyphicon glyphicon-repeat\"></span>\n                      </a>\n                      <a class=\"btn btn-default action-button\"\n                         ng-click=\"ctrl.deleteJob(job)\"\n                         uib-tooltip=\"{{ 'BATCHES_PROGRESS_TOOLTIP_DELETE_JOB' | translate }}\">\n                        <span class=\"glyphicon glyphicon-trash\"></span>\n                      </a>\n                      <a class=\"btn btn-default action-button\"\n                      ng-click=\"openLog(job)\"\n                      uib-tooltip=\"{{ 'BATCHES_PROGRESS_TOOLTIP_JOB_LOG' | translate }}\">\n                     <span class=\"glyphicon glyphicon-menu-hamburger\"\"></span>\n                   </a>\n                    </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <ul uib-pagination ng-if=\"ctrl.getJobCount() > ctrl.getPageSize()\"\n                        class=\"pagination-sm\"\n\n                        page=\"ctrl.getCurrentPage('job')\"\n                        ng-model=\"ctrl._jobs.currentPage\"\n                        ng-change=\"ctrl.updatePage('job')\"\n\n                        total-items=\"ctrl.getJobCount()\"\n                        items-per-page=\"ctrl.getPageSize()\"\n\n                        max-size=\"7\"\n                        boundary-links=\"true\"></ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Ctrl = require(\"../components/batch\");\nvar events = require(\"../components/events\");\n\nvar deleteModalTemplate = require(\"./../templates/delete-modal.html.js\");\nvar deleteModalCtrl = require(\"./modal-ctrl\");\n\nvar jobLogModalCtrl = require(\"./job-log-ctrl\");\nvar jobLogModalTemplate = require(\"../templates/job-log.html.js\");\n\nvar angular = require(\"angular\");\n\nmodule.exports = [\n  \"$scope\",\n  \"page\",\n  \"camAPI\",\n  \"$location\",\n  \"$uibModal\",\n  \"$translate\",\n  \"Notifications\",\n  \"localConf\",\n  \"configuration\",\n  function(\n    $scope,\n    page,\n    camAPI,\n    $location,\n    $modal,\n    $translate,\n    Notifications,\n    localConf,\n    configuration\n  ) {\n    $scope.runtimeHeadColumns = [\n      {\n        class: \"id\",\n        request: \"batchId\",\n        sortable: true,\n        content: $translate.instant(\"BATCHES_PROGRESS_ID\")\n      },\n      {\n        class: \"type\",\n        request: \"\",\n        sortable: false,\n        content: $translate.instant(\"BATCHES_PROGRESS_TYPE\")\n      },\n      {\n        class: \"failed\",\n        request: \"\",\n        sortable: false,\n        content: $translate.instant(\"BATCHES_PROGRESS_FAIL_JOBS\")\n      },\n      {\n        class: \"\",\n        request: \"\",\n        sortable: false,\n        content: $translate.instant(\"BATCHES_PROGRESS_PROGRESS\")\n      }\n    ];\n\n    $scope.historyHeadColumns = [\n      {\n        class: \"id\",\n        request: \"batchId\",\n        sortable: true,\n        content: $translate.instant(\"BATCHES_PROGRESS_ID\")\n      },\n      {\n        class: \"type\",\n        request: \"\",\n        sortable: false,\n        content: $translate.instant(\"BATCHES_PROGRESS_TYPE\")\n      },\n      {\n        class: \"start-time\",\n        request: \"startTime\",\n        sortable: true,\n        content: $translate.instant(\"BATCHES_PROGRESS_START_TIME\")\n      },\n      {\n        class: \"end-time\",\n        request: \"endTime\",\n        sortable: true,\n        content: $translate.instant(\"BATCHES_PROGRESS_END_TIME\")\n      }\n    ];\n\n    $scope.jobHeadColumns = [\n      {\n        class: \"id\",\n        request: \"jobId\",\n        sortable: true,\n        content: $translate.instant(\"BATCHES_PROGRESS_ID\")\n      },\n      {\n        class: \"type\",\n        request: \"\",\n        sortable: false,\n        content: $translate.instant(\"BATCHES_PROGRESS_EXCEPTION\")\n      },\n      {\n        class: \"action\",\n        request: \"\",\n        sortable: false,\n        content: $translate.instant(\"BATCHES_PROGRESS_ACTIONS\")\n      }\n    ];\n\n    $scope.$on(\"$destroy\", function() {\n      events.removeAllListeners();\n      $scope.ctrl.stopLoadingPeriodically();\n    });\n\n    $scope.$watch(\n      function() {\n        return $location.search() || {};\n      },\n      function(newValue) {\n        if (newValue.details && newValue.type) {\n          $scope.ctrl.loadDetails(newValue.details, newValue.type);\n        }\n      }\n    );\n\n    events.on(\"details:switchToHistory\", function() {\n      $location.search(\"type\", \"history\");\n    });\n\n    events.on(\"deleteModal:open\", function(deleteModal) {\n      var modal = (deleteModal.instance = $modal.open({\n        template: deleteModalTemplate,\n        controller: deleteModalCtrl,\n        appendTo: angular.element('.angular-app')\n      }));\n\n      modal.result.catch(function() {});\n    });\n\n    events.on(\"batch:delete:failed\", function(err) {\n      Notifications.addError({\n        status: $translate.instant(\"BATCHES_DELETE_BATCH_STATUS\"),\n        message: $translate.instant(\"BATCHES_DELETE_BATCH_FAILED\", {\n          message: err.message\n        }),\n        exclusive: true\n      });\n    });\n\n    events.on(\"job:delete:failed\", function(err) {\n      Notifications.addError({\n        status: $translate.instant(\"BATCHES_DELETE_JOB_STATUS\"),\n        message: $translate.instant(\"BATCHES_DELETE_JOB_FAILED\", {\n          message: err.message\n        }),\n        exclusive: true\n      });\n    });\n\n    events.on(\"job:retry:failed\", function(err) {\n      Notifications.addError({\n        status: $translate.instant(\"BATCHES_RETRY_JOB_STATUS\"),\n        message: $translate.instant(\"BATCHES_RETRY_JOB_FAILED\", {\n          message: err.message\n        }),\n        exclusive: true\n      });\n    });\n\n    require(\"../components/breadcrumbs\")(page, $scope.$root, $translate);\n\n    $scope.ctrl = new Ctrl(camAPI, localConf, configuration);\n    $scope.ctrl.loadPeriodically(5000);\n\n    $scope.openLog = function(job) {\n      $modal.open({\n        controller: jobLogModalCtrl,\n        template: jobLogModalTemplate,\n        resolve: {\n          job: function() {\n            return job;\n          }\n        },\n        size: \"lg\",\n        appendTo: angular.element('.angular-app')\n      });\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar events = require(\"./events\");\n\nvar PAGE_SIZE = 10;\n\nvar Batch = function(camAPI, localConf, configuration) {\n  this._sdk = camAPI;\n  this._localConf = localConf;\n  this.shouldLoadHistory = configuration.getBatchOperationAutoLoadEnded();\n\n  this.sortingProperties = {\n    runtime: \"batch-runtime-sort\",\n    history: \"batch-history-sort\",\n    job: \"batch-job-sort\"\n  };\n\n  var runtimeSorting = this._loadLocal(\"runtime\", {\n    sortBy: \"batchId\",\n    sortOrder: \"asc\"\n  });\n  var historySorting = this._loadLocal(\"history\", {\n    sortBy: \"startTime\",\n    sortOrder: \"desc\"\n  });\n\n  this._batches = {\n    runtime: {\n      state: \"INITIAL\",\n      currentPage: 1,\n      count: 0,\n      data: null,\n      sorting: runtimeSorting\n    },\n    history: {\n      state: \"INITIAL\",\n      currentPage: 1,\n      count: 0,\n      data: null,\n      sorting: historySorting\n    },\n    selection: {\n      state: \"INITIAL\",\n      type: null,\n      data: {}\n    }\n  };\n\n  var jobSorting = this._loadLocal(\"job\", {\n    sortBy: \"jobId\",\n    sortOrder: \"asc\"\n  });\n\n  this._jobs = {\n    state: \"INITIAL\",\n    currentPage: 1,\n    count: 0,\n    data: [],\n    sorting: jobSorting\n  };\n\n  this.deleteModal = {\n    instance: null\n  };\n\n  var self = this;\n  events.on(\"delete:cancel\", function() {\n    self.deleteModal.instance && self.deleteModal.instance.dismiss(\"cancel\");\n    self.deleteModal.instance = null;\n  });\n\n  events.on(\"delete:confirm\", function(params) {\n    self._remove(params);\n  });\n};\n\nBatch.prototype._loadLocal = function(type, defaultValue) {\n  var localConf = this._localConf;\n  return localConf && localConf.get(this.sortingProperties[type], defaultValue);\n};\n\nBatch.prototype._saveLocal = function(type, value) {\n  var localConf = this._localConf;\n  localConf && localConf.set(this.sortingProperties[type], value);\n};\n\nBatch.prototype.openDeleteModal = function() {\n  events.emit(\"deleteModal:open\", this.deleteModal);\n};\n\nBatch.prototype.onBatchSortChange = function(type, sorting) {\n  this._batches[type].sorting = sorting;\n  this._saveLocal(type, sorting);\n  this._load(type);\n};\n\nBatch.prototype.onJobSortChange = function(sorting) {\n  this._jobs.sorting = sorting;\n  this._saveLocal(\"job\", sorting);\n  this._loadFailedJobs(this.getSelection());\n};\n\nBatch.prototype._remove = function(params) {\n  var obj = this._batches.selection;\n  params.id = obj.data.id;\n  var self = this;\n  return this._sdk.resource(\"batch\").delete(params, function(err) {\n    self.deleteModal.instance && self.deleteModal.instance.close();\n    self.deleteModal.instance = null;\n\n    if (err) {\n      events.emit(\"batch:delete:failed\", err);\n    } else {\n      events.emit(\"batch:delete:success\");\n      self.load();\n      obj.state = \"INITIAL\";\n      obj.type = null;\n      obj.data = {};\n    }\n  });\n};\n\nvar handleRetryResponse = function(context) {\n  return function(err) {\n    if (err) {\n      events.emit(\"job:retry:failed\", err);\n    } else {\n      events.emit(\"job:retry:success\");\n      context._load(\"runtime\");\n      context.loadDetails(context.getSelection().id, \"runtime\");\n    }\n  };\n};\n\nBatch.prototype.retryAll = function() {\n  return this._sdk.resource(\"job-definition\").setRetries(\n    {\n      id: this._batches.selection.data.batchJobDefinitionId,\n      retries: 1\n    },\n    handleRetryResponse(this)\n  );\n};\n\nBatch.prototype.retryJob = function(job) {\n  return this._sdk.resource(\"job\").setRetries(\n    {\n      id: job.id,\n      retries: 1\n    },\n    handleRetryResponse(this)\n  );\n};\n\nBatch.prototype.deleteJob = function(job) {\n  var self = this;\n  return this._sdk.resource(\"job\").delete(job.id, function(err) {\n    if (err) {\n      events.emit(\"job:delete:failed\", err);\n    } else {\n      events.emit(\"job:delete:success\");\n      self._load(\"runtime\");\n      self.loadDetails(self.getSelection().id, \"runtime\");\n    }\n  });\n};\n\nBatch.prototype.getProgressPercentage = function(batch, type) {\n  switch (type) {\n    case \"success\":\n      return (\n        (100 * batch.completedJobs) /\n        (batch.completedJobs + batch.remainingJobs)\n      );\n    case \"failed\":\n      return (\n        (100 * batch.failedJobs) / (batch.completedJobs + batch.remainingJobs)\n      );\n    case \"remaining\":\n      return (\n        (100 * (batch.remainingJobs - batch.failedJobs)) /\n        (batch.completedJobs + batch.remainingJobs)\n      );\n    default:\n      return 0;\n  }\n};\n\nBatch.prototype.getProgressRoundedPercentage = function(batch, type) {\n  return Math.round(this.getProgressPercentage(batch, type));\n};\n\nBatch.prototype.getProgressAbsolute = function(batch, type) {\n  switch (type) {\n    case \"success\":\n      return batch.completedJobs;\n    case \"failed\":\n      return batch.failedJobs;\n    case \"remaining\":\n      return batch.remainingJobs - batch.failedJobs;\n    default:\n      return 0;\n  }\n};\n\nBatch.prototype.isSelected = function(batch) {\n  return this._batches.selection.data.id === batch.id;\n};\n\nBatch.prototype.getJobs = function() {\n  return this._jobs.data;\n};\n\nBatch.prototype.getStacktraceUrl = function(job) {\n  return this._sdk.baseUrl + \"/job/\" + job.id + \"/stacktrace\";\n};\n\nBatch.prototype.getJobCount = function() {\n  return this._jobs.count;\n};\n\nBatch.prototype.getLoadingState = function(type) {\n  if (type === \"jobs\") {\n    return this._jobs.state;\n  }\n  return this._batches[type].state;\n};\n\nBatch.prototype.getBatches = function(type) {\n  return this._batches[type].data;\n};\n\nBatch.prototype.getSelection = function() {\n  return this._batches.selection.data;\n};\n\nBatch.prototype.getSelectionType = function() {\n  return this._batches.selection.type;\n};\n\nBatch.prototype.getBatchCount = function(type) {\n  return this._batches[type].count;\n};\n\nBatch.prototype.getPageSize = function() {\n  return PAGE_SIZE;\n};\n\nBatch.prototype.getCurrentPage = function(type) {\n  if (type === \"jobs\") {\n    return this._jobs.currentPage;\n  }\n  return this._batches[type].currentPage;\n};\n\nBatch.prototype.getSuspendedState = function() {\n  return this.getSelection().suspended;\n};\n\nBatch.prototype.toggleSuspension = function() {\n  var self = this;\n  var selection = this.getSelection();\n  selection.state = \"LOADING\";\n\n  return this._sdk.resource(\"batch\").suspended(\n    {\n      id: selection.id,\n      suspended: !selection.suspended\n    },\n    function(err) {\n      if (err) {\n        throw err;\n      } // notification?? but how?\n      self.loadDetails(selection.id, \"runtime\");\n    }\n  );\n};\n\nBatch.prototype.updatePage = function(type) {\n  if (type === \"job\") {\n    return this._loadFailedJobs(this.getSelection());\n  }\n  this._load(type);\n};\n\nBatch.prototype.load = function() {\n  this._load(\"runtime\");\n\n  if (this.shouldLoadHistory) {\n    this._load(\"history\");\n  }\n};\n\nBatch.prototype.loadHistory = function() {\n  this.shouldLoadHistory = true;\n  this._load(\"history\");\n};\n\nBatch.prototype.loadPeriodically = function(interval) {\n  var self = this;\n  this.load();\n  this.intervalHandle = window.setInterval(function() {\n    self.load();\n\n    // also update the state of the currently selected batch\n    if (\n      self._batches.selection.state === \"LOADED\" &&\n      self._batches.selection.type === \"runtime\" &&\n      self._jobs.count === 0\n    ) {\n      self.loadDetails(self._batches.selection.data.id, \"runtime\");\n    }\n  }, interval);\n};\n\nBatch.prototype.stopLoadingPeriodically = function() {\n  window.clearInterval(this.intervalHandle);\n};\n\nBatch.prototype.loadDetails = function(id, type) {\n  var obj = this._batches.selection;\n  obj.state = \"LOADING\";\n  obj.type = type;\n  var self = this;\n\n  var cb = function(err, data) {\n    var loadingFailed = function(errMsg) {\n      events.emit(\"load:details:failed\");\n\n      obj.data = errMsg;\n      obj.state = \"ERROR\";\n    };\n\n    var loadingSuccessful = function() {\n      events.emit(\"load:details:completed\");\n\n      obj.state = \"LOADED\";\n\n      if (type === \"runtime\") {\n        self._loadFailedJobs(obj.data);\n      }\n    };\n\n    if (err || (typeof data.length !== \"undefined\" && data.length === 0)) {\n      // if the runtime version of the batch was requested,\n      // try again with history (it may have finished in the meantime)\n      if (type === \"runtime\") {\n        events.emit(\"details:switchToHistory\");\n        self.loadDetails(id, \"history\");\n      } else {\n        loadingFailed(err.message);\n      }\n    } else {\n      obj.data = data.length ? data[0] : data;\n\n      var cb = function(err, data) {\n        if (err) {\n          if (err.status === 404) {\n            obj.data.user = userId;\n            loadingSuccessful();\n          } else {\n            loadingFailed(err.message);\n          }\n        } else {\n          if (data.firstName && data.lastName) {\n            obj.data.user = data.firstName + \" \" + data.lastName;\n          } else {\n            obj.data.user = userId;\n          }\n\n          loadingSuccessful();\n        }\n      };\n\n      var userId = obj.data.createUserId;\n      if (userId) {\n        this._sdk.resource(\"user\").profile({ id: userId }, cb);\n      } else {\n        loadingSuccessful();\n      }\n    }\n  }.bind(this);\n\n  switch (type) {\n    case \"runtime\":\n      this._sdk\n        .resource(\"batch\")\n        .statistics({ batchId: id, maxResults: 1 }, cb);\n      break;\n    default:\n    case \"history\":\n      this._sdk.resource(\"history\").singleBatch(id, cb);\n      break;\n  }\n};\n\nBatch.prototype._loadFailedJobs = function(data) {\n  var jobId = data.batchJobDefinitionId;\n  var obj = this._jobs;\n\n  obj.state = \"LOADING\";\n\n  var params = {\n    jobDefinitionId: jobId,\n    withException: true,\n    noRetriesLeft: true,\n    firstResult: (obj.currentPage - 1) * PAGE_SIZE,\n    maxResults: PAGE_SIZE,\n    sorting: [this._jobs.sorting]\n  };\n\n  this._sdk.resource(\"job\").list(\n    params,\n    function(err, data) {\n      if (err) {\n        obj.data = err.message;\n        obj.state = \"ERROR\";\n      } else {\n        obj.data = data;\n\n        delete params.sorting;\n\n        this._sdk.resource(\"job\").count(params, function(err, data) {\n          obj.state = data ? \"LOADED\" : \"EMPTY\";\n          obj.count = data;\n          events.emit(\"load:jobs:completed\");\n        });\n      }\n    }.bind(this)\n  );\n};\n\nBatch.prototype._load = function(type) {\n  var obj = this._batches[type];\n\n  if (!obj.data) {\n    obj.state = \"LOADING\";\n  }\n\n  var params = {\n    firstResult: (obj.currentPage - 1) * PAGE_SIZE,\n    maxResults: PAGE_SIZE\n  };\n\n  var countCb = function(err, data) {\n    obj.state = data.count ? \"LOADED\" : \"EMPTY\";\n    obj.count = data.count;\n    events.emit(\"load:\" + type + \":completed\");\n  };\n  var cb = function(err, data) {\n    obj.data = data.items || data;\n    if (typeof data.count !== \"undefined\") {\n      countCb(err, data);\n    } else {\n      switch (type) {\n        case \"runtime\":\n          return this._sdk.resource(\"batch\").statisticsCount(params, countCb);\n        default:\n        case \"history\":\n          return this._sdk.resource(\"history\").batchCount(params, countCb);\n      }\n    }\n  }.bind(this);\n\n  if (obj.sorting) {\n    params.sortBy = obj.sorting.sortBy;\n    params.sortOrder = obj.sorting.sortOrder;\n  }\n\n  switch (type) {\n    case \"runtime\":\n      return this._sdk.resource(\"batch\").statistics(params, cb);\n    default:\n    case \"history\":\n      params.completed = true;\n      return this._sdk.resource(\"history\").batch(params, cb);\n  }\n};\n\nBatch.prototype.sortingKeys = [\n  \"id\",\n  \"startTime\",\n  \"endTime\",\n  \"type\",\n  \"user\",\n  \"totalJobs\",\n  \"completedJobs\",\n  \"remainingJobs\",\n  \"batchJobsPerSeed\",\n  \"invocationsPerBatchJob\",\n  \"tenantId\",\n  \"batchJobDefinitionId\",\n  \"monitorJobDefinitionId\",\n  \"seedJobDefinitionId\"\n];\n\nmodule.exports = Batch;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div class=\"modal-header\">\n  <h3 class=\"modal-title\">{{ 'BATCHES_DELETE_TITLE' | translate }}</h3>\n</div>\n<div class=\"modal-body\">\n  {{ 'BATCHES_DELETE_LEGEND' | translate }}<br />\n  <br />\n  <input type=\"radio\" ng-model=\"ctrl.cascade\" ng-value=\"false\" ng-disabled=\"ctrl.disable\" /> {{ 'BATCHES_DELETE_INPUT_KEEP' | translate }}<br />\n  <input type=\"radio\" ng-model=\"ctrl.cascade\" ng-value=\"true\" ng-disabled=\"ctrl.disable\" /> {{ 'BATCHES_DELETE_INPUT_DELETE' | translate }}\n</div>\n<div class=\"modal-footer\">\n    <button class=\"btn btn-default\" ng-click=\"ctrl.cancel()\" ng-disabled=\"ctrl.disable\">{{ 'BATCHES_DELETE_BTN_CANCEL'  | translate }}</button>\n    <button class=\"btn btn-primary\" ng-click=\"ctrl.confirm()\" ng-disabled=\"ctrl.disable\">{{ 'BATCHES_DELETE_BTN_CONFIRM' | translate }}</button>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Ctrl = require(\"../components/delete\");\n\nmodule.exports = [\n  \"$scope\",\n  function($scope) {\n    $scope.ctrl = new Ctrl();\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar events = require(\"./events\");\n\nvar Delete = function() {\n  this.cascade = false;\n  this.disable = false;\n};\n\nDelete.prototype.cancel = function() {\n  events.emit(\"delete:cancel\");\n};\n\nDelete.prototype.confirm = function() {\n  this.disable = true;\n  events.emit(\"delete:confirm\", {\n    cascade: this.cascade\n  });\n};\n\nmodule.exports = Delete;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$scope\",\n  \"camAPI\",\n  \"job\",\n  \"$translate\",\n  \"localConf\",\n  \"Uri\",\n  function($scope, camAPI, job, $translate, localConf, Uri) {\n    $scope.loadingState = \"LOADING\";\n\n    // prettier-ignore\n    $scope.headColumns = [\n            {class: 'state', request: 'suspended', sortable: false, content: $translate.instant('PLGN_HIST_STATE')},\n            {class: 'message', request: 'failureLog', sortable: false, content: $translate.instant('PLGN_HIST_MESSAGE')},\n            {class: 'timestamp', request: 'timestamp', sortable: true, content: $translate.instant('PLGN_HIST_TIMESTAMPE')},\n            {class: 'job uuid', request: 'jobId', sortable: true, content: $translate.instant('PLGN_HIST_JOB_ID')},\n            {class: 'type', request: 'jobDefinitionType', sortable: false, content: $translate.instant('PLGN_HIST_TYPE')},\n            {class: 'configuration', request: 'jobDefinitionConfiguration', sortable: false, content: $translate.instant('PLGN_HIST_CONFIGURATION')},\n            {class: 'retries', request: 'jobRetries', sortable: true, content: $translate.instant('PLGN_HIST_RETRIES')},\n            {class: 'hostname', request: 'hostname', sortable: true, content: $translate.instant('PLGN_HIST_HOSTNAME')},\n            {class: 'priority', request: 'jobPriority', sortable: true, content: $translate.instant('PLGN_HIST_PRIORITY')}\n          ];\n\n    $scope.getHistoricJobLogStacktraceUrl = function(log) {\n      return Uri.appUri(\n        \"engine://engine/:engine/history/job-log/\" + log.id + \"/stacktrace\"\n      );\n    };\n\n    // Default sorting, newest failure on top\n    $scope.sortObj = { sortBy: \"timestamp\", sortOrder: \"desc\" };\n\n    $scope.onSortChange = function(sortObj) {\n      $scope.sortObj = sortObj || $scope.sortObj;\n      updateView();\n    };\n\n    var pages = ($scope.pages = { total: 0, current: 1, size: 10 });\n\n    $scope.getState = function(log) {\n      if (log.creationLog) {\n        return \"Created\";\n      }\n      if (log.failureLog) {\n        return \"Failed\";\n      }\n      if (log.deletionLog) {\n        return \"Deleted\";\n      }\n      if (log.successLog) {\n        return \"Successful\";\n      }\n    };\n\n    var updateView = ($scope.updateView = function() {\n      $scope.loadingState = \"LOADING\";\n\n      camAPI\n        .resource(\"history\")\n        .jobLogList({\n          jobId: job.id,\n          maxResults: pages.size,\n          firstResult: (pages.current - 1) * pages.size,\n          ...$scope.sortObj\n        })\n        .then(res => {\n          $scope.logs = res;\n          $scope.loadingState = res.length ? \"LOADED\" : \"EMPTY\";\n        })\n        .catch(() => {\n          $scope.loadingState = \"ERROR\";\n        });\n    });\n\n    camAPI\n      .resource(\"history\")\n      .jobLogCount({ jobId: job.id })\n      .then(res => {\n        pages.total = res.count;\n      });\n\n    updateView();\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div class=\"modal-header\">\n  <h3>{{ 'PLGN_BATCH_JOB_LOG_HEADER' | translate }}</h3>\n</div>\n\n<div class=\"batch-job-log-modal modal-body\">\n  <div cam-widget-loader\n       loading-state=\"{{ loadingState }}\"\n       text-empty=\"{{ 'PLGN_BATCH_NO_JOB_LOGS' | translate }}\"\n       text-error=\"{{ 'PLGN_BATCH_NO_JOB_ERROR' | translate }}\">\n    <table class=\"cam-table cam-fixed-layout\">\n    <thead sortable-table-head\n            head-columns=\"headColumns\"\n            on-sort-change=\"onSortChange(sortObj)\"\n            default-sort=\"sortObj\">\n    </thead>\n    <tbody>\n      <tr ng-repeat=\"log in logs\">\n        <td class=\"state\">\n          {{ getState(log) }}\n        </td>\n\n        <td class=\"message\">\n          <span ng-show=\"log.failureLog\">\n            <a href=\"{{ getHistoricJobLogStacktraceUrl(log) }}\"\n                target=\"_blank\"\n                ng-show=\"log.jobExceptionMessage\"\n                uib-tooltip=\"{{ 'PLGN_HIST_OPEN_STACKTRACE' | translate }}\"\n                tooltip-placement=\"top-left\">\n              {{ log.jobExceptionMessage }}\n            </a>\n            <a href=\"{{ getHistoricJobLogStacktraceUrl(log) }}\"\n                target=\"_blank\"\n                ng-hide=\"log.jobExceptionMessage\"\n                uib-tooltip=\"{{ 'PLGN_HIST_OPEN_STACKTRACE' | translate }}\"\n                tooltip-placement=\"top-left\">\n              <i>{{ 'PLGN_HIST_MESSAGE_NULL' | translate }}</i>\n            </a>\n          </span>\n        </td>\n\n        <td class=\"timestamp\"\n            cam-widget-clipboard=\"log.timestamp | camDate\">\n          {{ log.timestamp | camDate }}\n        </td>\n\n        <td class=\"job\"\n            cam-widget-clipboard=\"log.jobId\">\n          {{ log.jobId }}\n        </td>\n\n        <td class=\"type\"\n            cam-widget-clipboard=\"log.jobDefinitionType\">\n          {{ log.jobDefinitionType }}\n        </td>\n\n        <td class=\"configuration\"\n            cam-widget-clipboard=\"log.jobDefinitionConfiguration\">\n          {{ log.jobDefinitionConfiguration }}\n        </td>\n\n        <td class=\"retries\">\n          {{ log.jobRetries }}\n        </td>\n\n        <td class=\"hostname\"\n            cam-widget-clipboard=\"log.hostname\">\n          {{ log.hostname }}\n        </td>\n\n        <td class=\"priority\">\n          {{ log.jobPriority }}\n        </td>\n\n      </tr>\n    </tbody>\n    </table>\n\n\n  <ul uib-pagination ng-if=\"pages.total > pages.size\"\n            class=\"pagination-sm\"\n\n            page=\"pages.current\"\n            ng-model=\"pages.current\"\n            ng-change=\"updateView()\"\n\n            total-items=\"pages.total\"\n            items-per-page=\"pages.size\"\n\n            max-size=\"7\"\n            boundary-links=\"true\"></ul>\n  </div>\n\n\n</div>\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"$close()\">{{ 'PLGN_HIST_CLOSE' | translate }}</button>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function(page, rootScope, $translate) {\n  rootScope.showBreadcrumbs = true;\n\n  page.breadcrumbsClear();\n\n  page.breadcrumbsAdd({\n    label: $translate.instant(\"BATCHES_BREAD_BATCHES\")\n  });\n\n  page.titleSet($translate.instant(\"BATCHES_TITLE_BATCHES\"));\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->\n<div class=\"ctn-view dashboard container-fluid\">\n  <div class=\"sections row\">\n    <div class=\"col-xs-12\"\n         ng-class=\"{'col-sm-8 col-lg-10': metricsPlugins.length}\">\n\n\n      <section class=\"actual\"\n               ng-class=\"{'loading': loadingActual,'section-collapsed': !actualActive}\">\n        <button uib-tooltip=\"{{ 'DASHBOARD_TOGGLE_SECTION' | translate }}\"\n                class=\"section-toggle btn btn-link btn-sm\"\n                ng-click=\"toggleSection('actual')\">\n          <span class=\"glyphicon\"\n                ng-class=\"{'glyphicon-menu-down': !actualActive, 'glyphicon-menu-up': actualActive}\"></span>\n        </button>\n\n        <div class=\"inner\">\n          <header>\n            <div class=\"row\">\n              <h1 class=\"col-xs-12 section-title\">{{ 'DASHBOARD_RIGHT_NOW' | translate }}</h1>\n            </div>\n          </header>\n\n          <div class=\"row stats\"\n               ng-if=\"actualActive\">\n            <div class=\"stats-section process-instances col-xs-6 col-md-4\">\n              <div cam-pie-chart\n                   values=\"values.procInst\"\n                   placeholder=\"{{ 'DASHBOARD_RUNNING_PROCESS_INSTANCE' | translate }}\"></div>\n              <a class=\"value\"\n                 href=\"#/processes?searchQuery=%5B%7B%22type%22:%22PIunfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D\"\n                 ng-if=\"hasProcessSearch\">\n                {{ (!data.actual.runningProcessInstances ? 0 : '') }}\n                {{ data.actual.runningProcessInstances | abbreviateNumber }}\n              </a>\n              <a class=\"value\"\n                 href=\"#/processes\"\n                 ng-if=\"!hasProcessSearch\">\n                {{ (!data.actual.runningProcessInstances ? 0 : '') }}\n                {{ data.actual.runningProcessInstances | abbreviateNumber }}\n              </a>\n            </div>\n\n            <div class=\"stats-section open-incidents col-xs-6 col-md-4\">\n              <div cam-pie-chart\n                   values=\"values.procIncid\"\n                   placeholder=\"{{ 'DASHBOARD_OPEN_INCIDENTS' | translate }}\"></div>\n              <a class=\"value\"\n                 href=\"#/processes?searchQuery=%5B%7B%22type%22:%22PIwithRootIncidents%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22PIincidentStatus%22,%22operator%22:%22eq%22,%22value%22:%22open%22,%22name%22:%22%22%7D%5D\"\n                 ng-if=\"hasProcessSearch\">\n                {{ (!data.actual.openIncidents ? 0 : '') }}\n                {{ data.actual.openIncidents | abbreviateNumber }}\n              </a>\n              <a class=\"value\"\n                 href=\"#/processes\"\n                 ng-if=\"!hasProcessSearch\">\n                {{ (!data.actual.openIncidents ? 0 : '') }}\n                {{ data.actual.openIncidents | abbreviateNumber }}\n              </a>\n            </div>\n\n            <div class=\"stats-section open-human-tasks col-xs-6 col-md-4\">\n              <div cam-pie-chart\n                   values=\"values.tasks\"\n                   placeholder=\"{{ 'DASHBOARD_OPEN_HUMAN_TASKS' | translate}}\"></div>\n              <a class=\"value\"\n                 href=\"#/tasks\">\n                {{ (!data.actual.tasks ? 0 : '') }}\n                {{ data.actual.tasks | abbreviateNumber }}\n              </a>\n            </div>\n          </div>\n        </div>\n      </section>\n\n\n      <section class=\"statistics\"\n               ng-class=\"{'section-collapsed': !statisticsActive}\"\n               ng-if=\"statisticsPlugins.length\">\n        <button uib-tooltip=\"{{ 'DASHBOARD_TOGGLE_SECTION' | translate }}\"\n                class=\"section-toggle btn btn-link btn-sm\"\n                ng-click=\"toggleSection('statistics')\">\n          <span class=\"glyphicon\"\n                ng-class=\"{'glyphicon-menu-down': !statisticsActive, 'glyphicon-menu-up': statisticsActive}\"></span>\n        </button>\n\n        <div class=\"inner\">\n          <header>\n            <h1 class=\"section-title\">{{ 'DASHBOARD_STATISTICS' | translate }}</h1>\n          </header>\n\n          <div class=\"row stats\"\n               ng-if=\"statisticsActive\">\n            <div ng-repeat=\"plugin in statisticsPlugins\"\n                 data-plugin-id=\"{{ plugin.id }}\"\n                 class=\"stats-section col-md-12 col-lg-6 entry\">\n              <h4>{{ plugin.label }}</h4>\n              <view vars=\"statisticsVars\"\n                    provider=\"plugin\"\n                    class=\"row\"></view>\n            </div>\n          </div>\n        </div>\n      </section>\n\n\n      <section class=\"metrics\"\n               ng-class=\"{'section-collapsed': !metricsActive}\"\n               ng-if=\"metricsPlugins.length\">\n        <button uib-tooltip=\"{{ 'DASHBOARD_TOGGLE_SECTION' | translate }}\"\n                class=\"section-toggle btn btn-link btn-sm\"\n                ng-click=\"toggleSection('metrics')\">\n          <span class=\"glyphicon\"\n                ng-class=\"{'glyphicon-menu-down': !metricsActive, 'glyphicon-menu-up': metricsActive}\"></span>\n        </button>\n\n        <div class=\"inner\">\n          <header>\n            <div class=\"row\">\n              <h1 class=\"col-xs-3 section-title\">{{ 'DASHBOARD_METRICS' | translate }}</h1>\n\n              <div class=\"col-xs-9 text-right\"\n                   ng-if=\"metricsActive\">\n                <ul class=\"nav nav-tabs\">\n                  <li ng-class=\"{active: metricsPeriod === 'day'}\">\n                    <a ng-click=\"setMetricsPeriod('day')\">{{ 'DASHBOARD_TODAY' | translate }}</a>\n                  </li>\n\n                  <li ng-class=\"{active: metricsPeriod === 'week'}\">\n                    <a ng-click=\"setMetricsPeriod('week')\">{{ 'DASHBOARD_THIS_WEEK' | translate }}</a>\n                  </li>\n\n                  <li ng-class=\"{active: metricsPeriod === 'month'}\">\n                    <a ng-click=\"setMetricsPeriod('month')\">{{ 'DASHBOARD_THIS_MONTH' | translate }}</a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </header>\n\n\n          <div class=\"row stats\"\n               ng-if=\"metricsActive\">\n            <div ng-repeat=\"plugin in metricsPlugins\"\n                 data-plugin-id=\"{{ plugin.id }}\"\n                 class=\"stats-section col-md-6 col-lg-4 entry\">\n              <h4>{{ plugin.label | translate }}</h4>\n              <view vars=\"metricsVars\"\n                    provider=\"plugin\"\n                    period=\"metricsPeriod\"\n                    class=\"row\"></view>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section class=\"deployed no-metrics\"\n               ng-class=\"{'loading': loadingDeployed,'section-collapsed': !deployedActive}\"\n               ng-if=\"!metricsPlugins.length\">\n        <button uib-tooltip=\"{{ 'DASHBOARD_TOGGLE_SECTION' | translate }}\"\n                class=\"section-toggle btn btn-link btn-sm\"\n                ng-click=\"toggleSection('deployed')\">\n          <span class=\"glyphicon\"\n                ng-class=\"{'glyphicon-menu-down': !deployedActive, 'glyphicon-menu-up': deployedActive}\"></span>\n        </button>\n\n        <div class=\"inner\">\n          <header>\n            <h1 class=\"section-title\">{{ 'DASHBOARD_DEPLOYED' | translate }}</h1>\n          </header>\n\n          <div class=\"row stats\"\n               ng-if=\"deployedActive\">\n            <div class=\"stats-section processes col-xs-6 col-lg-3\">\n              <div class=\"stats-label\">{{ 'DASHBOARD_PROCESS_DEFINITIONS' | translate }}</div>\n              <a class=\"value\"\n                 href=\"#/processes\">\n                {{ (!data.deployed.processDefinitions ? 0 : '') }}\n                {{ data.deployed.processDefinitions | abbreviateNumber }}\n              </a>\n            </div>\n\n            <div class=\"stats-section decisions col-xs-6 col-lg-3\">\n              <div class=\"stats-label\">{{ 'DASHBOARD_DECISION_DEFINITIONS' | translate }}</div>\n              <a class=\"value\"\n                 href=\"#/decisions\">\n                {{ (!data.deployed.decisionDefinitions ? 0 : '') }}\n                {{ data.deployed.decisionDefinitions | abbreviateNumber }}\n              </a>\n            </div>\n\n            <div class=\"stats-section cases col-xs-6 col-lg-3\">\n              <div class=\"stats-label\">{{ 'DASHBOARD_CASE_DEFINITIONS' | translate }}</div>\n              <a class=\"value\"\n                 href=\"#/cases\"\n                 ng-if=\"hasCaseSearch\">\n                {{ (!data.deployed.caseDefinitions ? 0 : '') }}\n                {{ data.deployed.caseDefinitions | abbreviateNumber }}\n              </a>\n              <span class=\"value\"\n                    ng-if=\"!hasCaseSearch\">\n                {{ (!data.deployed.caseDefinitions ? 0 : '') }}\n                {{ data.deployed.caseDefinitions | abbreviateNumber }}\n              </span>\n            </div>\n\n            <div class=\"stats-section deployments col-xs-6 col-lg-3\">\n              <div class=\"stats-label\">{{ 'DASHBOARD_DEPLOYMENTS' | translate }}</div>\n              <a class=\"value\"\n                 href=\"#/repository\">\n                {{ (!data.deployed.deploymentDefinitions ? 0 : '') }}\n                {{ data.deployed.deploymentDefinitions | abbreviateNumber }}\n              </a>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n\n\n    <section class=\"col-xs-12 col-sm-4 col-lg-2 deployed\"\n             ng-class=\"{'loading': loadingDeployed, 'section-collapsed': !deployedActive}\"\n             ng-if=\"metricsPlugins.length\">\n      <button uib-tooltip=\"{{ 'DASHBOARD_TOGGLE_SECTION' | translate }}\"\n              class=\"section-toggle btn btn-link btn-sm\"\n              ng-click=\"toggleSection('deployed')\">\n        <span class=\"glyphicon\"\n              ng-class=\"{'glyphicon-menu-down': !deployedActive, 'glyphicon-menu-up': deployedActive}\"></span>\n      </button>\n\n      <div class=\"inner\">\n        <header>\n          <h1 class=\"section-title\">{{ 'DASHBOARD_DEPLOYED' | translate }}</h1>\n        </header>\n\n        <div class=\"row stats\"\n             ng-if=\"deployedActive\">\n          <div class=\"stats-section processes col-sm-12 col-md-6 col-lg-12\">\n            <div class=\"stats-label\">{{ 'DASHBOARD_PROCESS_DEFINITIONS' | translate }}</div>\n            <a class=\"value\"\n               href=\"#/processes\">\n              {{ (!data.deployed.processDefinitions ? 0 : '') }}\n              {{ data.deployed.processDefinitions | abbreviateNumber }}\n            </a>\n          </div>\n\n          <div class=\"stats-section decisions col-sm-12 col-md-6 col-lg-12\">\n            <div class=\"stats-label\">{{ 'DASHBOARD_DECISION_DEFINITIONS' | translate }}</div>\n            <a class=\"value\"\n               href=\"#/decisions\">\n              {{ (!data.deployed.decisionDefinitions ? 0 : '') }}\n              {{ data.deployed.decisionDefinitions | abbreviateNumber }}\n            </a>\n          </div>\n\n          <div class=\"stats-section cases col-sm-12 col-md-6 col-lg-12\">\n            <div class=\"stats-label\">{{ 'DASHBOARD_CASE_DEFINITIONS' | translate }}</div>\n            <a class=\"value\"\n               href=\"#/cases\"\n               ng-if=\"hasCaseSearch\">\n              {{ (!data.deployed.caseDefinitions ? 0 : '') }}\n              {{ data.deployed.caseDefinitions | abbreviateNumber }}\n            </a>\n            <span class=\"value\"\n                  ng-if=\"!hasCaseSearch\">\n              {{ (!data.deployed.caseDefinitions ? 0 : '') }}\n              {{ data.deployed.caseDefinitions | abbreviateNumber }}\n            </span>\n          </div>\n\n          <div class=\"stats-section deployments col-sm-12 col-md-6 col-lg-12\">\n            <div class=\"stats-label\">{{ 'DASHBOARD_DEPLOYMENTS' | translate }}</div>\n            <a class=\"value\"\n               href=\"#/repository\">\n              {{ (!data.deployed.deploymentDefinitions ? 0 : '') }}\n              {{ data.deployed.deploymentDefinitions | abbreviateNumber }}\n            </a>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n\n\n\n\n  <section class=\"deprecate\"\n           ng-if=\"deprecateDashboardProviders.length\"\n           ng-class=\"{'section-collapsed': !deprecateActive}\">\n    <button uib-tooltip=\"{{ 'DASHBOARD_TOGGLE_SECTION' | translate }}\"\n            class=\"section-toggle btn btn-link btn-sm\"\n            ng-click=\"toggleSection('deprecate')\">\n      <span class=\"glyphicon\"\n            ng-class=\"{'glyphicon-menu-down': !deprecateActive, 'glyphicon-menu-up': deprecateActive}\"></span>\n    </button>\n\n    <div class=\"inner\">\n      <header>\n        <div class=\"row\">\n          <h1 class=\"section-title col-xs-4\">{{ 'DASHBOARD_CUSTOM_PLUGINS' | translate }}</h1>\n          <div class=\"col-xs-8 text-right\"></div>\n        </div>\n      </header>\n\n      <div ng-if=\"deprecateActive\"\n           ng-repeat=\"plugin in deprecateDashboardProviders\"\n           class=\"deprecate-dashboard-view row\"\n           data-plugin-id=\"{{ plugin.id }}\">\n        <view vars=\"dashboardVars\"\n              provider=\"plugin\"></view>\n      </div>\n    </div>\n  </section>\n</div>\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-cockpit-ui/client/scripts/pages/decision-definition.html -->\n<div class=\"ctn-fixed-view decision-page-layout\">\n  <div class=\"ctn-content-container\"\n       ctn-collapsable-parent=\"sidebar\">\n\n    <!-- tool bar -->\n    <div class=\"ctn-toolbar\">\n\n      <!-- Toolbar actions are provided by plugins -->\n      <span ng-repeat=\"tabProvider in decisionDefinitionActions\">\n        <view provider=\"tabProvider\"\n              vars=\"decisionDefinitionVars\" />\n      </span>\n\n    </div>\n\n    <!-- sidebar -->\n    <div class=\"ctn-column ctn-sidebar ctn-scroll\"\n         cam-hover-area\n         ctn-collapsable=\"left\">\n      <dl class=\"process-information\">\n        <dt>{{ 'DECISION_DEFINITION_DEFINITION_VERSION' | translate }}</dt>\n        <dd class=\"definition-version\">\n          <span ng-if=\"!allDefinitions || !decisionDefinition\"\n                class=\"glyphicon glyphicon-refresh animate-spin\"></span>\n\n          <div class=\"dropdown\"\n               ng-if=\"allDefinitions && allDefinitions.length > 1\"\n               uib-dropdown>\n            <span>\n              <span change-version=\"decisionDefinition\"\n                    type=\"decision\"></span>\n\n              <a href\n                 uib-dropdown-toggle\n                 class=\"dropdown-toggle btn btn-xs btn-default\">\n                <span class=\"caret\"></span>\n              </a>\n            </span>\n\n            <ul uib-dropdown-menu class=\"dropdown-menu\">\n              <li ng-repeat=\"definition in allDefinitions\">\n                <a ng-href=\"#/decision-definition/{{ definition.id }}\">\n                  {{ definition.version }}\n                </a>\n              </li>\n            </ul>\n          </div>\n          <span ng-if=\"allDefinitions && allDefinitions.length < 2 && decisionDefinition\">\n            {{ decisionDefinition.version }}\n          </span>\n        </dd>\n\n        <dt>{{ 'DECISION_DEFINITION_VERSION_TAG' | translate }}</dt>\n        <dd class=\"version-tag\"\n            ng-if=\"decisionDefinition.versionTag\">{{ decisionDefinition.versionTag }}</dd>\n        <dd class=\"version-tag\"\n            ng-if=\"!decisionDefinition.versionTag\"><span class=\"null-value\">{{ 'DECISION_DEFINITION_NULL' | translate }}</span></dd>\n\n        <dt cam-widget-clipboard=\"decisionDefinition.id\"\n            cam-hoverable-title=\"definition-id\">{{ 'DECISION_DEFINITION_DEFINITION_ID' | translate }}</dt>\n        <dd cam-hover-trigger=\"definition-id\">{{ decisionDefinition.id }}</dd>\n\n        <dt cam-widget-clipboard=\"decisionDefinition.key\"\n            cam-hoverable-title=\"definition-key\">{{ 'DECISION_DEFINITION_DEFINITION_KEY' | translate }}</dt>\n        <dd class=\"definition-key\"\n            cam-hover-trigger=\"definition-key\">{{ decisionDefinition.key }}</dd>\n\n        <dt>{{ 'DECISION_DEFINITION_DEFINITION_NAME' | translate }}</dt>\n        <dd class=\"definition-name\"\n            ng-if=\"decisionDefinition.name && decisionDefinition.name !== decisionDefinition.key\">{{ decisionDefinition.name }}</dd>\n        <dd class=\"definition-name\"\n            ng-if=\"!decisionDefinition.name || decisionDefinition.name === decisionDefinition.key\"><span class=\"null-value\">null</span></dd>\n\n\n        <dt cam-widget-clipboard=\"decisionDefinition.historyTimeToLive\"\n            cam-hoverable-title=\"history-time-to-live\">\n            {{ 'DECISION_DEFINITION_HISTORY_TIME_TO_LIVE' | translate }}\n        </dt>\n        <dd class=\"history-time-to-live\" cam-hover-trigger=\"history-time-to-live\">\n          <span time-to-live=\"decisionDefinition\" resource=\"decision-definition\"></span>\n        </dd>\n\n        <dt ng-if=\"decisionDefinition.tenantId\"\n            cam-widget-clipboard=\"decisionDefinition.tenantId\"\n            cam-hoverable-title=\"tenant-id\">{{ 'DECISION_DEFINITION_TENANT_ID' | translate }}</dt>\n        <dd class=\"tenant-id\"\n            ng-if=\"decisionDefinition.tenantId\"\n            cam-hover-trigger=\"tenant-id\">{{ decisionDefinition.tenantId }}</dd>\n        <dt ng-if=\"!decisionDefinition.tenantId\">{{ 'DECISION_DEFINITION_TENANT_ID' | translate }}</dt>\n        <dd class=\"tenant-id\"\n            ng-if=\"!decisionDefinition.tenantId\"><span class=\"null-value\">null</span></dd>\n\n        <dt cam-widget-clipboard=\"decisionDefinition.deploymentId\"\n            cam-hoverable-title=\"deployment-id\">{{ 'DECISION_DEFINITION_DEPLOYMENT_ID' | translate }}</dt>\n        <dd class=\"deployment-id\"\n            cam-hover-trigger=\"deployment-id\">\n          <a ng-href=\"{{ getDeploymentUrl() }}\">{{ decisionDefinition.deploymentId }}</a>\n        </dd>\n\n        <dt ng-if=\"decisionDefinition.decisionRequirementsDefinitionId\"\n            cam-widget-clipboard=\"decisionDefinition.decisionRequirementsDefinitionId\"\n            cam-hoverable-title=\"drd\">{{ 'DECISION_DEFINITION_DECISION_REQUIREMENTS_DEFINITION' | translate }}</dt>\n        <dd class=\"super-case-instance-id\"\n            ng-if=\"decisionDefinition.decisionRequirementsDefinitionId\"\n            cam-hover-trigger=\"drd\">\n          <a ng-if=\"hasDrdPlugin\"\n             ng-href=\"#/decision-requirement/{{decisionDefinition.decisionRequirementsDefinitionId}}/history\">\n            {{ decisionDefinition.decisionRequirementsDefinitionId }}\n          </a>\n          <span ng-if=\"!hasDrdPlugin\">\n            {{ decisionDefinition.decisionRequirementsDefinitionId }}\n          </span>\n        </dd>\n        <dt ng-if=\"!decisionDefinition.decisionRequirementsDefinitionId\">{{ 'DECISION_DEFINITION_DECISION_REQUIREMENTS_DEFINITION' | translate }}</dt>\n        <dd class=\"super-case-instance-id\"\n            ng-if=\"!decisionDefinition.decisionRequirementsDefinitionId\"><span class=\"null-value\">{{ 'DECISION_DEFINITION_NULL' | translate }}</span></dd>\n      </dl>\n\n      <a class=\"hide-collapsable pull-right\"></a>\n    </div>\n\n\n    <div class=\"ctn-column ctn-content\"\n         ctn-collapsable-parent=\"tabs\">\n\n      <!-- content top pane -->\n      <div class=\"ctn-row ctn-content-top\"\n           ctn-collapsable=\"top\">\n        <div decision-table=\"tableXml\"\n             control=\"control\"\n             table=\"{{decisionDefinition.key}}\"\n             on-load=\"initializeTablePlugins()\"\n             style=\"height: 100%;padding:20px 10px;margin:0;\"></div>\n        <a class=\"hide-collapsable vertical-collapse\"\n           title=\"{{ 'DECISION_DEFINITION_SHOW_TABS' | translate }}\"></a>\n\n        <a class=\"maximize-collapsable vertical-collapse\"\n           maximize-parent-direction=\"left\"\n           title=\"{{ 'DECISION_DEFINITION_MAXIMIZE_DIAGRAM' | translate }}\"></a>\n\n        <a class=\"restore-collapsable vertical-collapse\"\n           maximize-parent-direction=\"left\"\n           title=\"{{ 'DECISION_DEFINITION_RESTORE_DEFAULT_SIZE' | translate }}\"></a>\n      </div>\n\n      <!-- content bottom pane -->\n      <div class=\"ctn-row ctn-content-bottom ctn-tabbed\">\n        <a class=\"show-collapsable vertical-collapse\"\n           title=\"{{ 'DECISION_DEFINITION_HIDE_TABS' | translate }}\"></a>\n        <ul class=\"nav nav-tabs\"\n            ng-if=\"decisionDefinitionTabs.length > 1\">\n          <li ng-class=\"{ active: selectedTab == tabProvider }\"\n              ng-repeat=\"tabProvider in decisionDefinitionTabs\">\n            <a href ng-click=\"selectTab(tabProvider)\">{{ tabProvider.label | translate }}</a>\n          </li>\n        </ul>\n\n        <h4 ng-if=\"decisionDefinitionTabs.length === 1\">{{ decisionDefinitionTabs[0].label | translate }}:</h4>\n\n        <div class=\"ctn-tabbed-content ctn-scroll\"\n             ng-if=\"decisionDefinitionTabs.length\">\n          <view provider=\"selectedTab\"\n                vars=\"decisionDefinitionVars\" />\n        </div>\n      </div>\n\n      <a class=\"show-collapsable\"></a>\n    </div>\n\n  </div>\n\n</div><!-- end .ctn-fixed-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/decision-definition.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-cockpit-ui/client/scripts/pages/decision-instance.html -->\n<div class=\"ctn-fixed-view decision-page-layout\">\n  <div class=\"ctn-content-container\"\n       ctn-collapsable-parent=\"sidebar\">\n\n    <!-- tool bar -->\n    <div class=\"ctn-toolbar\">\n\n      <!-- Toolbar actions are provided by plugins -->\n      <span ng-repeat=\"tabProvider in decisionInstanceActions\">\n        <view provider=\"tabProvider\"\n              vars=\"decisionInstanceVars\" />\n      </span>\n\n    </div>\n\n\n    <!-- sidebar -->\n    <div class=\"ctn-column ctn-sidebar ctn-scroll\"\n         cam-hover-area\n         ctn-collapsable=\"left\">\n      <dl class=\"process-information\">\n        <dt cam-widget-clipboard=\"decisionInstance.id\"\n            cam-hoverable-title=\"instance-id\">\n          <span uib-tooltip=\"{{ 'DECISION_INSTANCE_TOOLTIP_INSTANCE_ID' |  translate }}\">{{ 'DECISION_INSTANCE_INSTANCE_ID' |  translate }}</span>\n        </dt>\n        <dd class=\"instance-id\"\n            cam-hover-trigger=\"instance-id\">{{ decisionInstance.id }}</dd>\n\n        <dt>{{ 'DECISION_INSTANCE_DEFINITION_VERSION' |  translate }}</dt>\n        <dd class=\"definition-version\">{{decisionDefinition.version}}</dd>\n\n        <dt cam-widget-clipboard=\"decisionInstance.decisionDefinitionId\"\n            cam-hoverable-title=\"definition-id\">{{ 'DECISION_INSTANCE_DEFINITION_ID' |  translate }}</dt>\n        <dd class=\"definition-id\"\n            cam-hover-trigger=\"definition-id\">\n          <a ng-href=\"#/decision-definition/{{ decisionInstance.decisionDefinitionId }}\">{{ decisionInstance.decisionDefinitionId }}</a>\n        </dd>\n\n        <dt cam-widget-clipboard=\"decisionInstance.decisionDefinitionKey\"\n            cam-hoverable-title=\"definition-key\">{{ 'DECISION_INSTANCE_DEFINITION_KEY' |  translate }}</dt>\n        <dd class=\"definition-key\"\n            cam-hover-trigger=\"definition-key\">{{ decisionInstance.decisionDefinitionKey }}</dd>\n\n        <dt>{{ 'DECISION_INSTANCE_DEFINITION_NAME' |  translate }}</dt>\n        <dd class=\"definition-name\"\n            ng-if=\"decisionInstance.decisionDefinitionName && decisionInstance.decisionDefinitionName !== decisionInstance.key\">{{ decisionInstance.decisionDefinitionName }}</dd>\n        <dd class=\"definition-name\"\n            ng-if=\"!decisionInstance.decisionDefinitionName || decisionInstance.decisionDefinitionName === decisionInstance.key\"><span class=\"null-value\">{{ 'DECISION_INSTANCE_NULL' |  translate }}</span></dd>\n\n        <dt ng-if=\"decisionInstance.tenantId\"\n            cam-widget-clipboard=\"decisionInstance.tenantId\"\n            cam-hoverable-title=\"tenant-id\">{{ 'DECISION_INSTANCE_TENANT_ID' |  translate }}</dt>\n        <dd class=\"tenant-id\"\n            ng-if=\"decisionInstance.tenantId\"\n            cam-hover-trigger=\"tenant-id\">{{ decisionInstance.tenantId }}</dd>\n        <dt ng-if=\"!decisionInstance.tenantId\">{{ 'DECISION_INSTANCE_TENANT_ID' |  translate }}</dt>\n        <dd class=\"tenant-id\"\n            ng-if=\"!decisionInstance.tenantId\"><span class=\"null-value\">{{ 'DECISION_INSTANCE_NULL' |  translate }}</span></dd>\n\n        <dt cam-widget-clipboard=\"decisionDefinition.deploymentId\"\n            cam-hoverable-title=\"deployment-id\">{{ 'DECISION_INSTANCE_DEPLOYMENT_ID' |  translate }}</dt>\n        <dd class=\"deployment-id\"\n            ng-if=\"decisionDefinition\"\n            cam-hover-trigger=\"deployment-id\">\n          <a ng-href=\"{{ getDeploymentUrl() }}\">{{ decisionDefinition.deploymentId }}</a>\n        </dd>\n\n        <dt ng-if=\"decisionInstance.processInstanceId\"\n            cam-widget-clipboard=\"decisionInstance.processInstanceId\"\n            cam-hoverable-title=\"super-process-instance-id\">{{ 'DECISION_INSTANCE_PROCESS_INSTANCE_ID' |  translate }}</dt>\n        <dd class=\"super-process-instance-id\"\n            ng-if=\"decisionInstance.processInstanceId\"\n            cam-hover-trigger=\"super-process-instance-id\">\n          <a ng-href=\"{{ processInstanceLink }}\">{{ decisionInstance.processInstanceId }}</a>\n        </dd>\n        <dt ng-if=\"!decisionInstance.processInstanceId\">{{ 'DECISION_INSTANCE_PROCESS_INSTANCE_ID' |  translate }}</dt>\n        <dd class=\"super-process-instance-id\"\n            ng-if=\"!decisionInstance.processInstanceId\"><span class=\"null-value\">{{ 'DECISION_INSTANCE_NULL' |  translate }}</span></dd>\n\n        <dt ng-if=\"decisionInstance.caseInstanceId\"\n            cam-widget-clipboard=\"decisionInstance.caseInstanceId\"\n            cam-hoverable-title=\"super-case-instance-id\">{{ 'DECISION_INSTANCE_CASE_INSTANCE_ID' |  translate }}</dt>\n        <dd class=\"super-case-instance-id\"\n            ng-if=\"decisionInstance.caseInstanceId\"\n            cam-hover-trigger=\"super-case-instance-id\">\n          <a ng-if=\"hasCasePlugin\"\n             ng-href=\"#/case-instance/{{decisionInstance.caseInstanceId}}?searchQuery={{ getActivitySearch(decisionInstance) }}\">\n            {{ decisionInstance.caseInstanceId }}\n          </a>\n          <span ng-if=\"!hasCasePlugin\">\n            {{ decisionInstance.caseInstanceId }}\n          </span>\n        </dd>\n        <dt ng-if=\"!decisionInstance.caseInstanceId\">{{ 'DECISION_INSTANCE_CASE_INSTANCE_ID' |  translate }}</dt>\n        <dd class=\"super-case-instance-id\"\n            ng-if=\"!decisionInstance.caseInstanceId\"><span class=\"null-value\">{{ 'DECISION_INSTANCE_NULL' |  translate }}</span></dd>\n\n\n        <dt ng-if=\"decisionInstance.decisionRequirementsDefinitionId\"\n            cam-widget-clipboard=\"decisionInstance.decisionRequirementsDefinitionId\"\n            cam-hoverable-title=\"drd\">{{ 'DECISION_INSTANCE_DECISION_REQUIREMENTS_DEFINITION' |  translate }}</dt>\n        <dd class=\"super-case-instance-id\"\n            ng-if=\"decisionInstance.decisionRequirementsDefinitionId\"\n            cam-hover-trigger=\"drd\">\n          <a ng-if=\"hasCasePlugin\"\n             ng-href=\"#/decision-requirement/{{decisionInstance.decisionRequirementsDefinitionId}}/history\">\n            {{ decisionInstance.decisionRequirementsDefinitionId }}\n          </a>\n          <span ng-if=\"!hasCasePlugin\">\n            {{ decisionInstance.decisionRequirementsDefinitionId }}\n          </span>\n        </dd>\n        <dt ng-if=\"!decisionInstance.decisionRequirementsDefinitionId\">{{ 'DECISION_INSTANCE_DECISION_REQUIREMENTS_DEFINITION' |  translate }}</dt>\n        <dd class=\"super-case-instance-id\"\n            ng-if=\"!decisionInstance.decisionRequirementsDefinitionId\"><span class=\"null-value\">{{ 'DECISION_INSTANCE_NULL' |  translate }}</span></dd>\n\n      </dl>\n\n      <a class=\"hide-collapsable pull-right\"></a>\n    </div>\n\n    <div class=\"ctn-column ctn-content\"\n         ctn-collapsable-parent=\"tabs\">\n\n      <!-- content top pane -->\n      <div class=\"ctn-row ctn-content-top\"\n           ctn-collapsable=\"top\">\n        <div decision-table=\"tableXml\"\n             table=\"{{decisionDefinition.key}}\"\n             control=\"control\"\n             on-load=\"initializeTablePlugins()\"\n             style=\"height: 100%;padding:20px 10px;margin:0;\"></div>\n        <a class=\"hide-collapsable vertical-collapse\"\n           title=\"{{ 'DECISION_INSTANCE_SHOW_TABS' |  translate }}\"></a>\n\n        <a class=\"maximize-collapsable vertical-collapse\"\n           maximize-parent-direction=\"left\"\n           title=\"{{ 'DECISION_INSTANCE_MAXIMIZE_DIAGRAM' |  translate }}\"></a>\n\n        <a class=\"restore-collapsable vertical-collapse\"\n           maximize-parent-direction=\"left\"\n           title=\"{{ 'DECISION_INSTANCE_RESTORE_DEFAULT_SIZE' |  translate }}\"></a>\n      </div>\n\n      <!-- content bottom pane -->\n      <div class=\"ctn-row ctn-content-bottom ctn-tabbed\">\n        <a class=\"show-collapsable vertical-collapse\"\n           title=\"{{ 'DECISION_INSTANCE_HIDE_TABS' |  translate }}\"></a>\n        <div ng-show=\"decisionInstanceTabs.length\">\n          <ul class=\"nav nav-tabs\">\n            <li ng-class=\"{ active: selectedTab == tabProvider }\"\n                ng-repeat=\"tabProvider in decisionInstanceTabs\">\n              <!-- translation of the title the of label <a> -->\n              <a href ng-click=\"selectTab(tabProvider)\">{{ tabProvider.label | translate}}</a>\n            </li>\n          </ul>\n\n          <div class=\"ctn-tabbed-content ctn-scroll\">\n            <view provider=\"selectedTab\"\n                  vars=\"decisionInstanceVars\" />\n          </div>\n        </div>\n      </div>\n\n      <a class=\"show-collapsable\"></a>\n    </div>\n\n  </div>\n\n</div><!-- end .ctn-fixed-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/decision-instance.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->\n<div class=\"ctn-view cockpit-section-dashboard decisions-dashboard\">\n  <view ng-repeat=\"plugin in plugins\"\n        class=\"dashboard-view\"\n        data-plugin-id=\"{{ plugin.id }}\"\n        provider=\"plugin\"></view>\n</div><!-- end .ctn-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-cockpit-ui/client/scripts/pages/process-definition.html -->\n<div class=\"ctn-fixed-view\" ng-if=\"processDefinition\">\n  <div class=\"ctn-content-container\"\n       ctn-collapsable-parent=\"sidebar\"\n       ctn-min-width=\".nav-tabs li\">\n\n    <!-- tool bar -->\n    <div class=\"ctn-toolbar\">\n\n      <!-- Toolbar actions are provided by plugins -->\n      <span ng-repeat=\"actionProvider in processDefinitionActions\">\n        <view provider=\"actionProvider\"\n              vars=\"processDefinitionVars\" />\n      </span>\n    </div>\n\n    <!-- sidebar -->\n    <div class=\"ctn-column ctn-sidebar ctn-scroll\"\n         cam-hover-area\n         ctn-collapsable=\"left\">\n\n      <dl class=\"process-information\">\n        <dt>{{ 'PROCESS_DEFINITION_DEFINITION_VERSION' | translate }}</dt>\n        <dd class=\"definition-version\">\n          <span ng-if=\"!instanceStatistics.$loaded\"\n                class=\"glyphicon glyphicon-refresh animate-spin\"></span>\n\n          <div class=\"dropdown\"\n               ng-if=\"instanceStatistics.$loaded && allDefinitions.length > 1\"\n               uib-dropdown>\n            <span>\n              <span change-version=\"processDefinition\"\n                    type=\"process\"></span>\n\n              <a href\n                 uib-dropdown-toggle\n                 class=\"dropdown-toggle btn btn-xs btn-default\">\n                <span class=\"caret\"></span>\n              </a>\n            </span>\n\n            <ul uib-dropdown-menu class=\"dropdown-menu\">\n              <li ng-repeat=\"definition in allDefinitions\">\n                <a ng-href=\"#/process-definition/{{ definition.id }}\">\n                  {{ definition.version }}\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          <span ng-if=\"instanceStatistics.$loaded && allDefinitions.length < 2\">\n            {{ processDefinition.version }}\n          </span>\n        </dd>\n\n        <dt>{{ 'PROCESS_DEFINITION_VERSION_TAG' | translate }}</dt>\n        <dd class=\"version-tag\"\n            ng-if=\"processDefinition.versionTag\">{{ processDefinition.versionTag }}</dd>\n        <dd class=\"version-tag\"\n            ng-if=\"!processDefinition.versionTag\"><span class=\"null-value\">{{ 'PROCESS_DEFINITION_NULL' | translate }}</span></dd>\n\n        <dt cam-widget-clipboard=\"processDefinition.id\"\n            cam-hoverable-title=\"definition-id\">{{ 'PROCESS_DEFINITION_DEFINITION_ID' | translate }}</dt>\n        <dd class=\"definition-id\" cam-hover-trigger=\"definition-id\">{{ processDefinition.id }}</dd>\n\n        <dt cam-widget-clipboard=\"processDefinition.key\"\n            cam-hoverable-title=\"definition-key\">{{ 'PROCESS_DEFINITION_DEFINITION_KEY' | translate }}</dt>\n        <dd class=\"definition-key\" cam-hover-trigger=\"definition-key\">{{ processDefinition.key }}</dd>\n\n        <dt>{{ 'PROCESS_DEFINITION_DEFINITION_NAME' | translate }}</dt>\n        <dd class=\"definition-name\"\n            ng-if=\"processDefinition.name\">{{ processDefinition.name }}</dd>\n        <dd class=\"definition-name\"\n            ng-if=\"!processDefinition.name\"><span class=\"null-value\">{{ 'PROCESS_DEFINITION_NULL' | translate }}</span></dd>\n\n        <dt cam-widget-clipboard=\"processDefinition.historyTimeToLive\"\n            cam-hoverable-title=\"history-time-to-live\">\n            {{ 'PROCESS_DEFINITION_HISTORY_TIME_TO_LIVE' | translate }}\n        </dt>\n        <dd class=\"history-time-to-live\" cam-hover-trigger=\"history-time-to-live\">\n          <span time-to-live=\"processDefinition\" resource=\"process-definition\"></span>\n        </dd>\n\n        <dt ng-if=\"processDefinition.tenantId\"\n            cam-widget-clipboard=\"processDefinition.tenantId\"\n            cam-hoverable-title=\"tenant-id\">{{ 'PROCESS_DEFINITION_TENANT_ID' | translate }}</dt>\n        <dd class=\"tenant-id\"\n            ng-if=\"processDefinition.tenantId\" cam-hover-trigger=\"tenant-id\">\n            {{ processDefinition.tenantId }}\n        </dd>\n        <dt ng-if=\"!processDefinition.tenantId\">{{ 'PROCESS_DEFINITION_TENANT_ID' | translate }}</dt>\n        <dd class=\"tenant-id\"\n            ng-if=\"!processDefinition.tenantId\"><span class=\"null-value\">{{ 'PROCESS_DEFINITION_NULL' | translate }}</span></dd>\n\n        <dt cam-widget-clipboard=\"processDefinition.deploymentId\"\n            cam-hoverable-title=\"deployment-id\">{{ 'PROCESS_DEFINITION_DEPLOYMENT_ID' | translate }}</dt>\n        <dd class=\"deployment-id\" cam-hover-trigger=\"deployment-id\">\n          <a ng-href=\"{{ getDeploymentUrl() }}\">{{ processDefinition.deploymentId }}</a>\n        </dd>\n\n        <dt>{{ 'PROCESS_DEFINITION_INSTANCES_RUNNING' | translate }}</dt>\n        <dd class=\"running-instances\">\n          <span ng-if=\"!instanceStatistics.$loaded\"\n                class=\"glyphicon glyphicon-refresh animate-spin\"></span>\n          <ul ng-if=\"instanceStatistics.$loaded\">\n            <li>\n              {{ 'PROCESS_DEFINITION_CURRENT_VERSION' | translate }}\n              <strong class=\"current-version\">{{ instanceStatistics.current.count }}</strong>\n              <a ng-href=\"{{ getMigrationUrl() }}\"\n                 class=\"instance-upgrade-link\"\n                 ng-if=\"hasMigrationPlugin && !isLatestVersion() && instanceStatistics.current.count > 0\">\n                <span class=\"glyphicon glyphicon-arrow-up\"\n                      uib-tooltip=\"{{ 'PROCESS_DEFINITION_TOOLTIP_MIGRATE_PROCESS' | translate }}\"></span>\n              </a>\n            </li>\n            <li>\n              {{ 'PROCESS_DEFINITION_ALL_VERSIONS' | translate }}\n              <strong class=\"all-versions\">{{ instanceStatistics.all.count }}</strong>\n              <a ng-href=\"{{ getMigrationUrl() }}\"\n                 class=\"instance-upgrade-link\"\n                 ng-if=\"hasMigrationPlugin && isLatestVersion() && instanceStatistics.all.count !== instanceStatistics.current.count\">\n                <span class=\"glyphicon glyphicon-arrow-up\"\n                      uib-tooltip=\"{{ 'PROCESS_DEFINITION_TOOLTIP_MIGRATE_PROCESS' | translate }}\"></span>\n              </a>\n            </li>\n          </ul>\n        </dd>\n\n        <dt ng-if=\"hasMigrationPlugin || hasReportPlugin\">{{ 'PROCESS_DEFINITION_RELATED' | translate }}</dt>\n        <dd ng-if=\"hasMigrationPlugin || hasReportPlugin\">\n          <ul>\n            <li ng-if=\"hasReportPlugin\">\n              <a class=\"report-link\"\n                 ng-href=\"#/reports/reporting-duration-report?processDefinitionKey={{ processDefinition.key }}&processDefinitionVersion={{ processDefinition.version }}\">\n                {{ 'PROCESS_DEFINITION_REPORTS' | translate }}\n              </a>\n            </li>\n            <li ng-if=\"hasMigrationPlugin\">\n              <a ng-href=\"#/migration?searchQuery=%5B%5D&sourceKey={{ processDefinition.key }}\">{{ 'PROCESS_DEFINITION_MIGRATION' | translate }}</a>\n            </li>\n          </ul>\n        </dd>\n      </dl>\n\n      <a class=\"hide-collapsable pull-right\"></a>\n    </div>\n\n    <div class=\"ctn-column ctn-content\"\n         ctn-collapsable-parent=\"tabs\">\n      <a class=\"show-collapsable\"></a>\n\n      <!-- content top pane -->\n      <div class=\"ctn-row ctn-content-top\"\n           is-sidebar-collapsed=\"onDiagramCollapseChange(collapsed)\"\n           ctn-collapsable=\"top\">\n        <div process-diagram=\"processDiagram\"\n             key=\"{{processDefinition.id}}\"\n             on-element-click=\"handleBpmnElementSelection(id, $event)\"\n             selection=\"filter\"\n             process-data=\"processData\"\n             page-data=\"pageData\"\n             collapsed=\"diagramCollapsed\"\n             overlay-provider-component=\"cockpit.processDefinition.diagram.overlay\"\n             diagram-provider-component=\"cockpit.processDefinition.diagram.plugin\"\n             action-provider-component=\"cockpit.processDefinition.diagram.action\"\n             viewer=\"diagramViewer\"></div>\n\n        <a class=\"hide-collapsable vertical-collapse\"\n           title=\"{{ 'PROCESS_DEFINITION_SHOW_TABS' | translate }}\"></a>\n\n        <a class=\"maximize-collapsable vertical-collapse\"\n           maximize-parent-direction=\"left\"\n           title=\"{{ 'PROCESS_DEFINITION_MAXIMIZE_DIAGRAM' | translate }}\"></a>\n\n        <a class=\"restore-collapsable vertical-collapse\"\n          maximize-parent-direction=\"left\"\n          title=\"{{ 'PROCESS_DEFINITION_RESTORE_DEFAULT_SIZE' | translate }}\"></a>\n      </div>\n\n      <!-- content bottom pane -->\n      <div class=\"ctn-row ctn-content-bottom ctn-tabbed\">\n        <a class=\"show-collapsable vertical-collapse\"\n           title=\"{{ 'PROCESS_DEFINITION_HIDE_TABS' | translate }}\"></a>\n\n        <div ng-show=\"processDefinitionTabs.length\">\n          <ul class=\"nav nav-tabs\">\n            <li ng-class=\"{ active: selectedTab == tabProvider }\"\n                ng-repeat=\"tabProvider in processDefinitionTabs\">\n              <a href ng-click=\"selectTab(tabProvider)\">{{ tabProvider.label | translate }}</a>\n            </li>\n          </ul>\n\n          <div class=\"ctn-tabbed-content ctn-scroll\">\n            <view provider=\"selectedTab\"\n                  vars=\"processDefinitionVars\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div><!-- end .ctn-fixed-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/process-definition.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->\n<div class=\"ctn-view cockpit-section-dashboard processes-dashboard\">\n  <view ng-repeat=\"dashboardProvider in dashboardProviders\"\n        class=\"dashboard-view\"\n        data-plugin-id=\"{{ dashboardProvider.id }}\"\n        vars=\"dashboardVars\"\n        provider=\"dashboardProvider\"></view>\n</div><!-- end .ctn-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-cockpit-ui/client/scripts/pages/process-instance.html -->\n<div class=\"ctn-fixed-view\">\n  <div class=\"ctn-content-container\"\n       ctn-collapsable-parent=\"sidebar\">\n\n    <!-- toolbar -->\n    <div class=\"ctn-toolbar\">\n\n      <!-- Toolbar actions are provided by plugins -->\n      <span ng-repeat=\"tabProvider in processInstanceActions\">\n        <view provider=\"tabProvider\"\n              vars=\"processInstanceVars\" />\n      </span>\n\n    </div>\n\n    <!-- sidebar -->\n    <div class=\"ctn-column ctn-sidebar ctn-scroll\"\n         ctn-collapsable=\"left\"\n         ng-controller=\"ProcessInstanceFilterController\">\n\n      <ul class=\"nav nav-tabs\">\n        <li ng-class=\"{active: sidebarTab === 'info'}\">\n          <a ng-click=\"sidebarTab = 'info'\">{{ 'PROCESS_INSTANCE_INFORMATION' | translate }}</a>\n        </li>\n        <li ng-class=\"{active: sidebarTab === 'filters'}\">\n          <a ng-click=\"sidebarTab = 'filters'\">{{ 'PROCESS_INSTANCE_FILTER' | translate }}</a>\n        </li>\n      </ul>\n\n      <div class=\"tab-content\"\n           ng-if=\"sidebarTab === 'info'\">\n        <dl class=\"process-information\">\n          <dt cam-widget-clipboard=\"processInstance.id\"\n              ng-class=\"{hovered: hovered === 'instance-id'}\">\n            <span uib-tooltip=\"{{ 'PROCESS_INSTANCE_TOOLTIP_INSTANCE_ID_DATABASE' | translate }}\">{{ 'PROCESS_INSTANCE_INSTANCE_ID' | translate }}</span>\n          </dt>\n          <dd class=\"instance-id\"\n              ng-mouseenter=\"hoverTitle('instance-id')\"\n              ng-mouseleave=\"hoverTitle()\">\n            {{ processInstance.id }}\n          </dd>\n\n          <dt cam-widget-clipboard=\"processInstance.businessKey\"\n              ng-class=\"{hovered: hovered === 'business-key'}\"\n              ng-if=\"processInstance.businessKey\">\n            <span uib-tooltip=\"{{ 'PROCESS_INSTANCE_TOOLTIP_BUSINESS_KEY' | translate }}\">{{ 'PROCESS_INSTANCE_BUSINESS_KEY' | translate }}</span>\n          </dt>\n          <dd ng-if=\"processInstance.businessKey\"\n              class=\"business-key\"\n              ng-mouseenter=\"hoverTitle('business-key')\"\n              ng-mouseleave=\"hoverTitle()\">\n            {{ processInstance.businessKey }}\n          </dd>\n          <dt ng-if=\"!processInstance.businessKey\">\n            <span uib-tooltip=\"{{ 'PROCESS_INSTANCE_TOOLTIP_BUSINESS_KEY' | translate }}\">{{ 'PROCESS_INSTANCE_BUSINESS_KEY' | translate }}</span>\n          </dt>\n          <dd ng-if=\"!processInstance.businessKey\"\n              class=\"business-key\"><span class=\"null-value\">{{ 'PROCESS_INSTANCE_NULL' | translate }}</span></dd>\n\n          <dt>{{ 'PROCESS_INSTANCE_DEFINITION_VERSION' | translate }}</dt>\n          <dd class=\"definition-version\">\n            {{ processDefinition.version }}\n            <a ng-href=\"{{ getMigrationUrl() }}\"\n               class=\"instance-upgrade-link\"\n               ng-if=\"hasMigrationPlugin && !isLatestVersion()\">\n              <span class=\"glyphicon glyphicon-arrow-up\"\n                    uib-tooltip=\"{{ 'PROCESS_INSTANCE_TOOLTIP_MIGRATE_INSTANCE' | translate }}\"\n                    tooltip-placement=\"right\"></span>\n            </a>\n          </dd>\n\n          <dt cam-widget-clipboard=\"processDefinition.id\"\n              ng-class=\"{hovered: hovered === 'definition-id'}\">{{ 'PROCESS_INSTANCE_DEFINITION_ID' | translate }}</dt>\n          <dd class=\"definition-id\"\n              ng-mouseenter=\"hoverTitle('definition-id')\"\n              ng-mouseleave=\"hoverTitle()\">\n            <a ng-href=\"#/process-definition/{{ processDefinition.id }}/runtime\">{{ processDefinition.id }}</a>\n          </dd>\n\n          <dt cam-widget-clipboard=\"processDefinition.key\"\n              ng-class=\"{hovered: hovered === 'definition-key'}\">{{ 'PROCESS_INSTANCE_DEFINITION_KEY' | translate }}</dt>\n          <dd class=\"definition-key\"\n              ng-mouseenter=\"hoverTitle('definition-key')\"\n              ng-mouseleave=\"hoverTitle()\">{{ processDefinition.key }}</dd>\n\n          <dt>{{ 'PROCESS_INSTANCE_DEFINITION_NAME' | translate }}</dt>\n          <dd class=\"definition-name\">{{ processDefinition.name }}</dd>\n\n          <dt ng-if=\"processInstance.tenantId\"\n              ng-class=\"{hovered: hovered === 'tenant-id'}\"\n              cam-widget-clipboard=\"processInstance.tenantId\">{{ 'PROCESS_INSTANCE_TENANT_ID' | translate }}</dt>\n          <dd class=\"tenant-id\"\n              ng-if=\"processInstance.tenantId\"\n              ng-mouseenter=\"hoverTitle('tenant-id')\"\n              ng-mouseleave=\"hoverTitle()\">{{ processInstance.tenantId }}</dd>\n          <dt ng-if=\"!processInstance.tenantId\">{{ 'PROCESS_INSTANCE_TENANT_ID' | translate }}</dt>\n          <dd class=\"tenant-id\"\n              ng-if=\"!processInstance.tenantId\"><span class=\"null-value\">{{ 'PROCESS_INSTANCE_NULL' | translate }}</span></dd>\n\n          <dt cam-widget-clipboard=\"processDefinition.deploymentId\"\n              ng-class=\"{hovered: hovered === 'deployment-id'}\">{{ 'PROCESS_INSTANCE_DEPLOYMENT_ID' | translate }}</dt>\n          <dd class=\"deployment-id\"\n              ng-mouseenter=\"hoverTitle('deployment-id')\"\n              ng-mouseleave=\"hoverTitle()\">\n            <a ng-href=\"{{ getDeploymentUrl() }}\">{{ processDefinition.deploymentId }}</a>\n          </dd>\n\n          <dt ng-if=\"superProcessInstance\"\n              cam-widget-clipboard=\"superProcessInstance.id\"\n              ng-class=\"{hovered: hovered === 'super-process-instance-id'}\">{{ 'PROCESS_INSTANCE_SUPER_PROCESS_INSTANCE_ID' | translate }}</dt>\n          <dd class=\"super-process-instance-id\"\n              ng-if=\"superProcessInstance.id\"\n              ng-mouseenter=\"hoverTitle('super-process-instance-id')\"\n              ng-mouseleave=\"hoverTitle()\">\n            <a ng-href=\"#/process-instance/{{superProcessInstance.id}}\">{{ superProcessInstance.id }}</a>\n          </dd>\n          <dt ng-if=\"!superProcessInstance\">{{ 'PROCESS_INSTANCE_SUPER_PROCESS_INSTANCE_ID' | translate }}</dt>\n          <dd class=\"super-process-instance-id\"\n              ng-if=\"!superProcessInstance\">\n            <span class=\"null-value\">null</span>\n          </dd>\n\n          <dt ng-if=\"hasMigrationPlugin\">{{ 'PROCESS_INSTANCE_RELATED' | translate }}</dt>\n          <dd ng-if=\"hasMigrationPlugin\">\n            <ul>\n              <li>\n                <a ng-href=\"#/migration?searchQuery=%5B%5D&sourceKey={{ processDefinition.key }}\">{{ 'PROCESS_INSTANCE_MIGRATION' | translate }}</a>\n              </li>\n            </ul>\n          </dd>\n\n        </dl>\n      </div>\n\n      <div class=\"tab-content filters\"\n           ng-if=\"sidebarTab === 'filters'\">\n        <h5>\n          {{ 'PROCESS_INSTANCE_FILTER' | translate }}\n          <span class=\"glyphicon glyphicon-info-sign\"\n                uib-tooltip=\"{{ 'PROCESS_INSTANCE_TOOLTIP_ACTIVITY_INSTANCE_TREE' | translate }}\"></span>\n        </h5>\n\n        <div cam-quick-filter\n             name-filter\n             holder-selector=\".instance-tree\"\n             label-selector=\".tree-node-label\"\n             item-selector=\".tree-node-group\">\n        </div>\n\n        <div class=\"filter-selection\">\n          <button class=\"btn btn-link btn-xs btn-control\"\n                  ng-show=\"filterData.activityInstanceCount\"\n                  ng-click=\"clearSelection()\">\n            <span class=\"glyphicon glyphicon-remove\"></span>\n          </button>\n\n          <ng-pluralize count=\"filterData.activityInstanceCount\"\n                        when=\"getDataWhen()\">\n          </ng-pluralize>\n        </div>\n\n\n        <div class=\"filter instance-tree\">\n          <div activity-instance-tree=\"activityInstanceTree\"\n               selection=\"filter\"\n               on-element-click=\"handleActivityInstanceSelection(id, activityId, $event)\"\n               order-children-by=\"orderChildrenBy()\">\n          </div>\n        </div>\n      </div>\n\n      <a class=\"hide-collapsable pull-right\"></a>\n    </div>\n\n    <div class=\"ctn-column ctn-content\"\n         ctn-collapsable-parent=\"tabs\">\n\n      <!-- content top pane -->\n      <div class=\"ctn-row ctn-content-top\"\n           is-sidebar-collapsed=\"onDiagramCollapseChange(collapsed)\"\n           ctn-collapsable=\"top\">\n        <div process-diagram=\"processDiagram\"\n             key=\"{{processInstance.definitionId}}\"\n             on-element-click=\"handleBpmnElementSelection(id, $event)\"\n             selection=\"filter\"\n             process-data=\"processData\"\n             page-data=\"pageData\"\n             collapsed=\"diagramCollapsed\"\n             diagram-provider-component=\"cockpit.processInstance.diagram.plugin\"\n             overlay-provider-component=\"cockpit.processInstance.diagram.overlay\"></div>\n\n        <a class=\"hide-collapsable vertical-collapse\"\n           title=\"{{ 'PROCESS_INSTANCE_SHOW_TABS' | translate }}\"></a>\n\n        <a class=\"maximize-collapsable vertical-collapse\"\n           maximize-parent-direction=\"left\"\n           title=\"{{ 'PROCESS_INSTANCE_MAXIMIZE_DIAGRAM' | translate }}\"></a>\n\n        <a class=\"restore-collapsable vertical-collapse\"\n           maximize-parent-direction=\"left\"\n           title=\"{{ 'PROCESS_INSTANCE_RESTORE_DEFAULT_SIZE' | translate }}\"></a>\n      </div>\n\n      <!-- content bottom pane -->\n      <div class=\"ctn-row ctn-content-bottom ctn-tabbed\">\n        <a class=\"show-collapsable vertical-collapse\"\n           title=\"{{ 'PROCESS_INSTANCE_HIDE_TABS' | translate }}\"></a>\n        <div cam-tabs=\"{component: 'cockpit.processInstance.runtime.tab'}\"\n             providers=\"tabs\"\n             vars=\"processInstanceVars\"\n             vars-values=\"initData\">\n        </div>\n      </div>\n\n      <a class=\"show-collapsable\"></a>\n    </div>\n  </div>\n\n</div><!-- end .ctn-fixed-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/process-instance.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"../controllers/cam-cockpit-repository-view.html\");\n\nmodule.exports = [\n  \"$routeProvider\",\n  function($routeProvider) {\n    $routeProvider.when(\"/repository\", {\n      template: template,\n      controller: \"camCockpitRepositoryViewCtrl\",\n      authentication: \"required\",\n      reloadOnSearch: false\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # cockpit client/scripts/repository/controllers/cam-cockpit-repository-view.html -->\n<div cam-repository\n     class=\"three-cols-layout\">\n  <div class=\"three-cols-layout-columns\">\n\n      <!-- # deployment-list column -->\n    <section class=\"column column-left deployments\"\n             ng-controller=\"camDeploymentsCtrl\">\n\n      <header class=\"three-cols-layout-cell top\">\n        <div cam-deployments-sorting-choices\n             deployments-data=\"deploymentsData\"></div>\n\n        <div cam-deploy=\"onDeployed()\"></div>\n      </header>\n\n      <div class=\"three-cols-layout-cell content\">\n\n        <view ng-repeat=\"deploymentsPlugin in deploymentsPlugins\"\n              provider=\"deploymentsPlugin\"\n              class=\"deployment-plugins\"\n              vars=\"deploymentsVars\"></view>\n\n        <div cam-deployments\n            deployments-data=\"deploymentsData\"\n            deployments=\"control.deployments\"></div>\n      </div>\n\n    </section>\n    <!-- / deployment-list column -->\n\n    <!-- # resource-list column -->\n    <section class=\"column column-center resources\">\n\n      <header class=\"three-cols-layout-cell top\">\n      </header>\n\n      <div class=\"three-cols-layout-cell content\"\n           cam-resources\n           repository-data=\"repositoryData\">\n      </div>\n\n    </section>\n    <!-- / resource-list column -->\n\n\n\n    <!-- # resource-details column -->\n    <section class=\"column column-right resource-details\"\n             ng-controller=\"camResourceDetailsCtrl\">\n\n      <header class=\"three-cols-layout-cell top\">\n        <div class=\"resource-actions\"\n             ng-if=\"resource\"\n             ng-repeat=\"resourceAction in resourceActions\">\n          <view provider=\"resourceAction\" vars=\"resourceVars\">\n        </div>\n      </header>\n\n      <div class=\"three-cols-layout-cell content\"\n           cam-resource-wrapper\n           resource-details-data=\"resourceDetailsData\"\n           control=\"control\">\n      </div>\n\n    </section>\n    <!-- # resource-details column -->\n\n  </div>\n</div>\n<!-- / cockpit client/scripts/repository/controllers/cam-cockpit-repository-view.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = [\n  \"$scope\",\n  \"$q\",\n  \"$location\",\n  \"$timeout\",\n  \"$rootScope\",\n  \"search\",\n  \"dataDepend\",\n  \"page\",\n  \"camAPI\",\n  \"$translate\",\n  function(\n    $scope,\n    $q,\n    $location,\n    $timeout,\n    $rootScope,\n    search,\n    dataDepend,\n    page,\n    camAPI,\n    $translate\n  ) {\n    var Deployment = camAPI.resource(\"deployment\");\n    $scope.$root.showBreadcrumbs = false;\n\n    $scope.control = {\n      deployments: []\n    };\n\n    page.breadcrumbsClear();\n\n    page.breadcrumbsAdd({\n      label: $translate.instant(\"REPOSITORY_CONTROLLER_CAM_BREAD_CRUMB\")\n    });\n\n    page.titleSet($translate.instant(\"REPOSITORY_CONTROLLER_CAM_TITLE_SET\"));\n\n    // utilities /////////////////////////////////////////////////////////////////\n    var updateSilently = function(params) {\n      search.updateSilently(params);\n    };\n\n    var getPropertyFromLocation = function(property) {\n      var search = $location.search() || {};\n      return search[property] || null;\n    };\n    // fields ///////////////////////////////////////////////////\n\n    // init data depend for deployments data\n    var repositoryData = ($scope.repositoryData = dataDepend.create($scope));\n\n    var deploymentsSortBy = getPropertyFromLocation(\"deploymentsSortBy\");\n    var deploymentsSortOrder = getPropertyFromLocation(\"deploymentsSortOrder\");\n    var deploymentId = getPropertyFromLocation(\"deployment\");\n    var resourceId = getPropertyFromLocation(\"resource\");\n    var resourceName = getPropertyFromLocation(\"resourceName\");\n\n    // provide data //////////////////////////////////////////////////////////////////\n    repositoryData.provide(\"deploymentsSorting\", function() {\n      deploymentsSortBy = getPropertyFromLocation(\"deploymentsSortBy\");\n      deploymentsSortOrder = getPropertyFromLocation(\"deploymentsSortOrder\");\n      return {\n        sortBy: deploymentsSortBy || \"deploymentTime\",\n        sortOrder: deploymentsSortOrder || \"desc\"\n      };\n    });\n\n    repositoryData.provide(\"deployments\", []);\n\n    $scope.$watch(\"control.deployments\", function(deployments) {\n      repositoryData.set(\"deployments\", deployments);\n    });\n\n    repositoryData.provide(\"currentDeployment\", [\n      \"deployments\",\n      function(deployments) {\n        deployments = deployments || [];\n\n        var focused;\n        var _deploymentId = getPropertyFromLocation(\"deployment\");\n\n        for (var i = 0, deployment; (deployment = deployments[i]); i++) {\n          if (_deploymentId === deployment.id) {\n            focused = deployment;\n            break;\n          }\n          // auto focus first deployment\n          if (!focused) {\n            focused = deployment;\n          }\n        }\n\n        if (focused) {\n          deploymentId = focused.id;\n\n          if (focused.id !== _deploymentId) {\n            updateSilently({\n              deployment: focused.id,\n              resource: null,\n              viewbox: null\n            });\n            $location.replace();\n          }\n        } else {\n          updateSilently({\n            deployment: null,\n            resource: null,\n            viewbox: null\n          });\n          $location.replace();\n        }\n\n        return angular.copy(focused);\n      }\n    ]);\n\n    repositoryData.provide(\"resources\", [\n      \"currentDeployment\",\n      function(currentDeployment) {\n        var deferred = $q.defer();\n\n        if (!currentDeployment || currentDeployment.id === null) {\n          deferred.resolve(null);\n        } else {\n          Deployment.getResources(currentDeployment.id, function(err, res) {\n            if (err) {\n              deferred.reject(err);\n            } else {\n              deferred.resolve(res);\n            }\n          });\n        }\n\n        return deferred.promise;\n      }\n    ]);\n\n    repositoryData.provide(\"resourceId\", [\n      \"resources\",\n      function(resources) {\n        resourceId = getPropertyFromLocation(\"resource\");\n        resourceName = getPropertyFromLocation(\"resourceName\");\n\n        if (resourceId) {\n          return {\n            resourceId: resourceId\n          };\n        } else if (resourceName) {\n          resources = resources || [];\n          for (var i = 0, resource; (resource = resources[i]); i++) {\n            if (resource.name === resourceName) {\n              return {\n                resourceId: resource.id\n              };\n            }\n          }\n        }\n\n        return {\n          resourceId: null\n        };\n      }\n    ]);\n\n    repositoryData.provide(\"resource\", [\n      \"resourceId\",\n      \"currentDeployment\",\n      function(resourceId, deployment) {\n        var deferred = $q.defer();\n\n        resourceId = resourceId.resourceId;\n\n        if (typeof resourceId !== \"string\") {\n          deferred.resolve(null);\n        } else if (!deployment || deployment.id === null) {\n          deferred.resolve(null);\n        } else {\n          Deployment.getResource(deployment.id, resourceId, function(err, res) {\n            if (err) {\n              deferred.reject(err);\n            } else {\n              deferred.resolve(res);\n            }\n          });\n        }\n\n        return deferred.promise;\n      }\n    ]);\n\n    $scope.onDeployed = function() {\n      $rootScope.$broadcast(\"cam-common:cam-searchable:query-force-change\");\n    };\n\n    $scope.$on(\"$routeChanged\", function() {\n      var oldDeploymentsSortBy = deploymentsSortBy;\n      var oldDeploymentsSortOrder = deploymentsSortOrder;\n      var oldDeploymentId = deploymentId;\n      var oldResourceId = resourceId;\n      var oldResourceName = resourceName;\n\n      deploymentsSortBy = getPropertyFromLocation(\"deploymentsSortBy\");\n      deploymentsSortOrder = getPropertyFromLocation(\"deploymentsSortOrder\");\n      deploymentId = getPropertyFromLocation(\"deployment\");\n      resourceId = getPropertyFromLocation(\"resource\");\n      resourceName = getPropertyFromLocation(\"resourceName\");\n\n      if (\n        (deploymentsSortBy && oldDeploymentsSortBy !== deploymentsSortBy) ||\n        (deploymentsSortOrder &&\n          oldDeploymentsSortOrder !== deploymentsSortOrder)\n      ) {\n        repositoryData.changed(\"deploymentsSorting\");\n      } else if (deploymentId && oldDeploymentId !== deploymentId) {\n        repositoryData.changed(\"currentDeployment\");\n      } else if (\n        (resourceId && oldResourceId !== resourceId) ||\n        (resourceName && oldResourceName !== resourceName)\n      ) {\n        repositoryData.changed(\"resourceId\");\n      }\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-commons-ui/vendor/angular\"),\n  /* controller */\n  camCockpitDeploymentsCtrl = require(\"./controllers/cam-cockpit-deployments-ctrl\"),\n  /* directives */\n  camCockpitDeployments = require(\"./directives/cam-cockpit-deployments\"),\n  camCockpitDeployment = require(\"./directives/cam-cockpit-deployment\"),\n  camCockpitDeploymentsSortingChoices = require(\"./directives/cam-cockpit-deployments-sorting-choices\"),\n  /* plugins */\n  camCockpitDeleteDeploymentPlugin = require(\"./plugins/actions/delete/cam-cockpit-delete-deployment-plugin\"),\n  /* modals */\n  camCockpitDeleteDeploymentModalCtrl = require(\"./plugins/actions/delete/modals/cam-cockpit-delete-deployment-modal-ctrl\");\n\nvar deploymentsModule = angular.module(\"cam.cockpit.repository.deployments\", [\n  \"ui.bootstrap\"\n]);\n\n/* controllers */\ndeploymentsModule.controller(\"camDeploymentsCtrl\", camCockpitDeploymentsCtrl);\n\n/* directives */\ndeploymentsModule.directive(\"camDeployments\", camCockpitDeployments);\ndeploymentsModule.directive(\"camDeployment\", camCockpitDeployment);\ndeploymentsModule.directive(\n  \"camDeploymentsSortingChoices\",\n  camCockpitDeploymentsSortingChoices\n);\n\n/* plugins */\ndeploymentsModule.config(camCockpitDeleteDeploymentPlugin);\n\n/* modals */\ndeploymentsModule.controller(\n  \"camDeleteDeploymentModalCtrl\",\n  camCockpitDeleteDeploymentModalCtrl\n);\n\nmodule.exports = deploymentsModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$scope\",\n  \"Views\",\n  function($scope, Views) {\n    $scope.deploymentsData = $scope.repositoryData.newChild($scope);\n    $scope.deploymentsVars = { read: [\"deploymentsData\", \"totalDeployments\"] };\n    $scope.deploymentsPlugins = Views.getProviders({\n      component: \"cockpit.repository.deployments.list\"\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar lodash = require(\"../../../../../camunda-commons-ui/vendor/lodash\");\nvar angular = require(\"angular\");\n\nvar template = require(\"./cam-cockpit-deployments.html.js\");\nvar searchConfigJSON = require(\"./cam-cockpit-deployments-search-plugin-config.json\");\n\nmodule.exports = [\n  function() {\n    return {\n      restrict: \"A\",\n      scope: {\n        deploymentsData: \"=\",\n        totalItems: \"=\",\n        deployments: \"=\"\n      },\n      template: template,\n      controller: [\n        \"$scope\",\n        \"$timeout\",\n        \"$rootScope\",\n        \"search\",\n        \"Notifications\",\n        \"camAPI\",\n        function($scope, $timeout, $rootScope, search, Notifications, camAPI) {\n          var Deployment = camAPI.resource(\"deployment\");\n          var deploymentsListData = ($scope.deploymentsListData = $scope.deploymentsData.newChild(\n            $scope\n          ));\n          $scope.searchConfig = angular.copy(searchConfigJSON);\n\n          $scope.loadingState = \"INITIAL\";\n\n          // control ///////////////////////////////////////////////////////////////////\n          var control = ($scope.control = {});\n          control.addMessage = function(status, msg, unsafe) {\n            Notifications.addMessage({\n              status: status,\n              message: msg,\n              scope: $scope,\n              unsafe: unsafe\n            });\n          };\n\n          $scope.onSearchChange = function(query, pages) {\n            $scope.loadingState = \"LOADING\";\n            var pagination = {\n              firstResult: (pages.current - 1) * pages.size,\n              maxResults: pages.size\n            };\n\n            return Deployment.list(\n              lodash.assign(query, pagination, $scope.deploymentsSorting)\n            )\n              .then(function(res) {\n                $scope.deployments = res.items;\n\n                var phase = $scope.$root.$$phase;\n                if (phase !== \"$apply\" && phase !== \"$digest\") {\n                  $scope.$apply(function() {\n                    $scope.loadingState = \"LOADED\";\n                  });\n                }\n\n                return res.count;\n              })\n              .catch(function() {\n                var phase = $scope.$root.$$phase;\n                if (phase !== \"$apply\" && phase !== \"$digest\") {\n                  $scope.$apply(function() {\n                    $scope.loadingState = \"ERROR\";\n                  });\n                }\n              });\n          };\n\n          // observe data ///////////////////////////////////////////////////////////////\n          deploymentsListData.observe(\"currentDeployment\", function(\n            currentDeployment\n          ) {\n            $scope.currentDeployment = currentDeployment;\n          });\n\n          deploymentsListData.observe(\"deploymentsSorting\", function(\n            deploymentsSorting\n          ) {\n            $scope.deploymentsSorting = deploymentsSorting;\n\n            $rootScope.$broadcast(\n              \"cam-common:cam-searchable:query-force-change\"\n            );\n          });\n\n          // selection ////////////////////////////////////////////////////////////////\n          $scope.focus = function(deployment) {\n            if (!isFocused(deployment)) {\n              search.updateSilently({\n                resource: null,\n                resourceName: null,\n                viewbox: null,\n                editMode: true\n              });\n            }\n\n            search.updateSilently({\n              deployment: deployment.id\n            });\n            deploymentsListData.changed(\"currentDeployment\");\n          };\n\n          var isFocused = ($scope.isFocused = function(deployment) {\n            return (\n              deployment &&\n              $scope.currentDeployment &&\n              deployment.id === $scope.currentDeployment.id\n            );\n          });\n        }\n      ]\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = require(\"lodash\");\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments.html -->\n<div cam-searchable-area\n     config=\"searchConfig\"\n     on-search-change=\"onSearchChange(query, pages)\"\n     loading-state=\"loadingState\"\n     search-id=\"deployments\"\n     loading-error=\"{{ 'REPOSITORY_DEPLOYMENTS_LOADING_LEGEND' | translate }}\"\n     text-empty=\"{{ 'REPOSITORY_DEPLOYMENTS_NO_DEPLOYMENTS_AVAILABLE' | translate}}\"\n     storage-group=\"'DEP'\">\n  <div class=\"wrapper\">\n    <ul class=\"deployments\">\n      <li ng-repeat=\"(delta, deployment) in deployments\"\n          ng-class=\"{active: isFocused(deployment), deployment: true}\"\n          ng-style=\"{'z-index': ((deployments.length + 10) - delta) }\"\n          ng-click=\"focus(deployment)\">\n\n        <div cam-deployment\n             deployment=\"deployment\"\n             deployments-list-data=\"deploymentsListData\"\n             control=\"control\">\n        </div>\n      </li>\n    </ul>\n  </div>\n</div>\n<!-- / cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-cockpit-deployment.html.js\");\n\nmodule.exports = [\n  function() {\n    return {\n      restrict: \"A\",\n      scope: {\n        deploymentsListData: \"=\",\n        deployment: \"=\",\n        control: \"=\"\n      },\n      template: template,\n      controller: [\n        \"$scope\",\n        \"Views\",\n        function($scope, Views) {\n          $scope.deploymentData = $scope.deploymentsListData.newChild($scope);\n          $scope.deploymentVars = {\n            read: [\"deploymentData\", \"deployment\", \"control\"]\n          };\n          $scope.deploymentPlugins = Views.getProviders({\n            component: \"cockpit.repository.deployment.action\"\n          });\n        }\n      ]\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div class=\"actions\">\n  <view ng-repeat=\"deploymentPlugin in deploymentPlugins\"\n        provider=\"deploymentPlugin\"\n        vars=\"deploymentVars\" />\n</div>\n\n<h4 class=\"name\">{{ deployment.name || deployment.id }}</h4>\n\n<dl>\n  <dt>{{ 'REPOSITORY_DEPLOYMENTS_TIME' | translate }}</dt>\n  <dd class=\"time\">{{ deployment.deploymentTime | camDate:'normal' }}</dd>\n\n  <dt>{{ 'REPOSITORY_DEPLOYMENTS_SOURCE' | translate }}</dt>\n  <dd class=\"source\"\n      ng-if=\"deployment.source\">{{ deployment.source }}</dd>\n  <dd class=\"source undefined\"\n      ng-if=\"!deployment.source\"><span class=\"null-value\">{{ 'REPOSITORY_DEPLOYMENTS_NULL' | translate }}</span>\n\n  <dt>{{ 'REPOSITORY_DEPLOYMENTS_TENANT_ID' | translate }}</dt>\n  <dd class=\"tenant-id\"\n      ng-if=\"deployment.tenantId\">{{ deployment.tenantId }}</dd>\n  <dd class=\"tenant-id\"\n      ng-if=\"!deployment.tenantId\"><span class=\"null-value\">{{ 'REPOSITORY_DEPLOYMENTS_NULL' | translate }}</span></dd>\n\n</dl>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-cockpit-deployments-sorting-choices.html.js\");\n\nvar angular = require(\"../../../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = [\n  \"$translate\",\n  function($translate) {\n    return {\n      restrict: \"A\",\n      scope: {\n        deploymentsData: \"=\"\n      },\n\n      template: template,\n\n      controller: [\n        \"$scope\",\n        \"search\",\n        function($scope, search) {\n          var deploymentsSortingData = ($scope.deploymentsSortingData = $scope.deploymentsData.newChild(\n            $scope\n          ));\n\n          var uniqueProps = ($scope.uniqueProps = {\n            id: $translate.instant(\"REPOSITORY_DEPLOYMENTS_ID\"),\n            name: $translate.instant(\"REPOSITORY_DEPLOYMENTS_NAME\"),\n            deploymentTime: $translate.instant(\n              \"REPOSITORY_DEPLOYMENTS_DEPLOYMENT_TIME\"\n            )\n          });\n\n          // utilities /////////////////////////////////////////////////////////////////\n\n          var updateSilently = function(params) {\n            search.updateSilently(params);\n          };\n\n          var updateSorting = function(searchParam, value) {\n            var search = {};\n            search[searchParam] = value;\n            updateSilently(search);\n            deploymentsSortingData.changed(\"deploymentsSorting\");\n          };\n\n          // observe data /////////////////////////////////////////////////////////////\n\n          deploymentsSortingData.observe(\"deploymentsSorting\", function(\n            pagination\n          ) {\n            $scope.sorting = angular.copy(pagination);\n          });\n\n          // label ///////////////////////////////////////////////////////////////////\n\n          $scope.byLabel = function(sortBy) {\n            return uniqueProps[sortBy];\n          };\n\n          // sort order //////////////////////////////////////////////////////////////\n\n          $scope.changeOrder = function() {\n            var value = $scope.sorting.sortOrder === \"asc\" ? \"desc\" : \"asc\";\n            updateSorting(\"deploymentsSortOrder\", value);\n          };\n\n          // sort by /////////////////////////////////////////////////////////////////\n\n          $scope.changeBy = function(by) {\n            updateSorting(\"deploymentsSortBy\", by);\n          };\n        }\n      ]\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments-sorting-choices.html -->\n<div uib-dropdown class=\"dropdown\">\n\n  <a href\n     uib-dropdown-toggle\n     tabindex=\"-1\"\n     role=\"button\"\n     class=\"dropdown-toggle\">\n    <span class=\"hidden-xs hidden-sm hidden-md\"></span>\n    <span class=\"sort-by\">{{ byLabel(sorting.sortBy) }}</span>\n  </a>\n\n  <a href\n     tabindex=\"-1\"\n     uib-tooltip=\"{{ (sorting.sortOrder === 'desc' ? 'REPOSITORY_DEPLOYMENTS_TOOLTIP_SORT_DESC' : 'REPOSITORY_DEPLOYMENTS_TOOLTIP_SORT_ASC' | translate) }}\"\n     class=\"glyphicon sort-direction\"\n     ng-class=\"sorting.sortOrder === 'asc' ? 'glyphicon-menu-up' : 'glyphicon-menu-down'\"\n     ng-click=\"changeOrder()\"></a>\n\n  <ul uib-dropdown-menu class=\"dropdown-menu\"\n      role=\"menu\">\n\n    <li ng-show=\"sorting.sortBy !== id\"\n        ng-repeat=\"(id, name) in uniqueProps\">\n      <a href\n         tabindex=\"-1\"\n         class=\"sort-by-choice\"\n         ng-click=\"changeBy(id)\">{{ name }}</a>\n    </li>\n\n  </ul>\n\n</div>\n<!-- / cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments-sorting-choices.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-cockpit-delete-deployment-plugin.html.js\");\nvar modalTemplate = require(\"./modals/cam-cockpit-delete-deployment-modal.html.js\");\n\nvar angular = require(\"angular\");\n\nvar Controller = [\n  \"$scope\",\n  \"$uibModal\",\n  \"$rootScope\",\n  function($scope, $modal, $rootScope) {\n    var deploymentData = $scope.deploymentData;\n\n    $scope.deleteDeployment = function($event, deployment) {\n      $event.stopPropagation();\n\n      $modal\n        .open({\n          controller: \"camDeleteDeploymentModalCtrl\",\n          template: modalTemplate,\n          resolve: {\n            deploymentData: function() {\n              return deploymentData;\n            },\n            deployment: function() {\n              return deployment;\n            }\n          },\n          appendTo: angular.element('.angular-app')\n        })\n        .result.then(function() {\n          $rootScope.$broadcast(\"cam-common:cam-searchable:query-force-change\");\n        })\n        .catch(function() {});\n    };\n  }\n];\n\nvar Configuration = function PluginConfiguration(ViewsProvider) {\n  ViewsProvider.registerDefaultView(\"cockpit.repository.deployment.action\", {\n    id: \"delete-deployment\",\n    template: template,\n    controller: Controller,\n    priority: 1000\n  });\n};\n\nConfiguration.$inject = [\"ViewsProvider\"];\n\nmodule.exports = Configuration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<a class=\"delete-deployment\"\n   ng-click=\"deleteDeployment($event, deployment)\"\n   uib-tooltip=\"{{ 'REPOSITORY_DEPLOYMENTS_DELETE_DELETE_TOOLTIP' | translate }}\">\n  <span class=\"glyphicon glyphicon-trash\"></span>\n</a>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # cockpit client/scripts/repository/deployments/modals/cam-cockpit-delete-deployment-modal.html -->\n<div class=\"modal-header\">\n  <h3 class=\"modal-title\"\n      translate=\"REPOSITORY_DEPLOYMENTS_DELETE_TITLE\"\n      translate-values=\"{deployment: deployment.name || deployment.id}\"></h3>\n</div>\n\n<div class=\"modal-body delete-deployment-dialog\">\n  <div notifications-panel></div>\n\n  <div ng-hide=\"countsLoaded()\"\n       class=\"loader\">\n    <span class=\"animate-spin glyphicon glyphicon-refresh\"></span>\n    {{ 'REPOSITORY_DEPLOYMENTS_DELETE_LOADING' | translate }}\n  </div>\n\n  <div ng-show=\"countsLoaded()\">\n\n    {{ 'REPOSITORY_DEPLOYMENTS_DELETE_THIS_DEPLOYMENT' | translate }}\n\n    <div uib-alert class=\"alert alert-info\"\n         ng-show=\"hasInstances()\">\n      <span translate=\"REPOSITORY_DEPLOYMENTS_DELETE_ENABLE_CASCADE\"\n            translate-values=\"{info: getInfoSnippet()}\"></span>\n      <code>{{ 'REPOSITORY_DEPLOYMENTS_DELETE_CASCADE' | translate }}</code>\n      {{ 'REPOSITORY_DEPLOYMENTS_DELETE_FLAG' | translate }}\n    </div>\n\n    <form class=\"form-horizontal\"\n          name=\"deleteDeploymentForm\"\n          novalidate\n          request-aware>\n\n      <div class=\"form-group cascade\">\n\n        <label class=\"control-label col-xs-5\"\n               for=\"cascade\">\n          {{ 'REPOSITORY_DEPLOYMENTS_DELETE_CASCADE' | translate }}\n          <span class=\"glyphicon glyphicon-question-sign\"\n                uib-tooltip=\"{{ 'REPOSITORY_DEPLOYMENTS_DELETE_CASCADE_TOOLTIP' | translate }}\"\n                tooltip-placement=\"right\">\n          </span>\n        </label>\n\n        <div class=\"col-xs-7\">\n          <label class=\"checkbox\">\n            <input name=\"cascade\"\n                   type=\"checkbox\"\n                   ng-model=\"options.cascade\">\n          </label>\n        </div>\n\n      </div>\n\n      <div  ng-hide=\"hideSkipCustomListeners\"\n            class=\"form-group skip-custom-listener\">\n\n        <label class=\"control-label col-xs-5\"\n               for=\"skipCustomListeners\">\n          {{ 'REPOSITORY_DEPLOYMENTS_DELETE_SKIP' | translate }}\n          <span class=\"glyphicon glyphicon-question-sign\"\n                uib-tooltip=\"{{ 'REPOSITORY_DEPLOYMENTS_DELETE_SKIP_TOOLTIP' | translate }}\"\n                tooltip-placement=\"right\">\n          </span>\n        </label>\n\n        <div class=\"col-xs-7\">\n          <label class=\"checkbox\">\n            <input name=\"skipCustomListeners\"\n                   type=\"checkbox\"\n                   ng-model=\"options.skipCustomListeners\">\n          </label>\n        </div>\n\n      </div>\n\n      <div class=\"form-group skip-custom-listener\"\n           ng-hide=\"SKIP_IO_MAPPINGS.hidden\">\n\n        <label class=\"control-label col-xs-5\"\n               for=\"skipIoMappings\">\n          {{ 'REPOSITORY_DEPLOYMENTS_DELETE_MAPPING' | translate }}\n          <span class=\"glyphicon glyphicon-question-sign\"\n                uib-tooltip=\"{{ 'REPOSITORY_DEPLOYMENTS_DELETE_MAPPING_TOOLTIP' | translate }}\"\n                tooltip-placement=\"right\">\n          </span>\n        </label>\n\n        <div class=\"col-xs-7\">\n          <label class=\"checkbox\">\n            <input name=\"skipIoMappings\"\n                   type=\"checkbox\"\n                   ng-model=\"options.skipIoMappings\">\n          </label>\n        </div>\n\n      </div>\n\n    </form>\n\n    {{ 'REPOSITORY_DEPLOYMENTS_DELETE_SURE' | translate }}\n\n  </div>\n\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-link\"\n          ng-click=\"$dismiss()\"\n          ng-disabled=\"status === 'PERFORM_DELETE'\">{{ 'REPOSITORY_DEPLOYMENTS_DELETE_CLOSE' | translate }}</button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"deleteDeployment()\"\n          ng-show=\"countsLoaded()\"\n          ng-disabled=\"!canDeleteDeployment() || status === 'PERFORM_DELETE'\">{{ 'REPOSITORY_DEPLOYMENTS_DELETE_DELETE' | translate }}</button>\n</div>\n<!-- / cockpit client/scripts/repository/deployments/modals/cam-cockpit-delete-deployment-modal.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = [\n  \"$scope\",\n  \"$q\",\n  \"camAPI\",\n  \"Notifications\",\n  \"deploymentData\",\n  \"deployment\",\n  \"$translate\",\n  \"configuration\",\n  function(\n    $scope,\n    $q,\n    camAPI,\n    Notifications,\n    deploymentData,\n    deployment,\n    $translate,\n    configuration\n  ) {\n    var Deployment = camAPI.resource(\"deployment\");\n    var ProcessInstance = camAPI.resource(\"process-instance\");\n    var CaseInstance = camAPI.resource(\"case-instance\");\n\n    var deleteDeploymentData = deploymentData.newChild($scope);\n\n    var SKIP_CUSTOM_LISTENERS = configuration.getSkipCustomListeners();\n    var SKIP_IO_MAPPINGS = ($scope.SKIP_IO_MAPPINGS = configuration.getSkipIoMappings());\n\n    var options = ($scope.options = {\n      cascade: false,\n      skipCustomListeners: SKIP_CUSTOM_LISTENERS.default,\n      skipIoMappings: SKIP_IO_MAPPINGS.default\n    });\n\n    $scope.hideSkipCustomListeners = SKIP_CUSTOM_LISTENERS.hidden;\n\n    $scope.deployment = deployment;\n\n    $scope.$on(\"$routeChangeStart\", function() {\n      $scope.$dismiss();\n    });\n\n    // provide /////////////////////////////////////////////////////////\n\n    deleteDeploymentData.provide(\"processInstanceCount\", function() {\n      var deferred = $q.defer();\n\n      ProcessInstance.count(\n        {\n          deploymentId: deployment.id\n        },\n        function(err, res) {\n          if (err) {\n            // reject error but do not handle the error\n            return deferred.reject(err);\n          }\n\n          deferred.resolve(res);\n        }\n      );\n\n      return deferred.promise;\n    });\n\n    deleteDeploymentData.provide(\"caseInstanceCount\", function() {\n      var deferred = $q.defer();\n\n      CaseInstance.count(\n        {\n          deploymentId: deployment.id\n        },\n        function(err, res) {\n          if (err) {\n            // reject error but do not handle the error\n            // it can happen that the case engine is disabled,\n            // so that an error should be received. In that\n            // case it should still be possible to delete\n            // the deployment.\n            return deferred.reject(err);\n          }\n          deferred.resolve(res);\n        }\n      );\n\n      return deferred.promise;\n    });\n\n    // observe /////////////////////////////////////////////////////////\n\n    $scope.processInstanceCountState = deleteDeploymentData.observe(\n      \"processInstanceCount\",\n      function(count) {\n        $scope.processInstanceCount = count;\n      }\n    );\n\n    $scope.caseInstanceCountState = deleteDeploymentData.observe(\n      \"caseInstanceCount\",\n      function(count) {\n        $scope.caseInstanceCount = count;\n      }\n    );\n\n    // delete deployment ///////////////////////////////////////////////\n\n    $scope.countsLoaded = function() {\n      return (\n        $scope.processInstanceCountState &&\n        ($scope.processInstanceCountState.$loaded ||\n          $scope.processInstanceCountState.$error) &&\n        $scope.caseInstanceCountState &&\n        ($scope.caseInstanceCountState.$loaded ||\n          $scope.caseInstanceCountState.$error)\n      );\n    };\n\n    var hasInstances = ($scope.hasInstances = function() {\n      return (\n        ($scope.processInstanceCount &&\n          $scope.processInstanceCount.count > 0) ||\n        $scope.caseInstanceCount > 0\n      );\n    });\n\n    $scope.canDeleteDeployment = function() {\n      return !options.cascade && hasInstances() ? false : true;\n    };\n\n    $scope.getInfoSnippet = function() {\n      var info = [$translate.instant(\"REPOSITORY_DEPLOYMENTS_INFO_THERE_ARE\")];\n\n      if (\n        $scope.processInstanceCount &&\n        $scope.processInstanceCount.count > 0\n      ) {\n        info.push($scope.processInstanceCount.count);\n        $scope.processInstanceCount && $scope.processInstanceCount.count > 1\n          ? info.push(\n              $translate.instant(\"REPOSITORY_DEPLOYMENTS_INFO_RUNNING_PLURAL\")\n            )\n          : info.push(\n              $translate.instant(\"REPOSITORY_DEPLOYMENTS_INFO_RUNNING_SINGULAR\")\n            );\n      }\n\n      if (\n        $scope.processInstanceCount &&\n        $scope.processInstanceCount.count > 0 &&\n        $scope.caseInstanceCount > 0\n      ) {\n        info.push($translate.instant(\"REPOSITORY_DEPLOYMENTS_INFO_AND\"));\n      }\n\n      if ($scope.caseInstanceCount > 0) {\n        info.push($scope.caseInstanceCount);\n        $scope.caseInstanceCount > 1\n          ? info.push(\n              $translate.instant(\"REPOSITORY_DEPLOYMENTS_INFO_OPEN_PLURAL\")\n            )\n          : info.push(\n              $translate.instant(\"REPOSITORY_DEPLOYMENTS_INFO_OPEN_SINGULAR\")\n            );\n      }\n\n      info.push($translate.instant(\"REPOSITORY_DEPLOYMENTS_INFO_WHICH_BELONG\"));\n      info = info.join(\" \");\n\n      return info;\n    };\n\n    $scope.deleteDeployment = function() {\n      $scope.status = \"PERFORM_DELETE\";\n\n      Deployment.delete(deployment.id, options, function(err) {\n        $scope.status = null;\n\n        if (err) {\n          return Notifications.addError({\n            status: $translate.instant(\n              \"REPOSITORY_DEPLOYMENTS_INFO_MSN_STATUS\"\n            ),\n            message: $translate.instant(\"REPOSITORY_DEPLOYMENTS_INFO_MSN_MSN\", {\n              message: err.message\n            }),\n            exclusive: true\n          });\n        }\n\n        $scope.$close();\n      });\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-commons-ui/vendor/angular\"),\n  camCockpitResources = require(\"./directives/cam-cockpit-resources\");\n\nvar resourcesModule = angular.module(\"cam.cockpit.repository.resources\", []);\n\n/* directives */\nresourcesModule.directive(\"camResources\", camCockpitResources);\n\nmodule.exports = resourcesModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-cockpit-resources.html.js\");\n\nvar angular = require(\"../../../../../camunda-commons-ui/vendor/angular\");\n\nvar $ = angular.element;\n\nmodule.exports = [\n  function() {\n    return {\n      restrict: \"A\",\n      scope: {\n        repositoryData: \"=\"\n      },\n\n      template: template,\n\n      controller: [\n        \"$scope\",\n        \"$location\",\n        \"$timeout\",\n        \"search\",\n        function($scope, $location, $timeout, search) {\n          var resourcesData = $scope.repositoryData.newChild($scope);\n\n          // utilities /////////////////////////////////////////////////////////////////\n\n          var updateSilently = function(params) {\n            search.updateSilently(params);\n          };\n\n          // observe data //////////////////////////////////////////////////////////////\n\n          $scope.state = resourcesData.observe(\"resourceId\", function(\n            resourceId\n          ) {\n            $scope.currentResourceId = resourceId.resourceId;\n          });\n\n          // taken from\n          // http://stackoverflow.com/questions/1916218/find-the-longest-common-starting-substring-in-a-set-of-strings#answer-1917041\n          function sharedStart(array) {\n            if (!array.length) {\n              // fix for empty array\n              return \"\";\n            }\n\n            var A = array.concat().sort(),\n              a1 = A[0],\n              a2 = A[A.length - 1],\n              L = a1.length,\n              i = 0;\n            while (i < L && a1.charAt(i) === a2.charAt(i)) i++;\n            return a1.substring(0, i);\n          }\n\n          $scope.sharedStart = \"\";\n          $scope.state = resourcesData.observe(\"resources\", function(\n            resources\n          ) {\n            var paths = [];\n            $scope.resources = (resources || []).map(function(resource) {\n              var parts = (resource.name || resource.id).split(\"/\");\n              resource._filename = parts.pop();\n              resource._filepath = parts.join(\"/\");\n              paths.push(resource._filepath);\n              return resource;\n            });\n            $scope.sharedStart = sharedStart(paths);\n          });\n\n          $scope.truncateFilepath = function(filepath) {\n            return filepath.slice($scope.sharedStart.length);\n          };\n\n          // selection //////////////////////////////////////////////////////////////////\n\n          $scope.focus = function($event, resource) {\n            if ($event) {\n              $event.preventDefault();\n            }\n\n            var resourceId = resource.id;\n\n            if ($scope.currentResourceId === resourceId) {\n              updateSilently({\n                resource: resourceId,\n                resourceName: null\n              });\n            } else {\n              updateSilently({\n                resource: resourceId,\n                resourceName: null,\n                viewbox: null\n              });\n            }\n\n            resourcesData.changed(\"resourceId\");\n          };\n\n          var selectNextResource = function() {\n            for (var i = 0; i < $scope.resources.length - 1; i++) {\n              if ($scope.resources[i].id === $scope.currentResourceId) {\n                return $scope.focus(null, $scope.resources[i + 1]);\n              }\n            }\n          };\n\n          var selectPreviousResource = function() {\n            for (var i = 1; i < $scope.resources.length; i++) {\n              if ($scope.resources[i].id === $scope.currentResourceId) {\n                return $scope.focus(null, $scope.resources[i - 1]);\n              }\n            }\n          };\n\n          $scope.handleKeydown = function($event) {\n            if ($event.keyCode === 40) {\n              $event.preventDefault();\n              selectNextResource($event);\n            } else if ($event.keyCode === 38) {\n              $event.preventDefault();\n              selectPreviousResource();\n            }\n            // wait for angular to update the classes and scroll to the newly selected task\n            $timeout(function() {\n              var $el = $($event.target).find(\"li.active\")[0];\n              if ($el) {\n                $el.scrollIntoView(false);\n              }\n            });\n          };\n        }\n      ]\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # cockpit client/scripts/repository/resources/directives/cam-cockpit-resources.html -->\n<div ng-if=\"!state.$loaded && !state.$error\"\n     class=\"loader\">\n  <span class=\"animate-spin glyphicon glyphicon-refresh\"></span>\n  {{ 'REPOSITORY_RESOURCES_LOADING' | translate }}\n</div>\n\n<div ng-if=\"state.$error\"\n     uib-alert class=\"alert alert-danger\"\n     role=\"alert\">\n  <span class=\"glyphicon glyphicon-exclamation-sign\"></span>\n  <strong class=\"status\">{{ 'REPOSITORY_RESOURCES_FAILURE' | translate }}</strong>\n  <span class=\"message\">{{ 'REPOSITORY_RESOURCES_FAILURE_MSN' | translate }}</span>\n</div>\n\n<div ng-if=\"state.$loaded && !state.$error && !resources.length\"\n     class=\"well\">\n  <span class=\"glyphicon glyphicon-info-sign\"></span>\n  {{ 'REPOSITORY_RESOURCES_NO_SRC_AVAILABLE' | translate }}\n</div>\n\n<ol ng-if=\"state.$loaded && !state.$error && resources.length\"\n    class=\"resources list-unstyled\"\n    tabindex=\"0\"\n    ng-keydown=\"handleKeydown($event)\">\n  <li class=\"resource\"\n      ng-repeat=\"(delta, resource) in resources\"\n      ng-class=\"{active: currentResourceId === resource.id, clickable: true}\"\n      ng-click=\"focus($event, resource)\">\n    <div class=\"filepath\">{{ truncateFilepath(resource._filepath) }}</div>\n    <h4>\n      <a href>{{ resource._filename }}</a>\n    </h4>\n  </li>\n</ol>\n<!-- / cockpit client/scripts/repository/resources/directives/cam-cockpit-resources.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../camunda-commons-ui/vendor/angular\"),\n  /* controllers */\n  camResourceDetailsCtrl = require(\"./controllers/cam-cockpit-resource-details-ctrl\"),\n  /* directives */\n  camCockpitResourceWrapper = require(\"./directives/cam-cockpit-resource-wrapper\"),\n  camCockpitResourceMeta = require(\"./directives/cam-cockpit-resource-meta\"),\n  camCockpitResourceContent = require(\"./directives/cam-cockpit-resource-content\"),\n  camCockpitSource = require(\"./directives/cam-cockpit-source\"),\n  /* plugins */\n  camCockpitDefinitionsPlugin = require(\"./plugins/details/definitions/cam-cockpit-definitions-plugin\"),\n  camCockpitResourceDownloadPlugin = require(\"./plugins/actions/download/cam-cockpit-resource-action-download-plugin\");\n\nvar resourceModule = angular.module(\"cam.cockpit.repository.resource\", []);\n\n/* controllers */\nresourceModule.controller(\"camResourceDetailsCtrl\", camResourceDetailsCtrl);\n\n/* directives */\nresourceModule.directive(\"camResourceWrapper\", camCockpitResourceWrapper);\nresourceModule.directive(\"camResourceMeta\", camCockpitResourceMeta);\nresourceModule.directive(\"camResourceContent\", camCockpitResourceContent);\nresourceModule.directive(\"camSource\", camCockpitSource);\n\n/* plugins */\nresourceModule.config(camCockpitDefinitionsPlugin);\nresourceModule.config(camCockpitResourceDownloadPlugin);\n\nmodule.exports = resourceModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = [\n  \"$scope\",\n  \"$q\",\n  \"Uri\",\n  \"camAPI\",\n  \"Views\",\n  \"$translate\",\n  function($scope, $q, Uri, camAPI, Views, $translate) {\n    // utilities ///////////////////////////////////////////////////\n\n    var isObject = angular.isObject;\n\n    var checkResource = function(name, pattern) {\n      return name && pattern.test(name.toLowerCase());\n    };\n\n    // fields //////////////////////////////////////////////////////\n\n    var resourceDetailsData = ($scope.resourceDetailsData = $scope.repositoryData.newChild(\n      $scope\n    ));\n\n    var Deployment = camAPI.resource(\"deployment\");\n\n    var control = ($scope.control = {});\n\n    var BPMN_PATTERN = /\\.(bpmn\\d*.xml|bpmn)$/;\n    var CMMN_PATTERN = /\\.(cmmn\\d*.xml|cmmn)$/;\n    var DMN_PATTERN = /\\.(dmn\\d*.xml|dmn)$/;\n    var IMAGE_PATTERN = /\\.(gif|jpg|jpeg|jpe|png|svg|tif|tiff)$/;\n\n    var PLUGIN_ACTION_COMPONENT = \"cockpit.repository.resource.action\";\n\n    // type of a resource //////////////////////////////////////////\n\n    var getResourceName = function(resource) {\n      if (isObject(resource)) {\n        return resource.name;\n      }\n      return resource;\n    };\n\n    var isBpmnResource = (control.isBpmnResource = $scope.isBpmnResource = function(\n      resource\n    ) {\n      var resourceName = getResourceName(resource);\n      return checkResource(resourceName, BPMN_PATTERN);\n    });\n\n    var isCmmnResource = (control.isCmmnResource = $scope.isCmmnResource = function(\n      resource\n    ) {\n      var resourceName = getResourceName(resource);\n      return checkResource(resourceName, CMMN_PATTERN);\n    });\n\n    var isDmnResource = (control.isDmnResource = $scope.isDmnResource = function(\n      resource\n    ) {\n      var resourceName = getResourceName(resource);\n      return checkResource(resourceName, DMN_PATTERN);\n    });\n\n    var isImageResource = (control.isImageResource = $scope.isImageResource = function(\n      resource\n    ) {\n      var resourceName = getResourceName(resource);\n      return checkResource(resourceName, IMAGE_PATTERN);\n    });\n\n    control.isUnkownResource = $scope.isUnkownResource = function(resource) {\n      return (\n        !isBpmnResource(resource) &&\n        !isCmmnResource(resource) &&\n        !isDmnResource(resource) &&\n        !isImageResource(resource)\n      );\n    };\n\n    var ProcessDefinition = camAPI.resource(\"process-definition\");\n    var CaseDefinition = camAPI.resource(\"case-definition\");\n    var DecisionDefinition = camAPI.resource(\"decision-definition\");\n\n    // download link ////////////////////////////////////////////////\n\n    control.downloadLink = $scope.downloadLink = function(\n      deployment,\n      resource\n    ) {\n      return (\n        deployment &&\n        resource &&\n        Uri.appUri(\n          \"engine://engine/:engine/deployment/\" +\n            deployment.id +\n            \"/resources/\" +\n            resource.id +\n            \"/data\"\n        )\n      );\n    };\n\n    // provide //////////////////////////////////////////////////////\n\n    resourceDetailsData.provide(\"binary\", [\n      \"resource\",\n      \"currentDeployment\",\n      function(resource, deployment) {\n        var deferred = $q.defer();\n\n        if (!resource) {\n          deferred.resolve(null);\n        } else if (!deployment || deployment.id === null) {\n          deferred.resolve(null);\n        } else if (isImageResource(resource)) {\n          // do not load image twice\n          deferred.resolve(null);\n        } else {\n          Deployment.getResourceData(deployment.id, resource.id, function(\n            err,\n            res\n          ) {\n            if (err) {\n              deferred.reject(err);\n            } else {\n              deferred.resolve({ data: res });\n            }\n          });\n        }\n\n        return deferred.promise;\n      }\n    ]);\n\n    var pages = { current: 1, size: 50, total: 0 };\n    resourceDetailsData.provide(\"pages\", function() {\n      return pages;\n    });\n\n    resourceDetailsData.provide(\"definitions\", [\n      \"currentDeployment\",\n      \"resource\",\n      \"pages\",\n      function(deployment, resource, pages) {\n        var deferred = $q.defer();\n\n        $scope.loadingState = \"LOADING\";\n\n        var Service = null;\n        var bpmnResource = false;\n\n        if (!deployment || !resource) {\n          deferred.resolve([]);\n        } else {\n          if (isBpmnResource(resource)) {\n            bpmnResource = true;\n            Service = ProcessDefinition;\n          } else if (isCmmnResource(resource)) {\n            Service = CaseDefinition;\n          } else if (isDmnResource(resource)) {\n            Service = DecisionDefinition;\n          }\n\n          if (!Service) {\n            deferred.resolve([]);\n          } else {\n            Service.count(\n              {\n                deploymentId: deployment.id,\n                resourceName: resource.name\n              },\n              function(err, res) {\n                function handleError(err) {\n                  $scope.loadingState = \"ERROR\";\n                  $scope.textError =\n                    err.message ||\n                    $translate.instant(\n                      \"REPOSITORY_DEPLOYMENT_RESOURCE_CTRL_MSN\"\n                    );\n                }\n\n                if (err) {\n                  handleError(err);\n                  return deferred.reject(err);\n                }\n\n                pages.total = res;\n\n                if (res === 0) {\n                  // There are no definitions in this resource\n                  return deferred.resolve([]);\n                }\n\n                Service.list(\n                  {\n                    deploymentId: deployment.id,\n                    resourceName: resource.name,\n                    maxResults: pages.size,\n                    firstResult: pages.size * (pages.current - 1)\n                  },\n                  function(err, res) {\n                    if (err) {\n                      handleError(err);\n                      return deferred.reject(err);\n                    }\n\n                    deferred.resolve(bpmnResource ? res.items : res);\n                  }\n                );\n              }\n            );\n          }\n        }\n\n        return deferred.promise;\n      }\n    ]);\n\n    // observe /////////////////////////////////////////////////\n\n    resourceDetailsData.observe(\"resource\", function(resource) {\n      $scope.resource = resource;\n    });\n\n    resourceDetailsData.observe(\"currentDeployment\", function(deployment) {\n      $scope.deployment = deployment;\n    });\n\n    // plugins //////////////////////////////////////////////////\n\n    $scope.resourceVars = {\n      read: [\"control\", \"deployment\", \"resource\", \"resourceDetailsData\"]\n    };\n    $scope.resourceActions = Views.getProviders({\n      component: PLUGIN_ACTION_COMPONENT\n    });\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-cockpit-resource-wrapper.html.js\");\n\nvar angular = require(\"../../../../../camunda-commons-ui/vendor/angular\");\n\nmodule.exports = [\n  function() {\n    return {\n      restrict: \"A\",\n      scope: {\n        resourceDetailsData: \"=\",\n        control: \"=?\"\n      },\n\n      template: template,\n\n      controller: [\n        \"$scope\",\n        \"$q\",\n        \"$location\",\n        \"Views\",\n        \"Notifications\",\n        \"search\",\n        \"$translate\",\n        function(\n          $scope,\n          $q,\n          $location,\n          Views,\n          Notifications,\n          search,\n          $translate\n        ) {\n          // utilities ///////////////////////////////////////////////////////////////////\n\n          var errorNotification = function(src, err) {\n            if (err.message) {\n              var idx = err.message.indexOf(\"<-\");\n              if (idx !== -1) {\n                err.message = err.message.split(\"<-\")[1].trim();\n              }\n            }\n            Notifications.addError({\n              status: src,\n              message: err ? err.message : \"\",\n              exclusive: true,\n              scope: $scope\n            });\n          };\n\n          var enhanceErrorMessage = function(msg) {\n            if (msg) {\n              if (msg.indexOf(\"does not exist\") === -1) {\n                return $translate.instant(\n                  \"REPOSITORY_DEPLOYMENT_RESOURCE_DIRECTIVES_RETURN_1\"\n                );\n              }\n            }\n            return $translate.instant(\n              \"REPOSITORY_DEPLOYMENT_RESOURCE_DIRECTIVES_RETURN_2\"\n            );\n          };\n\n          var clearResource = function() {\n            var search = $location.search() || {};\n            delete search.resource;\n            delete search.resourceName;\n            $location.search(angular.copy(search));\n            $location.replace();\n          };\n\n          // fields /////////////////////////////////////////////////////////////////////\n\n          var resourceData = ($scope.resourceData = $scope.resourceDetailsData.newChild(\n            $scope\n          ));\n\n          var PLUGIN_DETAILS_COMPONENT = \"cockpit.repository.resource.detail\";\n\n          // observe /////////////////////////////////////////////////////////////////////\n\n          resourceData.observe(\"currentDeployment\", function(deployment) {\n            $scope.deployment = deployment;\n          });\n\n          $scope.resourceState = resourceData.observe([\n            \"resource\",\n            \"binary\",\n            function(resource) {\n              $scope.resource = resource;\n            }\n          ]);\n\n          $scope.$watch(\"resourceState.$error\", function(err) {\n            if (err) {\n              var src = enhanceErrorMessage(err.message);\n              errorNotification(src, err);\n              clearResource();\n            }\n          });\n\n          // plugins ///////////////////////////////////////////////////////////////////////\n\n          $scope.resourceVars = {\n            read: [\"control\", \"deployment\", \"resource\", \"resourceData\"]\n          };\n          $scope.resourceDetailTabs = Views.getProviders({\n            component: PLUGIN_DETAILS_COMPONENT\n          });\n\n          $scope.selectedResourceDetailTab = $scope.resourceDetailTabs[0];\n\n          $scope.selectResourceDetailTab = function(tab) {\n            $scope.selectedResourceDetailTab = tab;\n\n            search.updateSilently({\n              detailsTab: tab.id\n            });\n          };\n\n          function setDefaultResourceDetailTab(tabs) {\n            var selectedResourceId = search().detailsTab;\n\n            if (!tabs || !tabs.length) {\n              return;\n            }\n\n            if (selectedResourceId) {\n              var provider = Views.getProvider({\n                component: PLUGIN_DETAILS_COMPONENT,\n                id: selectedResourceId\n              });\n              if (provider && tabs.indexOf(provider) !== -1) {\n                $scope.selectedResourceDetailTab = provider;\n                return;\n              }\n            }\n\n            search.updateSilently({\n              detailsTab: null\n            });\n\n            $scope.selectedResourceDetailTab = tabs[0];\n          }\n\n          setDefaultResourceDetailTab($scope.resResourceDetailTabs);\n\n          $scope.$on(\"$routeChanged\", function() {\n            setDefaultResourceDetailTab($scope.resResourceDetailTabs);\n          });\n        }\n      ]\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-wrapper.html -->\n<div ng-show=\"!resourceState.$loaded\"\n     class=\"loader\">\n  <span class=\"animate-spin glyphicon glyphicon-refresh\"></span>\n  {{ 'REPOSITORY_DEPLOYMENT_RESOURCE_DIRECTIVES_LOADING' | translate }}\n</div>\n\n<div ng-show=\"resourceState.$loaded\">\n\n  <div ng-if=\"!resource\">\n    <div class=\"no-resource well\">\n      <span class=\"glyphicon glyphicon-info-sign\"></span>\n      {{ 'REPOSITORY_DEPLOYMENT_RESOURCE_DIRECTIVES_SELECT_SRC' | translate }}\n    </div>\n  </div>\n\n  <section ng-if=\"resource\" class=\"resource\">\n\n    <header class=\"row\">\n      <div class=\"col-xs-12\"\n           cam-resource-meta\n           resource-data=\"resourceData\"\n           control=\"control\">\n      </div>\n    </header>\n\n    <div class=\"section-content row\">\n      <div class=\"col-xs-12\"\n           cam-resource-content\n           resource-data=\"resourceData\"\n           control=\"control\">\n      </div>\n\n      <div ng-show=\"resourceDetailTabs.length\"\n           class=\"col-xs-12 ctn-tabbed-content\">\n\n        <ul ng-if=\"resourceDetailTabs.length > 1\"\n            class=\"nav nav-tabs\">\n          <li ng-class=\"{ active: selectedResourceDetailTab == resourceDetailTab }\"\n              ng-repeat=\"resourceDetailTab in resourceDetailTabs\">\n            <a href\n               ng-click=\"selectResourceDetailTab(resourceDetailTab)\">{{ resourceDetailTab.label }}</a>\n          </li>\n        </ul>\n\n        <h4 ng-if=\"resourceDetailTabs.length === 1\">{{ resourceDetailTabs[0].label | translate }}:</h4>\n\n        <div class=\"tab-content\">\n          <view provider=\"selectedResourceDetailTab\"\n                vars=\"resourceVars\" />\n        </div>\n\n      </div><!-- / !!resourceDetailTabs -->\n\n    </div><!-- / .section-content -->\n\n  </section>\n\n</div>\n<!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-wrapper.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-cockpit-resource-meta.html.js\");\n\nmodule.exports = [\n  function() {\n    return {\n      scope: {\n        resourceData: \"=\",\n        control: \"=\"\n      },\n\n      template: template,\n\n      controller: [\n        \"$scope\",\n        function($scope) {\n          // fields ////////////////////////////////////////////////////\n\n          var resourceMetaData = $scope.resourceData.newChild($scope);\n          $scope.isDmnResource = $scope.control.isDmnResource;\n\n          // observe //////////////////////////////////////////////////\n\n          resourceMetaData.observe(\"resource\", function(resource) {\n            if (resource) {\n              var parts = (resource.name || resource.id).split(\"/\");\n              resource._filename = parts.pop();\n              resource._filepath = parts.join(\"/\");\n            }\n\n            $scope.resource = resource;\n          });\n\n          resourceMetaData.observe(\"definitions\", function(definitions) {\n            $scope.definitions = definitions;\n          });\n        }\n      ]\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-meta.html -->\n<div class=\"filepath\">{{ resource._filepath }}</div>\n<div class=\"table-row\">\n  <h2 class=\"name\">{{ resource._filename }}</h2>\n  <h3 class=\"version\" ng-show=\"!isDmnResource(resource) && definitions.length > 0\">{{ 'REPOSITORY_DEPLOYMENT_RESOURCE_DIRECTIVES_VERSION' | translate }} {{ definitions[0].version }}</h3>\n</div>\n<!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-meta.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-cockpit-resource-content.html.js\");\n\nmodule.exports = [\n  function() {\n    return {\n      scope: {\n        resourceData: \"=\",\n        control: \"=\"\n      },\n\n      template: template,\n\n      controller: [\n        \"$scope\",\n        \"configuration\",\n        function($scope, configuration) {\n          $scope.bpmnJsConf = configuration.getBpmnJs();\n\n          // fields ////////////////////////////////////////////////////\n\n          var resourceContentData = $scope.resourceData.newChild($scope);\n\n          var resource;\n\n          $scope.isBpmnResource = $scope.control.isBpmnResource;\n          $scope.isCmmnResource = $scope.control.isCmmnResource;\n          $scope.isDmnResource = $scope.control.isDmnResource;\n          $scope.isImageResource = $scope.control.isImageResource;\n          $scope.isUnkownResource = $scope.control.isUnkownResource;\n          $scope.imageLink = $scope.control.downloadLink;\n\n          // observe //////////////////////////////////////////////////\n\n          resourceContentData.observe(\"resource\", function(_resource) {\n            if (_resource && resource && _resource.id !== resource.id) {\n              $scope.binary = null;\n            }\n            resource = $scope.resource = _resource;\n          });\n\n          resourceContentData.observe(\"currentDeployment\", function(\n            _deployment\n          ) {\n            $scope.deployment = _deployment;\n          });\n\n          resourceContentData.observe(\"binary\", function(binary) {\n            $scope.binary = (binary || {}).data;\n          });\n        }\n      ]\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-content.html -->\n<div ng-if=\"binary || (resource && isImageResource(resource))\"\n     class=\"resource-wrapper\">\n\n  <div ng-if=\"isBpmnResource(resource)\"\n       cam-widget-bpmn-viewer\n       diagram-data=\"binary\"\n       bpmn-js-conf=\"bpmnJsConf\">\n  </div>\n\n\n  <div ng-if=\"isDmnResource(resource)\"\n       cam-widget-dmn-viewer\n       enable-drd-navigation=\"true\"\n       xml=\"binary\">\n  </div>\n\n  <div ng-if=\"isCmmnResource(resource)\"\n       cam-widget-cmmn-viewer\n       diagram-data=\"binary\">\n  </div>\n\n  <div ng-if=\"isImageResource(resource)\"\n       class=\"image-resource\">\n    <img ng-src=\"{{ imageLink(deployment, resource) }}\">\n  </div>\n\n\n  <div ng-if=\"isUnkownResource(resource)\"\n       class=\"unkown-resource\">\n    <div cam-source\n         name=\"resource.name\"\n         source=\"binary\">\n    </div>\n  </div>\n\n  <div>\n\n</div>\n<!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-content.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-cockpit-source.html.js\");\n\nvar angular = require(\"../../../../../camunda-commons-ui/vendor/angular\");\nrequire(\"../../../../../camunda-commons-ui/vendor/prism\");\n\nmodule.exports = [\n  \"$window\",\n  function($window) {\n    return {\n      restrict: \"A\",\n\n      scope: {\n        name: \"=\",\n        source: \"=\"\n      },\n\n      template: template,\n\n      link: function($scope, $element) {\n        var Prism = $window.Prism;\n\n        var Extensions = {\n          js: \"javascript\",\n          html: \"markup\",\n          xml: \"markup\",\n          py: \"python\",\n          rb: \"ruby\",\n          bpmn: \"markup\",\n          cmmn: \"markup\",\n          dmn: \"markup\"\n        };\n\n        var name = $scope.name;\n\n        $scope.extension = function() {\n          if (name) {\n            var extension = (name.match(/\\.([\\w-]+)$/) || [\"\", \"\"])[1];\n            extension = extension && extension.toLowerCase();\n            return Extensions[extension] || extension;\n          }\n        };\n\n        $scope.$watch(\"source\", function(source) {\n          if (source) {\n            var codeElement = angular.element(\"code\", $element);\n            Prism.highlightElement(codeElement[0]);\n          }\n        });\n      }\n    };\n  }\n];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-source.html -->\n<pre><code ng-class=\"'language-' + extension()\">{{ source }}</code></pre>\n<!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-source.html -->\n`;\n","/* eslint-disable */\n\nvar _self=\"undefined\"!=typeof window?window:\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\\blang(?:uage)?-(?!\\*)(\\w+)\\b/i,t=_self.Prism={util:{encode:function(e){return e instanceof n?new n(e.type,t.util.encode(e.content),e.alias):\"Array\"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/\\u00a0/g,\" \")},type:function(e){return Object.prototype.toString.call(e).match(/\\[object (\\w+)\\]/)[1]},clone:function(e){var n=t.util.type(e);switch(n){case\"Object\":var a={};for(var r in e)e.hasOwnProperty(r)&&(a[r]=t.util.clone(e[r]));return a;case\"Array\":return e.map&&e.map(function(e){return t.util.clone(e)})}return e}},languages:{extend:function(e,n){var a=t.util.clone(t.languages[e]);for(var r in n)a[r]=n[r];return a},insertBefore:function(e,n,a,r){r=r||t.languages;var l=r[e];if(2==arguments.length){a=arguments[1];for(var i in a)a.hasOwnProperty(i)&&(l[i]=a[i]);return l}var o={};for(var s in l)if(l.hasOwnProperty(s)){if(s==n)for(var i in a)a.hasOwnProperty(i)&&(o[i]=a[i]);o[s]=l[s]}return t.languages.DFS(t.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=o)}),r[e]=o},DFS:function(e,n,a){for(var r in e)e.hasOwnProperty(r)&&(n.call(e,r,e[r],a||r),\"Object\"===t.util.type(e[r])?t.languages.DFS(e[r],n):\"Array\"===t.util.type(e[r])&&t.languages.DFS(e[r],n,r))}},plugins:{},highlightAll:function(e,n){for(var a,r=document.querySelectorAll('code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'),l=0;a=r[l++];)t.highlightElement(a,e===!0,n)},highlightElement:function(n,a,r){for(var l,i,o=n;o&&!e.test(o.className);)o=o.parentNode;o&&(l=(o.className.match(e)||[,\"\"])[1],i=t.languages[l]),n.className=n.className.replace(e,\"\").replace(/\\s+/g,\" \")+\" language-\"+l,o=n.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(e,\"\").replace(/\\s+/g,\" \")+\" language-\"+l);var s=n.textContent,u={element:n,language:l,grammar:i,code:s};if(!s||!i)return t.hooks.run(\"complete\",u),void 0;if(t.hooks.run(\"before-highlight\",u),a&&_self.Worker){var g=new Worker(t.filename);g.onmessage=function(e){u.highlightedCode=e.data,t.hooks.run(\"before-insert\",u),u.element.innerHTML=u.highlightedCode,r&&r.call(u.element),t.hooks.run(\"after-highlight\",u),t.hooks.run(\"complete\",u)},g.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=t.highlight(u.code,u.grammar,u.language),t.hooks.run(\"before-insert\",u),u.element.innerHTML=u.highlightedCode,r&&r.call(n),t.hooks.run(\"after-highlight\",u),t.hooks.run(\"complete\",u)},highlight:function(e,a,r){var l=t.tokenize(e,a);return n.stringify(t.util.encode(l),r)},tokenize:function(e,n){var a=t.Token,r=[e],l=n.rest;if(l){for(var i in l)n[i]=l[i];delete n.rest}e:for(var i in n)if(n.hasOwnProperty(i)&&n[i]){var o=n[i];o=\"Array\"===t.util.type(o)?o:[o];for(var s=0;s<o.length;++s){var u=o[s],g=u.inside,c=!!u.lookbehind,f=0,h=u.alias;u=u.pattern||u;for(var p=0;p<r.length;p++){var d=r[p];if(r.length>e.length)break e;if(!(d instanceof a)){u.lastIndex=0;var m=u.exec(d);if(m){c&&(f=m[1].length);var y=m.index-1+f,m=m[0].slice(f),v=m.length,k=y+v,b=d.slice(0,y+1),w=d.slice(k+1),P=[p,1];b&&P.push(b);var A=new a(i,g?t.tokenize(m,g):m,h);P.push(A),w&&P.push(w),Array.prototype.splice.apply(r,P)}}}}}return r},hooks:{all:{},add:function(e,n){var a=t.hooks.all;a[e]=a[e]||[],a[e].push(n)},run:function(e,n){var a=t.hooks.all[e];if(a&&a.length)for(var r,l=0;r=a[l++];)r(n)}}},n=t.Token=function(e,t,n){this.type=e,this.content=t,this.alias=n};if(n.stringify=function(e,a,r){if(\"string\"==typeof e)return e;if(\"Array\"===t.util.type(e))return e.map(function(t){return n.stringify(t,a,e)}).join(\"\");var l={type:e.type,content:n.stringify(e.content,a,r),tag:\"span\",classes:[\"token\",e.type],attributes:{},language:a,parent:r};if(\"comment\"==l.type&&(l.attributes.spellcheck=\"true\"),e.alias){var i=\"Array\"===t.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(l.classes,i)}t.hooks.run(\"wrap\",l);var o=\"\";for(var s in l.attributes)o+=(o?\" \":\"\")+s+'=\"'+(l.attributes[s]||\"\")+'\"';return\"<\"+l.tag+' class=\"'+l.classes.join(\" \")+'\" '+o+\">\"+l.content+\"</\"+l.tag+\">\"},!_self.document)return _self.addEventListener?(_self.addEventListener(\"message\",function(e){var n=JSON.parse(e.data),a=n.language,r=n.code,l=n.immediateClose;_self.postMessage(t.highlight(r,t.languages[a],a)),l&&_self.close()},!1),_self.Prism):_self.Prism;var a=document.getElementsByTagName(\"script\");return a=a[a.length-1],a&&(t.filename=a.src,document.addEventListener&&!a.hasAttribute(\"data-manual\")&&document.addEventListener(\"DOMContentLoaded\",t.highlightAll)),_self.Prism}();\"undefined\"!=typeof module&&module.exports&&(module.exports=Prism),\"undefined\"!=typeof global&&(global.Prism=Prism);\nPrism.languages.markup={comment:/<!--[\\w\\W]*?-->/,prolog:/<\\?[\\w\\W]+?\\?>/,doctype:/<!DOCTYPE[\\w\\W]+?>/,cdata:/<!\\[CDATA\\[[\\w\\W]*?]]>/i,tag:{pattern:/<\\/?[^\\s>\\/=.]+(?:\\s+[^\\s>\\/=]+(?:=(?:(\"|')(?:\\\\\\1|\\\\?(?!\\1)[\\w\\W])*\\1|[^\\s'\">=]+))?)*\\s*\\/?>/i,inside:{tag:{pattern:/^<\\/?[^\\s>\\/]+/i,inside:{punctuation:/^<\\/?/,namespace:/^[^\\s>\\/:]+:/}},\"attr-value\":{pattern:/=(?:('|\")[\\w\\W]*?(\\1)|[^\\s>]+)/i,inside:{punctuation:/[=>\"']/}},punctuation:/\\/?>/,\"attr-name\":{pattern:/[^\\s>\\/]+/,inside:{namespace:/^[^\\s>\\/:]+:/}}}},entity:/&#?[\\da-z]{1,8};/i},Prism.hooks.add(\"wrap\",function(a){\"entity\"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,\"&\"))}),Prism.languages.xml=Prism.languages.markup,Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup;\nPrism.languages.css={comment:/\\/\\*[\\w\\W]*?\\*\\//,atrule:{pattern:/@[\\w-]+?.*?(;|(?=\\s*\\{))/i,inside:{rule:/@[\\w-]+/}},url:/url\\((?:([\"'])(\\\\(?:\\r\\n|[\\w\\W])|(?!\\1)[^\\\\\\r\\n])*\\1|.*?)\\)/i,selector:/[^\\{\\}\\s][^\\{\\};]*?(?=\\s*\\{)/,string:/(\"|')(\\\\(?:\\r\\n|[\\w\\W])|(?!\\1)[^\\\\\\r\\n])*\\1/,property:/(\\b|\\B)[\\w-]+(?=\\s*:)/i,important:/\\B!important\\b/i,\"function\":/[-a-z0-9]+(?=\\()/i,punctuation:/[(){};:]/},Prism.languages.css.atrule.inside.rest=Prism.util.clone(Prism.languages.css),Prism.languages.markup&&(Prism.languages.insertBefore(\"markup\",\"tag\",{style:{pattern:/<style[\\w\\W]*?>[\\w\\W]*?<\\/style>/i,inside:{tag:{pattern:/<style[\\w\\W]*?>|<\\/style>/i,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css},alias:\"language-css\"}}),Prism.languages.insertBefore(\"inside\",\"attr-value\",{\"style-attr\":{pattern:/\\s*style=(\"|').*?\\1/i,inside:{\"attr-name\":{pattern:/^\\s*style/i,inside:Prism.languages.markup.tag.inside},punctuation:/^\\s*=\\s*['\"]|['\"]\\s*$/,\"attr-value\":{pattern:/.+/i,inside:Prism.languages.css}},alias:\"language-css\"}},Prism.languages.markup.tag));\nPrism.languages.clike={comment:[{pattern:/(^|[^\\\\])\\/\\*[\\w\\W]*?\\*\\//,lookbehind:!0},{pattern:/(^|[^\\\\:])\\/\\/.*/,lookbehind:!0}],string:/([\"'])(\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\"class-name\":{pattern:/((?:\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+)|(?:catch\\s+\\())[a-z0-9_\\.\\\\]+/i,lookbehind:!0,inside:{punctuation:/(\\.|\\\\)/}},keyword:/\\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\"boolean\":/\\b(true|false)\\b/,\"function\":/[a-z0-9_]+(?=\\()/i,number:/\\b-?(?:0x[\\da-f]+|\\d*\\.?\\d+(?:e[+-]?\\d+)?)\\b/i,operator:/--?|\\+\\+?|!=?=?|<=?|>=?|==?=?|&&?|\\|\\|?|\\?|\\*|\\/|~|\\^|%/,punctuation:/[{}[\\];(),.:]/};\nPrism.languages.javascript=Prism.languages.extend(\"clike\",{keyword:/\\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\\b/,number:/\\b-?(0x[\\dA-Fa-f]+|0b[01]+|0o[0-7]+|\\d*\\.?\\d+([Ee][+-]?\\d+)?|NaN|Infinity)\\b/,\"function\":/[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*(?=\\()/i}),Prism.languages.insertBefore(\"javascript\",\"keyword\",{regex:{pattern:/(^|[^/])\\/(?!\\/)(\\[.+?]|\\\\.|[^/\\\\\\r\\n])+\\/[gimyu]{0,5}(?=\\s*($|[\\r\\n,.;})]))/,lookbehind:!0}}),Prism.languages.insertBefore(\"javascript\",\"class-name\",{\"template-string\":{pattern:/`(?:\\\\`|\\\\?[^`])*`/,inside:{interpolation:{pattern:/\\$\\{[^}]+\\}/,inside:{\"interpolation-punctuation\":{pattern:/^\\$\\{|\\}$/,alias:\"punctuation\"},rest:Prism.languages.javascript}},string:/[\\s\\S]+/}}}),Prism.languages.markup&&Prism.languages.insertBefore(\"markup\",\"tag\",{script:{pattern:/<script[\\w\\W]*?>[\\w\\W]*?<\\/script>/i,inside:{tag:{pattern:/<script[\\w\\W]*?>|<\\/script>/i,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript},alias:\"language-javascript\"}}),Prism.languages.js=Prism.languages.javascript;\nPrism.languages.groovy=Prism.languages.extend(\"clike\",{keyword:/\\b(as|def|in|abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\\b/,string:/(\"\"\"|''')[\\W\\w]*?\\1|(\"|'|\\/)(?:\\\\?.)*?\\2|(\\$\\/)(\\$\\/\\$|[\\W\\w])*?\\/\\$/,number:/\\b(?:0b[01_]+|0x[\\da-f_]+(?:\\.[\\da-f_p\\-]+)?|[\\d_]+(?:\\.[\\d_]+)?(?:e[+-]?[\\d]+)?)[glidf]?\\b/i,operator:{pattern:/(^|[^.])(~|==?~?|\\?[.:]?|\\*(?:[.=]|\\*=?)?|\\.[@&]|\\.\\.<|\\.{1,2}(?!\\.)|-[-=>]?|\\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\\|[|=]?|\\/=?|\\^=?|%=?)/,lookbehind:!0},punctuation:/\\.+|[{}[\\];(),:$]/}),Prism.languages.insertBefore(\"groovy\",\"string\",{shebang:{pattern:/#!.+/,alias:\"comment\"}}),Prism.languages.insertBefore(\"groovy\",\"punctuation\",{\"spock-block\":/\\b(setup|given|when|then|and|cleanup|expect|where):/}),Prism.languages.insertBefore(\"groovy\",\"function\",{annotation:{pattern:/(^|[^.])@\\w+/,lookbehind:!0}}),Prism.hooks.add(\"wrap\",function(e){if(\"groovy\"===e.language&&\"string\"===e.type){var t=e.content[0];if(\"'\"!=t){var n=/([^\\\\])(\\$(\\{.*?\\}|[\\w\\.]+))/;\"$\"===t&&(n=/([^\\$])(\\$(\\{.*?\\}|[\\w\\.]+))/),e.content=Prism.highlight(e.content,{expression:{pattern:n,lookbehind:!0,inside:Prism.languages.groovy}}),e.classes.push(\"/\"===t?\"regex\":\"gstring\")}}});\nPrism.languages.java=Prism.languages.extend(\"clike\",{keyword:/\\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\\b/,number:/\\b0b[01]+\\b|\\b0x[\\da-f]*\\.?[\\da-fp\\-]+\\b|\\b\\d*\\.?\\d+(?:e[+-]?\\d+)?[df]?\\b/i,operator:{pattern:/(^|[^.])(?:\\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\\|[|=]?|\\*=?|\\/=?|%=?|\\^=?|[?:~])/m,lookbehind:!0}});\nPrism.languages.php=Prism.languages.extend(\"clike\",{keyword:/\\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\\b/i,constant:/\\b[A-Z0-9_]{2,}\\b/,comment:{pattern:/(^|[^\\\\])(?:\\/\\*[\\w\\W]*?\\*\\/|\\/\\/.*)/,lookbehind:!0}}),Prism.languages.insertBefore(\"php\",\"class-name\",{\"shell-comment\":{pattern:/(^|[^\\\\])#.*/,lookbehind:!0,alias:\"comment\"}}),Prism.languages.insertBefore(\"php\",\"keyword\",{delimiter:/\\?>|<\\?(?:php)?/i,variable:/\\$\\w+\\b/i,\"package\":{pattern:/(\\\\|namespace\\s+|use\\s+)[\\w\\\\]+/,lookbehind:!0,inside:{punctuation:/\\\\/}}}),Prism.languages.insertBefore(\"php\",\"operator\",{property:{pattern:/(->)[\\w]+/,lookbehind:!0}}),Prism.languages.markup&&(Prism.hooks.add(\"before-highlight\",function(e){\"php\"===e.language&&(e.tokenStack=[],e.backupCode=e.code,e.code=e.code.replace(/(?:<\\?php|<\\?)[\\w\\W]*?(?:\\?>)/gi,function(a){return e.tokenStack.push(a),\"{{{PHP\"+e.tokenStack.length+\"}}}\"}))}),Prism.hooks.add(\"before-insert\",function(e){\"php\"===e.language&&(e.code=e.backupCode,delete e.backupCode)}),Prism.hooks.add(\"after-highlight\",function(e){if(\"php\"===e.language){for(var a,n=0;a=e.tokenStack[n];n++)e.highlightedCode=e.highlightedCode.replace(\"{{{PHP\"+(n+1)+\"}}}\",Prism.highlight(a,e.grammar,\"php\").replace(/\\$/g,\"$$$$\"));e.element.innerHTML=e.highlightedCode}}),Prism.hooks.add(\"wrap\",function(e){\"php\"===e.language&&\"markup\"===e.type&&(e.content=e.content.replace(/(\\{\\{\\{PHP[0-9]+\\}\\}\\})/g,'<span class=\"token php\">$1</span>'))}),Prism.languages.insertBefore(\"php\",\"comment\",{markup:{pattern:/<[^?]\\/?(.*?)>/,inside:Prism.languages.markup},php:/\\{\\{\\{PHP[0-9]+\\}\\}\\}/}));\nPrism.languages.python={comment:{pattern:/(^|[^\\\\])#.*/,lookbehind:!0},string:/\"\"\"[\\s\\S]+?\"\"\"|'''[\\s\\S]+?'''|(\"|')(?:\\\\?.)*?\\1/,\"function\":{pattern:/((?:^|\\s)def[ \\t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\\()/g,lookbehind:!0},\"class-name\":{pattern:/(\\bclass\\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\\b/,\"boolean\":/\\b(?:True|False)\\b/,number:/\\b-?(?:0[bo])?(?:(?:\\d|0x[\\da-f])[\\da-f]*\\.?\\d*|\\.\\d+)(?:e[+-]?\\d+)?j?\\b/i,operator:/[-+%=]=?|!=|\\*\\*?=?|\\/\\/?=?|<[<=>]?|>[=>]?|[&|^~]|\\b(?:or|and|not)\\b/,punctuation:/[{}[\\];(),.:]/};\n!function(e){e.languages.ruby=e.languages.extend(\"clike\",{comment:/#(?!\\{[^\\r\\n]*?\\}).*/,keyword:/\\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\\b/});var n={pattern:/#\\{[^}]+\\}/,inside:{delimiter:{pattern:/^#\\{|\\}$/,alias:\"tag\"},rest:e.util.clone(e.languages.ruby)}};e.languages.insertBefore(\"ruby\",\"keyword\",{regex:[{pattern:/%r([^a-zA-Z0-9\\s\\{\\(\\[<])(?:[^\\\\]|\\\\[\\s\\S])*?\\1[gim]{0,3}/,inside:{interpolation:n}},{pattern:/%r\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)[gim]{0,3}/,inside:{interpolation:n}},{pattern:/%r\\{(?:[^#{}\\\\]|#(?:\\{[^}]+\\})?|\\\\[\\s\\S])*\\}[gim]{0,3}/,inside:{interpolation:n}},{pattern:/%r\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S])*\\][gim]{0,3}/,inside:{interpolation:n}},{pattern:/%r<(?:[^<>\\\\]|\\\\[\\s\\S])*>[gim]{0,3}/,inside:{interpolation:n}},{pattern:/(^|[^/])\\/(?!\\/)(\\[.+?]|\\\\.|[^/\\r\\n])+\\/[gim]{0,3}(?=\\s*($|[\\r\\n,.;})]))/,lookbehind:!0}],variable:/[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\\b)/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\\b)/}),e.languages.insertBefore(\"ruby\",\"number\",{builtin:/\\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\\b/,constant:/\\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\\b)/}),e.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\\s\\{\\(\\[<])(?:[^\\\\]|\\\\[\\s\\S])*?\\1/,inside:{interpolation:n}},{pattern:/%[qQiIwWxs]?\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)/,inside:{interpolation:n}},{pattern:/%[qQiIwWxs]?\\{(?:[^#{}\\\\]|#(?:\\{[^}]+\\})?|\\\\[\\s\\S])*\\}/,inside:{interpolation:n}},{pattern:/%[qQiIwWxs]?\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S])*\\]/,inside:{interpolation:n}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\\\]|\\\\[\\s\\S])*>/,inside:{interpolation:n}},{pattern:/(\"|')(#\\{[^}]+\\}|\\\\(?:\\r?\\n|\\r)|\\\\?.)*?\\1/,inside:{interpolation:n}}]}(Prism);\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-cockpit-definitions-plugin.html.js\");\n\nvar Controller = [\n  \"$scope\",\n  \"$q\",\n  \"camAPI\",\n  \"hasPlugin\",\n  function($scope, $q, camAPI, hasPlugin) {\n    // fields //////////////////////////////////////////////////////\n\n    var definitionsData = $scope.resourceData.newChild($scope);\n\n    var isBpmnResource = ($scope.isBpmnResource =\n      $scope.control.isBpmnResource);\n    var isCmmnResource = ($scope.isCmmnResource =\n      $scope.control.isCmmnResource);\n    var isDmnResource = ($scope.isDmnResource = $scope.control.isDmnResource);\n\n    var ProcessInstance = camAPI.resource(\"process-instance\");\n    var CaseInstance = camAPI.resource(\"case-instance\");\n    var DrdService = camAPI.resource(\"drd\");\n\n    var resource;\n\n    $scope.hasCasePlugin = hasPlugin(\n      \"cockpit.cases.dashboard\",\n      \"case-definition\"\n    );\n    $scope.hasDrdPlugin = hasPlugin(\n      \"cockpit.drd.definition.tab\",\n      \"decision-instance-table\"\n    );\n\n    // observe //////////////////////////////////////////////////////\n\n    $scope.pages = { current: 1, size: 50, total: 0 };\n\n    $scope.onPaginationChange = function() {\n      definitionsData.changed(\"definitions\");\n      $scope.loadingState = \"LOADING\";\n    };\n\n    definitionsData.observe(\"resource\", function() {\n      $scope.pages.current = 1;\n      $scope.loadingState = \"LOADING\";\n    });\n\n    definitionsData.observe([\"definitions\", \"pages\"], function(\n      definitions,\n      pages\n    ) {\n      $scope.pages = pages;\n\n      $scope.loadingState =\n        definitions && definitions.length ? \"LOADED\" : \"EMPTY\";\n      $scope.definitions = definitions;\n\n      if (definitions && definitions.length && !isDmnResource(resource)) {\n        loadInstancesCount(definitions);\n      }\n\n      if (isDmnResource(resource)) {\n        loadDecisionRequirementsDefinition(definitions);\n      }\n    });\n\n    definitionsData.observe(\"resource\", function(_resource) {\n      resource = $scope.resource = _resource;\n    });\n\n    // instances ///////////////////////////////////////////////////\n\n    var loadInstancesCount = function(definitions) {\n      function instancesCount(definition, query, Service) {\n        definition.instances = {\n          $loaded: false\n        };\n\n        Service.count(query, function(err, result) {\n          if (err) {\n            return (definition.instances.$error = true);\n          }\n\n          definition.instances.$loaded = true;\n          definition.instances.count = !isNaN(+result)\n            ? result\n            : result.count || \"0\";\n\n          var phase = $scope.$root.$$phase;\n          if (phase !== \"$apply\" && phase !== \"$digest\") {\n            $scope.$apply();\n          }\n        });\n      }\n\n      for (var i = 0, definition; (definition = definitions[i]); i++) {\n        var Service = null;\n        var query = null;\n\n        if (isBpmnResource(definition.resource)) {\n          Service = ProcessInstance;\n          query = {\n            processDefinitionId: definition.id\n          };\n        } else if (isCmmnResource(definition.resource)) {\n          Service = CaseInstance;\n          query = {\n            caseDefinitionId: definition.id\n          };\n        }\n\n        if (Service) {\n          instancesCount(definition, query, Service);\n        }\n      }\n    };\n\n    // drd //////////////////////////////////////////////////////////\n    var loadDecisionRequirementsDefinition = function(definitions) {\n      var drdId = definitions[0].decisionRequirementsDefinitionId;\n\n      $scope.drdLoadingState = drdId ? \"LOADING\" : \"EMPTY\";\n\n      if (drdId) {\n        DrdService.get(drdId, function(err, result) {\n          if (err) {\n            return ($scope.drdTextError = err);\n          }\n\n          $scope.drdLoadingState = \"LOADED\";\n          $scope.drd = result;\n\n          var phase = $scope.$root.$$phase;\n          if (phase !== \"$apply\" && phase !== \"$digest\") {\n            $scope.$apply();\n          }\n        });\n      }\n    };\n\n    // link ////////////////////////////////////////////////////////\n\n    $scope.getDefinitionLink = function(definition, resource) {\n      if (resource) {\n        var path = null;\n\n        if (isBpmnResource(resource)) {\n          path = \"process-definition\";\n        } else if (isDmnResource(resource)) {\n          path = \"decision-definition\";\n        } else if (isCmmnResource(resource)) {\n          path = \"case-definition\";\n        }\n\n        return \"#/\" + path + \"/\" + definition.id;\n      }\n    };\n\n    $scope.getDrdLink = function(definition) {\n      if (definition) {\n        return \"#/decision-requirement/\" + definition.id;\n      }\n    };\n  }\n];\n\nvar Configuration = function PluginConfiguration(ViewsProvider) {\n  ViewsProvider.registerDefaultView(\"cockpit.repository.resource.detail\", {\n    id: \"resource-details\",\n    label: \"DEFINITIONS_DEFINITIONS\",\n    template: template,\n    controller: Controller,\n    priority: 1000\n  });\n};\n\nConfiguration.$inject = [\"ViewsProvider\"];\n\nmodule.exports = Configuration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<div cam-widget-loader\n     loading-state=\"{{ loadingState }}\"\n     text-empty=\"{{ 'REPOSITORY_DEPLOYMENT_DEFINITIONS_TEXT_EMPTY_1' | translate }}\"\n     text-error=\"{{ textError }}\">\n  <table class=\"definitions cam-table\">\n    <thead>\n      <tr>\n        <th class=\"name\">{{ 'REPOSITORY_DEPLOYMENT_NAME' | translate }}</th>\n        <th class=\"key\">{{ 'REPOSITORY_DEPLOYMENT_KEY' | translate }}</th>\n        <th ng-if=\"!isDmnResource(resource)\"\n            class=\"instance-count\">{{ 'REPOSITORY_DEPLOYMENT_INSTANCE_COUNTS' | translate }}</th>\n        <th ng-if=\"isDmnResource(resource)\"\n            class=\"version\">{{ 'REPOSITORY_DEPLOYMENT_VERSION' | translate }}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat=\"definition in definitions\">\n        <td class=\"name\">\n          <a ng-if=\"!isCmmnResource(resource) || hasCasePlugin\"\n             ng-href=\"{{ getDefinitionLink(definition, resource) }}\">\n            {{ definition.name || definition.key || definition.id }}\n          </a>\n          <span ng-if=\"isCmmnResource(resource) && !hasCasePlugin\">\n            {{ definition.name || definition.key || definition.id }}\n          </span>\n        </td>\n\n        <td class=\"key\">\n          {{ definition.key }}\n        </td>\n\n        <td ng-if=\"!isDmnResource(resource)\"\n            class=\"instance-count\">\n          <span ng-if=\"!definition.instances.$loaded\">\n            <span class=\"glyphicon glyphicon-refresh animate-spin\"></span>&nbsp;{{ 'REPOSITORY_DEPLOYMENT_LOADING' | translate }}\n          </span>\n          <span ng-if=\"definition.instances.$loaded\">\n            {{ definition.instances.count }}\n          </span>\n          <span ng-if=\"definition.instances.$error\">\n            {{ 'REPOSITORY_DEPLOYMENT_COULD_NOT_LOAD' | translate }}\n          </span>\n        </td>\n\n        <td ng-if=\"isDmnResource(resource)\"\n            class=\"version\">\n          <span>\n            {{ definition.version }}\n          </span>\n        </td>\n\n      </tr>\n    </tbody>\n  </table>\n\n  <div ng-if=\"isDmnResource(resource)\">\n    <h4>{{ 'REPOSITORY_DEPLOYMENT_DECISION_TEXT' | translate }}</h4>\n    <div cam-widget-loader\n         loading-state=\"{{ drdLoadingState }}\"\n         text-empty=\"{{ 'REPOSITORY_DEPLOYMENT_DEFINITIONS_TEXT_EMPTY_2' | translate }}\"\n         text-error=\"{{ drdTextError }}\">\n      <table class=\"drd-definitions cam-table\">\n        <thead>\n          <tr>\n            <th class=\"name\">{{ 'REPOSITORY_DEPLOYMENT_NAME' | translate }}</th>\n            <th class=\"key\">{{ 'REPOSITORY_DEPLOYMENT_KEY' | translate }}</th>\n            <th class=\"version\">{{ 'REPOSITORY_DEPLOYMENT_VERSION' | translate }}</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td class=\"name\">\n              <a ng-if=\"hasDrdPlugin\"\n                 ng-href=\"{{ getDrdLink(drd) }}\">\n                {{ drd.name || drd.key || drd.id }}\n              </a>\n              <span ng-if=\"!hasDrdPlugin\">\n                {{ drd.name || drd.key || drd.id }}\n              </span>\n            </td>\n\n            <td class=\"key\">\n              {{ drd.key }}\n            </td>\n\n            <td class=\"version\">\n              {{ drd.version }}\n            </td>\n\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n\n  <ul uib-pagination ng-if=\"pages.total > pages.size\"\n      class=\"pagination-sm\"\n\n      page=\"pages.current\"\n      ng-model=\"pages.current\"\n      ng-change=\"onPaginationChange()\"\n\n      total-items=\"pages.total\"\n      items-per-page=\"pages.size\"\n\n      max-size=\"7\"\n      boundary-links=\"true\"></ul>\n</div>\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./cam-cockpit-resource-action-download-plugin.html.js\");\n\nvar Controller = [\n  \"$scope\",\n  function($scope) {\n    // fields ////////////////////////////////////////////\n\n    var downloadData = $scope.resourceDetailsData.newChild($scope);\n\n    // observe //////////////////////////////////////////\n\n    downloadData.observe(\"resource\", function(_resource) {\n      $scope.resource = _resource;\n    });\n\n    downloadData.observe(\"currentDeployment\", function(_deployment) {\n      $scope.deployment = _deployment;\n    });\n\n    // download link /////////////////////////////////////\n\n    $scope.downloadLink = $scope.control.downloadLink;\n  }\n];\n\nvar Configuration = function PluginConfiguration(ViewsProvider) {\n  ViewsProvider.registerDefaultView(\"cockpit.repository.resource.action\", {\n    id: \"download-resource\",\n    controller: Controller,\n    template: template,\n    priority: 100\n  });\n};\n\nConfiguration.$inject = [\"ViewsProvider\"];\n\nmodule.exports = Configuration;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # cockpit client/scripts/repository/resource/plugins/actions/download/cam-cockpit-resource-action-download-plugin.html -->\n<a class=\"download-resource\"\n   ng-href=\"{{ downloadLink(deployment, resource) }}\">\n  <span class=\"glyphicon glyphicon-download-alt\"></span> {{ 'REPOSITORY_DEPLOYMENT_DOWNLOAD_DOWNLOAD' | translate }}\n</a>\n<!-- / cockpit client/scripts/repository/resource/plugins/actions/download/cam-cockpit-resource-action-download-plugin.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = `<!-- # CE - camunda-cockpit-ui/client/scripts/pages/tasks.html -->\n<div class=\"ctn-view cockpit-section-dashboard tasks-dashboard\">\n  <view ng-repeat=\"plugin in plugins\"\n        class=\"dashboard-view\"\n        data-plugin-id=\"{{ plugin.id }}\"\n        provider=\"plugin\"></view>\n</div><!-- end .ctn-view -->\n<!-- / CE - camunda-cockpit-ui/client/scripts/pages/tasks.html -->\n`;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"./../../../camunda-commons-ui/vendor/angular\"),\n  transform = require(\"./transform\"),\n  variables = require(\"./variables\"),\n  breadcrumbTrails = require(\"./breadcrumbTrails\"),\n  queryMaxResults = require(\"./query-max-results\"),\n  routeUtil = require(\"./../../../common/scripts/services/routeUtil\"),\n  page = require(\"./../../../common/scripts/services/page\"),\n  camAPI = require(\"./../../../common/scripts/services/cam-api\"),\n  hasPlugin = require(\"./../../../common/scripts/services/has-plugin\"),\n  localConf = require(\"./../../../camunda-commons-ui/lib/services/cam-local-configuration\"),\n  typeUtils = require(\"./../../../common/scripts/services/typeUtils\"),\n  escapeHtml = require(\"./escapeHtml\");\n\nvar servicesModule = angular.module(\"cam.cockpit.services\", []);\n\nservicesModule.factory(\"Transform\", transform);\nservicesModule.factory(\"Variables\", variables);\nservicesModule.service(\"page\", page);\nservicesModule.factory(\"breadcrumbTrails\", breadcrumbTrails);\nservicesModule.factory(\"queryMaxResults\", queryMaxResults);\nservicesModule.factory(\"routeUtil\", routeUtil);\nservicesModule.factory(\"camAPI\", camAPI);\nservicesModule.factory(\"hasPlugin\", hasPlugin);\nservicesModule.factory(\"localConf\", localConf);\nservicesModule.factory(\"typeUtils\", typeUtils);\nservicesModule.factory(\"escapeHtml\", escapeHtml);\n\nexport default servicesModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\"),\n  shorten = require(\"./shorten\"),\n  abbreviateNumber = require(\"../../../camunda-commons-ui/lib/filter/abbreviateNumber\"),\n  duration = require(\"./duration\");\n\nvar filtersModule = angular.module(\"cam.cockpit.filters\", []);\n\nfiltersModule.filter(\"shorten\", shorten);\nfiltersModule.filter(\"abbreviateNumber\", abbreviateNumber);\nfiltersModule.filter(\"duration\", duration);\n\nexport default filtersModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport angular from \"angular\";\n\nexport default angular.module(\"ee-stub\", []);\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default function(pluginPoint, scope) {\n  let result = {};\n\n  switch (pluginPoint) {\n    case \"cockpit.processDefinition.runtime.tab\":\n    case \"cockpit.processDefinition.runtime.action\":\n    case \"cockpit.processDefinition.history.action\":\n    case \"cockpit.processDefinition.history.tab\":\n      result.processDefinitionId = scope.processDefinition.id;\n      break;\n\n    case \"cockpit.processInstance.runtime.tab\":\n    case \"cockpit.processInstance.runtime.action\":\n    case \"cockpit.processInstance.history.tab\":\n    case \"cockpit.processInstance.history.action\":\n      result.processInstanceId = scope.processInstance.id;\n      break;\n\n    case \"cockpit.processDefinition.diagram.plugin\":\n    case \"cockpit.processDefinition.history.diagram.plugin\":\n      result.processDefinitionId = scope.key;\n      break;\n\n    case \"cockpit.processInstance.diagram.plugin\":\n    case \"cockpit.processInstance.history.diagram.plugin\":\n      result.processInstanceId = window.location.hash.split(\"/\")[2];\n      break;\n\n    case \"cockpit.jobDefinition.action\":\n      result.jobDefinitionId = scope.jobDefinition.id;\n      break;\n\n    case \"cockpit.decisionDefinition.tab\":\n    case \"cockpit.decisionDefinition.action\":\n      result.decisionDefinitionId = scope.decisionDefinition.id;\n      break;\n\n    case \"cockpit.decisionInstance.tab\":\n    case \"cockpit.decisionInstance.action\":\n      result.decisionInstanceId = scope.decisionInstance.id;\n      break;\n\n    case \"cockpit.caseDefinition.tab\":\n    case \"cockpit.caseDefinition.action\":\n      result.caseDefinitionId = scope.definition.id;\n      break;\n\n    case \"cockpit.caseInstance.tab\":\n    case \"cockpit.caseInstance.action\":\n      result.caseInstanceId = scope.instance.id;\n      break;\n\n    case \"cockpit.repository.resource.action\":\n      result.deploymentId = scope.deployment.id;\n      result.resourceId = scope.resource.id;\n      break;\n\n    case \"cockpit.incident.action\":\n      result.incidentId = scope.incident.id;\n      break;\n\n    case \"cockpit.drd.definition.tab\":\n      result.drdDefinitionId = scope.tabsApi.getDefinition().id;\n      break;\n\n    case \"cockpit.drd.instance.tab\":\n      result.rootDecisionInstanceId = scope.tabsApi.processParams(\n        {}\n      ).rootDecisionInstanceId;\n      break;\n\n    case \"cockpit.processDefinition.diagram.action\":\n    case \"cockpit.processDefinition.history.diagram.action\":\n      result.viewer = scope.viewer;\n      result.processDefinitionId = window.location.hash.split(\"/\")[2];\n      break;\n\n    case \"cockpit.processes.action\":\n      result.processDefinitionId = scope.pd.id;\n      break;\n\n    case \"cockpit.repository.deployment.action\":\n      result.deploymentId = scope.deployment.id;\n      break;\n\n    default:\n      result = {};\n      break;\n  }\n\n  return result;\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getLocale } from \"utils/config\";\n\nexport default function translate(translateString, placeholder) {\n  const locale = getLocale().labels;\n\n  const translated = locale[translateString];\n  placeholder = placeholder || {};\n\n  if (!translated) {\n    return translateString;\n  }\n\n  return injectData(translated, placeholder);\n}\n\nfunction injectData(template, data) {\n  return template.replace(/\\{\\{([\\w.]*)\\}\\}/g, (str, key) => {\n    return data[key] || str;\n  });\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport translate from \"./translation\";\n\nexport default function(id, label, priority, path) {\n  return {\n    id: \"cockpit.\" + id,\n    pluginPoint: \"cockpit.navigation\",\n    priority: priority,\n    render: () => <Link to={\"/\" + id}>{translate(label)}</Link>,\n    properties: {\n      path: path || id\n    }\n  };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport navFactory from \"utils/cockpitNavigationFactory\";\n\nexport const processes = navFactory(\n  \"processes\",\n  \"COCKPIT_PROCESSES\",\n  100,\n  /(process|migration)/\n);\nexport const decisions = navFactory(\n  \"decisions\",\n  \"COCKPIT_DECISIONS\",\n  90,\n  \"decision\"\n);\nexport const tasks = navFactory(\"tasks\", \"COCKPIT_HUMAN_TASKS\", 80);\nexport const repository = navFactory(\"repository\", \"COCKPIT_DEPLOYMENTS\", -5);\nexport const batch = navFactory(\"batch\", \"COCKPIT_BATCHES\", -6, /batch(?!\\/)/);\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as cockpitNavigation from \"./cockpit.navigation\";\n\nexport default [...Object.values(cockpitNavigation)];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default [];\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport buildInPlugins from \"../../plugins\";\nimport eePlugins from \"../../enterprise\";\nimport defaultConfig from \"./defaultConfig.json\";\n\nconst inProduction = process.env.NODE_ENV === \"production\";\n\nlet config = {};\n\nfunction getLanguage() {\n  const nav = window.navigator;\n  const browserLang = (\n    (Array.isArray(nav.languages)\n      ? nav.languages[0]\n      : nav.language ||\n        nav.browserLanguage ||\n        nav.systemLanguage ||\n        nav.userLanguage) || \"\"\n  ).split(\"-\");\n\n  return browserLang[0].toLowerCase();\n}\n\nfunction addCssSource(url) {\n  var link = document.createElement(\"link\");\n  link.rel = \"stylesheet\";\n  link.type = \"text/css\";\n  link.href = url;\n  document.head.appendChild(link);\n}\n\nconst getExcludedPlugins = () => {\n  const excludeString =\n    document.querySelector(\"base\").getAttribute(\"cam-exclude-plugins\") || \"\";\n\n  const excluded = excludeString.split(\",\").map(element => {\n    let pluginPoint = element.trim().split(\":\");\n    if (pluginPoint.length < 2) pluginPoint.push(\"*\");\n    return pluginPoint;\n  });\n  return excluded;\n};\n\nfunction withSuffix(string, suffix) {\n  return !string.endsWith(suffix) ? string + suffix : string;\n}\n\nasync function loadPlugins() {\n  const excludedPlugins = getExcludedPlugins();\n  const excludedPluginsFilter = plugin => {\n    return !excludedPlugins.some(\n      el =>\n        plugin.pluginPoint === el[0] && (el[1] === \"*\" || el[1] === plugin.id)\n    );\n  };\n\n  const customScripts = config.customScripts;\n  const JARScripts = window.JAR_PLUGINS.map(el => {\n    addCssSource(`${el.location}/plugin.css`);\n    return `${el.location}/${el.main}`;\n  });\n\n  const fetchers = customScripts.map(url =>\n    import(/* webpackIgnore: true */ \"../../\" + withSuffix(url, \".js\"))\n  );\n\n  fetchers.push(\n    ...JARScripts.map(url => import(/* webpackIgnore: true */ url))\n  );\n\n  const loadedPlugins = (await Promise.all(fetchers)).reduce((acc, module) => {\n    const plugins = module.default;\n    if (!plugins) {\n      return acc;\n    }\n\n    if (Array.isArray(plugins)) {\n      acc.push(...plugins);\n    } else {\n      acc.push(plugins);\n    }\n    return acc;\n  }, []);\n\n  const combinedPlugins = [...buildInPlugins, ...eePlugins, ...loadedPlugins];\n  config.plugins = combinedPlugins.filter(excludedPluginsFilter);\n}\n\nasync function loadLocale() {\n  const locales = config.locales;\n  const availableLanguages = locales.availableLocales;\n  const preferredLanguage = getLanguage();\n  const fallbackLanguage = locales.fallbackLocale;\n\n  const isPreferredLanguageAvailable =\n    availableLanguages.includes(preferredLanguage) &&\n    preferredLanguage !== fallbackLanguage;\n  const localesToLoad = isPreferredLanguageAvailable\n    ? [fallbackLanguage, preferredLanguage] // Order is important, defaultLanguage always first\n    : [fallbackLanguage];\n\n  const loadedLocales = await Promise.all(\n    localesToLoad.map(\n      async local =>\n        await (\n          await fetch(\n            inProduction ? `../locales/${local}.json` : `/locales/${local}.json`\n          )\n        ).json()\n    )\n  );\n\n  if (!isPreferredLanguageAvailable) {\n    config.locale = loadedLocales[0];\n    return;\n  }\n  const fallbackLocale = loadedLocales[0];\n  const preferredLocale = loadedLocales[1];\n  for (let key in fallbackLocale) {\n    preferredLocale[key] = preferredLocale[key]\n      ? { ...fallbackLocale[key], ...preferredLocale[key] }\n      : fallbackLocale[key];\n  }\n\n  config.locale = preferredLocale;\n}\n\nasync function loadBpmnJsExtensions() {\n  const bpmnJsConf = config[\"bpmnJs\"] || {};\n\n  const moduleFetchers = bpmnJsConf.additionalModules.map(url =>\n    import(/* webpackIgnore: true */ \"../../\" + withSuffix(url, \".js\"))\n  );\n\n  const modulePromise = Promise.all(moduleFetchers).then(result => {\n    bpmnJsConf.loadedModules = result.map(module => module.default);\n  });\n\n  // moddleExtensions\n  const moddlePromises = [];\n\n  for (const key in bpmnJsConf.moddleExtensions) {\n    const path = withSuffix(bpmnJsConf.moddleExtensions[key], \".json\");\n\n    moddlePromises.push(\n      fetch(inProduction ? `../${path}` : `/${path}`)\n        .then(res => res.json())\n        .then(json => {\n          bpmnJsConf.moddleExtensions[key] = json;\n        })\n    );\n  }\n\n  return await Promise.all([modulePromise, ...moddlePromises]);\n}\n\nexport async function loadConfig() {\n  let loadedConfig = (\n    await import(/* webpackIgnore: true */ \"../../scripts/config.js\")\n  ).default;\n  config = { ...defaultConfig, ...loadedConfig };\n  await Promise.all([loadPlugins(), loadLocale(), loadBpmnJsExtensions()]);\n  return config;\n}\n\nexport const getConfig = () => config;\nexport const getLocale = () => config[\"locale\"];\nexport const getPlugins = () => config[\"plugins\"];\nexport const getCSRFCookieName = () => config[\"csrfCookieName\"];\n\nexport default config;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getCSRFCookieName } from \"utils/config\";\n\nconst handlers = [];\n\nexport function put(url, body, options = {}) {\n  return request({\n    url,\n    body,\n    method: \"PUT\",\n    ...options\n  });\n}\n\nexport function post(url, body, options = {}) {\n  return request({\n    url,\n    body,\n    method: \"POST\",\n    ...options\n  });\n}\n\nexport function get(url, query, options = {}) {\n  return request({\n    url,\n    query,\n    method: \"GET\",\n    ...options\n  });\n}\n\nexport function del(url, query, options = {}) {\n  return request({\n    url,\n    query,\n    method: \"DELETE\",\n    ...options\n  });\n}\n\nexport function addHandler(fct, priority = 0) {\n  handlers.push({ fct, priority });\n  handlers.sort((a, b) => b.priority - a.priority);\n}\n\nexport function removeHandler(fct) {\n  handlers.splice(\n    handlers.indexOf(handlers.find(entry => entry.fct === fct)),\n    1\n  );\n}\n\nexport function getCSRFToken() {\n  const CSRFCookieName = getCSRFCookieName();\n  return document.cookie.replace(\n    new RegExp(`(?:(?:^|.*;*)${CSRFCookieName}*=*([^;]*).*$)|^.*$`),\n    \"$1\"\n  );\n}\n\nexport async function request(payload) {\n  const { url, method, body, query, headers } = payload;\n  const resourceUrl = query\n    ? `${replaceApiPlaceholders(url)}?${formatQuery(query)}`\n    : replaceApiPlaceholders(url);\n\n  const XSRFToken = getCSRFToken();\n\n  let requestHeaders = {\n    \"Content-Type\": \"application/json\",\n    \"X-Authorized-Engine\": \"default\",\n    Accept: \"application/json, text/plain, */*\",\n    ...headers\n  };\n\n  if (XSRFToken) {\n    requestHeaders[\"X-XSRF-TOKEN\"] = XSRFToken;\n  }\n\n  let response = await fetch(resourceUrl, {\n    method,\n    body: processBody(body),\n    headers: requestHeaders,\n    mode: \"cors\",\n    credentials: \"same-origin\"\n  });\n\n  for (let i = 0; i < handlers.length; i++) {\n    response = await handlers[i].fct(response, payload);\n  }\n\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  } else {\n    throw response;\n  }\n}\n\nexport function formatQuery(query) {\n  return Object.keys(query).reduce((queryStr, key) => {\n    const value = query[key];\n\n    if (Array.isArray(value)) {\n      const str = value.map(val => `${key}=${val}`).join(\"&\");\n      if (!str) {\n        return queryStr;\n      }\n      return queryStr === \"\" ? str : queryStr + \"&\" + str;\n    }\n\n    if (queryStr === \"\") {\n      return `${key}=${encodeURIComponent(value)}`;\n    }\n\n    return `${queryStr}&${key}=${encodeURIComponent(value)}`;\n  }, \"\");\n}\n\nfunction processBody(body) {\n  if (typeof body === \"string\") {\n    return body;\n  }\n\n  return JSON.stringify(body);\n}\n\nfunction replaceApiPlaceholders(url) {\n  const base = document.querySelector(\"base\");\n  const engine = window.location.href.replace(/.*cockpit\\/([^/]*).*/, \"$1\");\n\n  return (\n    url\n      .replace(\"%ADMIN_API%\", base.getAttribute(\"admin-api\").slice(0, -1))\n      .replace(\"%COCKPIT_API%\", base.getAttribute(\"cockpit-api\").slice(0, -1))\n      .replace(\n        \"%ENGINE_API%\",\n        base.getAttribute(\"engine-api\") + \"engine/\" + engine\n      )\n      .replace(\"%ENGINE%\", engine)\n      .replace(\"%API%\", base.getAttribute(\"engine-api\"))\n      // Remove double slashes\n      .replace(/([^:])(\\/\\/+)/g, \"$1/\")\n  );\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getCSRFToken } from \"utils/request\";\n\nexport default function(params) {\n  const base = document.querySelector(\"base\");\n  const engine = window.location.href.replace(/.*cockpit\\/([^/]*).*/, \"$1\");\n\n  return {\n    api: {\n      adminApi: base.getAttribute(\"admin-api\").slice(0, -1),\n      baseApi: base.getAttribute(\"engine-api\").slice(0, -1),\n      cockpitApi: base.getAttribute(\"cockpit-api\").slice(0, -1),\n      engineApi: base.getAttribute(\"engine-api\") + \"engine/\" + engine,\n      engine,\n      CSRFToken: getCSRFToken()\n    },\n    ...params\n  };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getPlugins } from \"utils/config\";\nimport addApiAttributes from \"./addApiAttributes\";\n\nexport default function PluginPoint({\n  location,\n  renderIn = \"div\",\n  wrapPlugins: PluginWrapper = ({ children }) => children,\n  filter = () => true,\n  additionalData: data = {}\n}) {\n  const plugins = getPlugins();\n\n  const pluginsToShow = plugins\n    .filter(({ pluginPoint }) => pluginPoint === location)\n    .filter(filter)\n    .sort((a, b) => b.priority - a.priority);\n\n  return pluginsToShow.map(plugin => (\n    <PluginWrapper key={plugin.id} {...plugin}>\n      <Plugin renderIn={renderIn} data={data} {...plugin} />\n    </PluginWrapper>\n  ));\n}\n\nfunction Plugin({\n  render,\n  unmount,\n  renderIn: ContainerComponent,\n  data,\n  pluginPoint\n}) {\n  const urlParams = useParams();\n\n  const params = pluginPoint === \"cockpit.route\" ? urlParams : data;\n\n  const ref = useRef(null);\n  const [reactContent, setReactContent] = useState();\n\n  useEffect(() => {\n    setReactContent(render(ref.current, addApiAttributes(params)));\n    return unmount;\n  }, [render, unmount, params]);\n\n  return <ContainerComponent ref={ref}>{reactContent}</ContainerComponent>;\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst notifications = [];\nconst consumers = [];\n\nfunction escapeHtml(html) {\n  var text = document.createTextNode(html);\n  var div = document.createElement(\"div\");\n  div.appendChild(text);\n  return div.innerHTML;\n}\n\n/**\n *\n * Notification object may specify the following fields:\n *   type: type of the notification (info, warning, danger, success)\n *   status: main status line\n *   message: detail message\n *   unsafe: boolean, indicates that status and message should not be sanitized\n *   duration: time duration in ms the notification should be shown to the user\n *   exclusive: boolean || array of attribute names that notification should be exclusive with\n *   scope: notification will be removed when the specified scope is destroyed\n *\n * @param notification {notification}\n * @returns {undefined}\n */\n\nexport function addError(error) {\n  if (!error.type) {\n    error.type = \"danger\";\n  }\n\n  add(error);\n}\n\nexport function addMessage(message) {\n  if (!message.type) {\n    message.type = \"info\";\n  }\n\n  add(message);\n}\n\nexport function add(notification) {\n  const exclusive = notification.exclusive;\n\n  if (!notification.unsafe) {\n    notification.status = escapeHtml(notification.status);\n    notification.message = escapeHtml(notification.message || \"\");\n  }\n\n  if (exclusive) {\n    if (typeof exclusive == \"boolean\") {\n      clearAll();\n    } else {\n      var filter = {};\n      exclusive.forEach(key => {\n        filter[key] = notification[key];\n      });\n\n      clear(filter);\n    }\n  }\n\n  notifications.push(notification);\n\n  for (var i = consumers.length - 1, c; (c = consumers[i]); i--) {\n    // add to first interested consumer only\n    if (c.add(notification)) {\n      break;\n    }\n  }\n\n  if (notification.duration) {\n    window.setTimeout(function() {\n      if (notification.scope) {\n        delete notification.scope;\n      }\n      clear(notification);\n    }, notification.duration);\n  }\n\n  if (notification.scope) {\n    notification.scope.$on(\"$destroy\", function() {\n      // remove the scope from the notification object to resolve circular dependency\n      // when clearing the notification\n      delete notification.scope;\n      clear(notification);\n    });\n  }\n}\n\nexport function clear(notification) {\n  var removeCandidates = [];\n\n  if (typeof notification == \"string\") {\n    notification = { status: notification };\n    removeCandidates = notifications.filter(\n      candidate => candidate.status === notification.status\n    );\n  }\n\n  removeCandidates.push(notification);\n\n  removeCandidates.forEach(e => {\n    var idx = notifications.indexOf(e);\n    if (idx !== -1) {\n      notifications.splice(idx, 1);\n    }\n\n    consumers.forEach(consumer => {\n      consumer.remove(e);\n    });\n  });\n}\n\nexport function clearAll() {\n  while (notifications.length) {\n    var notification = notifications.pop();\n    clear(notification);\n  }\n}\n\nexport function registerConsumer(consumer, index) {\n  if (typeof index === \"number\" && consumers.length > index) {\n    consumers.splice(index, 0, consumer);\n    return index;\n  } else {\n    return consumers.push(consumer) - 1;\n  }\n}\n\nexport function unregisterConsumer(consumer) {\n  var idx = consumers.indexOf(consumer);\n\n  if (idx !== -1) {\n    consumers.splice(idx, 1);\n  }\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport angular from \"angular\";\n\nimport camCommonsModule from \"./legacy/camunda-commons-ui/lib\";\nimport pluginsModule from \"./legacy/plugins\";\nimport services from \"./legacy/client/scripts/services/main\";\nimport resources from \"./legacy/client/scripts/resources/main\";\nimport filters from \"./legacy/client/scripts/filters/main\";\nimport directives from \"./legacy/client/scripts/directives/main\";\nimport eePlugins from \"./enterprise/cockpit/cockpitPluginsEE\";\n\nimport getPassthroughData from \"utils/angularToReactPluginInterface\";\n\nimport $ from \"jquery\";\n\nimport dataDepend from \"angular-data-depend/src/dataDepend\";\nimport { getPlugins, getConfig, getLocale } from \"utils/config\";\nimport { addApiAttributes } from \"utils/PluginPoint\";\nimport * as notifications from \"utils/notifications\";\n\nexport default function setup(module) {\n  const config = getConfig();\n  const locale = getLocale().labels;\n  const plugins = getPlugins();\n\n  module.requires.push(\n    camCommonsModule.name,\n    dataDepend.name,\n    pluginsModule.name,\n    services.name,\n    resources.name,\n    filters.name,\n    directives.name,\n    eePlugins.name\n  );\n\n  angular.module(\"cam.commons.util\").service(\"Notifications\", function() {\n    // Needs to be a 'real' function due to arrow functions not binding 'this' or 'super'\n    return notifications;\n  });\n\n  plugins.forEach(plugin => {\n    const pluginDirectiveUID = Math.random()\n      .toString(36)\n      .substring(2);\n\n    // overlay function for diagram overlay plugins\n    plugin.overlay = [\n      \"control\",\n      \"$scope\",\n      ({ getViewer }, scope) => {\n        plugin.render(\n          getViewer(),\n          addApiAttributes(getPassthroughData(plugin.pluginPoint, scope)),\n          scope // The 'scope' argument is deprecated and should not be used - it will be removed in future releases\n        );\n        scope.$on(\"$destroy\", plugin.unmount);\n      }\n    ];\n\n    module.directive(\"pluginBridge\" + pluginDirectiveUID, [\n      function() {\n        return {\n          link: function(scope, element) {\n            const isolatedContainer = document.createElement(\"div\");\n            plugin.render(\n              isolatedContainer,\n              addApiAttributes(getPassthroughData(plugin.pluginPoint, scope)),\n              scope // The 'scope' argument is deprecated and should not be used - it will be removed in future releases\n            );\n\n            element[0].appendChild(isolatedContainer);\n            scope.$on(\"$destroy\", plugin.unmount);\n          }\n        };\n      }\n    ]);\n\n    module.config([\n      \"ViewsProvider\",\n      function(ViewsProvider) {\n        ViewsProvider.registerDefaultView(plugin.pluginPoint, {\n          ...plugin.properties, // For backwards-compatibility with 'label' property\n          ...plugin,\n          template: `<div plugin-bridge${pluginDirectiveUID} />`\n        });\n      }\n    ]);\n  });\n\n  module.config([\n    \"$httpProvider\",\n    function($httpProvider) {\n      $httpProvider.defaults.xsrfCookieName = config.csrfCookieName;\n    }\n  ]);\n\n  module.provider(\n    \"configuration\",\n    require(\"./legacy/common/scripts/services/cam-configuration\")(\n      config,\n      \"Cockpit\"\n    )\n  );\n\n  module.config([\n    \"$translateProvider\",\n    function($translateProvider) {\n      // add translation table\n      $translateProvider.translations(\"en\", locale).preferredLanguage(\"en\");\n      $translateProvider.useSanitizeValueStrategy(\"escapeParameters\");\n    }\n  ]);\n\n  module.config([\n    \"camDateFormatProvider\",\n    function(camDateFormatProvider) {\n      var formats = {\n        monthName: \"MMMM\",\n        day: \"DD\",\n        abbr: \"lll\",\n        normal: \"YYYY-MM-DD[T]HH:mm:ss\", // yyyy-MM-dd'T'HH:mm:ss => 2013-01-23T14:42:45\n        long: \"LLLL\",\n        short: \"LL\"\n      };\n\n      for (var f in formats) {\n        camDateFormatProvider.setDateFormat(formats[f], f);\n      }\n    }\n  ]);\n\n  module.config([\n    \"$routeProvider\",\n    \"UriProvider\",\n    \"$uibModalProvider\",\n    \"$uibTooltipProvider\",\n    \"$locationProvider\",\n    \"$animateProvider\",\n    \"$qProvider\",\n    function(\n      $routeProvider,\n      UriProvider,\n      $modalProvider,\n      $tooltipProvider,\n      $locationProvider,\n      $animateProvider,\n      $qProvider\n    ) {\n      UriProvider.replace(\":appName\", \"cockpit\");\n      UriProvider.replace(\"app://\", getUri(\"href\"));\n      UriProvider.replace(\"adminbase://\", getUri(\"app-root\") + \"/app/admin/\");\n      UriProvider.replace(\n        \"tasklistbase://\",\n        getUri(\"app-root\") + \"/app/tasklist/\"\n      );\n      UriProvider.replace(\"cockpit://\", getUri(\"cockpit-api\"));\n      UriProvider.replace(\n        \"admin://\",\n        getUri(\"admin-api\") || getUri(\"cockpit-api\") + \"../admin/\"\n      );\n      UriProvider.replace(\"plugin://\", getUri(\"cockpit-api\") + \"plugin/\");\n      UriProvider.replace(\"engine://\", getUri(\"engine-api\"));\n\n      UriProvider.replace(\":engine\", [\n        \"$window\",\n        function($window) {\n          var uri = $window.location.href;\n\n          var match = uri.match(/\\/app\\/cockpit\\/([\\w-]+)(|\\/)/);\n          if (match) {\n            return match[1];\n          } else {\n            throw new Error(\"no process engine selected\");\n          }\n        }\n      ]);\n\n      $modalProvider.options = {\n        animation: true,\n        backdrop: true,\n        keyboard: true\n      };\n\n      $tooltipProvider.options({\n        animation: true,\n        popupDelay: 100,\n        appendToBody: true\n      });\n\n      $locationProvider.hashPrefix(\"\");\n\n      $animateProvider.classNameFilter(/angular-animate/);\n\n      $qProvider.errorOnUnhandledRejections(false);\n    }\n  ]);\n}\n\nfunction getUri(id) {\n  var uri = $(\"base\").attr(id);\n  if (!id) {\n    throw new Error(\"Uri base for \" + id + \" could not be resolved\");\n  }\n\n  return uri;\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useRef, useEffect } from \"react\";\n\nimport setup from \"./angularModuleSetup\";\n\nimport angular from \"angular\";\n\nexport default function AngularApp({ component }) {\n  const ref = useRef(null);\n\n  useEffect(() => {\n    const promise = new Promise(resolve => {\n      const { node, module } = component();\n\n      setup(module);\n\n      const domNode = ref.current;\n      domNode.appendChild(node);\n\n      node.classList.add(\"angular-app\");\n\n      angular.bootstrap(node, [module.name]);\n      resolve({ node, domNode });\n    });\n\n    return () => {\n      promise.then(({ node, domNode }) => {\n        angular\n          .element(node)\n          .scope()\n          .$destroy();\n        domNode.removeChild(node);\n      });\n    };\n  }, [component]);\n\n  return <div ref={ref} />;\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport \"./Footer.scss\";\nimport translate from \"utils/translation\";\n\nconst buildVersion = process.env.REACT_APP_VERSION || \"REACT-SNAPSHOT\";\n\nexport default function Footer() {\n  const timezoneName = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n  return (\n    <footer className=\"Footer\">\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-xs-6 timezone\">\n            {translate(\"CAM_WIDGET_FOOTER_TIMEZONE\")} <i>{timezoneName}</i>\n          </div>\n          <div className=\"col-xs-6\">\n            {translate(\"CAM_WIDGET_FOOTER_POWERED_BY\")}\n            <a href=\"http://camunda.org\"> camunda BPM / </a>\n            <span className=\"version\">v{buildVersion}</span>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { createContext, useContext, useState, useEffect } from \"react\";\n\nimport { get } from \"utils/request\";\n\nconst UserContext = createContext();\n\nlet previousUrl;\n\nwindow.addEventListener(\"hashchange\", function(event) {\n  if (event.newURL.includes(\"#/login\")) {\n    previousUrl = event.oldURL;\n  }\n});\n\nexport function UserProvider({ children }) {\n  const [user, setUser] = useState(null);\n\n  const refreshUser = async () => {\n    try {\n      const user = await (await get(\"%ADMIN_API%/auth/user/%ENGINE%\")).json();\n\n      user.profile = await (\n        await get(`%ENGINE_API%/user/${user.userId}/profile`)\n      ).json();\n\n      if (\n        user &&\n        ((previousUrl && window.location.href.includes(\"/dashboard\")) || // redirect after login\n          window.location.href.includes(\"/login\")) // Navigated to login when logged in\n      ) {\n        window.location.href = previousUrl || \"#/dashboard\";\n        previousUrl = null;\n      }\n\n      setUser(user);\n      return user;\n    } catch (err) {\n      if (err.status === 404) {\n        window.location.href = \"#/login\";\n      }\n      setUser(null);\n    }\n  };\n\n  useEffect(() => {\n    refreshUser();\n  }, []);\n\n  return (\n    <UserContext.Provider value={{ user, refreshUser }}>\n      {children}\n    </UserContext.Provider>\n  );\n}\n\nexport default Component => props => (\n  <Component {...useContext(UserContext)} {...props} />\n);\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport classNames from \"classnames\";\n\nimport DropdownOption from \"./DropdownOption\";\nimport \"./Dropdown.scss\";\n\nexport default function Dropdown({ title, children, position }) {\n  const [isOpen, setIsOpen] = useState(false);\n  const ref = useRef(null);\n\n  useEffect(() => {\n    const handleClick = ({ target }) => {\n      // Close if we click outside of the menu or on a Option\n      if (\n        isOpen &&\n        (!ref.current.contains(target) || target.closest(\".DropdownOption\"))\n      ) {\n        setIsOpen(false);\n      }\n    };\n\n    document.body.addEventListener(\"click\", handleClick, true);\n    return () => {\n      document.body.removeEventListener(\"click\", handleClick, true);\n    };\n  }, [isOpen]);\n\n  return (\n    <div className=\"Dropdown\" ref={ref}>\n      <div\n        className=\"title\"\n        onClick={() => {\n          setIsOpen(!isOpen);\n        }}\n      >\n        {title}\n      </div>\n      <ul className={classNames(\"menu\", position, { open: isOpen })}>\n        {children}\n      </ul>\n    </div>\n  );\n}\n\nDropdown.Option = DropdownOption;\nDropdown.Divider = function Divider() {\n  return <li className=\"divider\"></li>;\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport classNames from \"classnames\";\nimport \"./DropdownOption.scss\";\n\nexport default function DropdownOption({ children, className, onClick }) {\n  return (\n    <li className={classNames(className, \"DropdownOption\")}>\n      <button onClick={onClick}>{children}</button>\n    </li>\n  );\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport classNames from \"classnames\";\n\nimport \"./LinkButton.scss\";\n\nexport default function LinkButton({ className, onClick, children }) {\n  return (\n    <button className={classNames(\"LinkButton\", className)} onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\n\nimport \"./LoadingIndicator.scss\";\nimport classNames from \"classnames\";\n\nexport default function LoadingIndicator({ fullscreen }) {\n  return (\n    <div\n      className={classNames(\n        \"LoadingIndicator\",\n        fullscreen ? \"fullscreen\" : null\n      )}\n    >\n      <span className=\"spinner spinner-big\" />\n    </div>\n  );\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport classNames from \"classnames\";\n\nimport { registerConsumer, unregisterConsumer } from \"utils/notifications\";\n\nimport \"./Notifications.scss\";\n\nexport default function Notifications({ className }) {\n  const [notifications, setNotifications] = useState([]);\n  const [consumerIndex, setConsumerIndex] = useState(null);\n\n  const removeNotification = useCallback(\n    notification => {\n      notifications.splice(notifications.indexOf(notification), 1);\n      setNotifications([...notifications]);\n    },\n    [notifications]\n  );\n\n  useEffect(() => {\n    const consumer = {\n      add: notification => {\n        setNotifications([...notifications, notification]);\n        return true;\n      },\n      remove: removeNotification\n    };\n    setConsumerIndex(registerConsumer(consumer, consumerIndex));\n    return () => {\n      unregisterConsumer(consumer);\n    };\n  }, [consumerIndex, notifications, removeNotification]);\n\n  return (\n    <div className={classNames(\"Notifications notifications-panel\", className)}>\n      <div>\n        {notifications.map((notification, index) => (\n          <div\n            key={index}\n            className={classNames(\n              \"notification\",\n              \"alert\", // Bootstrap classes\n              \"alert-\" + notification.type\n            )}\n          >\n            <button\n              className=\"close\"\n              onClick={() => removeNotification(notification)}\n            >\n              \n            </button>\n            <strong className=\"status\">{notification.status}:</strong>\n            <span\n              className=\"message\"\n              // The Notification service returns escaped strings or trusted html\n              dangerouslySetInnerHTML={{ __html: notification.message }}\n            />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport classNames from \"classnames\";\n\nimport \"./Table.scss\";\nimport { LinkButton } from \"components/LinkButton\";\n\nexport default function Table({ head, children }) {\n  return (\n    <table className=\"Table\">\n      <thead>\n        <tr>{head}</tr>\n      </thead>\n      <tbody>{children}</tbody>\n    </table>\n  );\n}\n\nTable.Head = function Head({ children, sortOrder, onSort }) {\n  if (!onSort) {\n    return <th className=\"TableHead\">{children}</th>;\n  }\n\n  let sortIcon;\n  switch (sortOrder) {\n    case \"asc\":\n      sortIcon = \"glyphicon-chevron-up\";\n      break;\n\n    case \"desc\":\n      sortIcon = \"glyphicon-chevron-down\";\n      break;\n\n    default:\n      sortIcon = \"glyphicon-minus\";\n      break;\n  }\n\n  return (\n    <th className=\"TableHead\">\n      {children} &nbsp;\n      <LinkButton onClick={onSort}>\n        <span className={classNames(\"glyphicon\", sortIcon)}></span>\n      </LinkButton>\n    </th>\n  );\n};\n\nTable.Row = function Row({ children }) {\n  return <tr className=\"TableRow\">{children}</tr>;\n};\n\nTable.Cell = function Cell({ children, className }) {\n  return <td className={classNames(\"TableCell\", className)}>{children}</td>;\n};\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default function pathUtil(id) {\n  var uri = document.getElementsByTagName(\"base\")[0].getAttribute(id);\n\n  if (!id) {\n    throw new Error(\"Uri base for \" + id + \" could not be resolved\");\n  }\n\n  if (id === \"engine\") {\n    return window.location.href.replace(/.*cockpit\\/([^/]*).*/, \"$1\");\n  }\n\n  return uri;\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport classNames from \"classnames\";\n\nimport \"./Tooltip.scss\";\n\nexport default function Tooltip({ title, children, position }) {\n  return (\n    <div className={classNames(\"Tooltip\", position ? position : \"right\")}>\n      <div className=\"title\">{title}</div>\n      <div className=\"text\">{children}</div>\n    </div>\n  );\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\n\nimport \"./SmallScreenSwitch.scss\";\n\nfunction SmallScreenSwitch({ children, smallContent }) {\n  return (\n    <>\n      <div className=\"SmallScreenSwitch normalScreen\">{children}</div>\n      <div className=\"SmallScreenSwitch smallScreen\">{smallContent}</div>\n    </>\n  );\n}\n\nexport default SmallScreenSwitch;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useState, useEffect } from \"react\";\nimport { Dropdown } from \"components\";\nimport { get } from \"utils/request\";\nimport pathUtil from \"utils/paths\";\nimport translate from \"utils/translation\";\nimport Tooltip from \"components/Tooltip\";\n\nimport \"./EngineSelect.scss\";\nimport SmallScreenSwitch from \"./SmallScreenSwitch\";\n\nexport default function EngineSelect() {\n  const [engines, setEngines] = useState(null);\n\n  useEffect(() => {\n    (async () => {\n      const data = await (await get(\"%API%/engine\")).json();\n\n      setEngines(data);\n    })();\n  }, []);\n\n  if (!engines || engines.length === 1) {\n    return null;\n  }\n\n  return (\n    <div className=\"EngineSelect\">\n      <SmallScreenSwitch>\n        <Tooltip\n          title={<span className=\"glyphicon glyphicon-info-sign\" />}\n          position=\"bottom\"\n        >\n          {translate(\"DIRECTIVE_ENGINE_SELECT_TOOLTIP\")}\n        </Tooltip>\n      </SmallScreenSwitch>\n      <Dropdown\n        position=\"right\"\n        title={\n          <SmallScreenSwitch\n            smallContent={<span className=\"glyphicon glyphicon-hdd\" />}\n          >\n            <span>{pathUtil(\"engine\")}</span>\n          </SmallScreenSwitch>\n        }\n      >\n        {engines.map(engine => {\n          const name = engine.name;\n          return (\n            <Dropdown.Option key={name}>\n              <a href={`../${name}/`}>{name}</a>\n            </Dropdown.Option>\n          );\n        })}\n      </Dropdown>\n    </div>\n  );\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport { Dropdown } from \"components\";\n\nimport \"./AppSelect.scss\";\nimport pathUtil from \"utils/paths\";\n\nexport default function AppSelect({ user }) {\n  const authorizedApps = user?.authorizedApps || [\"admin\", \"tasklist\"];\n\n  if (\n    !authorizedApps.includes(\"admin\") &&\n    !authorizedApps.includes(\"tasklist\")\n  ) {\n    return null;\n  }\n\n  return (\n    <div className=\"AppSelect\">\n      <Dropdown\n        position=\"right\"\n        title={\n          <>\n            <span className=\"glyphicon glyphicon-home\" />\n            <span className=\"caret\" />\n          </>\n        }\n      >\n        {authorizedApps.includes(\"admin\") ? (\n          <Dropdown.Option>\n            <a href={`../../admin/${pathUtil(\"engine\")}/`}>Admin</a>\n          </Dropdown.Option>\n        ) : null}\n\n        {authorizedApps.includes(\"tasklist\") ? (\n          <Dropdown.Option>\n            <a href={`../../tasklist/${pathUtil(\"engine\")}/`}>Tasklist</a>\n          </Dropdown.Option>\n        ) : null}\n\n        {!user ? (\n          <Dropdown.Option>\n            <a href={`../../welcome/${pathUtil(\"engine\")}/`}>Welcome</a>\n          </Dropdown.Option>\n        ) : null}\n      </Dropdown>\n    </div>\n  );\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nimport { post } from \"utils/request\";\nimport translate from \"utils/translation\";\nimport pathUtil from \"utils/paths\";\n\nimport { Dropdown } from \"components\";\n\nimport \"./UserInformation.scss\";\nimport SmallScreenSwitch from \"./SmallScreenSwitch\";\nimport { addMessage } from \"utils/notifications\";\n\nfunction UserInformation({ user, history }) {\n  const profile = user.profile;\n\n  function logout() {\n    post(\"%ADMIN_API%/auth/user/%ENGINE%/logout\").then(() => {\n      history.push(\"/login\");\n      var getDayContext = function() {\n        var now = new Date();\n        if (now.getDay() >= 5) {\n          return \"AUTH_DAY_CONTEXT_WEEKEND\";\n        } else {\n          var hour = now.getHours();\n          switch (true) {\n            case hour >= 4 && hour < 7:\n              return \"AUTH_DAY_CONTEXT_MORNING\";\n            case hour >= 7 && hour < 12:\n              return \"AUTH_DAY_CONTEXT_DAY\";\n            case hour >= 12 && hour < 17:\n              return \"AUTH_DAY_CONTEXT_AFTERNOON\";\n            case hour >= 17 && hour < 22:\n              return \"AUTH_DAY_CONTEXT_EVENING\";\n            case hour >= 22 || hour < 4:\n              return \"AUTH_DAY_CONTEXT_NIGHT\";\n            default:\n              // should never get here, but just to be sure\n              return \"AUTH_DAY_CONTEXT_DAY\";\n          }\n        }\n      };\n\n      addMessage({\n        status: translate(\"AUTH_LOGOUT_SUCCESSFUL\"),\n        message: translate(\"AUTH_LOGOUT_THANKS\", {\n          dayContext: translate(getDayContext())\n        }),\n        exclusive: true\n      });\n    });\n  }\n\n  return (\n    <div className=\"UserInformation\">\n      <Dropdown\n        title={\n          <button className=\"user\">\n            <span className=\"glyphicon glyphicon-user\" />\n            <SmallScreenSwitch>\n              <span className=\"userName\">\n                {profile\n                  ? `${profile.firstName} ${profile.lastName}`\n                  : user.userId}\n              </span>\n            </SmallScreenSwitch>\n          </button>\n        }\n        position=\"right\"\n      >\n        <Dropdown.Option>\n          <a href={`../../welcome/${pathUtil(\"engine\")}/`}>\n            {translate(\"MY_PROFILE\")}\n          </a>\n        </Dropdown.Option>\n        <Dropdown.Divider />\n        <Dropdown.Option onClick={logout}>\n          {translate(\"SIGN_OUT_ACTION\")}\n        </Dropdown.Option>\n      </Dropdown>\n    </div>\n  );\n}\n\nexport default withRouter(UserInformation);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13,0 C20.1797017,0 26,5.82029825 26,13 C26,20.1797017 20.1797017,26 13,26 C5.82029825,26 0,20.1797017 0,13 C0,5.82029825 5.82029825,0 13,0 Z M15.9924973,18.7781515 L9.99320872,18.7781515 L9.99320872,22.1683591 L15.9924973,22.1683591 L15.9924973,18.7781515 Z M13,3.83248173 C11.0249014,3.83248173 10.0058211,4.99702477 9.99320872,7.04527521 L9.99320872,7.04527521 L9.99320872,13.69284 L9.99685,13.8998115 C10.0647928,15.8025897 11.0827733,16.8913395 12.985706,16.8913395 C14.9608046,16.8913395 15.9773624,15.7267965 15.9924973,13.678546 L15.9924973,13.678546 L15.9924973,11.9834422 L14.0913912,11.9834422 L14.0913912,13.8105556 L14.0867571,13.9750837 C14.0405969,14.7638347 13.6523228,15.0490913 13.0445637,15.0490913 C12.4105815,15.0490913 11.9977362,14.7245327 11.9977362,13.8105556 L11.9977362,13.8105556 L11.9977362,6.89476748 L12.0023704,6.72991255 C12.0485306,5.93798383 12.4368047,5.62774885 13.0445637,5.64193778 C13.678546,5.64193778 14.0913912,5.99592523 14.0913912,6.90990233 L14.0913912,6.90990233 L14.0913912,8.28044758 L15.9924973,8.28044758 L15.9924973,7.04527521 L15.9888705,6.83655109 C15.9211931,4.91809617 14.9069918,3.83248173 13,3.83248173 Z\"\n});\n\nconst SvgLogo2020Round = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 26,\n  height: 26,\n  viewBox: \"0 0 26 26\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref);\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgLogo2020Round, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/logo-2020-round.d96e8a7f.svg\";\nexport { ForwardRef as ReactComponent };","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nimport { Dropdown } from \"components\";\nimport PluginPoint from \"utils/PluginPoint\";\nimport translate from \"utils/translation\";\n\nimport \"./Navigation.scss\";\n\nfunction topLevelItems({ location, properties, children }) {\n  const path = properties.path;\n  return (\n    <div className={path && location.pathname.match(path) ? \"active\" : null}>\n      {children}\n    </div>\n  );\n}\nfunction additionalItems({ location, properties, children }) {\n  const path = properties.path;\n  return (\n    <Dropdown.Option\n      className={path && location.pathname.match(path) ? \"active\" : null}\n    >\n      {children}\n    </Dropdown.Option>\n  );\n}\n\nconst TopLevelItems = withRouter(topLevelItems);\nconst AdditionalItems = withRouter(additionalItems);\n\nfunction Navigation() {\n  return (\n    <nav className=\"Navigation\">\n      <PluginPoint\n        location=\"cockpit.navigation\"\n        filter={({ priority }) => priority >= 0}\n        wrapPlugins={TopLevelItems}\n      />\n      <Dropdown\n        title={\n          <>\n            {translate(\"COCKPIT_MORE\")}\n            <span className=\"caret\" />\n          </>\n        }\n      >\n        <PluginPoint\n          location=\"cockpit.navigation\"\n          filter={({ priority }) => priority < 0}\n          wrapPlugins={AdditionalItems}\n        />\n      </Dropdown>\n    </nav>\n  );\n}\n\nexport default Navigation;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport withUser from \"HOC/withUser\";\n\nimport EngineSelect from \"./EngineSelect\";\nimport AppSelect from \"./AppSelect\";\nimport UserInformation from \"./UserInformation\";\n\nimport { ReactComponent as Logo } from \"./logo-2020-round.svg\";\nimport \"./Header.scss\";\nimport SmallScreenSwitch from \"./SmallScreenSwitch\";\nimport Tooltip from \"components/Tooltip\";\nimport translate from \"utils/translation\";\nimport Navigation from \"./Navigation\";\n\nfunction Header({ user }) {\n  return (\n    <div className=\"Header\">\n      {user ? (\n        <Link to=\"/\" className=\"app-banner\">\n          <Logo className=\"logo\" />\n          {translate(\"APP_VENDOR\")} Cockpit\n        </Link>\n      ) : null}\n\n      {user && <Navigation />}\n\n      <span className=\"divider\" />\n      <SmallScreenSwitch\n        smallContent={\n          <Tooltip\n            position=\"bottom\"\n            title={<span className=\"glyphicon glyphicon-exclamation-sign\" />}\n          >\n            {translate(\"CAM_WIDGET_HEADER_SMALL_SCREEN_WARNING\")}\n          </Tooltip>\n        }\n      />\n      <EngineSelect />\n      {user && <UserInformation user={user} />}\n      <AppSelect user={user} />\n    </div>\n  );\n}\n\nexport default withUser(Header);\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nimport { addHandler, removeHandler } from \"utils/request\";\n\nexport default function RedirectToLoginIfUnauthenticated() {\n  const [redirect, forceRedirect] = useState(false);\n\n  useEffect(() => {\n    const loginHandler = response => {\n      if (response.status === 401) {\n        forceRedirect(true);\n      }\n      return response;\n    };\n\n    addHandler(loginHandler);\n    return () => {\n      removeHandler(loginHandler);\n    };\n  }, []);\n\n  useEffect(() => forceRedirect(false), [redirect]);\n\n  return redirect ? <Redirect to=\"/login\" /> : null;\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport angular from \"angular\";\n\nimport React, { useEffect } from \"react\";\n\nimport withUser from \"HOC/withUser\";\nimport AngularApp from \"../AngularApp\";\n\nconst auth = function() {\n  const node = document.createElement(\"div\");\n  const ngModule = angular.module(\"reactLogin\", []);\n\n  node.innerHTML = `\n  <div ng-view></div>\n  `;\n\n  return { node, module: ngModule };\n};\n\nfunction LoginRoute({ refreshUser }) {\n  useEffect(() => {\n    // Set user on logout\n    refreshUser();\n    return () => {\n      // Set user on login\n      refreshUser();\n    };\n  }, [refreshUser]);\n\n  return <AngularApp component={auth} />;\n}\nconst LoginComponent = withUser(LoginRoute);\n\nexport default LoginComponent;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ngModule from \"../legacy/client/scripts/batches/main\";\n\nexport default function() {\n  const node = document.createElement(\"div\");\n  node.innerHTML = `\n  <div cam-breadcrumbs-panel\n      divider=\"&raquo;\"\n      ng-cloak\n      class=\"breadcrumbs-panel\"></div>\n  <div ng-view></div>\n  `;\n  node.className = \"ctn-main\";\n\n  return { node, module: ngModule };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./dashboard.html.js\");\nvar series = require(\"../../../camunda-bpm-sdk-js\").utils.series;\n\nfunction prioritySort(a, b) {\n  return a.priority > b.priority ? 1 : a.priority < b.priority ? -1 : 0;\n}\n\nfunction valuesSort(a, b) {\n  return a.value > b.value ? 1 : a.value < b.value ? -1 : 0;\n}\n\nfunction replaceAll(str, obj) {\n  Object.keys(obj).forEach(function(searched) {\n    var replaced = obj[searched];\n    str = str.split(\"{{\" + searched + \"}}\").join(replaced);\n  });\n  return str;\n}\n\nfunction color(i, t) {\n  var hue = (360 / t) * i;\n  hue += 230;\n  hue = hue > 360 ? hue - 360 : hue;\n  return \"hsl(\" + hue + \", 70%, 41%)\";\n}\n\nfunction valuesTreshold(l, t) {\n  return l > 12 ? Math.floor(t / l) * 0.5 : 0;\n}\n\nvar Controller = [\n  \"$scope\",\n  \"camAPI\",\n  \"localConf\",\n  \"Views\",\n  \"hasPlugin\",\n  \"page\",\n  \"Data\",\n  \"dataDepend\",\n  \"$translate\",\n  function(\n    $scope,\n    camAPI,\n    localConf,\n    Views,\n    hasPlugin,\n    page,\n    Data,\n    dataDepend,\n    $translate\n  ) {\n    $scope.hasMetricsPlugin = hasPlugin(\n      \"cockpit.dashboard.metrics\",\n      \"executed-activity-instances\"\n    );\n    $scope.hasProcessSearch = hasPlugin(\n      \"cockpit.processes.dashboard\",\n      \"search-process-instances\"\n    );\n    $scope.hasCaseSearch = hasPlugin(\n      \"cockpit.cases.dashboard\",\n      \"case-instances-search\"\n    );\n    $scope.hasTaskSearch = hasPlugin(\"cockpit.tasks.dashboard\", \"search-tasks\");\n\n    $scope.mainPlugins = [];\n    $scope.miscPlugins = [];\n\n    // old plugins are still shown on the dashboard\n    $scope.dashboardVars = { read: [\"processData\"] };\n    $scope.deprecateDashboardProviders = Views.getProviders({\n      component: \"cockpit.dashboard\"\n    });\n\n    // reset breadcrumbs\n    page.breadcrumbsClear();\n    $scope.$root.showBreadcrumbs = false;\n    page.titleSet($translate.instant(\"DASHBOARD_DASHBOARD\"));\n\n    // ----------------------------------------------------------------------------------------\n\n    $scope.values = {\n      procInst: [],\n      procIncid: []\n    };\n\n    $scope.data = {\n      actual: {}\n    };\n\n    $scope.linkBase = {\n      processInstances: \"/process-definition/{{id}}\",\n      processIncidents: \"/process-definition/{{id}}\",\n      tasks:\n        \"/process-instance/{{processInstanceId}}/runtime?tab=user-tasks-tab\"\n    };\n\n    if ($scope.hasProcessSearch) {\n      $scope.linkBase.processInstances =\n        \"/processes?searchQuery=%5B%7B%22type%22:%22PIunfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22PIprocessDefinitionKey%22,%22operator%22:%22eq%22,%22value%22:%22{{key}}%22,%22name%22:%22%22%7D%5D\";\n      $scope.linkBase.processIncidents =\n        \"/processes?searchQuery=%5B%7B%22type%22:%22PIwithRootIncidents%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22PIincidentStatus%22,%22operator%22:%22eq%22,%22value%22:%22open%22,%22name%22:%22%22%7D,%7B%22type%22:%22PIprocessDefinitionKey%22,%22operator%22:%22eq%22,%22value%22:%22{{key}}%22,%22name%22:%22%22%7D%5D\";\n    }\n\n    function prepareValues(values, total, url) {\n      var treshold = valuesTreshold(values.length, total);\n\n      var belowTreshold = {\n        value: 0,\n        label: $translate.instant(\"DASHBOARD_OTHERS\"),\n        names: [],\n        url: url\n      };\n\n      values.forEach(function(item) {\n        if (item.value && item.value < treshold) {\n          belowTreshold.value += item.value;\n          belowTreshold.names.push(item.label);\n        }\n      });\n\n      values = values\n        .filter(function(item) {\n          return item.value && item.value >= treshold;\n        })\n        .sort(valuesSort);\n\n      if (treshold) {\n        values.unshift(belowTreshold);\n      }\n\n      return values.map(function(item, i) {\n        item.color = color(i, values.length);\n        return item;\n      });\n    }\n\n    var caseDefResource = camAPI.resource(\"case-definition\");\n    var decisionDefResource = camAPI.resource(\"decision-definition\");\n    var deploymentResource = camAPI.resource(\"deployment\");\n    var processDefinitionService = camAPI.resource(\"process-definition\");\n\n    $scope.processData = dataDepend.create($scope);\n    var processData = $scope.processData.newChild($scope);\n    Data.instantiateProviders(\"cockpit.dashboard.data\", {\n      $scope: $scope,\n      processData: processData\n    });\n\n    function aggregateInstances(processDefinitionStatistics) {\n      var values = [];\n      var totalInstances = 0;\n\n      processDefinitionStatistics.forEach(function(statistic) {\n        if (statistic.definition && statistic.instances) {\n          values.push({\n            value: statistic.instances,\n            label: statistic.definition.name || statistic.definition.id,\n            url: replaceAll(\n              $scope.linkBase.processInstances,\n              statistic.definition\n            )\n          });\n\n          totalInstances += statistic.instances;\n        }\n      });\n\n      $scope.values.procInst = prepareValues(\n        values,\n        totalInstances,\n        \"/processes\"\n      );\n\n      $scope.data.actual.runningProcessInstances = totalInstances;\n    }\n\n    function aggregateIncidents(processDefinitionStatistics) {\n      var values = [];\n      var totalIncidents = 0;\n\n      processDefinitionStatistics.forEach(function(statistic) {\n        var definitionIncidents = 0;\n        statistic.incidents.forEach(function(info) {\n          definitionIncidents += info.incidentCount;\n        });\n\n        values.push({\n          value: definitionIncidents,\n          label: statistic.definition.name || statistic.definition.id,\n          url: replaceAll(\n            $scope.linkBase.processIncidents,\n            statistic.definition\n          )\n        });\n\n        totalIncidents += definitionIncidents;\n      });\n\n      $scope.values.procIncid = prepareValues(\n        values,\n        totalIncidents,\n        \"/processes\"\n      );\n\n      $scope.data.actual.openIncidents = totalIncidents;\n    }\n\n    var taskResource = camAPI.resource(\"task\");\n    $scope.$watch(\"actualActive\", function() {\n      if (!$scope.actualActive) {\n        return;\n      }\n\n      $scope.loadingActual = true;\n      series(\n        {\n          processes: function(next) {\n            processData.observe(\n              \"processDefinitionWithRootIncidentsStatistics\",\n              function(processDefinitionStatistics) {\n                aggregateInstances(processDefinitionStatistics);\n                aggregateIncidents(processDefinitionStatistics);\n              }\n            );\n\n            next();\n          },\n          tasks: function(next) {\n            taskResource.count({}, function(err, total) {\n              if (err) {\n                return next();\n              }\n\n              $scope.data.actual.tasks = total;\n\n              series(\n                {\n                  assignedToUser: function(done) {\n                    taskResource.count(\n                      {\n                        unfinished: true,\n                        assigned: true\n                      },\n                      function(err, value) {\n                        done(err, {\n                          label: $translate.instant(\n                            \"DASHBOARD_ASSIGNED_TO_USER\"\n                          ),\n                          url:\n                            \"/tasks?searchQuery=%5B%7B%22type%22:%22unfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22assigned%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D\",\n                          value: value\n                        });\n                      }\n                    );\n                  },\n                  assignedToGroup: function(done) {\n                    taskResource.count(\n                      {\n                        unfinished: true,\n                        unassigned: true,\n                        withCandidateGroups: true\n                      },\n                      function(err, value) {\n                        done(err, {\n                          label: $translate.instant(\n                            \"DASHBOARD_ASSIGNED_TO_GROUPS\"\n                          ),\n                          url:\n                            \"/tasks?searchQuery=%5B%7B%22type%22:%22unfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22withCandidateGroups%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22unassigned%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D\",\n                          value: value\n                        });\n                      }\n                    );\n                  },\n                  unassigned: function(done) {\n                    taskResource.count(\n                      {\n                        unfinished: true,\n                        unassigned: true,\n                        withoutCandidateGroups: true\n                      },\n                      function(err, value) {\n                        done(err, {\n                          label: $translate.instant(\"DASHBOARD_UNASSIGNED\"),\n                          url:\n                            \"/tasks?searchQuery=%5B%7B%22type%22:%22unfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22withoutCandidateGroups%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22unassigned%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D\",\n                          value: value\n                        });\n                      }\n                    );\n                  }\n                },\n                function(err, results) {\n                  if (err) {\n                    return next(err);\n                  }\n\n                  var values = [];\n                  Object.keys(results).forEach(function(key) {\n                    values.push(results[key]);\n                  });\n\n                  $scope.values.tasks = prepareValues(values, total, \"/tasks\");\n\n                  next(null, total);\n                }\n              );\n            });\n          }\n        },\n        function() {\n          $scope.loadingActual = false;\n        }\n      );\n    });\n\n    function fetchDeployed(cb) {\n      // 5: GET /process-definition/count?latestVersion=true\n      // 6: GET /decision-definition/count?latestVersion=true\n      // 7: GET /case-definition/count?latestVersion=true\n      // 8: GET /deployment/count\n      series(\n        {\n          processDefinitions: function(next) {\n            processDefinitionService.count(\n              {\n                latestVersion: true\n              },\n              next\n            );\n          },\n          decisionDefinitions: function(next) {\n            decisionDefResource.count(\n              {\n                latestVersion: true\n              },\n              next\n            );\n          },\n          caseDefinitions: function(next) {\n            caseDefResource.count(\n              {\n                latestVersion: true\n              },\n              next\n            );\n          },\n          deploymentDefinitions: function(next) {\n            deploymentResource.count({}, next);\n          }\n        },\n        function(err, results) {\n          if (err) {\n            throw err;\n          }\n          cb(err, results);\n        }\n      );\n    }\n\n    $scope.$watch(\"deployedActive\", function() {\n      if (!$scope.deployedActive || $scope.data.deployed) {\n        return;\n      }\n\n      $scope.loadingDeployed = true;\n      fetchDeployed(function(err, results) {\n        $scope.loadingDeployed = false;\n        if (err) {\n          throw err;\n        }\n\n        $scope.data.deployed = results;\n      });\n    });\n\n    // ----------------------------------------------------------------------------------------\n    [\"actual\", \"metrics\", \"deployed\", \"deprecate\"].forEach(function(name) {\n      $scope[name + \"Active\"] = localConf.get(\"dashboardSection:\" + name, true);\n    });\n    $scope.toggleSection = function(name) {\n      $scope[name + \"Active\"] = !$scope[name + \"Active\"];\n      localConf.set(\"dashboardSection:\" + name, $scope[name + \"Active\"]);\n    };\n\n    $scope.metricsPeriod = localConf.get(\"dashboardMetricsPeriod\", \"day\");\n    $scope.setMetricsPeriod = function(period) {\n      $scope.metricsPeriod = period;\n      localConf.set(\"dashboardMetricsPeriod\", period);\n    };\n\n    if ($scope.hasMetricsPlugin) {\n      $scope.metricsVars = { read: [\"metricsPeriod\"] };\n      $scope.metricsPlugins = Views.getProviders({\n        component: \"cockpit.dashboard.metrics\"\n      }).sort(prioritySort);\n    }\n  }\n];\n\nexport default function() {\n  return {\n    template: template,\n    controller: Controller\n  };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport angular from \"angular\";\nimport directive from \"../legacy/client/scripts/pages/dashboard\";\n\nimport \"./dashboard.scss\";\n\nexport default function() {\n  var ngModule = angular.module(\"cam.cockpit.dashboard\", []);\n\n  ngModule.directive(\"camCockpitDashboard\", directive);\n\n  const node = document.createElement(\"div\");\n  node.innerHTML = `\n  <div class=\"CockpitDashboard\" cam-cockpit-dashboard></div>\n  `;\n\n  return { node, module: ngModule };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport decisionDefinition from \"../legacy/client/scripts/pages/decisionDefinition\";\n\nexport default function() {\n  const node = document.createElement(\"div\");\n  node.innerHTML = `\n  <div\n      cam-breadcrumbs-panel\n      divider=\"&raquo;\"\n      ng-cloak\n      class=\"breadcrumbs-panel\"></div>\n  <div ng-view></div>\n  `;\n  node.className = \"ctn-main\";\n\n  return { node, module: decisionDefinition };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport angular from \"angular\";\nimport module from \"../legacy/client/scripts/pages/decisionInstance\";\n\nexport default function() {\n  var ngModule = angular.module(\"cam.cockpit.decisionInstance\", [module.name]);\n\n  const node = document.createElement(\"div\");\n  node.innerHTML = `\n  <div\n      cam-breadcrumbs-panel\n      divider=\"&raquo;\"\n      ng-cloak\n      class=\"breadcrumbs-panel\"></div>\n  <div ng-view></div>\n  `;\n  node.className = \"ctn-main\";\n\n  return { node, module: ngModule };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./decisions.html.js\");\n\nvar Controller = [\n  \"$scope\",\n  \"Views\",\n  \"page\",\n  \"$translate\",\n  function($scope, Views, page, $translate) {\n    var $rootScope = $scope.$root;\n\n    $rootScope.showBreadcrumbs = true;\n\n    page.breadcrumbsClear();\n\n    page.breadcrumbsAdd({\n      label: $translate.instant(\"DECISION_INSTANCE_DECISIONS\")\n    });\n\n    page.titleSet($translate.instant(\"DECISION_INSTANCE_DECISIONS\"));\n\n    // INITIALIZE PLUGINS\n    $scope.plugins = Views.getProviders({\n      component: \"cockpit.decisions.dashboard\"\n    });\n  }\n];\n\nexport default function() {\n  return {\n    template: template,\n    controller: Controller\n  };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport angular from \"angular\";\nimport directive from \"../legacy/client/scripts/pages/decisions\";\n\nexport default function() {\n  var ngModule = angular.module(\"cam.cockpit.decisions\", []);\n\n  ngModule.directive(\"camCockpitDecisions\", directive);\n\n  const node = document.createElement(\"div\");\n  node.innerHTML = `  <div\n  cam-breadcrumbs-panel\n  divider=\"&raquo;\"\n  ng-cloak\n  class=\"breadcrumbs-panel\"></div>\n  <div cam-cockpit-decisions></div>\n  `;\n  node.className = \"ctn-main\";\n\n  return { node, module: ngModule };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./process-definition.html.js\");\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\");\nvar routeUtil = require(\"../../../common/scripts/util/routeUtil\");\nvar searchWidgetUtils = require(\"../../../common/scripts/util/search-widget-utils\");\nvar camCommons = require(\"../../../camunda-commons-ui/lib\");\n\nvar ngModule = angular.module(\"cam.cockpit.pages.processDefinition\", [\n  \"dataDepend\",\n  camCommons.name\n]);\n\nvar Controller = [\n  \"$location\",\n  \"$scope\",\n  \"$rootScope\",\n  \"$q\",\n  \"$filter\",\n  \"search\",\n  \"ProcessDefinitionResource\",\n  \"ProcessInstanceResource\",\n  \"camAPI\",\n  \"Views\",\n  \"Data\",\n  \"Transform\",\n  \"Variables\",\n  \"dataDepend\",\n  \"processDefinition\",\n  \"page\",\n  \"$translate\",\n  \"queryMaxResults\",\n  \"configuration\",\n  async function(\n    $location,\n    $scope,\n    $rootScope,\n    $q,\n    $filter,\n    search,\n    ProcessDefinitionResource,\n    ProcessInstanceResource,\n    camAPI,\n    Views,\n    Data,\n    Transform,\n    Variables,\n    dataDepend,\n    _processDefinition,\n    page,\n    $translate,\n    queryMaxResults,\n    configuration\n  ) {\n    const processDefinition = await _processDefinition.$promise;\n    var processData = ($scope.processData = dataDepend.create($scope));\n    var pageData = ($scope.pageData = dataDepend.create($scope));\n\n    $scope.diagramCollapsed = true;\n    $scope.onDiagramCollapseChange = function(collapsed) {\n      if (!$scope.$$phase) {\n        $scope.$apply(function() {\n          $scope.diagramCollapsed = collapsed;\n        });\n      } else {\n        $scope.diagramCollapsed = collapsed;\n      }\n    };\n\n    // utilities ///////////////////////\n    $scope.hovered = null;\n    $scope.hoverTitle = function(id) {\n      $scope.hovered = id || null;\n    };\n\n    $scope.$on(\"$locationChangeSuccess\", function() {\n      var newFilter = parseFilterFromUri();\n\n      if ($location.path().indexOf(processDefinition.id) > -1) {\n        if (\n          searchWidgetUtils.shouldUpdateFilter(newFilter, currentFilter, [\n            \"activityIds\",\n            \"parentProcessDefinitionId\"\n          ])\n        ) {\n          processData.set(\"filter\", newFilter);\n        }\n\n        setDefaultTab($scope.processDefinitionTabs);\n      }\n    });\n\n    var currentFilter = null;\n\n    /**\n     * Auto complete a filter based on input and\n     * make the change persistent by serializing it into the url.\n     *\n     * @param  {Object} filter the filter to auto complete\n     */\n    function autoCompleteFilter(filter) {\n      // only apply when external (non completed)\n      // filter changes occur\n      if (currentFilter === filter) {\n        return;\n      }\n\n      var activityIds = filter.activityIds,\n        scrollTo = null,\n        changed = false;\n\n      if (activityIds && activityIds.length) {\n        scrollTo = activityIds[activityIds.length - 1];\n      }\n\n      if (filter.scrollToBpmnElement !== scrollTo) {\n        changed = true;\n      }\n\n      if (filter !== currentFilter) {\n        serializeFilterToUri(filter);\n      }\n\n      $scope.filter = currentFilter = angular.extend({}, filter, {\n        scrollToBpmnElement: scrollTo\n      });\n\n      if (changed) {\n        // update filter\n        processData.set(\"filter\", currentFilter);\n      }\n\n      // serialize to uri\n      serializeFilterToUri(currentFilter);\n    }\n\n    function parseFilterFromUri() {\n      var params = search(),\n        filter;\n      filter = {\n        activityIds: searchWidgetUtils.getActivityIdsFromUrlParams(\n          \"activityIdIn\",\n          params\n        ),\n        parentProcessDefinitionId: params.parentProcessDefinitionId\n      };\n\n      return filter;\n    }\n\n    function serializeFilterToUri(filter) {\n      var activityIds = filter.activityIds;\n      var parentProcessDefinitionId = filter.parentProcessDefinitionId;\n      var urlParams = search();\n      var searches = JSON.parse(urlParams.searchQuery || \"[]\");\n\n      //when there is no searchQuery present and there is no ids to add to searchQuery don't change anything\n      if (!urlParams.searchQuery && !activityIds.length) {\n        searches = null;\n      } else {\n        searches = searchWidgetUtils.replaceActivitiesInSearchQuery(\n          searches,\n          \"activityIdIn\",\n          activityIds\n        );\n      }\n\n      search.updateSilently({\n        parentProcessDefinitionId: parentProcessDefinitionId || null,\n        searchQuery: searches ? JSON.stringify(searches) : null\n      });\n\n      currentFilter = filter;\n    }\n    // end utilities ///////////////////////\n\n    // begin data definition //////////////////////\n\n    processData.provide(\"processDefinition\", processDefinition);\n\n    processData.provide(\"filter\", parseFilterFromUri());\n\n    processData.provide(\"parentId\", [\n      \"filter\",\n      function(filter) {\n        return filter.parentProcessDefinitionId;\n      }\n    ]);\n\n    processData.provide(\"parent\", [\n      \"parentId\",\n      function(parentId) {\n        if (!parentId) {\n          return null;\n        } else {\n          return ProcessDefinitionResource.get({ id: parentId }).$promise;\n        }\n      }\n    ]);\n\n    processData.provide(\"instances.all\", [\n      \"processDefinition\",\n      function(definition) {\n        var queryParams = { processDefinitionKey: definition.key };\n\n        if (definition.tenantId) {\n          queryParams.tenantIdIn = [definition.tenantId];\n        } else {\n          queryParams.processDefinitionWithoutTenantId = true;\n        }\n\n        return ProcessInstanceResource.count(queryParams).$promise;\n      }\n    ]);\n\n    processData.provide(\"instances.current\", [\n      \"processDefinition\",\n      function(definition) {\n        return ProcessInstanceResource.count({\n          processDefinitionId: definition.id\n        }).$promise;\n      }\n    ]);\n\n    processData.provide(\"bpmn20Xml\", [\n      \"processDefinition\",\n      function(definition) {\n        return ProcessDefinitionResource.getBpmn20Xml({ id: definition.id })\n          .$promise;\n      }\n    ]);\n\n    processData.provide(\"parsedBpmn20\", [\n      \"bpmn20Xml\",\n      function(bpmn20Xml) {\n        return Transform.transformBpmn20Xml(bpmn20Xml.bpmn20Xml);\n      }\n    ]);\n\n    processData.provide(\"bpmnElements\", [\n      \"parsedBpmn20\",\n      function(parsedBpmn20) {\n        return parsedBpmn20.bpmnElements;\n      }\n    ]);\n\n    processData.provide(\"bpmnDefinition\", [\n      \"parsedBpmn20\",\n      function(parsedBpmn20) {\n        return parsedBpmn20.definitions;\n      }\n    ]);\n\n    processData.provide(\"allProcessDefinitions\", [\n      \"processDefinition\",\n      function(definition) {\n        var queryParams = {\n          key: definition.key,\n          sortBy: \"version\",\n          sortOrder: \"desc\"\n        };\n\n        if (definition.tenantId) {\n          queryParams.tenantIdIn = [definition.tenantId];\n        } else {\n          queryParams.withoutTenantId = true;\n        }\n\n        return queryMaxResults(\n          queryParams,\n          function(params) {\n            return camAPI.resource(\"process-definition\").list(params);\n          },\n          function(params) {\n            return camAPI.resource(\"process-definition\").count(params);\n          }\n        ).then(function(res) {\n          return res.items;\n        });\n      }\n    ]);\n\n    // processDiagram /////////////////////\n\n    processData.provide(\"processDiagram\", [\n      \"bpmnDefinition\",\n      \"bpmnElements\",\n      function(bpmnDefinition, bpmnElements) {\n        var diagram = ($scope.processDiagram = $scope.processDiagram || {});\n\n        angular.extend(diagram, {\n          bpmnDefinition: bpmnDefinition,\n          bpmnElements: bpmnElements\n        });\n\n        return diagram;\n      }\n    ]);\n    processData.provide(\"activityInstanceStatistics\", [\n      \"processDefinition\",\n      function(processDefinition) {\n        if (configuration.getRuntimeActivityInstanceMetrics()) {\n          return ProcessDefinitionResource.queryActivityStatistics({\n            id: processDefinition.id,\n            incidents: true\n          }).$promise;\n        }\n        return [];\n      }\n    ]);\n    // activityInstances\n    processData.provide(\"activityInstances\", [\n      \"activityInstanceStatistics\",\n      function(instanceStatistics) {\n        return instanceStatistics;\n      }\n    ]);\n\n    // activityInstanceTree, activityIdToInstancesMap, instanceIdToInstanceMap\n    processData.provide(\n      [\"activityIdToInstancesMap\"],\n      [\n        \"activityInstances\",\n        \"processDefinition\",\n        \"bpmnElements\",\n        function(activityInstances, processDefinition, bpmnElements) {\n          var model = bpmnElements[processDefinition.key];\n\n          function getActivityName(bpmnElement) {\n            var shortenFilter = $filter(\"shorten\");\n            return (\n              bpmnElement.name ||\n              bpmnElement.$type.substr(5) +\n                \" (\" +\n                shortenFilter(bpmnElement.id, 8) +\n                \")\"\n            );\n          }\n\n          function decorateActivityInstanceTree(instances) {\n            return (\n              (instances &&\n                instances.map(function(instance) {\n                  var result = {};\n                  var targetActivityId = instance.activityId,\n                    targetBpmnElement = bpmnElements[targetActivityId];\n\n                  instance.name = targetBpmnElement\n                    ? getActivityName(targetBpmnElement)\n                    : targetActivityId;\n                  result[targetActivityId] = [instance];\n\n                  return result;\n                })) ||\n              {}\n            );\n          }\n\n          activityInstances.name = getActivityName(model);\n\n          var activityIdToInstancesMap = decorateActivityInstanceTree(\n            activityInstances\n          );\n\n          return [activityIdToInstancesMap];\n        }\n      ]\n    );\n\n    // end data definition /////////////////////////\n\n    // begin data usage ////////////////////////////\n    $rootScope.showBreadcrumbs = true;\n\n    processData.observe(\"allProcessDefinitions\", function(allDefinitions) {\n      $scope.allDefinitions = allDefinitions;\n    });\n\n    $scope.breadcrumbData = processData.observe(\n      [\"processDefinition\", \"parent\"],\n      function(definition, parent) {\n        page.breadcrumbsClear();\n\n        page.breadcrumbsAdd({\n          label: $translate.instant(\"PROCESS_DEFINITION_PROCESSES\"),\n          href: \"#/processes/\"\n        });\n\n        if (parent) {\n          page.breadcrumbsAdd({\n            type: \"processDefinition\",\n            label: parent.name || parent.id.slice(0, 8) + \"\",\n            href: \"#/process-definition/\" + parent.id + \"/runtime\",\n            processDefinition: parent\n          });\n        }\n\n        var plugins = Views.getProviders({\n          component: \"cockpit.processDefinition.view\"\n        });\n\n        page.breadcrumbsAdd({\n          type: \"processDefinition\",\n          label: definition.name || definition.key || definition.id,\n          href: \"#/process-definition/\" + definition.id + \"/runtime\",\n          processDefinition: definition,\n\n          choices: plugins\n            .sort(function(a, b) {\n              return a.priority < b.priority\n                ? -1\n                : a.priority > b.priority\n                ? 1\n                : 0;\n            })\n            .map(function(plugin) {\n              return {\n                active: plugin.id === \"runtime\",\n                label: plugin.label,\n                href: \"#/process-definition/\" + definition.id + \"/\" + plugin.id\n              };\n            })\n        });\n\n        page.titleSet(\n          (definition.name || definition.key || definition.id).toString()\n        );\n      }\n    );\n\n    $scope.instanceStatistics = processData.observe(\n      [\"instances.all\", \"instances.current\"],\n      function(allCount, currentCount) {\n        $scope.instanceStatistics.all = allCount;\n        $scope.instanceStatistics.current = currentCount;\n      }\n    );\n\n    $scope.processDiagramData = processData.observe(\"processDiagram\", function(\n      processDiagram\n    ) {\n      $scope.processDiagram = processDiagram;\n    });\n\n    processData.observe(\"filter\", autoCompleteFilter);\n\n    $scope.handleBpmnElementSelection = function(activityId, event) {\n      var newFilter = angular.copy(currentFilter),\n        ctrl = event.ctrlKey,\n        activityIds = angular.copy(newFilter.activityIds) || [],\n        idx = activityIds.indexOf(activityId),\n        selected = idx !== -1;\n\n      newFilter.activityIds = getNewActivityIds(\n        activityId,\n        activityIds,\n        ctrl,\n        selected\n      );\n\n      processData.set(\"filter\", newFilter);\n    };\n\n    function getNewActivityIds(activityId, activityIds, ctrl, selected) {\n      if (!activityId) {\n        return [];\n      }\n\n      if (ctrl & selected) {\n        return activityIds.filter(function(id) {\n          return id !== activityId && id !== activityId + \"#multiInstanceBody\";\n        });\n      }\n\n      var newIds = [activityId];\n\n      if (isMultipleInstance(activityId)) {\n        newIds.push(activityId + \"#multiInstanceBody\");\n      }\n\n      return (ctrl ? activityIds : []).concat(newIds);\n    }\n\n    function isMultipleInstance(activityId) {\n      return $scope.processDiagram.bpmnElements[activityId].loopCharacteristics;\n    }\n\n    $scope.processDefinition = processDefinition;\n\n    $scope.processDefinitionVars = {\n      read: [\n        \"processDefinition\",\n        \"selection\",\n        \"processData\",\n        \"filter\",\n        \"pageData\",\n        \"instanceStatistics\",\n        \"allDefinitions\"\n      ]\n    };\n    $scope.processDefinitionTabs = Views.getProviders({\n      component: \"cockpit.processDefinition.runtime.tab\"\n    });\n    $scope.processDefinitionActions = Views.getProviders({\n      component: \"cockpit.processDefinition.runtime.action\"\n    });\n\n    // extend the current scope to instantiate\n    // with process definition data providers\n    Data.instantiateProviders(\"cockpit.processDefinition.data\", {\n      $scope: $scope,\n      processData: processData\n    });\n\n    $scope.hasReportPlugin =\n      Views.getProviders({ component: \"cockpit.report\" }).length > 0;\n    $scope.hasMigrationPlugin = false;\n    try {\n      $scope.hasMigrationPlugin = !!angular.module(\"cockpit.plugin.migration\");\n    } catch (e) {\n      // do nothing\n    }\n\n    // INITIALIZE PLUGINS\n    var processPlugins = Views.getProviders({\n      component: \"cockpit.processDefinition.runtime.tab\"\n    })\n      .concat(\n        Views.getProviders({\n          component: \"cockpit.processDefinition.runtime.action\"\n        })\n      )\n      .concat(\n        Views.getProviders({ component: \"cockpit.processDefinition.view\" })\n      )\n      .concat(\n        Views.getProviders({\n          component: \"cockpit.processDefinition.diagram.overlay\"\n        })\n      )\n      .concat(\n        Views.getProviders({ component: \"cockpit.jobDefinition.action\" })\n      );\n\n    var initData = {\n      processDefinition: processDefinition,\n      processData: processData,\n      pageData: pageData\n    };\n\n    for (var i = 0; i < processPlugins.length; i++) {\n      if (typeof processPlugins[i].initialize === \"function\") {\n        processPlugins[i].initialize(initData);\n      }\n    }\n\n    $scope.selectTab = function(tabProvider) {\n      $scope.selectedTab = tabProvider;\n\n      search.updateSilently({\n        detailsTab: tabProvider.id\n      });\n    };\n\n    function setDefaultTab(tabs) {\n      var selectedTabId = search().detailsTab;\n\n      if (!tabs || !tabs.length) {\n        return;\n      }\n\n      if (selectedTabId) {\n        var provider = Views.getProvider({\n          component: \"cockpit.processDefinition.runtime.tab\",\n          id: selectedTabId\n        });\n        if (provider && tabs.indexOf(provider) !== -1) {\n          $scope.selectedTab = provider;\n          return;\n        }\n      }\n\n      search.updateSilently({\n        detailsTab: null\n      });\n\n      $scope.selectedTab = tabs[0];\n    }\n\n    setDefaultTab($scope.processDefinitionTabs);\n\n    $scope.getDeploymentUrl = function() {\n      var path = \"#/repository\";\n\n      var deploymentId = processDefinition.deploymentId;\n      var searches = {\n        deployment: deploymentId,\n        resourceName: processDefinition.resource,\n        deploymentsQuery: JSON.stringify([\n          {\n            type: \"id\",\n            operator: \"eq\",\n            value: deploymentId\n          }\n        ])\n      };\n\n      return routeUtil.redirectTo(path, searches, [\n        \"deployment\",\n        \"resourceName\",\n        \"deploymentsQuery\"\n      ]);\n    };\n\n    $scope.isLatestVersion = function() {\n      return (\n        $scope.processDefinition &&\n        $scope.processDefinition.version === getLatestVersion()\n      );\n    };\n\n    function getLatestVersion() {\n      if ($scope.allDefinitions) {\n        return Math.max.apply(\n          null,\n          $scope.allDefinitions.map(function(def) {\n            return def.version;\n          })\n        );\n      }\n    }\n\n    $scope.getMigrationUrl = function() {\n      var path = \"#/migration\";\n\n      var latestVersion = getLatestVersion();\n\n      var searches = {\n        sourceKey: $scope.processDefinition.key,\n        targetKey: $scope.processDefinition.key,\n        sourceVersion: $scope.isLatestVersion()\n          ? $scope.processDefinition.version - 1\n          : $scope.processDefinition.version,\n        targetVersion: $scope.isLatestVersion()\n          ? $scope.processDefinition.version\n          : latestVersion\n      };\n\n      return routeUtil.redirectTo(path, searches, [\n        \"sourceKey\",\n        \"targetKey\",\n        \"sourceVersion\",\n        \"targetVersion\"\n      ]);\n    };\n  }\n];\n\nvar ViewConfig = [\n  \"ViewsProvider\",\n  function(ViewsProvider) {\n    ViewsProvider.registerDefaultView(\"cockpit.processDefinition.view\", {\n      id: \"runtime\",\n      priority: 20,\n      label: \"BREAD_CRUMBS_RUNTIME\",\n      keepSearchParams: [\n        \"parentProcessDefinitionId\",\n        \"businessKey\",\n        \"variables\",\n        \"startedAfter\",\n        \"startedBefore\",\n        \"viewbox\"\n      ]\n    });\n  }\n];\nngModule.factory(\"processDefinition\", [\n  \"$location\",\n  \"ProcessDefinitionResource\",\n  function($location, ProcessDefinitionResource) {\n    return ProcessDefinitionResource.get({\n      id: $location.path().split(\"/\")[2]\n    });\n  }\n]);\n\nngModule.directive(\"processDefinitionPage\", function() {\n  return {\n    template: template,\n    controller: Controller\n  };\n});\n\nngModule.config(ViewConfig);\n\nexport default ngModule;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport module from \"../legacy/client/scripts/pages/processDefinition\";\nimport angular from \"angular\";\n\nexport default function() {\n  var ngModule = angular.module(\"cam.cockpit.runtime.processDefinition\", [\n    module.name\n  ]);\n\n  const node = document.createElement(\"div\");\n  node.innerHTML = `\n  <div\n      cam-breadcrumbs-panel\n      divider=\"&raquo;\"\n      ng-cloak\n      class=\"breadcrumbs-panel\"></div>\n  <div process-definition-page></div>\n  `;\n  node.className = \"ctn-main\";\n\n  return { node, module: ngModule };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./processes.html.js\");\n\nvar angular = require(\"../../../camunda-commons-ui/vendor/angular\");\n\nvar Controller = [\n  \"$scope\",\n  \"$location\",\n  \"$timeout\",\n  \"Views\",\n  \"Data\",\n  \"dataDepend\",\n  \"page\",\n  \"$translate\",\n  function(\n    $scope,\n    $location,\n    $timeout,\n    Views,\n    Data,\n    dataDepend,\n    page,\n    $translate\n  ) {\n    var $rootScope = $scope.$root;\n\n    var processData = ($scope.processData = dataDepend.create($scope));\n\n    $scope.dashboardVars = { read: [\"processData\"] };\n    $scope.dashboardProviders = Views.getProviders({\n      component: \"cockpit.processes.dashboard\"\n    });\n\n    Data.instantiateProviders(\"cockpit.dashboard.data\", {\n      $scope: $scope,\n      processData: processData\n    });\n\n    // INITIALIZE PLUGINS\n    var dashboardPlugins = Views.getProviders({\n      component: \"cockpit.processes.dashboard\"\n    });\n\n    var initData = {\n      $scope: $scope,\n      processData: processData\n    };\n\n    for (var i = 0; i < dashboardPlugins.length; i++) {\n      if (typeof dashboardPlugins[i].initialize === \"function\") {\n        dashboardPlugins[i].initialize(initData);\n      }\n    }\n\n    var search = $location.search();\n    if (search.targetPlugin) {\n      $timeout(function() {\n        var el = angular.element(\n          '[data-plugin-id=\"' + search.targetPlugin + '\"]'\n        );\n        if (el.length) {\n          el[0].scrollIntoView();\n        }\n      });\n    }\n\n    $rootScope.showBreadcrumbs = true;\n\n    page.breadcrumbsClear();\n\n    page.breadcrumbsAdd({\n      label: $translate.instant(\"PROCESS_PROCESSES\")\n    });\n\n    page.titleSet($translate.instant(\"PROCESS_PROCESSES\"));\n  }\n];\n\n// var RouteConfig = [\n//   '$routeProvider',\n//   function($routeProvider) {\n//     $routeProvider.when('/processes', {\n//       template: template,\n//       controller: Controller,\n//       authentication: 'required',\n//       reloadOnSearch: false\n//     });\n//   }\n// ];\nexport default function() {\n  return {\n    template: template,\n    controller: Controller\n  };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport angular from \"angular\";\nimport directive from \"../legacy/client/scripts/pages/processes\";\n\nexport default function() {\n  var ngModule = angular.module(\"cam.cockpit.processes\", []);\n\n  ngModule.directive(\"camCockpitProcesses\", directive);\n\n  const node = document.createElement(\"div\");\n  node.innerHTML = `  <div\n  cam-breadcrumbs-panel\n  divider=\"&raquo;\"\n  ng-cloak\n  class=\"breadcrumbs-panel\"></div>\n  <div cam-cockpit-processes></div>\n  `;\n  node.className = \"ctn-main\";\n\n  return { node, module: ngModule };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport angular from \"angular\";\nimport module from \"../legacy/client/scripts/pages/processInstance\";\n\nexport default function() {\n  var ngModule = angular.module(\"cam.cockpit.runtime.processInstance\", [\n    module.name\n  ]);\n\n  const node = document.createElement(\"div\");\n  node.innerHTML = `  <div\n  cam-breadcrumbs-panel\n  divider=\"&raquo;\"\n  ng-cloak\n  class=\"breadcrumbs-panel\"></div>\n  <div ng-view></div>\n  `;\n  node.className = \"ctn-main\";\n\n  return { node, module: ngModule };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport deploymentModule from \"../legacy/client/scripts/repository/main\";\nimport angular from \"angular\";\n\nexport default function() {\n  var ngModule = angular.module(\"cam.cockpit.dashboard\", [\n    deploymentModule.name\n  ]);\n\n  // ngModule.directive(\"camCockpitRepository\", directive);\n\n  const node = document.createElement(\"div\");\n  node.innerHTML = `<div ng-view></div>\n  `;\n\n  return { node, module: ngModule };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar template = require(\"./tasks.html.js\");\n\nvar Controller = [\n  \"$scope\",\n  \"Views\",\n  \"page\",\n  \"$translate\",\n  function($scope, Views, page, $translate) {\n    var $rootScope = $scope.$root;\n\n    $rootScope.showBreadcrumbs = true;\n\n    page.breadcrumbsClear();\n    page.breadcrumbsAdd({\n      label: $translate.instant(\"TASKS_HUMAN_TASKS\")\n    });\n\n    page.titleSet($translate.instant(\"TASKS_HUMAN_TASKS\"));\n\n    // INITIALIZE PLUGINS\n    $scope.plugins = Views.getProviders({\n      component: \"cockpit.tasks.dashboard\"\n    });\n  }\n];\n\nexport default function() {\n  return {\n    template: template,\n    controller: Controller\n  };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport angular from \"angular\";\nimport directive from \"../legacy/client/scripts/pages/tasks\";\n\nexport default function() {\n  var ngModule = angular.module(\"cam.cockpit.tasks\", []);\n\n  ngModule.directive(\"camCockpitTasks\", directive);\n\n  const node = document.createElement(\"div\");\n  node.innerHTML = `  <div\n  cam-breadcrumbs-panel\n  divider=\"&raquo;\"\n  ng-cloak\n  class=\"breadcrumbs-panel\"></div>\n  <div cam-cockpit-tasks></div>\n  `;\n  node.className = \"ctn-main\";\n\n  return { node, module: ngModule };\n}\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useState, useEffect } from \"react\";\nimport { HashRouter, Switch, Route, Redirect } from \"react-router-dom\";\n\nimport AngularApp from \"./AngularApp\";\n\nimport { Footer, Header } from \"./components\";\nimport { LoadingIndicator, Notifications } from \"components\";\n\nimport RedirectToLoginIfUnauthenticated from \"./RedirectToLoginIfUnauthenticated\";\n\nimport {\n  LoginComponent,\n  batch,\n  dashboard,\n  decisions,\n  decisionDefinition,\n  decisionInstance,\n  processDefinition,\n  processInstance,\n  repository,\n  tasks,\n  processes\n} from \"./angularBridges\";\nimport PluginPoint from \"utils/PluginPoint\";\nimport { UserProvider } from \"./modules/HOC\";\nimport { loadConfig } from \"utils/config\";\n\nfunction AngularRoute({ component, ...props }) {\n  return (\n    <Route {...props}>\n      <AngularApp component={component} />\n    </Route>\n  );\n}\n\nfunction App() {\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    (async () => {\n      await loadConfig();\n      setIsLoading(false);\n    })();\n  }, []);\n\n  if (isLoading) {\n    return <LoadingIndicator fullscreen={true} />;\n  }\n\n  return (\n    <HashRouter>\n      <UserProvider>\n        <RedirectToLoginIfUnauthenticated />\n        <div className=\"App\">\n          <Header />\n          <Switch>\n            <Route exact path=\"/\">\n              <Redirect to=\"/dashboard\" />\n            </Route>\n            <Route path=\"/login\">\n              <LoginComponent />\n            </Route>\n            <AngularRoute path=\"/dashboard\" component={dashboard} />\n            <AngularRoute path=\"/processes\" component={processes} />\n            <Route\n              exact\n              path=\"/process-definition/:id/\"\n              render={props => (\n                <Redirect\n                  to={`/process-definition/${props.match.params.id}/runtime`}\n                />\n              )}\n            />\n            <AngularRoute\n              path=\"/process-definition/:id/runtime\"\n              component={processDefinition}\n            />\n\n            <Route\n              exact\n              path=\"/process-instance/:id/\"\n              render={props => (\n                <Redirect\n                  to={`/process-instance/${props.match.params.id}/runtime`}\n                />\n              )}\n            />\n            <AngularRoute\n              path=\"/process-instance/:id/runtime\"\n              component={processInstance}\n            />\n            <AngularRoute path=\"/decisions\" component={decisions} />\n            <AngularRoute\n              path=\"/decision-definition\"\n              component={decisionDefinition}\n            />\n            <AngularRoute\n              path=\"/decision-instance\"\n              component={decisionInstance}\n            />\n            <AngularRoute path=\"/tasks\" component={tasks} />\n            <AngularRoute path=\"/repository\" component={repository} />\n            <AngularRoute exact path=\"/batch\" component={batch} />\n            <Route>\n              <PluginPoint\n                location=\"cockpit.route\"\n                wrapPlugins={({ children, properties }) => (\n                  <Route exact path={properties.path}>\n                    {children}\n                  </Route>\n                )}\n              />\n            </Route>\n          </Switch>\n          <Notifications className=\"page-notifications\" />\n          <Footer />\n        </div>\n      </UserProvider>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","/*\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership. Camunda licenses this file to you under the Apache License,\n * Version 2.0; you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport \"./setupAngularRequirements\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}